{"version":3,"file":"js/app.a1fa4556.js","mappings":"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","sources":["webpack://paperport/./src/types/toolbar.ts","webpack://paperport/./src/types/edit.ts","webpack://paperport/./src/configs/hotkey.ts","webpack://paperport/./src/utils/prosemirror/utils.ts","webpack://paperport/./src/configs/font.ts","webpack://paperport/./src/utils/font.ts","webpack://paperport/./src/mocks/slides.ts","webpack://paperport/./src/mocks/theme.ts","webpack://paperport/./src/mocks/layout.ts","webpack://paperport/./src/store/slides.ts","webpack://paperport/./src/store/main.ts","webpack://paperport/./src/configs/storage.ts","webpack://paperport/./src/utils/database.ts","webpack://paperport/./src/store/snapshot.ts","webpack://paperport/./src/store/keyboard.ts","webpack://paperport/./src/store/screen.ts","webpack://paperport/./src/utils/common.ts","webpack://paperport/./src/utils/crypto.ts","webpack://paperport/./src/utils/clipboard.ts","webpack://paperport/./src/utils/element.ts","webpack://paperport/./src/plugins/icon.ts","webpack://paperport/./src/components/Message.vue?ef62","webpack://paperport/./src/components/Message.vue","webpack://paperport/./src/components/Message.vue?ede3","webpack://paperport/./src/utils/message.ts","webpack://paperport/./src/types/slides.ts","webpack://paperport/./src/utils/textParser.ts","webpack://paperport/./src/utils/image.ts","webpack://paperport/./src/configs/canvas.ts","webpack://paperport/./src/configs/shapes.ts","webpack://paperport/./src/configs/chartTypes.ts","webpack://paperport/./src/hooks/useHistorySnapshot.ts","webpack://paperport/./src/hooks/useCreateElement.ts","webpack://paperport/./src/hooks/useAddSlidesOrElements.ts","webpack://paperport/./src/hooks/usePasteTextClipboardData.ts","webpack://paperport/./src/hooks/useSlideHandler.ts","webpack://paperport/./src/hooks/useLockElement.ts","webpack://paperport/./src/hooks/useDeleteElement.ts","webpack://paperport/./src/hooks/useCombineElement.ts","webpack://paperport/./src/hooks/useCopyAndPasteElement.ts","webpack://paperport/./src/hooks/useSelectAllElement.ts","webpack://paperport/./src/hooks/useMoveElement.ts","webpack://paperport/./src/hooks/useOrderElement.ts","webpack://paperport/./src/utils/fullscreen.ts","webpack://paperport/./src/hooks/useScreening.ts","webpack://paperport/./src/hooks/useScaleCanvas.ts","webpack://paperport/./src/hooks/useGlobalHotkey.ts","webpack://paperport/./src/hooks/usePasteEvent.ts","webpack://paperport/./src/hooks/useImport.ts","webpack://paperport/./src/utils/htmlParser/tags.ts","webpack://paperport/./src/utils/htmlParser/lexer.ts","webpack://paperport/./src/utils/htmlParser/parser.ts","webpack://paperport/./src/utils/htmlParser/format.ts","webpack://paperport/./src/utils/htmlParser/index.ts","webpack://paperport/./src/utils/svgPathParser.ts","webpack://paperport/./src/utils/svg2Base64.ts","webpack://paperport/./src/hooks/useExport.ts","webpack://paperport/./src/views/Editor/EditorHeader/HotkeyDoc.vue?9352","webpack://paperport/./src/views/Editor/EditorHeader/HotkeyDoc.vue","webpack://paperport/./src/components/FullscreenSpin.vue?a88e","webpack://paperport/./src/components/FullscreenSpin.vue","webpack://paperport/./src/components/Drawer.vue?3e76","webpack://paperport/./src/components/Drawer.vue","webpack://paperport/./src/components/Drawer.vue?b302","webpack://paperport/./src/components/Input.vue?1d7c","webpack://paperport/./src/components/Input.vue","webpack://paperport/./src/components/Input.vue?f3d7","webpack://paperport/./src/components/Popover.vue?e08c","webpack://paperport/./src/components/Popover.vue","webpack://paperport/./src/components/Popover.vue?db5c","webpack://paperport/./src/components/PopoverMenuItem.vue?506c","webpack://paperport/./src/components/PopoverMenuItem.vue","webpack://paperport/./src/components/PopoverMenuItem.vue?6571","webpack://paperport/./src/views/Editor/EditorHeader/index.vue?e4c2","webpack://paperport/./src/views/Editor/EditorHeader/index.vue","webpack://paperport/./src/views/Editor/EditorHeader/index.vue?fa74","webpack://paperport/./src/types/injectKey.ts","webpack://paperport/./src/utils/selection.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useViewportSize.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useMouseSelection.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useDropImageOrText.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useRotateElement.ts","webpack://paperport/./src/configs/element.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useScaleElement.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useSelectElement.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useDragElement.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useDragLineElement.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useMoveShapeKeypoint.ts","webpack://paperport/./src/views/Editor/Canvas/hooks/useInsertFromCreateSelection.ts","webpack://paperport/./src/hooks/useAlignElementToCanvas.ts","webpack://paperport/./src/views/components/element/hooks/useElementShadow.ts","webpack://paperport/./src/views/components/element/hooks/useElementFlip.ts","webpack://paperport/./src/configs/imageClip.ts","webpack://paperport/./src/views/components/element/ImageElement/useClipImage.ts","webpack://paperport/./src/views/components/element/ImageElement/useFilter.ts","webpack://paperport/./src/views/components/element/hooks/useElementOutline.ts","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageRectOutline.vue?9316","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageRectOutline.vue","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageRectOutline.vue?898e","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageEllipseOutline.vue?8e85","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageEllipseOutline.vue","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImageEllipseOutline.vue?b228","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImagePolygonOutline.vue?ae32","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImagePolygonOutline.vue","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/ImagePolygonOutline.vue?73ec","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/index.vue?944b","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/index.vue","webpack://paperport/./src/views/components/element/ImageElement/ImageOutline/index.vue?cf37","webpack://paperport/./src/views/components/element/ImageElement/ImageClipHandler.vue?93a9","webpack://paperport/./src/views/components/element/ImageElement/ImageClipHandler.vue","webpack://paperport/./src/views/components/element/ImageElement/ImageClipHandler.vue?7bf9","webpack://paperport/./src/views/components/element/ImageElement/index.vue?0fe8","webpack://paperport/./src/views/components/element/ImageElement/index.vue","webpack://paperport/./src/views/components/element/ImageElement/index.vue?8245","webpack://paperport/./src/views/components/element/ElementOutline.vue?2353","webpack://paperport/./src/views/components/element/ElementOutline.vue","webpack://paperport/./src/views/components/element/ElementOutline.vue?06a1","webpack://paperport/./src/utils/prosemirror/plugins/keymap.ts","webpack://paperport/./src/utils/prosemirror/plugins/inputrules.ts","webpack://paperport/./src/utils/prosemirror/plugins/placeholder.ts","webpack://paperport/./src/utils/prosemirror/plugins/index.ts","webpack://paperport/./src/utils/prosemirror/schema/nodes.ts","webpack://paperport/./src/utils/prosemirror/schema/marks.ts","webpack://paperport/./src/utils/prosemirror/schema/index.ts","webpack://paperport/./src/utils/emitter.ts","webpack://paperport/./src/utils/prosemirror/index.ts","webpack://paperport/./src/utils/prosemirror/commands/setTextAlign.ts","webpack://paperport/./src/utils/prosemirror/commands/toggleList.ts","webpack://paperport/./src/utils/prosemirror/commands/setTextIndent.ts","webpack://paperport/./src/views/components/element/ProsemirrorEditor.vue?29d9","webpack://paperport/./src/views/components/element/ProsemirrorEditor.vue","webpack://paperport/./src/views/components/element/ProsemirrorEditor.vue?6a7a","webpack://paperport/./src/views/components/element/TextElement/index.vue?caca","webpack://paperport/./src/views/components/element/TextElement/index.vue","webpack://paperport/./src/views/components/element/TextElement/index.vue?3c37","webpack://paperport/./src/views/components/element/ShapeElement/GradientDefs.vue?8b18","webpack://paperport/./src/views/components/element/ShapeElement/GradientDefs.vue","webpack://paperport/./src/views/components/element/ShapeElement/index.vue?a610","webpack://paperport/./src/views/components/element/ShapeElement/index.vue","webpack://paperport/./src/views/components/element/ShapeElement/index.vue?2a5f","webpack://paperport/./src/views/components/element/LineElement/LinePointMarker.vue?0b38","webpack://paperport/./src/views/components/element/LineElement/LinePointMarker.vue","webpack://paperport/./src/views/components/element/LineElement/LinePointMarker.vue?9a43","webpack://paperport/./src/views/components/element/LineElement/index.vue?fc53","webpack://paperport/./src/views/components/element/LineElement/index.vue","webpack://paperport/./src/views/components/element/LineElement/index.vue?1b65","webpack://paperport/./src/views/components/element/ChartElement/Chart.vue?57b8","webpack://paperport/./src/views/components/element/ChartElement/Chart.vue","webpack://paperport/./src/views/components/element/ChartElement/Chart.vue?889a","webpack://paperport/./src/views/components/element/ChartElement/index.vue?1b58","webpack://paperport/./src/views/components/element/ChartElement/index.vue","webpack://paperport/./src/views/components/element/ChartElement/index.vue?eaa8","webpack://paperport/./src/views/components/element/TableElement/utils.ts","webpack://paperport/./src/views/components/element/TableElement/useHideCells.ts","webpack://paperport/./src/views/components/element/TableElement/useSubThemeColor.ts","webpack://paperport/./src/views/components/element/TableElement/CustomTextarea.vue?b9f5","webpack://paperport/./src/views/components/element/TableElement/CustomTextarea.vue","webpack://paperport/./src/views/components/element/TableElement/CustomTextarea.vue?7fe8","webpack://paperport/./src/views/components/element/TableElement/EditableTable.vue?9b61","webpack://paperport/./src/views/components/element/TableElement/EditableTable.vue","webpack://paperport/./src/views/components/element/TableElement/EditableTable.vue?e829","webpack://paperport/./src/views/components/element/TableElement/index.vue?cc5f","webpack://paperport/./src/views/components/element/TableElement/index.vue","webpack://paperport/./src/views/components/element/TableElement/index.vue?57c9","webpack://paperport/./src/views/components/element/LatexElement/index.vue?d3dd","webpack://paperport/./src/views/components/element/LatexElement/index.vue","webpack://paperport/./src/views/components/element/LatexElement/index.vue?3ad1","webpack://paperport/./src/views/components/element/VideoElement/VideoPlayer/useMSE.ts","webpack://paperport/./src/views/components/element/VideoElement/VideoPlayer/index.vue?eeaa","webpack://paperport/./src/views/components/element/VideoElement/VideoPlayer/index.vue","webpack://paperport/./src/views/components/element/VideoElement/VideoPlayer/index.vue?e447","webpack://paperport/./src/views/components/element/VideoElement/index.vue?fc73","webpack://paperport/./src/views/components/element/VideoElement/index.vue","webpack://paperport/./src/views/components/element/VideoElement/index.vue?f4d8","webpack://paperport/./src/views/components/element/AudioElement/AudioPlayer.vue?ea2d","webpack://paperport/./src/views/components/element/AudioElement/AudioPlayer.vue","webpack://paperport/./src/views/components/element/AudioElement/AudioPlayer.vue?db06","webpack://paperport/./src/views/components/element/AudioElement/index.vue?91e9","webpack://paperport/./src/views/components/element/AudioElement/index.vue","webpack://paperport/./src/views/components/element/AudioElement/index.vue?847e","webpack://paperport/./src/views/Editor/Canvas/EditableElement.vue?8f8a","webpack://paperport/./src/views/Editor/Canvas/EditableElement.vue","webpack://paperport/./src/views/Editor/Canvas/EditableElement.vue?9913","webpack://paperport/./src/views/Editor/Canvas/MouseSelection.vue?95c7","webpack://paperport/./src/views/Editor/Canvas/MouseSelection.vue","webpack://paperport/./src/views/Editor/Canvas/GridLines.vue?ffd3","webpack://paperport/./src/views/Editor/Canvas/GridLines.vue","webpack://paperport/./src/views/Editor/Canvas/GridLines.vue?7161","webpack://paperport/./src/hooks/useSlideBackgroundStyle.ts","webpack://paperport/./src/views/Editor/Canvas/ViewportBackground.vue?a892","webpack://paperport/./src/views/Editor/Canvas/ViewportBackground.vue","webpack://paperport/./src/views/Editor/Canvas/ViewportBackground.vue?7128","webpack://paperport/./src/views/Editor/Canvas/AlignmentLine.vue?0b9a","webpack://paperport/./src/views/Editor/Canvas/AlignmentLine.vue","webpack://paperport/./src/views/Editor/Canvas/AlignmentLine.vue?70ae","webpack://paperport/./src/views/Editor/Canvas/Ruler.vue?93e8","webpack://paperport/./src/views/Editor/Canvas/Ruler.vue","webpack://paperport/./src/views/Editor/Canvas/Ruler.vue?af3f","webpack://paperport/./src/views/Editor/Canvas/ElementCreateSelection.vue?4156","webpack://paperport/./src/views/Editor/Canvas/ElementCreateSelection.vue","webpack://paperport/./src/views/Editor/Canvas/ElementCreateSelection.vue?95df","webpack://paperport/./src/views/Editor/Canvas/ShapeCreateCanvas.vue?6aaf","webpack://paperport/./src/views/Editor/Canvas/ShapeCreateCanvas.vue","webpack://paperport/./src/views/Editor/Canvas/ShapeCreateCanvas.vue?c076","webpack://paperport/./src/views/Editor/Canvas/hooks/useCommonOperate.ts","webpack://paperport/./src/views/Editor/Canvas/Operate/ResizeHandler.vue?edb6","webpack://paperport/./src/views/Editor/Canvas/Operate/ResizeHandler.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/ResizeHandler.vue?d4ec","webpack://paperport/./src/views/Editor/Canvas/Operate/BorderLine.vue?8cd4","webpack://paperport/./src/views/Editor/Canvas/Operate/BorderLine.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/MultiSelectOperate.vue?edb0","webpack://paperport/./src/views/Editor/Canvas/Operate/MultiSelectOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/MultiSelectOperate.vue?2a51","webpack://paperport/./src/views/Editor/Canvas/Operate/RotateHandler.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/RotateHandler.vue?642f","webpack://paperport/./src/views/Editor/Canvas/Operate/ImageElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/ImageElementOperate.vue?753f","webpack://paperport/./src/views/Editor/Canvas/Operate/ImageElementOperate.vue?ed82","webpack://paperport/./src/views/Editor/Canvas/Operate/TextElementOperate.vue?b8da","webpack://paperport/./src/views/Editor/Canvas/Operate/TextElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/TextElementOperate.vue?422d","webpack://paperport/./src/views/Editor/Canvas/Operate/ShapeElementOperate.vue?013d","webpack://paperport/./src/views/Editor/Canvas/Operate/ShapeElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/ShapeElementOperate.vue?7fbf","webpack://paperport/./src/views/Editor/Canvas/Operate/LineElementOperate.vue?6121","webpack://paperport/./src/views/Editor/Canvas/Operate/LineElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/LineElementOperate.vue?8994","webpack://paperport/./src/views/Editor/Canvas/Operate/TableElementOperate.vue?a0dd","webpack://paperport/./src/views/Editor/Canvas/Operate/TableElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/TableElementOperate.vue?eb69","webpack://paperport/./src/views/Editor/Canvas/Operate/CommonElementOperate.vue?457a","webpack://paperport/./src/views/Editor/Canvas/Operate/CommonElementOperate.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/CommonElementOperate.vue?c668","webpack://paperport/./src/hooks/useLink.ts","webpack://paperport/./src/components/Divider.vue?0a36","webpack://paperport/./src/components/Divider.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/LinkHandler.vue?06fd","webpack://paperport/./src/views/Editor/Canvas/Operate/LinkHandler.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/LinkHandler.vue?f915","webpack://paperport/./src/views/Editor/Canvas/Operate/index.vue?b0ed","webpack://paperport/./src/views/Editor/Canvas/Operate/index.vue","webpack://paperport/./src/views/Editor/Canvas/Operate/index.vue?d283","webpack://paperport/./src/views/components/element/ImageElement/BaseImageElement.vue?6783","webpack://paperport/./src/views/components/element/ImageElement/BaseImageElement.vue","webpack://paperport/./src/views/components/element/ImageElement/BaseImageElement.vue?fbfe","webpack://paperport/./src/views/components/element/TextElement/BaseTextElement.vue?177a","webpack://paperport/./src/views/components/element/TextElement/BaseTextElement.vue","webpack://paperport/./src/views/components/element/TextElement/BaseTextElement.vue?409c","webpack://paperport/./src/views/components/element/ShapeElement/BaseShapeElement.vue?4450","webpack://paperport/./src/views/components/element/ShapeElement/BaseShapeElement.vue","webpack://paperport/./src/views/components/element/ShapeElement/BaseShapeElement.vue?c146","webpack://paperport/./src/views/components/element/LineElement/BaseLineElement.vue?3f0d","webpack://paperport/./src/views/components/element/LineElement/BaseLineElement.vue","webpack://paperport/./src/views/components/element/LineElement/BaseLineElement.vue?d862","webpack://paperport/./src/views/components/element/ChartElement/BaseChartElement.vue?5194","webpack://paperport/./src/views/components/element/ChartElement/BaseChartElement.vue","webpack://paperport/./src/views/components/element/ChartElement/BaseChartElement.vue?673c","webpack://paperport/./src/views/components/element/TableElement/StaticTable.vue?3a90","webpack://paperport/./src/views/components/element/TableElement/StaticTable.vue","webpack://paperport/./src/views/components/element/TableElement/StaticTable.vue?3607","webpack://paperport/./src/views/components/element/TableElement/BaseTableElement.vue?6086","webpack://paperport/./src/views/components/element/TableElement/BaseTableElement.vue","webpack://paperport/./src/views/components/element/LatexElement/BaseLatexElement.vue?3c46","webpack://paperport/./src/views/components/element/LatexElement/BaseLatexElement.vue","webpack://paperport/./src/views/components/element/VideoElement/BaseVideoElement.vue?7444","webpack://paperport/./src/views/components/element/VideoElement/BaseVideoElement.vue","webpack://paperport/./src/views/components/element/AudioElement/BaseAudioElement.vue?5c9b","webpack://paperport/./src/views/components/element/AudioElement/BaseAudioElement.vue","webpack://paperport/./src/views/components/element/AudioElement/BaseAudioElement.vue?5d6b","webpack://paperport/./src/views/components/ThumbnailSlide/ThumbnailElement.vue?d15f","webpack://paperport/./src/views/components/ThumbnailSlide/ThumbnailElement.vue","webpack://paperport/./src/views/components/ThumbnailSlide/ThumbnailElement.vue?a759","webpack://paperport/./src/views/components/ThumbnailSlide/index.vue?f86a","webpack://paperport/./src/views/components/ThumbnailSlide/index.vue","webpack://paperport/./src/views/components/ThumbnailSlide/index.vue?3bdb","webpack://paperport/./src/components/Tabs.vue?6954","webpack://paperport/./src/components/Tabs.vue","webpack://paperport/./src/components/Tabs.vue?82b4","webpack://paperport/./src/components/Button.vue?6a97","webpack://paperport/./src/components/Button.vue","webpack://paperport/./src/components/Button.vue?4e0d","webpack://paperport/./src/components/Select.vue?4aa5","webpack://paperport/./src/components/Select.vue","webpack://paperport/./src/components/Select.vue?ee7b","webpack://paperport/./src/views/Editor/Canvas/LinkDialog.vue?3b6e","webpack://paperport/./src/views/Editor/Canvas/LinkDialog.vue","webpack://paperport/./src/views/Editor/Canvas/LinkDialog.vue?bc85","webpack://paperport/./src/components/Modal.vue?5d06","webpack://paperport/./src/components/Modal.vue","webpack://paperport/./src/components/Modal.vue?db1b","webpack://paperport/./src/views/Editor/Canvas/index.vue?8af9","webpack://paperport/./src/views/Editor/Canvas/index.vue","webpack://paperport/./src/views/Editor/Canvas/index.vue?a329","webpack://paperport/./src/views/Editor/CanvasTool/ShapeItemThumbnail.vue?fb11","webpack://paperport/./src/views/Editor/CanvasTool/ShapeItemThumbnail.vue","webpack://paperport/./src/views/Editor/CanvasTool/ShapePool.vue?585b","webpack://paperport/./src/views/Editor/CanvasTool/ShapePool.vue","webpack://paperport/./src/views/Editor/CanvasTool/ShapePool.vue?4063","webpack://paperport/./src/configs/lines.ts","webpack://paperport/./src/views/Editor/CanvasTool/LinePool.vue?c3f1","webpack://paperport/./src/views/Editor/CanvasTool/LinePool.vue","webpack://paperport/./src/views/Editor/CanvasTool/LinePool.vue?aad1","webpack://paperport/./src/views/Editor/CanvasTool/ChartPool.vue?16bf","webpack://paperport/./src/views/Editor/CanvasTool/ChartPool.vue","webpack://paperport/./src/views/Editor/CanvasTool/ChartPool.vue?63a2","webpack://paperport/./src/components/NumberInput.vue?10af","webpack://paperport/./src/components/NumberInput.vue","webpack://paperport/./src/components/NumberInput.vue?6529","webpack://paperport/./src/views/Editor/CanvasTool/TableGenerator.vue?4a38","webpack://paperport/./src/views/Editor/CanvasTool/TableGenerator.vue","webpack://paperport/./src/views/Editor/CanvasTool/TableGenerator.vue?0361","webpack://paperport/./src/views/Editor/CanvasTool/MediaInput.vue?72ba","webpack://paperport/./src/views/Editor/CanvasTool/MediaInput.vue","webpack://paperport/./src/views/Editor/CanvasTool/MediaInput.vue?2ee8","webpack://paperport/./src/components/LaTeXEditor/hfmath.ts","webpack://paperport/./src/configs/latex.ts","webpack://paperport/./src/components/LaTeXEditor/FormulaContent.vue?4804","webpack://paperport/./src/components/LaTeXEditor/FormulaContent.vue","webpack://paperport/./src/components/LaTeXEditor/FormulaContent.vue?7994","webpack://paperport/./src/components/LaTeXEditor/SymbolContent.vue?2b07","webpack://paperport/./src/components/LaTeXEditor/SymbolContent.vue","webpack://paperport/./src/components/LaTeXEditor/SymbolContent.vue?ccc6","webpack://paperport/./src/components/TextArea.vue?1df2","webpack://paperport/./src/components/TextArea.vue","webpack://paperport/./src/components/TextArea.vue?0a65","webpack://paperport/./src/components/LaTeXEditor/index.vue?6390","webpack://paperport/./src/components/LaTeXEditor/index.vue","webpack://paperport/./src/components/LaTeXEditor/index.vue?a1bd","webpack://paperport/./src/components/FileInput.vue?44c6","webpack://paperport/./src/components/FileInput.vue","webpack://paperport/./src/components/FileInput.vue?ecf8","webpack://paperport/./src/views/Editor/CanvasTool/index.vue?f46b","webpack://paperport/./src/views/Editor/CanvasTool/index.vue","webpack://paperport/./src/views/Editor/CanvasTool/index.vue?76f1","webpack://paperport/./src/hooks/useLoadSlides.ts","webpack://paperport/./src/views/Editor/Thumbnails/LayoutPool.vue?1248","webpack://paperport/./src/views/Editor/Thumbnails/LayoutPool.vue","webpack://paperport/./src/views/Editor/Thumbnails/LayoutPool.vue?5dd4","webpack://paperport/./src/views/Editor/Thumbnails/index.vue?bc35","webpack://paperport/./src/views/Editor/Thumbnails/index.vue","webpack://paperport/./src/views/Editor/Thumbnails/index.vue?7bfc","webpack://paperport/./src/hooks/useTextFormatPainter.ts","webpack://paperport/./src/components/Slider.vue?9191","webpack://paperport/./src/components/Slider.vue","webpack://paperport/./src/components/Slider.vue?37e5","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOpacity.vue?19fb","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOpacity.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOpacity.vue?f264","webpack://paperport/./src/views/Editor/Toolbar/common/ColorButton.vue?08e6","webpack://paperport/./src/views/Editor/Toolbar/common/ColorButton.vue","webpack://paperport/./src/components/ColorPicker/Checkboard.vue?9d92","webpack://paperport/./src/components/ColorPicker/Checkboard.vue","webpack://paperport/./src/components/ColorPicker/Checkboard.vue?39de","webpack://paperport/./src/components/ColorPicker/Alpha.vue?dc3c","webpack://paperport/./src/components/ColorPicker/Alpha.vue","webpack://paperport/./src/components/ColorPicker/Alpha.vue?7c9b","webpack://paperport/./src/components/ColorPicker/Hue.vue?5f7f","webpack://paperport/./src/components/ColorPicker/Hue.vue","webpack://paperport/./src/components/ColorPicker/Hue.vue?4132","webpack://paperport/./src/components/ColorPicker/Saturation.vue?a984","webpack://paperport/./src/components/ColorPicker/Saturation.vue","webpack://paperport/./src/components/ColorPicker/Saturation.vue?86fc","webpack://paperport/./src/components/ColorPicker/EditableInput.vue?27f4","webpack://paperport/./src/components/ColorPicker/EditableInput.vue","webpack://paperport/./src/components/ColorPicker/EditableInput.vue?b30d","webpack://paperport/./src/components/ColorPicker/index.vue?1ed9","webpack://paperport/./src/components/ColorPicker/index.vue","webpack://paperport/./src/components/ColorPicker/index.vue?b879","webpack://paperport/./src/components/Switch.vue?6839","webpack://paperport/./src/components/Switch.vue","webpack://paperport/./src/components/Switch.vue?daf4","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOutline.vue?c970","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOutline.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementOutline.vue?5b70","webpack://paperport/./src/views/Editor/Toolbar/common/ElementShadow.vue?b877","webpack://paperport/./src/views/Editor/Toolbar/common/ElementShadow.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementShadow.vue?2b21","webpack://paperport/./src/views/Editor/Toolbar/common/TextColorButton.vue?ab36","webpack://paperport/./src/views/Editor/Toolbar/common/TextColorButton.vue","webpack://paperport/./src/components/CheckboxButton.vue?775d","webpack://paperport/./src/components/CheckboxButton.vue","webpack://paperport/./src/components/ButtonGroup.vue?744e","webpack://paperport/./src/components/ButtonGroup.vue","webpack://paperport/./src/components/RadioButton.vue?d09b","webpack://paperport/./src/components/RadioButton.vue","webpack://paperport/./src/components/RadioButton.vue?f1ee","webpack://paperport/./src/components/RadioGroup.vue?5f9f","webpack://paperport/./src/components/RadioGroup.vue","webpack://paperport/./src/components/RadioGroup.vue?16be","webpack://paperport/./src/components/SelectGroup.vue","webpack://paperport/./src/components/SelectGroup.vue?d605","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TextStylePanel.vue?f316","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TextStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TextStylePanel.vue?c106","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFlip.vue?379d","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFlip.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFlip.vue?bbcf","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFilter.vue?ab98","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFilter.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementFilter.vue?338f","webpack://paperport/./src/views/Editor/Toolbar/common/ElementColorMask.vue?9e95","webpack://paperport/./src/views/Editor/Toolbar/common/ElementColorMask.vue","webpack://paperport/./src/views/Editor/Toolbar/common/ElementColorMask.vue?2b38","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ImageStylePanel.vue?7230","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ImageStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ImageStylePanel.vue?2833","webpack://paperport/./src/hooks/useShapeFormatPainter.ts","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ShapeStylePanel.vue?2911","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ShapeStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ShapeStylePanel.vue?cb0c","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LineStylePanel.vue?0cee","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LineStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LineStylePanel.vue?f794","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/ChartDataEditor.vue?e1c4","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/ChartDataEditor.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/ChartDataEditor.vue?b05a","webpack://paperport/./src/components/Checkbox.vue?0ec3","webpack://paperport/./src/components/Checkbox.vue","webpack://paperport/./src/components/Checkbox.vue?2e6e","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/index.vue?82fb","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/index.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/index.vue?e8d3","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TableStylePanel.vue?542f","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TableStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/TableStylePanel.vue?d759","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LatexStylePanel.vue?71d1","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LatexStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/LatexStylePanel.vue?96af","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/VideoStylePanel.vue?f561","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/VideoStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/VideoStylePanel.vue?abfb","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/AudioStylePanel.vue?9595","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/AudioStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/AudioStylePanel.vue?17b2","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/MultiStylePanel.vue?3a1d","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/MultiStylePanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/MultiStylePanel.vue?a5cd","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/index.vue?a6e3","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/index.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementStylePanel/index.vue?05f6","webpack://paperport/./src/views/Editor/Toolbar/ElementPositionPanel.vue?69a7","webpack://paperport/./src/views/Editor/Toolbar/ElementPositionPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementPositionPanel.vue?a368","webpack://paperport/./src/configs/animation.ts","webpack://paperport/./src/views/Editor/Toolbar/ElementAnimationPanel.vue?cde6","webpack://paperport/./src/views/Editor/Toolbar/ElementAnimationPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/ElementAnimationPanel.vue?1808","webpack://paperport/./src/configs/theme.ts","webpack://paperport/./src/hooks/useSlideTheme.ts","webpack://paperport/./src/views/Editor/Toolbar/SlideDesignPanel.vue?bfed","webpack://paperport/./src/views/Editor/Toolbar/SlideDesignPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/SlideDesignPanel.vue?5b71","webpack://paperport/./src/views/Editor/Toolbar/SlideAnimationPanel.vue?0558","webpack://paperport/./src/views/Editor/Toolbar/SlideAnimationPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/SlideAnimationPanel.vue?6e6b","webpack://paperport/./src/hooks/useAlignActiveElement.ts","webpack://paperport/./src/hooks/useUniformDisplayElement.ts","webpack://paperport/./src/views/Editor/Toolbar/MultiPositionPanel.vue?d4f0","webpack://paperport/./src/views/Editor/Toolbar/MultiPositionPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/MultiPositionPanel.vue?a635","webpack://paperport/./src/configs/symbol.ts","webpack://paperport/./src/views/Editor/Toolbar/SymbolPanel.vue?8aa1","webpack://paperport/./src/views/Editor/Toolbar/SymbolPanel.vue","webpack://paperport/./src/views/Editor/Toolbar/SymbolPanel.vue?808d","webpack://paperport/./src/views/Editor/Toolbar/index.vue?103d","webpack://paperport/./src/views/Editor/Toolbar/index.vue","webpack://paperport/./src/views/Editor/Toolbar/index.vue?68cb","webpack://paperport/./src/views/Editor/Remark/Editor.vue?e686","webpack://paperport/./src/views/Editor/Remark/Editor.vue","webpack://paperport/./src/views/Editor/Remark/Editor.vue?38fb","webpack://paperport/./src/views/Editor/Remark/index.vue?6e10","webpack://paperport/./src/views/Editor/Remark/index.vue","webpack://paperport/./src/views/Editor/Remark/index.vue?877a","webpack://paperport/./src/views/Editor/ExportDialog/ExportImage.vue?f7cf","webpack://paperport/./src/views/Editor/ExportDialog/ExportImage.vue","webpack://paperport/./src/views/Editor/ExportDialog/ExportImage.vue?6568","webpack://paperport/./src/views/Editor/ExportDialog/ExportJSON.vue?2ff5","webpack://paperport/./src/views/Editor/ExportDialog/ExportJSON.vue","webpack://paperport/./src/views/Editor/ExportDialog/ExportJSON.vue?56d8","webpack://paperport/./src/utils/print.ts","webpack://paperport/./src/views/Editor/ExportDialog/ExportPDF.vue?1e0b","webpack://paperport/./src/views/Editor/ExportDialog/ExportPDF.vue","webpack://paperport/./src/views/Editor/ExportDialog/ExportPDF.vue?006d","webpack://paperport/./src/views/Editor/ExportDialog/ExportPPTX.vue?33ee","webpack://paperport/./src/views/Editor/ExportDialog/ExportPPTX.vue","webpack://paperport/./src/views/Editor/ExportDialog/ExportPPTX.vue?dd43","webpack://paperport/./src/views/Editor/ExportDialog/ExportSpecificFile.vue?7ac1","webpack://paperport/./src/views/Editor/ExportDialog/ExportSpecificFile.vue","webpack://paperport/./src/views/Editor/ExportDialog/ExportSpecificFile.vue?5f6e","webpack://paperport/./src/views/Editor/ExportDialog/index.vue?41f3","webpack://paperport/./src/views/Editor/ExportDialog/index.vue","webpack://paperport/./src/views/Editor/ExportDialog/index.vue?e747","webpack://paperport/./src/components/MoveablePanel.vue?f0f1","webpack://paperport/./src/components/MoveablePanel.vue","webpack://paperport/./src/components/MoveablePanel.vue?2b54","webpack://paperport/./src/views/Editor/SelectPanel.vue?60d1","webpack://paperport/./src/views/Editor/SelectPanel.vue","webpack://paperport/./src/views/Editor/SelectPanel.vue?fc65","webpack://paperport/./src/hooks/useSearch.ts","webpack://paperport/./src/views/Editor/SearchPanel.vue?6b7f","webpack://paperport/./src/views/Editor/SearchPanel.vue","webpack://paperport/./src/views/Editor/SearchPanel.vue?bb54","webpack://paperport/./src/views/Editor/index.vue?3b37","webpack://paperport/./src/views/Editor/index.vue","webpack://paperport/./src/views/Editor/index.vue?9e10","webpack://paperport/./src/views/Screen/hooks/useExecPlay.ts","webpack://paperport/./src/views/Screen/hooks/useSlideSize.ts","webpack://paperport/./src/views/Screen/hooks/useFullscreen.ts","webpack://paperport/./src/views/components/element/VideoElement/ScreenVideoElement.vue?202f","webpack://paperport/./src/views/components/element/VideoElement/ScreenVideoElement.vue","webpack://paperport/./src/views/components/element/VideoElement/ScreenVideoElement.vue?952d","webpack://paperport/./src/views/components/element/AudioElement/ScreenAudioElement.vue?dd4b","webpack://paperport/./src/views/components/element/AudioElement/ScreenAudioElement.vue","webpack://paperport/./src/views/components/element/AudioElement/ScreenAudioElement.vue?7c85","webpack://paperport/./src/views/Screen/ScreenElement.vue?d21e","webpack://paperport/./src/views/Screen/ScreenElement.vue","webpack://paperport/./src/views/Screen/ScreenElement.vue?e84d","webpack://paperport/./src/views/Screen/ScreenSlide.vue?08bc","webpack://paperport/./src/views/Screen/ScreenSlide.vue","webpack://paperport/./src/views/Screen/ScreenSlide.vue?fda0","webpack://paperport/./src/views/Screen/ScreenSlideList.vue?bd33","webpack://paperport/./src/views/Screen/ScreenSlideList.vue","webpack://paperport/./src/views/Screen/ScreenSlideList.vue?7a66","webpack://paperport/./src/views/Screen/SlideThumbnails.vue?110e","webpack://paperport/./src/views/Screen/SlideThumbnails.vue","webpack://paperport/./src/views/Screen/SlideThumbnails.vue?efc8","webpack://paperport/./src/components/WritingBoard.vue?95f9","webpack://paperport/./src/components/WritingBoard.vue","webpack://paperport/./src/components/WritingBoard.vue?0157","webpack://paperport/./src/views/Screen/WritingBoardTool.vue?ed64","webpack://paperport/./src/views/Screen/WritingBoardTool.vue","webpack://paperport/./src/views/Screen/WritingBoardTool.vue?c695","webpack://paperport/./src/views/Screen/CountdownTimer.vue?873b","webpack://paperport/./src/views/Screen/CountdownTimer.vue","webpack://paperport/./src/views/Screen/CountdownTimer.vue?eef9","webpack://paperport/./src/views/Screen/BaseView.vue?0966","webpack://paperport/./src/views/Screen/BaseView.vue","webpack://paperport/./src/views/Screen/BaseView.vue?f1e6","webpack://paperport/./src/views/Screen/PresenterView.vue?63c0","webpack://paperport/./src/views/Screen/PresenterView.vue","webpack://paperport/./src/views/Screen/PresenterView.vue?cb03","webpack://paperport/./src/views/Screen/index.vue?65fb","webpack://paperport/./src/views/Screen/index.vue","webpack://paperport/./src/views/Screen/index.vue?6df8","webpack://paperport/./src/views/Mobile/MobileEditor/MobileEditableElement.vue?7f1e","webpack://paperport/./src/views/Mobile/MobileEditor/MobileEditableElement.vue","webpack://paperport/./src/views/Mobile/MobileEditor/MobileEditableElement.vue?fda1","webpack://paperport/./src/views/Mobile/MobileEditor/MobileOperate.vue?1aa2","webpack://paperport/./src/views/Mobile/MobileEditor/MobileOperate.vue","webpack://paperport/./src/views/Mobile/MobileEditor/MobileOperate.vue?1bdc","webpack://paperport/./src/views/Mobile/MobileThumbnails.vue?ff50","webpack://paperport/./src/views/Mobile/MobileThumbnails.vue","webpack://paperport/./src/views/Mobile/MobileThumbnails.vue?bc00","webpack://paperport/./src/views/Mobile/MobileEditor/SlideToolbar.vue?8822","webpack://paperport/./src/views/Mobile/MobileEditor/SlideToolbar.vue","webpack://paperport/./src/views/Mobile/MobileEditor/SlideToolbar.vue?ba3a","webpack://paperport/./src/views/Mobile/MobileEditor/ElementToolbar.vue?684a","webpack://paperport/./src/views/Mobile/MobileEditor/ElementToolbar.vue","webpack://paperport/./src/views/Mobile/MobileEditor/ElementToolbar.vue?aa5e","webpack://paperport/./src/views/Mobile/MobileEditor/Header.vue?2b85","webpack://paperport/./src/views/Mobile/MobileEditor/Header.vue","webpack://paperport/./src/views/Mobile/MobileEditor/Header.vue?3507","webpack://paperport/./src/views/Mobile/MobileEditor/index.vue?3bbe","webpack://paperport/./src/views/Mobile/MobileEditor/index.vue","webpack://paperport/./src/views/Mobile/MobileEditor/index.vue?f00e","webpack://paperport/./src/views/Mobile/MobilePlayer.vue?04c9","webpack://paperport/./src/views/Mobile/MobilePlayer.vue","webpack://paperport/./src/views/Mobile/MobilePlayer.vue?cebb","webpack://paperport/./src/views/Mobile/MobilePreview.vue?dd38","webpack://paperport/./src/views/Mobile/MobilePreview.vue","webpack://paperport/./src/views/Mobile/MobilePreview.vue?aaad","webpack://paperport/./src/views/Mobile/index.vue?1a0e","webpack://paperport/./src/views/Mobile/index.vue","webpack://paperport/./src/views/Mobile/index.vue?4988","webpack://paperport/./src/App.vue?cb76","webpack://paperport/./src/App.vue","webpack://paperport/./src/App.vue?7ccd","webpack://paperport/./src/registerServiceWorker.ts","webpack://paperport/./src/components/Contextmenu/MenuContent.vue?7d27","webpack://paperport/./src/components/Contextmenu/MenuContent.vue","webpack://paperport/./src/components/Contextmenu/index.vue?cd06","webpack://paperport/./src/components/Contextmenu/index.vue","webpack://paperport/./src/components/Contextmenu/index.vue?98e2","webpack://paperport/./src/plugins/directive/contextmenu.ts","webpack://paperport/./src/plugins/directive/clickOutside.ts","webpack://paperport/./src/plugins/directive/tooltip.ts","webpack://paperport/./src/plugins/directive/index.ts","webpack://paperport/./src/main.ts","webpack://paperport/webpack/bootstrap","webpack://paperport/webpack/runtime/chunk loaded","webpack://paperport/webpack/runtime/compat get default export","webpack://paperport/webpack/runtime/define property getters","webpack://paperport/webpack/runtime/global","webpack://paperport/webpack/runtime/hasOwnProperty shorthand","webpack://paperport/webpack/runtime/make namespace object","webpack://paperport/webpack/runtime/node module decorator","webpack://paperport/webpack/runtime/jsonp chunk loading","webpack://paperport/webpack/startup"],"sourcesContent":["export const enum ToolbarStates {\n  SYMBOL = 'symbol',\n  EL_ANIMATION = 'elAnimation',\n  EL_STYLE = 'elStyle',\n  EL_POSITION = 'elPosition',\n  SLIDE_DESIGN = 'slideDesign',\n  SLIDE_ANIMATION = 'slideAnimation',\n  MULTI_POSITION = 'multiPosition',\n}","import type { ShapePoolItem } from '@/configs/shapes'\r\nimport type { LinePoolItem } from '@/configs/lines'\r\nimport type { ImageClipDataRange, PPTElementOutline, PPTElementShadow, ShapeGradient } from './slides'\r\n\r\nexport enum ElementOrderCommands {\r\n  UP = 'up',\r\n  DOWN = 'down',\r\n  TOP = 'top',\r\n  BOTTOM = 'bottom',\r\n}\r\n\r\nexport enum ElementAlignCommands {\r\n  TOP = 'top',\r\n  BOTTOM = 'bottom',\r\n  LEFT = 'left',\r\n  RIGHT = 'right',\r\n  VERTICAL = 'vertical',\r\n  HORIZONTAL = 'horizontal',\r\n  CENTER = 'center',\r\n}\r\n\r\nexport const enum OperateBorderLines {\r\n  T = 'top',\r\n  B = 'bottom',\r\n  L = 'left',\r\n  R = 'right',\r\n}\r\n\r\nexport const enum OperateResizeHandlers {\r\n  LEFT_TOP = 'left-top',\r\n  TOP = 'top',\r\n  RIGHT_TOP = 'right-top',\r\n  LEFT = 'left',\r\n  RIGHT = 'right',\r\n  LEFT_BOTTOM = 'left-bottom',\r\n  BOTTOM = 'bottom',\r\n  RIGHT_BOTTOM = 'right-bottom',\r\n}\r\n\r\nexport const enum OperateLineHandlers {\r\n  START = 'start',\r\n  END = 'end',\r\n  C = 'ctrl',\r\n  C1 = 'ctrl1',\r\n  C2 = 'ctrl2',\r\n}\r\n\r\nexport interface AlignmentLineAxis {\r\n  x: number\r\n  y: number\r\n}\r\n\r\nexport interface AlignmentLineProps {\r\n  type: 'vertical' | 'horizontal'\r\n  axis: AlignmentLineAxis\r\n  length: number\r\n}\r\n\r\nexport interface MultiSelectRange {\r\n  minX: number\r\n  maxX: number\r\n  minY: number\r\n  maxY: number\r\n}\r\n\r\nexport interface ImageClipedEmitData {\r\n  range: ImageClipDataRange\r\n  position: {\r\n    left: number\r\n    top: number\r\n    width: number\r\n    height: number\r\n  }\r\n}\r\n\r\nexport interface CreateElementSelectionData {\r\n  start: [number, number]\r\n  end: [number, number]\r\n}\r\n\r\nexport interface CreateCustomShapeData {\r\n  start: [number, number]\r\n  end: [number, number]\r\n  path: string\r\n  viewBox: [number, number]\r\n}\r\n\r\nexport interface CreatingTextElement {\r\n  type: 'text'\r\n  vertical?: boolean\r\n}\r\nexport interface CreatingShapeElement {\r\n  type: 'shape'\r\n  data: ShapePoolItem\r\n}\r\nexport interface CreatingLineElement {\r\n  type: 'line'\r\n  data: LinePoolItem\r\n}\r\nexport type CreatingElement = CreatingTextElement | CreatingShapeElement | CreatingLineElement\r\n\r\nexport type TextFormatPainterKeys = 'bold' | 'em' | 'underline' | 'strikethrough' | 'color' | 'backcolor' | 'fontsize' | 'fontname' | 'align'\r\n\r\nexport interface TextFormatPainter {\r\n  keep: boolean\r\n  bold?: boolean\r\n  em?: boolean\r\n  underline?: boolean\r\n  strikethrough?: boolean\r\n  color?: string\r\n  backcolor?: string\r\n  fontsize?: string\r\n  fontname?: string\r\n  align?: 'left' | 'right' | 'center'\r\n}\r\n\r\nexport interface ShapeFormatPainter {\r\n  keep: boolean\r\n  fill?: string\r\n  gradient?: ShapeGradient\r\n  outline?: PPTElementOutline\r\n  opacity?: number\r\n  shadow?: PPTElementShadow\r\n}","export const enum KEYS {\n  C = 'C',\n  X = 'X',\n  Z = 'Z',\n  Y = 'Y',\n  A = 'A',\n  G = 'G',\n  L = 'L',\n  F = 'F',\n  D = 'D',\n  B = 'B',\n  P = 'P',\n  MINUS = '-',\n  EQUAL = '=',\n  DIGIT_0 = '0',\n  DELETE = 'DELETE',\n  UP = 'ARROWUP',\n  DOWN = 'ARROWDOWN',\n  LEFT = 'ARROWLEFT',\n  RIGHT = 'ARROWRIGHT',\n  ENTER = 'ENTER',\n  SPACE = ' ',\n  TAB = 'TAB',\n  BACKSPACE = 'BACKSPACE',\n  ESC = 'ESCAPE',\n  PAGEUP = 'PAGEUP',\n  PAGEDOWN = 'PAGEDOWN',\n  F5 = 'F5',\n}\n\nexport const HOTKEY_DOC = [\n  {\n    type: 'universal',\n    children: [\n      { label: 'Cut', value: 'Ctrl + X' },\n      { label: 'Copy', value: 'Ctrl + C' },\n      { label: 'Paste', value: 'Ctrl + V' },\n      { label: 'Paste as plain text', value: 'Ctrl + Shift + V' },\n      { label: 'Quick copy and paste', value: 'Ctrl + D' },\n      { label: 'Select All', value: 'Ctrl + A' },\n      { label: 'Undo', value: 'Ctrl + Z' },\n      { label: 'Restore', value: 'Ctrl + Y' },\n      { label: 'Delete', value: 'Delete / Backspace' },\n      { label: 'Multiple selection', value: 'Hold down Ctrl or Shift' },\n      { label: 'Turn on search and replace', value: 'Ctrl + F' },\n      { label: 'Print', value: 'Ctrl + P' },\n      { label: 'Close pop-up window', value: 'ESC' },\n    ],\n  },\n  {\n    type: 'slide show',\n    children: [\n      { label: 'Show slide show from the beginning', value: 'F5' },\n      {\n        label: 'Show slideshow starting from current moment',\n        value: 'Shift + F5',\n      },\n      { label: 'Switch to previous page', value: ' /  / PgUp' },\n      { label: 'Switch to next page', value: ' /  / PgDown' },\n      { label: 'Switch to next page', value: 'Enter / Space' },\n      { label: 'Exit show', value: 'ESC' },\n    ],\n  },\n  {\n    type: 'Slide Edit',\n    children: [\n      { label: 'New Slide', value: 'Enter' },\n      { label: 'Move canvas', value: 'Space + mouse drag' },\n      { label: 'Zoom canvas', value: 'Ctrl + mouse wheel' },\n      { label: 'Enlarge canvas', value: 'Ctrl + =' },\n      { label: 'Reduce canvas', value: 'Ctrl + -' },\n      { label: 'Adapt canvas to current screen', value: 'Ctrl + 0' },\n      { label: 'Previous page (unselected element)', value: ' / ' },\n      { label: 'Next page (unselected element)', value: ' / ' },\n      { label: 'Previous page', value: 'Mouse scroll up / PgUp' },\n      { label: 'Next page', value: 'Mouse scroll down / PgDown' },\n    ],\n  },\n  {\n    type: 'Element operation',\n    children: [\n      { label: 'Move', value: ' /  /  / ' },\n      { label: 'Lock', value: 'Ctrl + L' },\n      { label: 'combination', value: 'Ctrl + G' },\n      { label: 'Ungroup', value: 'Ctrl + Shift + G' },\n      { label: 'Bring to top', value: 'Alt + F' },\n      { label: 'Set to bottom', value: 'Alt + B' },\n      { label: 'Lock aspect ratio', value: 'Hold down Ctrl or Shift' },\n      {\n        label: 'Create horizontal/vertical lines',\n        value: 'Hold Ctrl or Shift',\n      },\n      { label: 'Switch focus element', value: 'Tab' },\n      { label: 'Confirm image cropping', value: 'Enter' },\n    ],\n  },\n  {\n    type: 'Table editing',\n    children: [\n      { label: 'Focus on next cell', value: 'Tab' },\n      { label: 'Insert a line above', value: 'Ctrl + ' },\n      { label: 'Insert a line below', value: 'Ctrl + ' },\n      { label: 'Insert a column on the left', value: 'Ctrl + ' },\n      { label: 'Insert a column on the right', value: 'Ctrl + ' },\n    ],\n  },\n  {\n    type: 'Chart data editing',\n    children: [{ label: 'Focus on the next line', value: 'Enter' }],\n  },\n  {\n    type: 'TextEdit',\n    children: [\n      { label: 'Bold', value: 'Ctrl + B' },\n      { label: 'italic', value: 'Ctrl + I' },\n      { label: 'underline', value: 'Ctrl + U' },\n      { label: 'inline code', value: 'Ctrl + E' },\n      { label: 'Superscript', value: 'Ctrl + ;' },\n      { label: 'subscript', value: `Ctrl + '` },\n      { label: 'Selected paragraph', value: `ESC` },\n    ],\n  },\n]\n","import type { Node, NodeType, ResolvedPos, Mark, MarkType } from 'prosemirror-model'\nimport type { EditorState, Selection } from 'prosemirror-state'\nimport type { EditorView } from 'prosemirror-view'\nimport { selectAll } from 'prosemirror-commands'\n\nexport const autoSelectAll = (view: EditorView) => {\n  const { empty } = view.state.selection\n  if (empty) selectAll(view.state, view.dispatch)\n}\n\nexport const addMark = (editorView: EditorView, mark: Mark, selection?: { from: number; to: number; }) => {\n  if (selection) {\n    editorView.dispatch(editorView.state.tr.addMark(selection.from, selection.to, mark))\n  }\n  else {\n    const { $from, $to } = editorView.state.selection\n    editorView.dispatch(editorView.state.tr.addMark($from.pos, $to.pos, mark))\n  }\n}\n\nexport const findNodesWithSameMark = (doc: Node, from: number, to: number, markType: MarkType) => {\n  let ii = from\n  const finder = (mark: Mark) => mark.type === markType\n  let firstMark = null\n  let fromNode = null\n  let toNode = null\n\n  while (ii <= to) {\n    const node = doc.nodeAt(ii)\n    if (!node || !node.marks) return null\n\n    const mark = node.marks.find(finder)\n    if (!mark) return null\n\n    if (firstMark && mark !== firstMark) return null\n\n    fromNode = fromNode || node\n    firstMark = firstMark || mark\n    toNode = node\n    ii++\n  }\n\n  let fromPos = from\n  let toPos = to\n\n  let jj = 0\n  ii = from - 1\n  while (ii > jj) {\n    const node = doc.nodeAt(ii)\n    const mark = node && node.marks.find(finder)\n    if (!mark || mark !== firstMark) break\n    fromPos = ii\n    fromNode = node\n    ii--\n  }\n\n  ii = to + 1\n  jj = doc.nodeSize - 2\n  while (ii < jj) {\n    const node = doc.nodeAt(ii)\n    const mark = node && node.marks.find(finder)\n    if (!mark || mark !== firstMark) break\n    toPos = ii\n    toNode = node\n    ii++\n  }\n\n  return {\n    mark: firstMark,\n    from: {\n      node: fromNode,\n      pos: fromPos,\n    },\n    to: {\n      node: toNode,\n      pos: toPos,\n    },\n  }\n}\n\nconst equalNodeType = (nodeType: NodeType, node: Node) => {\n  return Array.isArray(nodeType) && nodeType.indexOf(node.type) > -1 || node.type === nodeType\n}\n\nconst findParentNodeClosestToPos = ($pos: ResolvedPos, predicate: (node: Node) => boolean) => {\n  for (let i = $pos.depth; i > 0; i--) {\n    const node = $pos.node(i)\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node,\n      }\n    }\n  }\n}\n\nexport const findParentNode = (predicate: (node: Node) => boolean) => {\n  return (_ref: Selection) => findParentNodeClosestToPos(_ref.$from, predicate)\n}\n\nexport const findParentNodeOfType = (nodeType: NodeType) => {\n  return (selection: Selection) => {\n    return findParentNode((node: Node) => {\n      return equalNodeType(nodeType, node)\n    })(selection)\n  }\n}\n\nexport const isActiveOfParentNodeType = (nodeType: string, state: EditorState) => {\n  const node = state.schema.nodes[nodeType]\n  return !!findParentNodeOfType(node)(state.selection)\n}\n\nexport const getMarkAttrs = (view: EditorView) => {\n  const { selection, doc } = view.state\n  const { from } = selection\n\n  let node = doc.nodeAt(from) || doc.nodeAt(from - 1)\n  if (node?.lastChild) node = node.lastChild\n\n  return node?.marks || []\n}\n\nexport const getAttrValue = (marks: readonly Mark[], markType: string, attr: string): string | null => {\n  for (const mark of marks) {\n    if (mark.type.name === markType && mark.attrs[attr]) return mark.attrs[attr]\n  }\n  return null\n}\n\nexport const isActiveMark = (marks: readonly Mark[], markType: string) => {\n  for (const mark of marks) {\n    if (mark.type.name === markType) return true\n  }\n  return false\n}\n\nexport const markActive = (state: EditorState, type: MarkType) => {\n  const { from, $from, to, empty } = state.selection\n  if (empty) return type.isInSet(state.storedMarks || $from.marks())\n  return state.doc.rangeHasMark(from, to, type)\n}\n\nexport const getAttrValueInSelection = (view: EditorView, attr: string) => {\n  const { selection, doc } = view.state\n  const { from, to } = selection\n\n  let keepChecking = true\n  let value = ''\n  doc.nodesBetween(from, to, node => {\n    if (keepChecking && node.attrs[attr]) {\n      keepChecking = false\n      value = node.attrs[attr]\n    }\n    return keepChecking\n  })\n  return value\n}\n\ntype Align = 'left' | 'right' | 'center'\n\ninterface DefaultAttrs {\n  color: string\n  backcolor: string\n  fontsize: string\n  fontname: string\n  align: Align\n}\nconst _defaultAttrs: DefaultAttrs = {\n  color: '#000',\n  backcolor: '',\n  fontsize: '20px',\n  fontname: '',\n  align: 'left',\n}\nexport const getTextAttrs = (view: EditorView, attrs: Partial<DefaultAttrs> = {}) => {\n  const defaultAttrs: DefaultAttrs = { ..._defaultAttrs, ...attrs }\n\n  const marks = getMarkAttrs(view)\n\n  const isBold = isActiveMark(marks, 'strong')\n  const isEm = isActiveMark(marks, 'em')\n  const isUnderline = isActiveMark(marks, 'underline')\n  const isStrikethrough = isActiveMark(marks, 'strikethrough')\n  const isSuperscript = isActiveMark(marks, 'superscript')\n  const isSubscript = isActiveMark(marks, 'subscript')\n  const isCode = isActiveMark(marks, 'code')\n  const color = getAttrValue(marks, 'forecolor', 'color') || defaultAttrs.color\n  const backcolor = getAttrValue(marks, 'backcolor', 'backcolor') || defaultAttrs.backcolor\n  const fontsize = getAttrValue(marks, 'fontsize', 'fontsize') || defaultAttrs.fontsize\n  const fontname = getAttrValue(marks, 'fontname', 'fontname') || defaultAttrs.fontname\n  const link = getAttrValue(marks, 'link', 'href') || ''\n  const align = (getAttrValueInSelection(view, 'align') || defaultAttrs.align) as Align\n  const isBulletList = isActiveOfParentNodeType('bullet_list', view.state)\n  const isOrderedList = isActiveOfParentNodeType('ordered_list', view.state)\n  const isBlockquote = isActiveOfParentNodeType('blockquote', view.state)\n\n  return {\n    bold: isBold,\n    em: isEm,\n    underline: isUnderline,\n    strikethrough: isStrikethrough,\n    superscript: isSuperscript,\n    subscript: isSubscript,\n    code: isCode,\n    color: color,\n    backcolor: backcolor,\n    fontsize: fontsize,\n    fontname: fontname,\n    link: link,\n    align: align,\n    bulletList: isBulletList,\n    orderedList: isOrderedList,\n    blockquote: isBlockquote,\n  }\n}\n\nexport type TextAttrs = ReturnType<typeof getTextAttrs>\n\nexport const getFontsize = (view: EditorView) => {\n  const marks = getMarkAttrs(view)\n  const fontsize = getAttrValue(marks, 'fontsize', 'fontsize') || _defaultAttrs.fontsize\n  return parseInt(fontsize)\n}\n\nexport const defaultRichTextAttrs: TextAttrs = {\n  bold: false,\n  em: false,\n  underline: false,\n  strikethrough: false,\n  superscript: false,\n  subscript: false,\n  code: false,\n  color: '#000',\n  backcolor: '',\n  fontsize: '20px',\n  fontname: '',\n  link: '',\n  align: 'left',\n  bulletList: false,\n  orderedList: false,\n  blockquote: false,\n}","export const SYS_FONTS = [\n  { label: 'Arial', value: 'Arial' },\n  { label: 'Microsoft Yahei', value: 'Microsoft Yahei' },\n  { label: 'Song Dynasty', value: 'SimSun' },\n  { label: 'black body', value: 'SimHei' },\n  { label: 'Kaiti', value: 'KaiTi' },\n  { label: 'New Song Dynasty', value: 'NSimSun' },\n  { label: 'FangSong', value: 'FangSong' },\n  { label: 'square', value: 'PingFang SC' },\n  { label: 'Chinese bold', value: 'STHeiti' },\n  { label: 'Chinese regular script', value: 'STKaiti' },\n  { label: 'Chinese Songti', value: 'STSong' },\n  { label: 'Chinese imitation Song', value: 'STFangSong' },\n  { label: 'Chinese Song Dynasty', value: 'STZhongSong' },\n  { label: 'Chinese Amber', value: 'STHupo' },\n  { label: 'huawenxinwei', value: 'STXinwei' },\n  { label: 'Chinese official script', value: 'STLiti' },\n  { label: 'Chinese regular script', value: 'STXingkai' },\n  { label: 'Holly Blackbody', value: 'Hiragino Sans GB' },\n  { label: 'Lantinghei SC', value: 'Lantinghei SC' },\n  { label: 'Hanzipen SC', value: 'Hanzipen SC' },\n  { label: 'Hannotate SC', value: 'Hannotate SC' },\n  { label: 'Song Dynasty', value: 'Songti SC' },\n  { label: 'Doll body', value: 'Wawati SC' },\n  { label: 'Xingkai', value: 'Xingkai SC' },\n  { label: 'Yuan body', value: 'Yuanti SC' },\n  { label: 'Chinese silk black', value: 'STXihei' },\n  { label: 'YouYuan', value: 'YouYuan' },\n  { label: 'official script', value: 'LiSu' },\n]\n\nexport const WEB_FONTS = [\n  { label: 'Deyihei', value: 'Deyihei' },\n  { label: 'Cang\\'er small balls', value: 'Cang\\'er small balls' },\n  { label: 'Youshe title black', value: 'Youshe title black' },\n  { label: 'Feng Guang Ming Rui Body', value: 'Feng Guang Ming Rui Body' },\n  { label: 'Photography Modern Small Cube', value: 'Photography Modern Small Cube' },\n  { label: 'station cool happy body', value: 'station cool happy body' },\n  { label: 'Zhimai District Ximai Style', value: 'Zhimai District Ximai Style' },\n  { label: 'Material Market Kangkangti', value: 'Material Market Kangkangti' },\n  { label: 'Material Market Cool Cube', value: 'Material Market Cool Cube' },\n  { label: 'Tuniu-like round body', value: 'Tuniu-like round body' },\n  { label: 'Rui Zi Zhen Yan Ti', value: 'Rui Zi Zhen Yan Ti' },\n]","/**\n * \n * @param fontName \n */\nexport const isSupportFont = (fontName: string) => {\n  if (typeof fontName !== 'string') return false\n\n  const arial = 'Arial'\n  if (fontName.toLowerCase() === arial.toLowerCase()) return true\n\n  const size = 100\n  const width = 100\n  const height = 100\n  const str = 'a'\n\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d', { willReadFrequently: true })\n\n  if (!ctx) return false\n\n  canvas.width = width\n  canvas.height = height\n  ctx.textAlign = 'center'\n  ctx.fillStyle = 'black'\n  ctx.textBaseline = 'middle'\n\n  const getDotArray = (_fontFamily: string) => {\n    ctx.clearRect(0, 0, width, height)\n    ctx.font = `${size}px ${_fontFamily}, ${arial}`\n    ctx.fillText(str, width / 2, height / 2)\n    const imageData = ctx.getImageData(0, 0, width, height).data\n    return [].slice.call(imageData).filter(item => item !== 0)\n  }\n\n  return getDotArray(arial).join('') !== getDotArray(fontName).join('')\n}","import type { Slide } from '@/types/slides'\n\nexport const slides: Slide[] = [\n  {\n    id: 'test-slide-1',\n    elements: [\n      {\n        type: 'shape',\n        id: '4cbRxp',\n        left: 0,\n        top: 200,\n        width: 546,\n        height: 362.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '#fffff',\n        fixedRatio: false,\n        opacity: 0.7,\n        rotate: 0,\n      },\n     \n    ],\n    background: {\n      type: 'solid',\n      color: '#ffffff',\n    },\n  },\n \n]\n","import type { SlideTheme } from '@/types/slides'\n\nexport const theme: SlideTheme = {\n  themeColor: '#5b9bd5',\n  fontColor: '#333',\n  fontName: 'Microsoft Yahei',\n  backgroundColor: '#fff',\n  shadow: {\n    h: 3,\n    v: 3,\n    blur: 2,\n    color: '#808080',\n  },\n  outline: {\n    width: 2,\n    color: '#525252',\n    style: 'solid',\n  },\n}","/* eslint-disable max-lines */\n\nimport type { Slide } from '@/types/slides'\n\nexport const layouts: Slide[] = [\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: '4cbRxp',\n        left: 0,\n        top: 200,\n        width: 546,\n        height: 362.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        opacity: 0.7,\n        rotate: 0,\n      },\n      {\n        type: 'shape',\n        id: 'ookHrf',\n        left: 0,\n        top: 0,\n        width: 300,\n        height: 320,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        flipV: true,\n        rotate: 0,\n      },\n      {\n        type: 'text',\n        id: 'AkIh3E',\n        left: 355,\n        top: 95.11111111111111,\n        width: 585,\n        height: 116,\n        lineHeight: 1.2,\n        content:\n          \"<p style=''><strong><span style='font-size: 80px'>Enter title</span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 6,\n      },\n      {\n        type: 'text',\n        id: '7stmVP',\n        left: 355,\n        top: 253.25,\n        width: 585,\n        height: 56,\n        content:\n          \"<p><span style='font-size:  24px'>Please enter subtitle here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'line',\n        id: 'FnpZs4',\n        left: 361,\n        top: 238,\n        start: [0, 0],\n        end: [549, 0],\n        points: ['', ''],\n        color: '{{themeColor}}',\n        style: 'solid',\n        width: 2,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'ptNnUJ',\n        left: 145,\n        top: 148,\n        width: 711,\n        height: 77,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='font-size: 48px'>add title here</span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'mRHvQN',\n        left: 207.50000000000003,\n        top: 249.84259259259264,\n        width: 585,\n        height: 56,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 24px'>Add subtitle here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'line',\n        id: '7CQDwc',\n        left: 323.09259259259267,\n        top: 238.33333333333334,\n        start: [0, 0],\n        end: [354.8148148148148, 0],\n        points: ['', ''],\n        color: '{{themeColor}}',\n        style: 'solid',\n        width: 4,\n      },\n      {\n        type: 'shape',\n        id: '09wqWw',\n        left: -27.648148148148138,\n        top: 432.73148148148147,\n        width: 1056.2962962962963,\n        height: 162.96296296296296,\n        viewBox: [200, 200],\n        path: 'M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'vSheCJ',\n        left: 183.5185185185185,\n        top: 175.5092592592593,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n      },\n      {\n        type: 'shape',\n        id: 'Mpwv7x',\n        left: 211.29629629629628,\n        top: 201.80555555555557,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        opacity: 0.7,\n      },\n      {\n        type: 'text',\n        id: 'WQOTAp',\n        left: 304.9074074074074,\n        top: 198.10185185185182,\n        width: 417.9629629629629,\n        height: 140,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>thanks for watching</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 5,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'MZVO1kkj',\n    elements: [\n      {\n        type: 'shape',\n        id: 'cql0h8',\n        left: 0,\n        top: 0,\n        width: 352.59259259259255,\n        height: 562.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n      },\n      {\n        type: 'shape',\n        id: '_RTaF4',\n        left: 171.4814814814814,\n        top: 100.13888888888887,\n        width: 362.22222222222223,\n        height: 362.22222222222223,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: 'rgba(255,255,255,0)',\n        fixedRatio: false,\n        rotate: 0,\n        outline: {\n          width: 10,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n      },\n      {\n        type: 'shape',\n        id: 'UZfo8N',\n        left: 216.66666666666663,\n        top: 145.32407407407408,\n        width: 271.85185185185185,\n        height: 271.85185185185185,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: 'ysqtBg',\n        left: 561.4814814814814,\n        top: 100.1388888888889,\n        width: 359.25925925925924,\n        height: 80,\n        content:\n          \"<p style=''><strong><span style='font-size: 40px'>enter title here</span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'lXsoHa',\n        left: 572.5925925925925,\n        top: 202.3611111111111,\n        width: 257.77777777777777,\n        height: 260,\n        content:\n          \"<ol><li><p style=''>Enter content here</p></li><li><p style=''>Enter your content here</p></li><li><p style=''>Enter your content here</p></li><li><p style=''> Enter your content here</p></li><li><p style=''>Enter your content here</p></li><li><p style=''> Enter content here</p></li></ol>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        lineHeight: 2,\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'EBBnTr',\n        left: 360.5996472663139,\n        top: 141.8496472663139,\n        width: 278.80070546737215,\n        height: 278.80070546737215,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 0,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n      },\n      {\n        type: 'shape',\n        id: 'gDIWDH',\n        left: 456.4373897707231,\n        top: 98.287037037037,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'shape',\n        id: 'DUWT7E',\n        left: 317.037037037037,\n        top: 237.68738977072314,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'shape',\n        id: 'pbhn38',\n        left: 456.43738977072303,\n        top: 377.08774250440916,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'shape',\n        id: 'CvMKrO',\n        left: 595.8377425044091,\n        top: 237.6873897707231,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid',\n        },\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: 'adudHB',\n        left: 402.962962962963,\n        top: 39.39814814814815,\n        width: 194.07407407407408,\n        height: 50,\n        content: \"<p style='text-align: center;'>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: '9UpDwg',\n        left: 402.962962962963,\n        top: 473.1018518518518,\n        width: 194.07407407407408,\n        height: 50,\n        content: \"<p style='text-align: center;'>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'GERdpB',\n        left: 111.48148148148151,\n        top: 256.25,\n        width: 194.07407407407408,\n        height: 50,\n        content: \"<p style='text-align: center;'>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'G5qoho',\n        left: 691.1111111111111,\n        top: 256.25,\n        width: 194.07407407407408,\n        height: 50,\n        content: \"<p style='text-align: center;'>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'vdZcI6',\n        left: 415.18518518518516,\n        top: 196.4351851851852,\n        width: 169.62962962962962,\n        height: 169.62962962962962,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'tYUmrx',\n        left: 156.66666666666683,\n        top: 149.02777777777771,\n        width: 264.4444444444445,\n        height: 264.4444444444445,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'shape',\n        id: '0GVHf8',\n        left: 342.2222222222223,\n        top: 217.17592592592587,\n        width: 128.14814814814812,\n        height: 128.14814814814812,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0,\n      },\n      {\n        type: 'text',\n        id: 'BO33Sv',\n        left: 378.8888888888889,\n        top: 235.24999999999994,\n        width: 464.4444444444444,\n        height: 92,\n        content:\n          \"<p style=''><strong><span style='font-size: 48px'>add title here</span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'Hj7ttp',\n        left: 69.35185185185185,\n        top: 49.21759259259262,\n        width: 420,\n        height: 63,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'FmKMNB',\n        left: 69.35185185185185,\n        top: 129.28240740740745,\n        width: 420,\n        height: 384,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center; '><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px '>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span>< /p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size : 24px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'rI7ZeO',\n        left: 510.64814814814815,\n        top: 49.21759259259262,\n        width: 420,\n        height: 63,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'KspwGc',\n        left: 510.64814814814815,\n        top: 129.28240740740745,\n        width: 420,\n        height: 384,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center; '><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px '>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span>< /p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 24px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size : 24px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'Rx63Jo',\n        left: 69.35185185185179,\n        top: 51.71759259259262,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'ulyuzE',\n        left: 69.35185185185179,\n        top: 131.78240740740745,\n        width: 420,\n        height: 129,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'kr35Ca',\n        left: 510.6481481481481,\n        top: 51.71759259259262,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'BNQSpC',\n        left: 510.6481481481481,\n        top: 131.78240740740745,\n        width: 420,\n        height: 129,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'Vr38Nu',\n        left: 69.35185185185185,\n        top: 301.71759259259255,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'IwKRSu',\n        left: 69.35185185185185,\n        top: 381.7824074074074,\n        width: 420,\n        height: 129,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: '0Opr1v',\n        left: 510.64814814814815,\n        top: 301.71759259259255,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.Please enter a title</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: '4L9Uzz',\n        left: 510.64814814814815,\n        top: 381.7824074074074,\n        width: 420,\n        height: 129,\n        content:\n          \"<p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p ><p style='text-align: center;'><span style='font-size: 22px'>Enter content here</span></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'GdEGxg',\n        left: 134.53703703703704,\n        top: 127.25,\n        width: 152.77777777777777,\n        height: 308,\n        lineHeight: 1.8,\n        content:\n          \"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>Please enter title here</span></span></strong></p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 8,\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'y5sAfw',\n        left: 332.8703703703704,\n        top: 127.25,\n        width: 532.5925925925926,\n        height: 50,\n        content:\n          \"<blockquote><p style=''>Please enter content here1</p></blockquote>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'VeuocM',\n        left: 332.8703703703704,\n        top: 212.0648148148148,\n        width: 532.5925925925926,\n        height: 50,\n        content:\n          \"<blockquote><p style=''>Please enter content here 2</p></blockquote>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'RyFWQe',\n        left: 332.8703703703704,\n        top: 296.8796296296296,\n        width: 532.5925925925926,\n        height: 50,\n        content:\n          \"<blockquote><p style=''>Please enter content here 3</p></blockquote>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'Q56viI',\n        left: 332.8703703703704,\n        top: 381.69444444444446,\n        width: 532.5925925925926,\n        height: 50,\n        content:\n          \"<blockquote><p style=''>Please enter content here 4</p></blockquote>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'SUWirT',\n        left: 73.8888888888889,\n        top: 64.21296296296302,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: 'YjzN1M',\n        left: 148.70370370370372,\n        top: 64.21296296296302,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''>Enter content here</p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'fS09I7',\n        left: 527.5925925925926,\n        top: 64.21296296296302,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: 'qCnfB1',\n        left: 602.4074074074074,\n        top: 64.21296296296302,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''></p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'difAAT',\n        left: 73.8888888888889,\n        top: 221.25000000000003,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: 'EUlvMo',\n        left: 148.70370370370372,\n        top: 221.25000000000003,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''>Enter content here</p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'US_9jB',\n        left: 527.5925925925926,\n        top: 221.25000000000003,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: '243MnQ',\n        left: 602.4074074074074,\n        top: 221.25000000000003,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''>Enter content here</p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'Y_KUj0',\n        left: 73.8888888888889,\n        top: 378.287037037037,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: '9GglMe',\n        left: 148.70370370370372,\n        top: 378.287037037037,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''>Enter content here</p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'eSInje',\n        left: 527.5925925925926,\n        top: 378.287037037037,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content:\n            \"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>\",\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle',\n        },\n      },\n      {\n        type: 'text',\n        id: '0S3yUg',\n        left: 602.4074074074074,\n        top: 378.287037037037,\n        width: 323.7037037037037,\n        height: 120,\n        content:\n          \"<p style=''>Enter content here</p><p style=''>Enter content here</p><p style=''>Enter content here</p>\",\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n]\n","import { defineStore } from 'pinia'\nimport tinycolor from 'tinycolor2'\nimport { omit } from 'lodash'\nimport type {\n  Slide,\n  SlideTheme,\n  PPTElement,\n  PPTAnimation,\n} from '@/types/slides'\nimport { slides } from '@/mocks/slides'\nimport { theme } from '@/mocks/theme'\nimport { layouts } from '@/mocks/layout'\n\ninterface RemoveElementPropData {\n  id: string\n  propName: string | string[]\n}\n\ninterface UpdateElementData {\n  id: string | string[]\n  props: Partial<PPTElement>\n  slideId?: string\n}\n\ninterface FormatedAnimation {\n  animations: PPTAnimation[]\n  autoNext: boolean\n}\n\nexport interface SlidesState {\n  title: string\n  theme: SlideTheme\n  slides: Slide[]\n  slideIndex: number\n  viewportRatio: number\n}\n\nexport const useSlidesStore = defineStore('slides', {\n  state: (): SlidesState => ({\n    title: 'Unnamed presentation', // \n    theme: theme, // \n    slides: slides, // \n    slideIndex: 0, // \n    viewportRatio: 0.5625, // 16:9\n  }),\n\n  getters: {\n    currentSlide(state) {\n      return state.slides[state.slideIndex]\n    },\n\n    currentSlideAnimations(state) {\n      const currentSlide = state.slides[state.slideIndex]\n      if (!currentSlide?.animations) return []\n\n      const els = currentSlide.elements\n      const elIds = els.map((el) => el.id)\n      return currentSlide.animations.filter((animation) =>\n        elIds.includes(animation.elId)\n      )\n    },\n\n    // \n    // \n    // \n    formatedAnimations(state) {\n      const currentSlide = state.slides[state.slideIndex]\n      if (!currentSlide?.animations) return []\n\n      const els = currentSlide.elements\n      const elIds = els.map((el) => el.id)\n      const animations = currentSlide.animations.filter((animation) =>\n        elIds.includes(animation.elId)\n      )\n\n      const formatedAnimations: FormatedAnimation[] = []\n      for (const animation of animations) {\n        if (animation.trigger === 'click' || !formatedAnimations.length) {\n          formatedAnimations.push({ animations: [animation], autoNext: false })\n        } else if (animation.trigger === 'meantime') {\n          const last = formatedAnimations[formatedAnimations.length - 1]\n          last.animations = last.animations.filter(\n            (item) => item.elId !== animation.elId\n          )\n          last.animations.push(animation)\n          formatedAnimations[formatedAnimations.length - 1] = last\n        } else if (animation.trigger === 'auto') {\n          const last = formatedAnimations[formatedAnimations.length - 1]\n          last.autoNext = true\n          formatedAnimations[formatedAnimations.length - 1] = last\n          formatedAnimations.push({ animations: [animation], autoNext: false })\n        }\n      }\n      return formatedAnimations\n    },\n\n    layouts(state) {\n      const { themeColor, fontColor, fontName, backgroundColor } = state.theme\n\n      const subColor = tinycolor(fontColor).isDark()\n        ? 'rgba(230, 230, 230, 0.5)'\n        : 'rgba(180, 180, 180, 0.5)'\n\n      const layoutsString = JSON.stringify(layouts)\n        .replaceAll('{{themeColor}}', themeColor)\n        .replaceAll('{{fontColor}}', fontColor)\n        .replaceAll('{{fontName}}', fontName)\n        .replaceAll('{{backgroundColor}}', backgroundColor)\n        .replaceAll('{{subColor}}', subColor)\n\n      return JSON.parse(layoutsString)\n    },\n  },\n\n  actions: {\n    setTitle(title: string) {\n      if (!title) this.title = ''\n      else this.title = title\n    },\n\n    setTheme(themeProps: Partial<SlideTheme>) {\n      this.theme = { ...this.theme, ...themeProps }\n    },\n\n    setViewportRatio(viewportRatio: number) {\n      this.viewportRatio = viewportRatio\n    },\n\n    setSlides(slides: Slide[]) {\n      this.slides = slides\n    },\n\n    addSlide(slide: Slide | Slide[]) {\n      const slides = Array.isArray(slide) ? slide : [slide]\n      const addIndex = this.slideIndex + 1\n      this.slides.splice(addIndex, 0, ...slides)\n      this.slideIndex = addIndex\n    },\n\n    updateSlide(props: Partial<Slide>) {\n      const slideIndex = this.slideIndex\n      this.slides[slideIndex] = { ...this.slides[slideIndex], ...props }\n    },\n\n    deleteSlide(slideId: string | string[]) {\n      const slidesId = Array.isArray(slideId) ? slideId : [slideId]\n\n      const deleteSlidesIndex = []\n      for (let i = 0; i < slidesId.length; i++) {\n        const index = this.slides.findIndex((item) => item.id === slidesId[i])\n        deleteSlidesIndex.push(index)\n      }\n      let newIndex = Math.min(...deleteSlidesIndex)\n\n      const maxIndex = this.slides.length - slidesId.length - 1\n      if (newIndex > maxIndex) newIndex = maxIndex\n\n      this.slideIndex = newIndex\n      this.slides = this.slides.filter((item) => !slidesId.includes(item.id))\n    },\n\n    updateSlideIndex(index: number) {\n      this.slideIndex = index\n    },\n\n    addElement(element: PPTElement | PPTElement[]) {\n      const elements = Array.isArray(element) ? element : [element]\n      const currentSlideEls = this.slides[this.slideIndex].elements\n      const newEls = [...currentSlideEls, ...elements]\n      this.slides[this.slideIndex].elements = newEls\n    },\n\n    deleteElement(elementId: string | string[]) {\n      const elementIdList = Array.isArray(elementId) ? elementId : [elementId]\n      const currentSlideEls = this.slides[this.slideIndex].elements\n      const newEls = currentSlideEls.filter(\n        (item) => !elementIdList.includes(item.id)\n      )\n      this.slides[this.slideIndex].elements = newEls\n    },\n\n    updateElement(data: UpdateElementData) {\n      const { id, props, slideId } = data\n      const elIdList = typeof id === 'string' ? [id] : id\n\n      const slideIndex = slideId\n        ? this.slides.findIndex((item) => item.id === slideId)\n        : this.slideIndex\n      const slide = this.slides[slideIndex]\n      const elements = slide.elements.map((el) => {\n        return elIdList.includes(el.id) ? { ...el, ...props } : el\n      })\n      this.slides[slideIndex].elements = elements as PPTElement[]\n    },\n\n    removeElementProps(data: RemoveElementPropData) {\n      const { id, propName } = data\n      const propsNames = typeof propName === 'string' ? [propName] : propName\n\n      const slideIndex = this.slideIndex\n      const slide = this.slides[slideIndex]\n      const elements = slide.elements.map((el) => {\n        return el.id === id ? omit(el, propsNames) : el\n      })\n      this.slides[slideIndex].elements = elements as PPTElement[]\n    },\n  },\n})\n","import { customAlphabet } from 'nanoid'\nimport { defineStore } from 'pinia'\nimport { ToolbarStates } from '@/types/toolbar'\nimport type { CreatingElement, ShapeFormatPainter, TextFormatPainter } from '@/types/edit'\nimport type { DialogForExportTypes } from '@/types/export'\nimport { type TextAttrs, defaultRichTextAttrs } from '@/utils/prosemirror/utils'\nimport { SYS_FONTS } from '@/configs/font'\nimport { isSupportFont } from '@/utils/font'\n\nimport { useSlidesStore } from './slides'\n\nexport interface MainState {\n  activeElementIdList: string[]\n  handleElementId: string\n  activeGroupElementId: string\n  hiddenElementIdList: string[]\n  canvasPercentage: number\n  canvasScale: number\n  canvasDragged: boolean\n  thumbnailsFocus: boolean\n  editorAreaFocus: boolean\n  disableHotkeys: boolean\n  gridLineSize: number\n  showRuler: boolean\n  creatingElement: CreatingElement | null\n  creatingCustomShape: boolean\n  availableFonts: typeof SYS_FONTS\n  toolbarState: ToolbarStates\n  clipingImageElementId: string\n  isScaling: boolean\n  richTextAttrs: TextAttrs\n  selectedTableCells: string[]\n  selectedSlidesIndex: number[]\n  dialogForExport: DialogForExportTypes\n  databaseId: string\n  textFormatPainter: TextFormatPainter | null\n  shapeFormatPainter: ShapeFormatPainter | null\n  showSelectPanel: boolean\n  showSearchPanel: boolean\n}\n\nconst nanoid = customAlphabet('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz')\nexport const databaseId = nanoid(10)\n\nexport const useMainStore = defineStore('main', {\n  state: (): MainState => ({\n    activeElementIdList: [], // ID handleElementId\n    handleElementId: '', // ID\n    activeGroupElementId: '', // ID\n    hiddenElementIdList: [], // ID\n    canvasPercentage: 90, // \n    canvasScale: 1, // 1000px\n    canvasDragged: false, // \n    thumbnailsFocus: false, // \n    editorAreaFocus: false, //  \n    disableHotkeys: false, // \n    gridLineSize: 0, // 0\n    showRuler: false, // \n    creatingElement: null, // \n    creatingCustomShape: false, // \n    availableFonts: SYS_FONTS, // \n    toolbarState: ToolbarStates.SLIDE_DESIGN, // \n    clipingImageElementId: '', // ID  \n    richTextAttrs: defaultRichTextAttrs, // \n    selectedTableCells: [], // \n    isScaling: false, // \n    selectedSlidesIndex: [], // \n    dialogForExport: '', // \n    databaseId, // indexedDBID\n    textFormatPainter: null, // \n    shapeFormatPainter: null, // \n    showSelectPanel: false, // \n    showSearchPanel: false, // \n  }),\n\n  getters: {\n    activeElementList(state) {\n      const slidesStore = useSlidesStore()\n      const currentSlide = slidesStore.currentSlide\n      if (!currentSlide || !currentSlide.elements) return []\n      return currentSlide.elements.filter(element => state.activeElementIdList.includes(element.id))\n    },\n  \n    handleElement(state) {\n      const slidesStore = useSlidesStore()\n      const currentSlide = slidesStore.currentSlide\n      if (!currentSlide || !currentSlide.elements) return null\n      return currentSlide.elements.find(element => state.handleElementId === element.id) || null\n    },\n  },\n\n  actions: {\n    setActiveElementIdList(activeElementIdList: string[]) {\n      if (activeElementIdList.length === 1) this.handleElementId = activeElementIdList[0]\n      else this.handleElementId = ''\n      \n      this.activeElementIdList = activeElementIdList\n    },\n    \n    setHandleElementId(handleElementId: string) {\n      this.handleElementId = handleElementId\n    },\n    \n    setActiveGroupElementId(activeGroupElementId: string) {\n      this.activeGroupElementId = activeGroupElementId\n    },\n    \n    setHiddenElementIdList(hiddenElementIdList: string[]) {\n      this.hiddenElementIdList = hiddenElementIdList\n    },\n  \n    setCanvasPercentage(percentage: number) {\n      this.canvasPercentage = percentage\n    },\n  \n    setCanvasScale(scale: number) {\n      this.canvasScale = scale\n    },\n  \n    setCanvasDragged(isDragged: boolean) {\n      this.canvasDragged = isDragged\n    },\n  \n    setThumbnailsFocus(isFocus: boolean) {\n      this.thumbnailsFocus = isFocus\n    },\n  \n    setEditorareaFocus(isFocus: boolean) {\n      this.editorAreaFocus = isFocus\n    },\n  \n    setDisableHotkeysState(disable: boolean) {\n      this.disableHotkeys = disable\n    },\n  \n    setGridLineSize(size: number) {\n      this.gridLineSize = size\n    },\n  \n    setRulerState(show: boolean) {\n      this.showRuler = show\n    },\n  \n    setCreatingElement(element: CreatingElement | null) {\n      this.creatingElement = element\n    },\n  \n    setCreatingCustomShapeState(state: boolean) {\n      this.creatingCustomShape = state\n    },\n  \n    setAvailableFonts() {\n      this.availableFonts = SYS_FONTS.filter(font => isSupportFont(font.value))\n    },\n  \n    setToolbarState(toolbarState: ToolbarStates) {\n      this.toolbarState = toolbarState\n    },\n  \n    setClipingImageElementId(elId: string) {\n      this.clipingImageElementId = elId\n    },\n  \n    setRichtextAttrs(attrs: TextAttrs) {\n      this.richTextAttrs = attrs\n    },\n  \n    setSelectedTableCells(cells: string[]) {\n      this.selectedTableCells = cells\n    },\n  \n    setScalingState(isScaling: boolean) {\n      this.isScaling = isScaling\n    },\n    \n    updateSelectedSlidesIndex(selectedSlidesIndex: number[]) {\n      this.selectedSlidesIndex = selectedSlidesIndex\n    },\n\n    setDialogForExport(type: DialogForExportTypes) {\n      this.dialogForExport = type\n    },\n\n    setTextFormatPainter(textFormatPainter: TextFormatPainter | null) {\n      this.textFormatPainter = textFormatPainter\n    },\n\n    setShapeFormatPainter(shapeFormatPainter: ShapeFormatPainter | null) {\n      this.shapeFormatPainter = shapeFormatPainter\n    },\n\n    setSelectPanelState(show: boolean) {\n      this.showSelectPanel = show\n    },\n\n    setSearchPanelState(show: boolean) {\n      this.showSearchPanel = show\n    },\n  },\n})","export const LOCALSTORAGE_KEY_DISCARDED_DB = 'Paperport_DISCARDED_DB'\n","import Dexie from 'dexie'\nimport { databaseId } from '@/store/main'\nimport type { Slide } from '@/types/slides'\nimport { LOCALSTORAGE_KEY_DISCARDED_DB } from '@/configs/storage'\n\nexport interface writingBoardImg {\n  id: string\n  dataURL: string\n}\n\nexport interface Snapshot {\n  index: number\n  slides: Slide[]\n}\n\nconst databaseNamePrefix = 'Paperport'\n\n// /\n// ID localStorage ID\n// \n// 12\nexport const deleteDiscardedDB = async () => {\n  const now = new Date().getTime()\n\n  const localStorageDiscardedDB = localStorage.getItem(\n    LOCALSTORAGE_KEY_DISCARDED_DB\n  )\n  const localStorageDiscardedDBList: string[] = localStorageDiscardedDB\n    ? JSON.parse(localStorageDiscardedDB)\n    : []\n\n  const databaseNames = await Dexie.getDatabaseNames()\n  const discardedDBNames = databaseNames.filter((name) => {\n    if (name.indexOf(databaseNamePrefix) === -1) return false\n\n    const [prefix, id, time] = name.split('_')\n    if (prefix !== databaseNamePrefix || !id || !time) return true\n    if (localStorageDiscardedDBList.includes(id)) return true\n    if (now - +time >= 1000 * 60 * 60 * 12) return true\n\n    return false\n  })\n\n  for (const name of discardedDBNames) Dexie.delete(name)\n  localStorage.removeItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n}\n\nclass PaperportDB extends Dexie {\n  public snapshots: Dexie.Table<Snapshot, number>\n  public writingBoardImgs: Dexie.Table<writingBoardImg, number>\n\n  public constructor() {\n    super(`${databaseNamePrefix}_${databaseId}_${new Date().getTime()}`)\n    this.version(1).stores({\n      snapshots: '++id',\n      writingBoardImgs: '++id',\n    })\n    this.snapshots = this.table('snapshots')\n    this.writingBoardImgs = this.table('writingBoardImgs')\n  }\n}\n\nexport const db = new PaperportDB()\n","import { defineStore } from 'pinia'\nimport type { IndexableTypeArray } from 'dexie'\nimport { db, type Snapshot } from '@/utils/database'\n\nimport { useSlidesStore } from './slides'\nimport { useMainStore } from './main'\n\nexport interface ScreenState {\n  snapshotCursor: number\n  snapshotLength: number\n}\n\nexport const useSnapshotStore = defineStore('snapshot', {\n  state: (): ScreenState => ({\n    snapshotCursor: -1, // \n    snapshotLength: 0, // \n  }),\n\n  getters: {\n    canUndo(state) {\n      return state.snapshotCursor > 0\n    },\n    canRedo(state) {\n      return state.snapshotCursor < state.snapshotLength - 1\n    },\n  },\n\n  actions: {\n    setSnapshotCursor(cursor: number) {\n      this.snapshotCursor = cursor\n    },\n    setSnapshotLength(length: number) {\n      this.snapshotLength = length\n    },\n\n    async initSnapshotDatabase() {\n      const slidesStore = useSlidesStore()\n\n      const newFirstSnapshot = {\n        index: slidesStore.slideIndex,\n        slides: slidesStore.slides,\n      }\n      await db.snapshots.add(newFirstSnapshot)\n      this.setSnapshotCursor(0)\n      this.setSnapshotLength(1)\n    },\n\n    async addSnapshot() {\n      const slidesStore = useSlidesStore()\n\n      // indexeddbID\n      const allKeys = await db.snapshots.orderBy('id').keys()\n\n      let needDeleteKeys: IndexableTypeArray = []\n\n      // ID\n      // \n      // \n      if (\n        this.snapshotCursor >= 0 &&\n        this.snapshotCursor < allKeys.length - 1\n      ) {\n        needDeleteKeys = allKeys.slice(this.snapshotCursor + 1)\n      }\n\n      // \n      const snapshot = {\n        index: slidesStore.slideIndex,\n        slides: slidesStore.slides,\n      }\n      await db.snapshots.add(snapshot)\n\n      //  - 1\n      let snapshotLength = allKeys.length - needDeleteKeys.length + 1\n\n      // \n      const snapshotLengthLimit = 20\n      if (snapshotLength > snapshotLengthLimit) {\n        needDeleteKeys.push(allKeys[0])\n        snapshotLength--\n      }\n\n      // 1\n      // https://github.com/pipipi-pikachu/Paperport/issues/27\n      if (snapshotLength >= 2) {\n        db.snapshots.update(allKeys[snapshotLength - 2] as number, {\n          index: slidesStore.slideIndex,\n        })\n      }\n\n      await db.snapshots.bulkDelete(needDeleteKeys)\n\n      this.setSnapshotCursor(snapshotLength - 1)\n      this.setSnapshotLength(snapshotLength)\n    },\n\n    async unDo() {\n      if (this.snapshotCursor <= 0) return\n\n      const slidesStore = useSlidesStore()\n      const mainStore = useMainStore()\n\n      const snapshotCursor = this.snapshotCursor - 1\n      const snapshots: Snapshot[] = await db.snapshots.orderBy('id').toArray()\n      const snapshot = snapshots[snapshotCursor]\n      const { index, slides } = snapshot\n\n      const slideIndex = index > slides.length - 1 ? slides.length - 1 : index\n\n      slidesStore.setSlides(slides)\n      slidesStore.updateSlideIndex(slideIndex)\n      this.setSnapshotCursor(snapshotCursor)\n      mainStore.setActiveElementIdList([])\n    },\n\n    async reDo() {\n      if (this.snapshotCursor >= this.snapshotLength - 1) return\n\n      const slidesStore = useSlidesStore()\n      const mainStore = useMainStore()\n\n      const snapshotCursor = this.snapshotCursor + 1\n      const snapshots: Snapshot[] = await db.snapshots.orderBy('id').toArray()\n      const snapshot = snapshots[snapshotCursor]\n      const { index, slides } = snapshot\n\n      const slideIndex = index > slides.length - 1 ? slides.length - 1 : index\n\n      slidesStore.setSlides(slides)\n      slidesStore.updateSlideIndex(slideIndex)\n      this.setSnapshotCursor(snapshotCursor)\n      mainStore.setActiveElementIdList([])\n    },\n  },\n})\n","import { defineStore } from 'pinia'\n\nexport interface KeyboardState {\n  ctrlKeyState: boolean\n  shiftKeyState: boolean\n  spaceKeyState: boolean\n}\n\nexport const useKeyboardStore = defineStore('keyboard', {\n  state: (): KeyboardState => ({\n    ctrlKeyState: false, // ctrl\n    shiftKeyState: false, // shift\n    spaceKeyState: false, // space\n  }),\n\n  getters: {\n    ctrlOrShiftKeyActive(state) {\n      return state.ctrlKeyState || state.shiftKeyState\n    },\n  },\n\n  actions: {\n    setCtrlKeyState(active: boolean) {\n      this.ctrlKeyState = active\n    },\n    setShiftKeyState(active: boolean) {\n      this.shiftKeyState = active\n    },\n    setSpaceKeyState(active: boolean) {\n      this.spaceKeyState = active\n    },\n  },\n})","import { defineStore } from 'pinia'\n\nexport interface ScreenState {\n  screening: boolean\n}\n\nexport const useScreenStore = defineStore('screen', {\n  state: (): ScreenState => ({\n    screening: false, // \n  }),\n\n  actions: {\n    setScreening(screening: boolean) {\n      this.screening = screening\n    },\n  },\n})","import { padStart } from 'lodash'\n\n/**\n * \n * @param digit \n * @param len \n */\nexport const fillDigit = (digit: number, len: number) => {\n  return padStart('' + digit, len, '0')\n}\n\n/**\n * \n */\nexport const isPC = () => {\n  return !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i)\n}","import CryptoJS from 'crypto-js'\n\nconst CRYPTO_KEY = 'ppt'\n\n/**\n * \n * @param msg \n */\nexport const encrypt = (msg: string) => {\n  return CryptoJS.AES.encrypt(msg, CRYPTO_KEY).toString()\n}\n\n/**\n * \n * @param ciphertext \n */\nexport const decrypt = (ciphertext: string) => {\n  const bytes = CryptoJS.AES.decrypt(ciphertext, CRYPTO_KEY)\n  return bytes.toString(CryptoJS.enc.Utf8)\n}","import Clipboard from 'clipboard'\nimport { decrypt } from '@/utils/crypto'\n\n/**\n * \n * @param text \n */\nexport const copyText = (text: string) => {\n  return new Promise((resolve, reject) => {\n    const fakeElement = document.createElement('button')\n    const clipboard = new Clipboard(fakeElement, {\n      text: () => text,\n      action: () => 'copy',\n      container: document.body,\n    })\n    clipboard.on('success', e => {\n      clipboard.destroy()\n      resolve(e)\n    })\n    clipboard.on('error', e => {\n      clipboard.destroy()\n      reject(e)\n    })\n    document.body.appendChild(fakeElement)\n    fakeElement.click()\n    document.body.removeChild(fakeElement)\n  })\n}\n\n// \nexport const readClipboard = (): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    if (navigator.clipboard?.readText) {\n      navigator.clipboard.readText().then(text => {\n        if (!text) reject('Clipboard is empty or contains no text')\n        return resolve(text)\n      })\n    }\n    else reject('The browser does not support or prohibits access to the clipboard, please use the shortcut key Ctrl + V')\n  })\n}\n\n// \nexport const pasteCustomClipboardString = (text: string) => {\n  let clipboardData\n  try {\n    clipboardData = JSON.parse(decrypt(text))\n  }\n  catch {\n    clipboardData = text\n  }\n\n  return clipboardData\n}\n\n// Excel\nexport const pasteExcelClipboardString = (text: string): string[][] | null => {\n  const lines: string[] = text.split('\\r\\n')\n\n  if (lines[lines.length - 1] === '') lines.pop()\n\n  let colCount = -1\n  const data: string[][] = []\n  for (const index in lines) {\n    data[index] = lines[index].split('\\t')\n\n    if (data[index].length === 1) return null\n    if (colCount === -1) colCount = data[index].length\n    else if (colCount !== data[index].length) return null\n  }\n  return data\n}","import tinycolor from 'tinycolor2'\r\nimport { nanoid } from 'nanoid'\r\nimport type { PPTElement, PPTLineElement, Slide } from '@/types/slides'\r\n\r\ninterface RotatedElementData {\r\n  left: number\r\n  top: number\r\n  width: number\r\n  height: number\r\n  rotate: number\r\n}\r\n\r\ninterface IdMap {\r\n  [id: string]: string\r\n}\r\n\r\n/**\r\n * \r\n * @param element \r\n */\r\nexport const getRectRotatedRange = (element: RotatedElementData) => {\r\n  const { left, top, width, height, rotate = 0 } = element\r\n\r\n  const radius = Math.sqrt( Math.pow(width, 2) + Math.pow(height, 2) ) / 2\r\n  const auxiliaryAngle = Math.atan(height / width) * 180 / Math.PI\r\n\r\n  const tlbraRadian = (180 - rotate - auxiliaryAngle) * Math.PI / 180\r\n  const trblaRadian = (auxiliaryAngle - rotate) * Math.PI / 180\r\n\r\n  const middleLeft = left + width / 2\r\n  const middleTop = top + height / 2\r\n\r\n  const xAxis = [\r\n    middleLeft + radius * Math.cos(tlbraRadian),\r\n    middleLeft + radius * Math.cos(trblaRadian),\r\n    middleLeft - radius * Math.cos(tlbraRadian),\r\n    middleLeft - radius * Math.cos(trblaRadian),\r\n  ]\r\n  const yAxis = [\r\n    middleTop - radius * Math.sin(tlbraRadian),\r\n    middleTop - radius * Math.sin(trblaRadian),\r\n    middleTop + radius * Math.sin(tlbraRadian),\r\n    middleTop + radius * Math.sin(trblaRadian),\r\n  ]\r\n\r\n  return {\r\n    xRange: [Math.min(...xAxis), Math.max(...xAxis)],\r\n    yRange: [Math.min(...yAxis), Math.max(...yAxis)],\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param element \r\n */\r\nexport const getRectRotatedOffset = (element: RotatedElementData) => {\r\n  const { xRange: originXRange, yRange: originYRange } = getRectRotatedRange({\r\n    left: element.left,\r\n    top: element.top,\r\n    width: element.width,\r\n    height: element.height,\r\n    rotate: 0,\r\n  })\r\n  const { xRange: rotatedXRange, yRange: rotatedYRange } = getRectRotatedRange({\r\n    left: element.left,\r\n    top: element.top,\r\n    width: element.width,\r\n    height: element.height,\r\n    rotate: element.rotate,\r\n  })\r\n  return {\r\n    offsetX: rotatedXRange[0] - originXRange[0],\r\n    offsetY: rotatedYRange[0] - originYRange[0],\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param element \r\n */\r\nexport const getElementRange = (element: PPTElement) => {\r\n  let minX, maxX, minY, maxY\r\n\r\n  if (element.type === 'line') {\r\n    minX = element.left\r\n    maxX = element.left + Math.max(element.start[0], element.end[0])\r\n    minY = element.top\r\n    maxY = element.top + Math.max(element.start[1], element.end[1])\r\n  }\r\n  else if ('rotate' in element && element.rotate) {\r\n    const { left, top, width, height, rotate } = element\r\n    const { xRange, yRange } = getRectRotatedRange({ left, top, width, height, rotate })\r\n    minX = xRange[0]\r\n    maxX = xRange[1]\r\n    minY = yRange[0]\r\n    maxY = yRange[1]\r\n  }\r\n  else {\r\n    minX = element.left\r\n    maxX = element.left + element.width\r\n    minY = element.top\r\n    maxY = element.top + element.height\r\n  }\r\n  return { minX, maxX, minY, maxY }\r\n}\r\n\r\n/**\r\n * \r\n * @param elementList \r\n */\r\nexport const getElementListRange = (elementList: PPTElement[]) => {\r\n  const leftValues: number[] = []\r\n  const topValues: number[] = []\r\n  const rightValues: number[] = []\r\n  const bottomValues: number[] = []\r\n\r\n  elementList.forEach(element => {\r\n    const { minX, maxX, minY, maxY } = getElementRange(element)\r\n    leftValues.push(minX)\r\n    topValues.push(minY)\r\n    rightValues.push(maxX)\r\n    bottomValues.push(maxY)\r\n  })\r\n\r\n  const minX = Math.min(...leftValues)\r\n  const maxX = Math.max(...rightValues)\r\n  const minY = Math.min(...topValues)\r\n  const maxY = Math.max(...bottomValues)\r\n\r\n  return { minX, maxX, minY, maxY }\r\n}\r\n\r\nexport interface AlignLine {\r\n  value: number\r\n  range: [number, number]\r\n}\r\n\r\n/**\r\n * \r\n * @param lines \r\n */\r\nexport const uniqAlignLines = (lines: AlignLine[]) => {\r\n  const uniqLines: AlignLine[] = []\r\n  lines.forEach(line => {\r\n    const index = uniqLines.findIndex(_line => _line.value === line.value)\r\n    if (index === -1) uniqLines.push(line)\r\n    else {\r\n      const uniqLine = uniqLines[index]\r\n      const rangeMin = Math.min(uniqLine.range[0], line.range[0])\r\n      const rangeMax = Math.max(uniqLine.range[1], line.range[1])\r\n      const range: [number, number] = [rangeMin, rangeMax]\r\n      const _line = { value: line.value, range }\r\n      uniqLines[index] = _line\r\n    }\r\n  })\r\n  return uniqLines\r\n}\r\n\r\n/**\r\n * IDID\r\n * ID\r\n * @param slides \r\n */\r\nexport const createSlideIdMap = (slides: Slide[]) => {\r\n  const slideIdMap: IdMap = {}\r\n  for (const slide of slides) {\r\n    slideIdMap[slide.id] = nanoid(10)\r\n  }\r\n  return slideIdMap\r\n}\r\n\r\n/**\r\n   * IDID\r\n   * ID\r\n   * groupIdgroupId\r\n   * @param elements \r\n   */\r\nexport const createElementIdMap = (elements: PPTElement[]) => {\r\n  const groupIdMap: IdMap = {}\r\n  const elIdMap: IdMap = {}\r\n  for (const element of elements) {\r\n    const groupId = element.groupId\r\n    if (groupId && !groupIdMap[groupId]) {\r\n      groupIdMap[groupId] = nanoid(10)\r\n    }\r\n    elIdMap[element.id] = nanoid(10)\r\n  }\r\n  return {\r\n    groupIdMap,\r\n    elIdMap,\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param themeColor \r\n */\r\nexport const getTableSubThemeColor = (themeColor: string) => {\r\n  const rgba = tinycolor(themeColor)\r\n  return [\r\n    rgba.setAlpha(0.3).toRgbString(),\r\n    rgba.setAlpha(0.1).toRgbString(),\r\n  ]\r\n}\r\n\r\n/**\r\n * \r\n * @param element \r\n */\r\nexport const getLineElementPath = (element: PPTLineElement) => {\r\n  const start = element.start.join(',')\r\n  const end = element.end.join(',')\r\n  if (element.broken) {\r\n    const mid = element.broken.join(',')\r\n    return `M${start} L${mid} L${end}`\r\n  }\r\n  else if (element.curve) {\r\n    const mid = element.curve.join(',')\r\n    return `M${start} Q${mid} ${end}`\r\n  }\r\n  else if (element.cubic) {\r\n    const [c1, c2] = element.cubic\r\n    const p1 = c1.join(',')\r\n    const p2 = c2.join(',')\r\n    return `M${start} C${p1} ${p2} ${end}`\r\n  }\r\n  return `M${start} L${end}`\r\n}\r\n\r\n/**\r\n * \r\n * @param element \r\n * @param parent \r\n */\r\nexport const isElementInViewport = (element: HTMLElement, parent: HTMLElement): boolean => {\r\n  const elementRect = element.getBoundingClientRect()\r\n  const parentRect = parent.getBoundingClientRect()\r\n\r\n  return (\r\n    elementRect.top >= parentRect.top &&\r\n    elementRect.bottom <= parentRect.bottom\r\n  )\r\n}","// https://iconpark.bytedance.com/official\n\nimport type { App } from 'vue'\nimport {\n  PlayOne,\n  FullScreenPlay,\n  Lock,\n  Unlock,\n  Ppt,\n  Format,\n  Picture,\n  FullScreen,\n  List,\n  OrderedList,\n  FlipVertically,\n  FlipHorizontally,\n  FontSize,\n  Code,\n  TextBold,\n  TextItalic,\n  TextUnderline,\n  Strikethrough,\n  Edit,\n  Quote,\n  BackgroundColor,\n  Group,\n  Ungroup,\n  Back,\n  Next,\n  Fullwidth,\n  AlignTop,\n  AlignLeft,\n  AlignRight,\n  AlignBottom,\n  AlignVertically,\n  AlignHorizontally,\n  BringToFront,\n  SendToBack,\n  AlignTextLeft,\n  AlignTextRight,\n  AlignTextCenter,\n  AlignTextBoth,\n  RowHeight,\n  Write,\n  InsertTable,\n  AddText,\n  Fill,\n  Tailoring,\n  Effects,\n  ColorFilter,\n  Up,\n  Down,\n  Plus,\n  Minus,\n  Connection,\n  BringToFrontOne,\n  SentToBack,\n  Github,\n  ChartProportion,\n  ChartHistogram,\n  ChartHistogramOne,\n  ChartLineArea,\n  ChartRing,\n  ChartScatter,\n  ChartLine,\n  ChartPie,\n  Text,\n  Rotate,\n  LeftTwo,\n  RightTwo,\n  Platte,\n  Close,\n  CloseSmall,\n  Undo,\n  Transform,\n  Click,\n  Theme,\n  ArrowCircleLeft,\n  GraphicDesign,\n  Logout,\n  Erase,\n  Clear,\n  AlignTextTopOne,\n  AlignTextBottomOne,\n  AlignTextMiddleOne,\n  Pause,\n  VolumeMute,\n  VolumeNotice,\n  VolumeSmall,\n  VideoTwo,\n  Formula,\n  LinkOne,\n  FullScreenOne,\n  OffScreenOne,\n  Power,\n  ListView,\n  Magic,\n  HighLight,\n  Download,\n  IndentLeft,\n  IndentRight,\n  VerticalSpacingBetweenItems,\n  Copy,\n  Delete,\n  Square,\n  Round,\n  Needle,\n  TextRotationNone,\n  TextRotationDown,\n  FormatBrush,\n  PreviewOpen,\n  PreviewClose,\n  StopwatchStart,\n  Search,\n  Left,\n  Right,\n  MoveOne,\n  HamburgerButton,\n  Attention,\n  CheckOne,\n  CloseOne,\n  Info,\n} from '@icon-park/vue-next'\n\nexport interface Icons {\n  [key: string]: typeof PlayOne\n}\n\nexport const icons: Icons = {\n  IconPlayOne: PlayOne,\n  IconFullScreenPlay: FullScreenPlay,\n  IconLock: Lock,\n  IconUnlock: Unlock,\n  IconPpt: Ppt,\n  IconFormat: Format,\n  IconPicture: Picture,\n  IconFullScreen: FullScreen,\n  IconList: List,\n  IconOrderedList: OrderedList,\n  IconFlipVertically: FlipVertically,\n  IconFlipHorizontally: FlipHorizontally,\n  IconFontSize: FontSize,\n  IconCode: Code,\n  IconTextBold: TextBold,\n  IconTextItalic: TextItalic,\n  IconTextUnderline: TextUnderline,\n  IconStrikethrough: Strikethrough,\n  IconEdit: Edit,\n  IconQuote: Quote,\n  IconBackgroundColor: BackgroundColor,\n  IconGroup: Group,\n  IconUngroup: Ungroup,\n  IconBack: Back,\n  IconNext: Next,\n  IconFullwidth: Fullwidth,\n  IconAlignTop: AlignTop,\n  IconAlignLeft: AlignLeft,\n  IconAlignRight: AlignRight,\n  IconAlignBottom: AlignBottom,\n  IconAlignVertically: AlignVertically,\n  IconAlignHorizontally: AlignHorizontally,\n  IconBringToFront: BringToFront,\n  IconSendToBack: SendToBack,\n  IconAlignTextLeft: AlignTextLeft,\n  IconAlignTextRight: AlignTextRight,\n  IconAlignTextCenter: AlignTextCenter,\n  IconAlignTextBoth: AlignTextBoth,\n  IconRowHeight: RowHeight,\n  IconWrite: Write,\n  IconInsertTable: InsertTable,\n  IconAddText: AddText,\n  IconFill: Fill,\n  IconTailoring: Tailoring,\n  IconEffects: Effects,\n  IconColorFilter: ColorFilter,\n  IconUp: Up,\n  IconDown: Down,\n  IconPlus: Plus,\n  IconMinus: Minus,\n  IconConnection: Connection,\n  IconBringToFrontOne: BringToFrontOne,\n  IconSentToBack: SentToBack,\n  IconGithub: Github,\n  IconChartProportion: ChartProportion,\n  IconChartHistogram: ChartHistogram,\n  IconChartHistogramOne: ChartHistogramOne,\n  IconChartLineArea: ChartLineArea,\n  IconChartRing: ChartRing,\n  IconChartScatter: ChartScatter,\n  IconChartLine: ChartLine,\n  IconChartPie: ChartPie,\n  IconText: Text,\n  IconRotate: Rotate,\n  IconLeftTwo: LeftTwo,\n  IconRightTwo: RightTwo,\n  IconPlatte: Platte,\n  IconClose: Close,\n  IconCloseSmall: CloseSmall,\n  IconUndo: Undo,\n  IconTransform: Transform,\n  IconClick: Click,\n  IconTheme: Theme,\n  IconArrowCircleLeft: ArrowCircleLeft,\n  IconGraphicDesign: GraphicDesign,\n  IconLogout: Logout,\n  IconErase: Erase,\n  IconClear: Clear,\n  IconAlignTextTopOne: AlignTextTopOne,\n  IconAlignTextBottomOne: AlignTextBottomOne,\n  IconAlignTextMiddleOne: AlignTextMiddleOne,\n  IconPause: Pause,\n  IconVolumeMute: VolumeMute,\n  IconVolumeNotice: VolumeNotice,\n  IconVolumeSmall: VolumeSmall,\n  IconVideoTwo: VideoTwo,\n  IconFormula: Formula,\n  IconLinkOne: LinkOne,\n  IconFullScreenOne: FullScreenOne,\n  IconOffScreenOne: OffScreenOne,\n  IconPower: Power,\n  IconListView: ListView,\n  IconMagic: Magic,\n  IconHighLight: HighLight,\n  IconDownload: Download,\n  IconIndentLeft: IndentLeft,\n  IconIndentRight: IndentRight,\n  IconVerticalSpacingBetweenItems: VerticalSpacingBetweenItems,\n  IconCopy: Copy,\n  IconDelete: Delete,\n  IconSquare: Square,\n  IconRound: Round,\n  IconNeedle: Needle,\n  IconTextRotationNone: TextRotationNone,\n  IconTextRotationDown: TextRotationDown,\n  IconFormatBrush: FormatBrush,\n  IconPreviewOpen: PreviewOpen,\n  IconPreviewClose: PreviewClose,\n  IconStopwatchStart: StopwatchStart,\n  IconSearch: Search,\n  IconLeft: Left,\n  IconRight: Right,\n  IconMoveOne: MoveOne,\n  IconHamburgerButton: HamburgerButton,\n  IconAttention: Attention,\n  IconCheckOne: CheckOne,\n  IconCloseOne: CloseOne,\n  IconInfo: Info,\n}\n\nexport default {\n  install(app: App) {\n    for (const key of Object.keys(icons)) {\n      app.component(key, icons[key])\n    }\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, createVNode as _createVNode, Transition as _Transition, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2231702e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"icons\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"title\"\n}\nconst _hoisted_5 = { class: \"description\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"control\"\n}\n\nimport { onMounted, ref, onBeforeMount } from 'vue'\nimport { icons } from '@/plugins/icon'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Message',\n  props: {\n    id: {},\n    message: {},\n    type: { default: 'success' },\n    title: { default: '' },\n    duration: { default: 3000 },\n    closable: { type: Boolean, default: false }\n  },\n  emits: [\"close\", \"destroy\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\nconst {\n  IconAttention,\n  IconCheckOne,\n  IconCloseOne,\n  IconInfo,\n  IconCloseSmall,\n} = icons\n\nconst props = __props\n\nconst emit = __emit\n\nconst visible = ref(true)\nconst timer = ref<number | null>(null)\n\nconst startTimer = () => {\n  if (props.duration <= 0) return\n  timer.value = setTimeout(close, props.duration)\n}\nconst clearTimer = () => {\n  if (timer.value) clearTimeout(timer.value)\n}\n\nconst close = () => visible.value = false\n\nonBeforeMount(() => {\n  clearTimer()\n})\nonMounted(() => {\n  startTimer()\n})\n\n__expose({\n  close,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: \"message-fade\",\n    appear: \"\",\n    mode: \"in-out\",\n    onBeforeLeave: _cache[3] || (_cache[3] = ($event: any) => (emit('close'))),\n    onAfterLeave: _cache[4] || (_cache[4] = ($event: any) => (emit('destroy')))\n  }, {\n    default: _withCtx(() => [\n      (visible.value)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            class: \"message\",\n            id: _ctx.id\n          }, [\n            _createElementVNode(\"div\", {\n              class: \"message-container\",\n              onMouseenter: _cache[1] || (_cache[1] = ($event: any) => (clearTimer())),\n              onMouseleave: _cache[2] || (_cache[2] = ($event: any) => (startTimer()))\n            }, [\n              _createElementVNode(\"div\", _hoisted_2, [\n                (_ctx.type === 'warning')\n                  ? (_openBlock(), _createBlock(_unref(IconAttention), {\n                      key: 0,\n                      theme: \"filled\",\n                      size: \"18\",\n                      fill: \"#faad14\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.type === 'success')\n                  ? (_openBlock(), _createBlock(_unref(IconCheckOne), {\n                      key: 1,\n                      theme: \"filled\",\n                      size: \"18\",\n                      fill: \"#52c41a\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.type === 'error')\n                  ? (_openBlock(), _createBlock(_unref(IconCloseOne), {\n                      key: 2,\n                      theme: \"filled\",\n                      size: \"18\",\n                      fill: \"#ff4d4f\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.type === 'info')\n                  ? (_openBlock(), _createBlock(_unref(IconInfo), {\n                      key: 3,\n                      theme: \"filled\",\n                      size: \"18\",\n                      fill: \"#1677ff\"\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _createElementVNode(\"div\", _hoisted_3, [\n                (_ctx.title)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(_ctx.title), 1))\n                  : _createCommentVNode(\"\", true),\n                _createElementVNode(\"div\", _hoisted_5, _toDisplayString(_ctx.message), 1)\n              ]),\n              (_ctx.closable)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                    _createElementVNode(\"span\", {\n                      class: \"close-btn\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (close()))\n                    }, [\n                      _createVNode(_unref(IconCloseSmall))\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ], 32)\n          ], 8, _hoisted_1))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <Transition \n    name=\"message-fade\" \n    appear \n    mode=\"in-out\"\n    @beforeLeave=\"emit('close')\"\n    @afterLeave=\"emit('destroy')\"\n  >\n    <div class=\"message\" :id=\"id\" v-if=\"visible\">\n      <div class=\"message-container\"\n        @mouseenter=\"clearTimer()\"\n        @mouseleave=\"startTimer()\"\n      >\n        <div class=\"icons\">\n          <IconAttention theme=\"filled\" size=\"18\" fill=\"#faad14\" v-if=\"type === 'warning'\" />\n          <IconCheckOne theme=\"filled\" size=\"18\" fill=\"#52c41a\" v-if=\"type === 'success'\" />\n          <IconCloseOne theme=\"filled\" size=\"18\" fill=\"#ff4d4f\" v-if=\"type === 'error'\" />\n          <IconInfo theme=\"filled\" size=\"18\" fill=\"#1677ff\" v-if=\"type === 'info'\" />\n        </div>\n        <div class=\"content\">\n          <div class=\"title\" v-if=\"title\">{{ title }}</div>\n          <div class=\"description\">{{ message }}</div>\n        </div>\n        <div class=\"control\" v-if=\"closable\">\n          <span \n            class=\"close-btn\"\n            @click=\"close()\"\n          >\n            <IconCloseSmall />\n          </span>\n        </div>\n      </div>\n    </div>\n  </Transition>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, ref, onBeforeMount } from 'vue'\nimport { icons } from '@/plugins/icon'\n\nconst {\n  IconAttention,\n  IconCheckOne,\n  IconCloseOne,\n  IconInfo,\n  IconCloseSmall,\n} = icons\n\nconst props = withDefaults(defineProps<{\n  id: string\n  message: string\n  type?: string\n  title?: string\n  duration?: number\n  closable?: boolean\n}>(), {\n  type: 'success',\n  title: '',\n  duration: 3000,\n  closable: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n  (event: 'destroy'): void\n}>()\n\nconst visible = ref(true)\nconst timer = ref<number | null>(null)\n\nconst startTimer = () => {\n  if (props.duration <= 0) return\n  timer.value = setTimeout(close, props.duration)\n}\nconst clearTimer = () => {\n  if (timer.value) clearTimeout(timer.value)\n}\n\nconst close = () => visible.value = false\n\nonBeforeMount(() => {\n  clearTimer()\n})\nonMounted(() => {\n  startTimer()\n})\n\ndefineExpose({\n  close,\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.message {\n  max-width: 500px;\n\n  & + & {\n    margin-top: 15px;\n  }\n}\n.message-container {\n  min-width: 50px;\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  font-size: 13px;\n  overflow: hidden;\n  border-radius: $borderRadius;\n  box-shadow: 0 1px 8px rgba(0, 0, 0, .15);\n  background: #fff;\n  pointer-events: all;\n  position: relative;\n\n  .icons {\n    display: flex;\n    align-items: center;\n    margin-right: 10px;\n  }\n  .title {\n    font-size: 14px;\n    font-weight: 700;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .content {\n    width: 100%;\n  }\n  .description {\n    line-height: 1.5;\n    color: $textColor;\n  }\n  .title + .description {\n    margin-top: 5px;\n  }\n  .control {\n    position: relative;\n    height: 100%;\n    margin-left: 10px;\n  }\n  .close-btn {\n    font-size: 15px;\n    color: #666;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n      color: $themeColor;\n    }\n  }\n}\n\n.message-fade-enter-active {\n  animation: message-fade-in-down .3s;\n}\n.message-fade-leave-active {\n  animation: message-fade-out .3s;\n}\n\n@keyframes message-fade-in-down {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes message-fade-out {\n  0% {\n    opacity: 1;\n    margin-top: 0;\n  }\n  100% {\n    opacity: 0;\n    margin-top: -45px;\n  }\n}\n</style>","import script from \"./Message.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Message.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=2231702e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2231702e\"]])\n\nexport default __exports__","import { createVNode, render, type AppContext } from 'vue'\nimport MessageComponent from '@/components/Message.vue'\n\nexport interface MessageOptions {\n  type?: 'info' | 'success' | 'warning' | 'error'\n  title?: string\n  message?: string\n  duration?: number\n  closable?: boolean\n  ctx?: AppContext\n  onClose?: () => void\n}\n\nexport type MessageTypeOptions = Omit<MessageOptions, 'type' | 'message'>\nexport interface MessageIntance {\n  id: string\n  close: () => void\n}\n\nexport type MessageFn = (message: string, options?: MessageTypeOptions) => MessageIntance\nexport interface Message {\n  (options: MessageOptions): MessageIntance\n  info: MessageFn\n  success: MessageFn\n  error: MessageFn\n  warning: MessageFn\n  closeAll: () => void\n  _context?: AppContext | null\n}\n\nconst instances: MessageIntance[] = []\nlet wrap: HTMLDivElement | null = null\nlet seed = 0\nconst defaultOptions: MessageOptions = {\n  duration: 3000,\n}\n\nconst message: Message = (options: MessageOptions) => {\n  const id = 'message-' + seed++\n  const props = {\n    ...defaultOptions,\n    ...options,\n    id,\n  }\n\n  if (!wrap) {\n    wrap = document.createElement('div')\n    wrap.className = 'message-wrap'\n    wrap.style.cssText = `\n      width: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 6000;\n      pointer-events: none;\n      display: flex;\n      flex-direction: column;\n      box-sizing: border-box;\n      padding: 15px;\n      background-color: rgba(255, 255, 255, 0);\n      transition: all 1s ease-in-out;\n      align-items: center;\n    `\n    document.body.appendChild(wrap)\n  }\n\n  const vm = createVNode(MessageComponent, props, null)\n  const div = document.createElement('div')\n\n  vm.appContext = options.ctx || message._context || null\n  vm.props!.onClose = options.onClose\n  vm.props!.onDestroy = () => {\n    if (wrap && wrap.childNodes.length <= 1) {\n      wrap.remove()\n      wrap = null\n    }\n    render(null, div)\n  }\n\n  render(vm, div)\n  wrap.appendChild(div.firstElementChild!)\n\n  const instance = {\n    id,\n    close: () => vm?.component?.exposed?.close(),\n  }\n\n  instances.push(instance)\n  return instance\n}\n\nmessage.success = (msg: string, options?: MessageTypeOptions) => message({ ...options, type: 'success', message: msg })\nmessage.info = (msg: string, options?: MessageTypeOptions) => message({ ...options, type: 'info', message: msg })\nmessage.warning = (msg: string, options?: MessageTypeOptions) => message({ ...options, type: 'warning', message: msg })\nmessage.error = (msg: string, options?: MessageTypeOptions) => message({ ...options, type: 'error', message: msg })\n\nmessage.closeAll = function() {\n  for (let i = instances.length - 1; i >= 0; i--) {\n    instances[i].close()\n  }\n}\n\nexport default message","import type { BarChartOptions, LineChartOptions, PieChartOptions } from 'chartist'\n\nexport const enum ShapePathFormulasKeys {\n  ROUND_RECT = 'roundRect',\n  ROUND_RECT_DIAGONAL = 'roundRectDiagonal',\n  ROUND_RECT_SINGLE = 'roundRectSingle',\n  ROUND_RECT_SAMESIDE = 'roundRectSameSide',\n  CUT_RECT_DIAGONAL = 'cutRectDiagonal',\n  CUT_RECT_SINGLE = 'cutRectSingle',\n  CUT_RECT_SAMESIDE = 'cutRectSameSide',\n  CUT_ROUND_RECT = 'cutRoundRect',\n  MESSAGE = 'message',\n  ROUND_MESSAGE = 'roundMessage',\n  L = 'L',\n  RING_RECT = 'ringRect',\n  PLUS = 'plus',\n  TRIANGLE = 'triangle',\n  PARALLELOGRAM_LEFT = 'parallelogramLeft',\n  PARALLELOGRAM_RIGHT = 'parallelogramRight',\n  TRAPEZOID = 'trapezoid',\n  BULLET = 'bullet',\n  INDICATOR = 'indicator',\n}\n\nexport const enum ElementTypes {\n  TEXT = 'text',\n  IMAGE = 'image',\n  SHAPE = 'shape',\n  LINE = 'line',\n  CHART = 'chart',\n  TABLE = 'table',\n  LATEX = 'latex',\n  VIDEO = 'video',\n  AUDIO = 'audio',\n}\n\n/**\n * \n * \n * h: \n * \n * v: \n * \n * blur: \n * \n * color: \n */\nexport interface PPTElementShadow {\n  h: number\n  v: number\n  blur: number\n  color: string\n}\n\n/**\n * \n * \n * style?: \n * \n * width?: \n * \n * color?: \n */\nexport interface PPTElementOutline {\n  style?: 'dashed' | 'solid'\n  width?: number\n  color?: string\n}\n\n/**\n * \n * \n * type: \n * \n * target: ID\n */\nexport interface PPTElementLink {\n  type: 'web' | 'slide'\n  target: string\n}\n\n\n/**\n * \n * \n * id: ID\n * \n * left: \n * \n * top: \n * \n * lock?: \n * \n * groupId?: IDID\n * \n * width: \n * \n * height: \n * \n * rotate: \n * \n * link?: \n * \n * name?: \n */\ninterface PPTBaseElement {\n  id: string\n  left: number\n  top: number\n  lock?: boolean\n  groupId?: string\n  width: number\n  height: number\n  rotate: number\n  link?: PPTElementLink\n  name?: string\n}\n\n\n/**\n * \n * \n * type: text\n * \n * content: HTML\n * \n * defaultFontName: HTML\n * \n * defaultColor: HTML\n * \n * outline?: \n * \n * fill?: \n * \n * lineHeight?: 1.5\n * \n * wordSpace?: 0\n * \n * opacity?: 1\n * \n * shadow?: \n * \n * paragraphSpace?:  5px\n * \n * vertical?: \n */\nexport interface PPTTextElement extends PPTBaseElement {\n  type: 'text'\n  content: string\n  defaultFontName: string\n  defaultColor: string\n  outline?: PPTElementOutline\n  fill?: string\n  lineHeight?: number\n  wordSpace?: number\n  opacity?: number\n  shadow?: PPTElementShadow\n  paragraphSpace?: number\n  vertical?: boolean\n}\n\n\n/**\n * \n * \n * flipH?: \n * \n * flipV?: \n */\nexport interface ImageOrShapeFlip {\n  flipH?: boolean\n  flipV?: boolean\n}\n\n/**\n * \n * \n * https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter\n * \n * 'blur'?: 0px\n * \n * 'brightness'?: 100%\n * \n * 'contrast'?: 100%\n * \n * 'grayscale'?: 0%\n * \n * 'saturate'?: 100%\n * \n * 'hue-rotate'?: 0deg\n * \n * 'opacity'?: 100%\n */\nexport type ImageElementFilterKeys = 'blur' | 'brightness' | 'contrast' | 'grayscale' | 'saturate' | 'hue-rotate' | 'opacity'\nexport interface ImageElementFilters {\n  'blur'?: string\n  'brightness'?: string\n  'contrast'?: string\n  'grayscale'?: string\n  'saturate'?: string\n  'hue-rotate'?: string\n  'opacity'?: string\n}\n\nexport type ImageClipDataRange = [[number, number], [number, number]]\n\n/**\n * \n * \n * range: [[10, 10], [90, 90]]  10%, 10%  90%, 90% \n * \n * shape:  configs/imageClip.ts CLIPPATHS \n */\nexport interface ImageElementClip {\n  range: ImageClipDataRange\n  shape: string\n}\n\n/**\n * \n * \n * type: image\n * \n * fixedRatio: \n * \n * src: \n * \n * outline?: \n * \n * filters?: \n * \n * clip?: \n * \n * flipH?: \n * \n * flipV?: \n * \n * shadow?: \n */\nexport interface PPTImageElement extends PPTBaseElement {\n  type: 'image'\n  fixedRatio: boolean\n  src: string\n  outline?: PPTElementOutline\n  filters?: ImageElementFilters\n  clip?: ImageElementClip\n  flipH?: boolean\n  flipV?: boolean\n  shadow?: PPTElementShadow\n  colorMask?: string\n}\n\n\n/**\n * \n * \n * type: \n * \n * color: \n * \n * rotate: \n */\nexport interface ShapeGradient {\n  type: 'linear' | 'radial'\n  color: [string, string]\n  rotate: number\n}\n\n/**\n * \n * \n * content: HTML\n * \n * defaultFontName: HTML\n * \n * defaultColor: HTML\n * \n * align: \n */\nexport interface ShapeText {\n  content: string\n  defaultFontName: string\n  defaultColor: string\n  align: 'top' | 'middle' | 'bottom'\n}\n\n/**\n * \n * \n * type: shape\n * \n * viewBox: SVGviewBox [1000, 1000]  '0 0 1000 1000'\n * \n * path: SVG path  d \n * \n * fixedRatio: \n * \n * fill: \n * \n * gradient?: \n * \n * outline?: \n * \n * opacity?: \n * \n * flipH?: \n * \n * flipV?: \n * \n * shadow?: \n * \n * special?:  L Q C A \n * \n * text?: \n * \n * pathFormula?: \n *  viewBox  viewBox  path \n *  viewBox  path \n * \n * keypoint?: \n */\nexport interface PPTShapeElement extends PPTBaseElement {\n  type: 'shape'\n  viewBox: [number, number]\n  path: string\n  fixedRatio: boolean\n  fill: string\n  gradient?: ShapeGradient\n  outline?: PPTElementOutline\n  opacity?: number\n  flipH?: boolean\n  flipV?: boolean\n  shadow?: PPTElementShadow\n  special?: boolean\n  text?: ShapeText\n  pathFormula?: ShapePathFormulasKeys\n  keypoint?: number\n}\n\n\nexport type LinePoint = '' | 'arrow' | 'dot' \n\n/**\n * \n * \n * type: line\n * \n * start: [x, y]\n * \n * end: [x, y]\n * \n * style: \n * \n * color: \n * \n * points: [, ]\n * \n * shadow?: \n * \n * broken?: [x, y]\n * \n * curve?: [x, y]\n * \n * cubic?: [[x1, y1], [x2, y2]]\n */\nexport interface PPTLineElement extends Omit<PPTBaseElement, 'height' | 'rotate'> {\n  type: 'line'\n  start: [number, number]\n  end: [number, number]\n  style: 'solid' | 'dashed'\n  color: string\n  points: [LinePoint, LinePoint]\n  shadow?: PPTElementShadow\n  broken?: [number, number]\n  curve?: [number, number]\n  cubic?: [[number, number], [number, number]]\n}\n\n\nexport type PresetChartType = 'bar' | 'horizontalBar' | 'line' | 'area' | 'scatter' | 'pie' | 'ring'\nexport type ChartType = 'bar' | 'line' | 'pie'\nexport type ChartOptions = LineChartOptions & BarChartOptions & PieChartOptions\nexport interface ChartData {\n  labels: string[]\n  legends: string[]\n  series: number[][]\n}\n\n/**\n * \n * \n * type: chart\n * \n * fill?: \n * \n * chartType: bar/line/pie\n * \n * data: \n * \n * options?: \n * \n * outline?: \n * \n * themeColor: \n * \n * gridColor?: &\n * \n * legend?: /\n */\nexport interface PPTChartElement extends PPTBaseElement {\n  type: 'chart'\n  fill?: string\n  chartType: ChartType\n  data: ChartData\n  options?: ChartOptions\n  outline?: PPTElementOutline\n  themeColor: string[]\n  gridColor?: string\n  legend?: '' | 'top' | 'bottom'\n}\n\n\n/**\n * \n * \n * bold?: \n * \n * em?: \n * \n * underline?: \n * \n * strikethrough?: \n * \n * color?: \n * \n * backcolor?: \n * \n * fontsize?: \n * \n * fontname?: \n * \n * align?: \n */\nexport interface TableCellStyle {\n  bold?: boolean\n  em?: boolean\n  underline?: boolean\n  strikethrough?: boolean\n  color?: string\n  backcolor?: string\n  fontsize?: string\n  fontname?: string\n  align?: 'left' | 'center' | 'right'\n}\n\n\n/**\n * \n * \n * id: ID\n * \n * colspan: \n * \n * rowspan: \n * \n * text: \n * \n * style?: \n */\nexport interface TableCell {\n  id: string\n  colspan: number\n  rowspan: number\n  text: string\n  style?: TableCellStyle\n}\n\n/**\n * \n * \n * color: \n * \n * rowHeader: \n * \n * rowFooter: \n * \n * colHeader: \n * \n * colFooter: \n */\nexport interface TableTheme {\n  color: string\n  rowHeader: boolean\n  rowFooter: boolean\n  colHeader: boolean\n  colFooter: boolean\n}\n\n/**\n * \n * \n * type: table\n * \n * outline: \n * \n * theme?: \n * \n * colWidths: [30, 50, 20]30%, 50%, 20%\n * \n * cellMinHeight: \n * \n * data: \n */\nexport interface PPTTableElement extends PPTBaseElement {\n  type: 'table'\n  outline: PPTElementOutline\n  theme?: TableTheme\n  colWidths: number[]\n  cellMinHeight: number\n  data: TableCell[][]\n}\n\n\n/**\n * LaTeX\n * \n * type: latex\n * \n * latex: latex\n * \n * path: svg path\n * \n * color: \n * \n * strokeWidth: \n * \n * viewBox: SVGviewBox\n * \n * fixedRatio: \n */\nexport interface PPTLatexElement extends PPTBaseElement {\n  type: 'latex'\n  latex: string\n  path: string\n  color: string\n  strokeWidth: number\n  viewBox: [number, number]\n  fixedRatio: boolean\n}\n\n/**\n * \n * \n * type: video\n * \n * src: \n * \n * autoplay: \n * \n * poster: \n * \n * ext: \n */\nexport interface PPTVideoElement extends PPTBaseElement {\n  type: 'video'\n  src: string\n  autoplay: boolean\n  poster?: string\n  ext?: string\n}\n\n/**\n * \n * \n * type: audio\n * \n * fixedRatio: \n * \n * color: \n * \n * loop: \n * \n * autoplay: \n * \n * src: \n * \n * ext: \n */\nexport interface PPTAudioElement extends PPTBaseElement {\n  type: 'audio'\n  fixedRatio: boolean\n  color: string\n  loop: boolean\n  autoplay: boolean\n  src: string\n  ext?: string\n}\n\n\nexport type PPTElement = PPTTextElement | PPTImageElement | PPTShapeElement | PPTLineElement | PPTChartElement | PPTTableElement | PPTLatexElement | PPTVideoElement | PPTAudioElement\n\n\n/**\n * \n * \n * id: id\n * \n * elId: ID\n * \n * effect: \n * \n * type: \n * \n * duration: \n * \n * trigger: (click - meantime - auto - )\n */\nexport interface PPTAnimation {\n  id: string\n  elId: string\n  effect: string\n  type: 'in' | 'out' | 'attention'\n  duration: number\n  trigger: 'click' | 'meantime' | 'auto'\n}\n\n/**\n * \n * \n * type: \n * \n * color?: \n * \n * image?: \n * \n * imageSize?: \n * \n * gradientType?: \n * \n * gradientColor?: \n * \n * gradientRotate?: \n */\nexport interface SlideBackground {\n  type: 'solid' | 'image' | 'gradient'\n  color?: string\n  image?: string\n  imageSize?: 'cover' | 'contain' | 'repeat'\n  gradientType?: 'linear' | 'radial'\n  gradientColor?: [string, string]\n  gradientRotate?: number\n}\n\n\nexport type TurningMode = 'no' | 'fade' | 'slideX' | 'slideY' | 'random' | 'slideX3D' | 'slideY3D' | 'rotate' | 'scaleY' | 'scaleX' | 'scale' | 'scaleReverse'\n\n/**\n * \n * \n * id: ID\n * \n * elements: \n * \n * remark?: \n * \n * background?: \n * \n * animations?: \n * \n * turningMode?: \n */\nexport interface Slide {\n  id: string\n  elements: PPTElement[]\n  remark?: string\n  background?: SlideBackground\n  animations?: PPTAnimation[]\n  turningMode?: TurningMode\n}\n\n/**\n * \n * \n * backgroundColor: \n * \n * themeColor: \n * \n * fontColor: \n * \n * fontName: \n */\nexport interface SlideTheme {\n  backgroundColor: string\n  themeColor: string\n  fontColor: string\n  fontName: string\n  outline: PPTElementOutline\n  shadow: PPTElementShadow\n}\n","/**\r\n * HTML\r\n * @param text \r\n */\r\nexport const parseText2Paragraphs = (text: string) => {\r\n  const htmlText = text.replace(/[\\n\\r]+/g, '<br>')\r\n  const paragraphs = htmlText.split('<br>')\r\n  let string = ''\r\n  for (const paragraph of paragraphs) {\r\n    if (paragraph) string += `<div>${paragraph}</div>`\r\n  }\r\n  return string\r\n}","interface ImageSize {\n  width: number\n  height: number\n}\n\n/**\n * \n * @param src \n */\nexport const getImageSize = (src: string): Promise<ImageSize> => {\n  return new Promise(resolve => {\n    const img = document.createElement('img')\n    img.src = src\n    img.style.opacity = '0'\n    document.body.appendChild(img)\n\n    img.onload = () => {\n      const imgWidth = img.clientWidth\n      const imgHeight = img.clientHeight\n    \n      img.onload = null\n      img.onerror = null\n\n      document.body.removeChild(img)\n\n      resolve({ width: imgWidth, height: imgHeight })\n    }\n\n    img.onerror = () => {\n      img.onload = null\n      img.onerror = null\n    }\n  })\n}\n\n/**\n * dataURL\n * @param file \n */\nexport const getImageDataURL = (file: File): Promise<string> => {\n  return new Promise(resolve => {\n    const reader = new FileReader()\n    reader.addEventListener('load', () => {\n      resolve(reader.result as string)\n    })\n    reader.readAsDataURL(file)\n  })\n}","export const VIEWPORT_SIZE = 1000","/* eslint-disable max-lines */\n\n// https://github.com/pipipi-pikachu/svgPathCreator\n\nimport { ShapePathFormulasKeys } from '@/types/slides'\n\nexport interface ShapePoolItem {\n  viewBox: [number, number]\n  path: string\n  special?: boolean\n  pathFormula?: ShapePathFormulasKeys\n  outlined?: boolean\n  pptxShapeType?: string\n  title?: string\n}\n\ninterface ShapeListItem {\n  type: string\n  children: ShapePoolItem[]\n}\n\nexport const SHAPE_PATH_FORMULAS = {\n  [ShapePathFormulasKeys.ROUND_RECT]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height - radius} Q ${width} ${height} ${width - radius} ${height} L ${radius} ${height} Q 0 ${height} 0 ${height - radius} L 0 ${radius} Q 0 0 ${radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_DIAGONAL]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${height - radius} L 0 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L ${radius} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_SINGLE]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${height} L 0 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_SAMESIDE]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${radius} L ${radius} 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_DIAGONAL]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 1],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width} 0 L ${width} ${height - radius} Q ${width} ${height} ${width - radius} ${height} L 0 ${height} L 0 ${radius} Q 0 0 ${radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_SINGLE]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 1],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height} L 0 ${height} L 0 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_SAMESIDE]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${radius} Q 0 0 ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_ROUND_RECT]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L 0 ${height} L 0 ${radius} Q 0 0 ${radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.MESSAGE]: {\n    formula: (width: number, height: number) => {\n      const arrowWidth = width * 0.2\n      const arrowheight = height * 0.2\n      return `M 0 0 L ${width} 0 L ${width} ${height - arrowheight} L ${width / 2} ${height - arrowheight} L ${width / 2 - arrowWidth} ${height} L ${width / 2 - arrowWidth} ${height - arrowheight} L 0 ${height - arrowheight} Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_MESSAGE]: {\n    formula: (width: number, height: number) => {\n      const radius = Math.min(width, height) * 0.125\n      const arrowWidth = width * 0.2\n      const arrowheight = height * 0.2\n      return `M 0 ${radius} Q 0 0 ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height - radius - arrowheight} Q ${width} ${height - arrowheight} ${width - radius} ${height - arrowheight} L ${width / 2} ${height - arrowheight} L ${width / 2 - arrowWidth} ${height} L ${width / 2 - arrowWidth} ${height - arrowheight} L ${radius} ${height - arrowheight} Q 0 ${height - arrowheight} 0 ${height - radius - arrowheight} L 0 ${radius} Z`\n    }\n  },\n  [ShapePathFormulasKeys.L]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.9],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M 0 0 L 0 ${height} L ${width} ${height} L ${width} ${height - lineWidth} L ${lineWidth} ${height - lineWidth} L ${lineWidth} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.RING_RECT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.45],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M 0 0 ${width} 0 ${width} ${height} L 0 ${height} L 0 0 Z M ${lineWidth} ${lineWidth} L ${lineWidth} ${height - lineWidth} L ${width - lineWidth} ${height - lineWidth} L ${width - lineWidth} ${lineWidth} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PLUS]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.9],\n    relative: 'center',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M ${width / 2 - lineWidth / 2} 0 L ${width / 2 - lineWidth / 2} ${height / 2 - lineWidth / 2} L 0 ${height / 2 - lineWidth / 2} L 0 ${height / 2 + lineWidth / 2} L ${width / 2 - lineWidth / 2} ${height / 2 + lineWidth / 2} L ${width / 2 - lineWidth / 2} ${height} L ${width / 2 + lineWidth / 2} ${height} L ${width / 2 + lineWidth / 2} ${height / 2 + lineWidth / 2} L ${width} ${height / 2 + lineWidth / 2} L ${width} ${height / 2 - lineWidth / 2} L ${width / 2 + lineWidth / 2} ${height / 2 - lineWidth / 2} L ${width / 2 + lineWidth / 2} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.TRIANGLE]: {\n    editable: true,\n    defaultValue: 0.5,\n    range: [0, 1],\n    relative: 'left',\n    getBaseSize: (width: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const vertex = width * value\n      return `M ${vertex} 0 L 0 ${height} L ${width} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PARALLELOGRAM_LEFT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.9],\n    relative: 'left',\n    getBaseSize: (width: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${point} 0 L ${width} 0 L ${width - point} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PARALLELOGRAM_RIGHT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M 0 0 L ${width - point} 0 L ${width} ${height} L ${point} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.TRAPEZOID]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${point} 0 L ${width - point} 0 L ${width} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.BULLET]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 1],\n    relative: 'top',\n    getBaseSize: (width: number, height: number) => height,\n    formula: (width: number, height: number, value: number) => {\n      const point = height * value\n      return `M ${width / 2} 0 L 0 ${point} L 0 ${height} L ${width} ${height} L ${width} ${point} Z`\n    }\n  },\n  [ShapePathFormulasKeys.INDICATOR]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${width} ${height / 2} L ${width - point} 0 L 0 0 L ${point} ${height / 2} L 0 ${height} L ${width - point} ${height} Z`\n    }\n  },\n}\n\nexport const SHAPE_LIST: ShapeListItem[] = [\n  {\n    type: 'rectangle',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        pptxShapeType: 'rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT,\n        pptxShapeType: 'roundRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_SINGLE,\n        pptxShapeType: 'snip1Rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_SAMESIDE,\n        pptxShapeType: 'snip2SameRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_DIAGONAL,\n        pptxShapeType: 'snip2DiagRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_ROUND_RECT,\n        pptxShapeType: 'snipRoundRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_SINGLE,\n        pptxShapeType: 'round1Rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_SAMESIDE,\n        pptxShapeType: 'round2SameRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 200 0 L 200 150 Q 200 200 150 200 L 0 200 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_DIAGONAL,\n        pptxShapeType: 'round2DiagRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 80 L 60 0 L 100 40 L 180 20 L 200 120 L 160 200 L 0 200 L 60 140 Z',\n        title: 'arbitrary polygon',\n      },\n    ]\n  },\n\n  {\n    type: 'Common shapes',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        pptxShapeType: 'ellipse',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 200 L 200 200 L 100 0 Z',\n        pathFormula: ShapePathFormulasKeys.TRIANGLE,\n        pptxShapeType: 'triangle',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 70 20 L 0 160 Q 0 200 40 200 L 160 200 Q 200 200 200 160 L 130 20 Q 100 -20 70 20 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.PARALLELOGRAM_LEFT,\n        pptxShapeType: 'parallelogram',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.PARALLELOGRAM_RIGHT,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.TRAPEZOID,\n        pptxShapeType: 'trapezoid',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z',\n        pptxShapeType: 'diamond',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z',\n        pathFormula: ShapePathFormulasKeys.BULLET,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z',\n        pathFormula: ShapePathFormulasKeys.INDICATOR,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 C 80 20 120 20 200 0 C 180 80 180 120 200 200 C 80 180 120 180 0 200 C 20 120 20 80 0 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 10 10 C 60 0 140 0 190 10 C 200 60 200 140 190 190 C 140 200 60 200 10 190 C 0 140 0 60 10 10 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z',\n        pptxShapeType: 'pie',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z',\n        pptxShapeType: 'chord',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z',\n        pptxShapeType: 'teardrop',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z',\n        pptxShapeType: 'pentagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 0 L 160 0 L 200 100 L 160 200 L 40 200 L 0 100 Z',\n        pptxShapeType: 'hexagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z',\n        pptxShapeType: 'octagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.L\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z',\n        pathFormula: ShapePathFormulasKeys.RING_RECT,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z',\n        pathFormula: ShapePathFormulasKeys.PLUS,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z',\n        pathFormula: ShapePathFormulasKeys.MESSAGE,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_MESSAGE,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 120 80 L 200 100 L 120 120 L 100 200 L 80 120 L 0 100 L 80 80 L 100 0 Z',\n        pptxShapeType: 'star4',\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1018.67652554 400.05983681l-382.95318779-5.89158658L512 34.78141155 388.27666225 394.16825023l-382.95318779 5.89158658L311.68602415 629.83174977l-117.83174978 365.27842665 312.25413766-223.88032637 312.25413904 223.88032637-117.83175116-365.27842665 318.14572563-229.77191296z',\n        pptxShapeType: 'star5',\n        special: true,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 140 60 L 200 60 L 160 100 L 200 140 L 140 140 L 100 200 L 60 140 L 0 140 L 40 100 L 0 60 L 60 60 L 100 0 Z',\n        pptxShapeType: 'star6',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 C 80 40 80 160 200 200 C -60 200 -60 0 200 0 Z',\n      },\n    ],\n  },\n  \n  {\n    type: 'arrow',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z',\n        pptxShapeType: 'upArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z',\n        pptxShapeType: 'downArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z',\n        pptxShapeType: 'leftArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z',\n        pptxShapeType: 'rightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z',\n        pptxShapeType: 'upDownArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z',\n        pptxShapeType: 'leftRightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z',\n        pptxShapeType: 'notchedRightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z',\n        pptxShapeType: 'chevron',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z',\n        pptxShapeType: 'homePlate',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z'\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z',\n        special: true,\n      },\n    ],\n  },\n\n  {\n    type: 'other shapes',\n    children: [\n      {\n        viewBox: [1024, 1024],\n        path: 'M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m220.16 343.26755556l-239.616 332.23111111c-14.44977778 20.13866667-44.37333333 20.13866667-58.82311111 0L291.84 481.16622222c-4.32355555-6.03022222 0-14.44977778 7.39555555-14.44977777h53.36177778c11.60533333 0 22.64177778 5.57511111 29.46844445 15.13244444l81.00977777 112.41244444 178.85866667-248.03555555c6.82666667-9.44355555 17.74933333-15.13244445 29.46844445-15.13244445H724.76444445c7.39555555 0 11.71911111 8.41955555 7.39555555 14.44977778z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h418.70222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m188.18844445 703.37422223l-75.09333334-0.34133333L512 570.48177778l-112.98133333 134.71288889-75.20711112 0.34133333c-5.00622222 0-9.10222222-3.98222222-9.10222222-9.10222222 0-2.16177778 0.79644445-4.20977778 2.16177778-5.91644445l148.02488889-176.35555555L316.87111111 337.92c-1.36533333-1.70666667-2.16177778-3.75466667-2.16177778-5.91644445 0-5.00622222 4.096-9.10222222 9.10222222-9.10222222l75.20711112 0.34133334L512 458.06933333l112.98133333-134.71288888 75.09333334-0.34133334c5.00622222 0 9.10222222 3.98222222 9.10222222 9.10222222 0 2.16177778-0.79644445 4.20977778-2.16177778 5.91644445L559.21777778 514.27555555l147.91111111 176.35555556c1.36533333 1.70666667 2.16177778 3.75466667 2.16177778 5.91644444 0 5.00622222-4.096 9.10222222-9.10222222 9.10222223z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H548.40888889v172.94222222c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222h-54.61333334c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V548.40888889H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h172.94222222V302.64888889c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h54.61333334c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v172.94222222h172.94222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m163.95377778 517.57511112L427.46311111 700.64355555c-1.59288889 1.13777778-3.41333333 1.70666667-5.34755556 1.70666667-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V331.88977778c0-1.93422222 0.56888889-3.75466667 1.70666667-5.34755556 2.95822222-4.096 8.64711111-5.00622222 12.74311111-2.048L675.95377778 505.17333333c0.79644445 0.56888889 1.47911111 1.25155555 2.048 2.048 2.95822222 3.98222222 2.048 9.67111111-2.048 12.62933334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m200.81777778 666.39644445l-32.54044445 44.37333333c-2.95822222 4.096-8.64711111 4.89244445-12.74311111 1.93422222L479.34577778 577.76355555c-2.38933333-1.70666667-3.75466667-4.43733333-3.75466667-7.39555555V257.13777778c0-5.00622222 4.096-9.10222222 9.10222222-9.10222223h54.72711112c5.00622222 0 9.10222222 4.096 9.10222222 9.10222223v281.6l162.24711111 117.30488889c4.096 2.84444445 5.00622222 8.53333333 2.048 12.62933333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M981.10577778 314.48177778c-25.6-61.09866667-62.464-115.93955555-109.34044445-163.04355556-46.87644445-46.99022222-101.60355555-83.968-162.70222222-109.568C646.59911111 15.58755555 580.38044445 2.27555555 512 2.27555555h-2.27555555c-68.83555555 0.34133333-135.39555555 13.99466667-198.08711112 40.84622223-60.52977778 25.94133333-114.80177778 62.80533333-161.22311111 109.79555555-46.42133333 46.99022222-82.83022222 101.60355555-108.08888889 162.47466667C16.27022222 378.42488889 3.072 445.44 3.41333333 514.38933333c0.34133333 78.96177778 19.22844445 157.35466667 54.49955556 227.44177778v172.94222222c0 28.89955555 23.43822222 52.33777778 52.224 52.33777778h172.71466666c69.97333333 35.38488889 148.13866667 54.272 226.98666667 54.61333334h2.38933333c68.03911111 0 133.91644445-13.19822222 196.03911112-39.02577778 60.75733333-25.37244445 115.37066667-61.78133333 162.13333333-108.31644445 46.87644445-46.53511111 83.74044445-100.92088889 109.568-161.56444444 26.73777778-62.80533333 40.39111111-129.59288889 40.73244445-198.54222223 0.22755555-69.29066667-13.19822222-136.53333333-39.59466667-199.79377777zM284.89955555 566.61333333c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955556 54.61333333-24.34844445 54.61333333-54.49955556 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955556-54.61333333s24.46222222-54.61333333 54.49955556-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM745.4750693 325.8561164l-267.95558363 371.52436096c-16.15876501 22.52048353-49.62140436 22.52048353-65.78016939 0L253.07805667 477.51948567c-4.83490607-6.74342161 0-16.15876501 8.27023406-16.15876499h59.67291961c12.97790576 0 25.31963967 6.23448413 32.95370188 16.92217123l90.59087157 125.70755774 200.01242995-277.37092701c7.63406221-10.56045272 19.84856175-16.92217125 32.95370189-16.92217124H737.20483524c8.27023407 0 13.10514012 9.41534338 8.27023406 16.158765z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h468.2224823c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM720.79160148 697.63494611c5.59831228 6.61618726 0.8906406 16.6677025-7.76129658 16.66770249h-74.94104404c-5.98001539 0-11.70556205-2.67192177-15.64982754-7.25235911L512 575.36271635l-110.43943332 131.68757314c-3.81703111 4.58043732-9.54257777 7.25235911-15.64982754 7.25235911H310.9696951c-8.65193717 0-13.35960887-10.05151525-7.76129658-16.66770249L458.81603326 512 303.20839852 326.36505389c-5.59831228-6.61618726-0.8906406-16.6677025 7.76129658-16.66770249h74.94104404c5.98001539 0 11.70556205 2.67192177 15.64982754 7.25235911L512 448.63728365l110.43943332-131.68757314c3.81703111-4.58043732 9.54257777-7.25235911 15.64982754-7.25235911H713.0303049c8.65193717 0 13.35960887 10.05151525 7.76129658 16.66770249L565.18396674 512l155.60763474 185.63494611z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM677.02297814 523.19662459L423.31764398 722.70011704c-9.41534338 7.37959347-23.28388974 0.76340622-23.28388975-11.19662459V312.62374191c0-11.9600308 13.86854636-18.70345241 23.28388975-11.19662457l253.70533416 199.37625807c7.25235911 5.72554666 7.25235911 16.6677025 0 22.39324918z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H552.71499847v193.39624268c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962h-61.0724977c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962V552.71499847H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h193.39624268V277.88875885c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h61.0724977c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v193.39624268h193.39624268c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M902.67315697 135.41705551L528.62204754 7.94466448C524.10877635 6.40354749 518.05438818 5.63298899 512 5.63298899s-12.10877635 0.7705585-16.62204754 2.31167549L121.32684303 135.41705551c-9.13662215 3.08223399-16.62204754 13.64989334-16.62204753 23.33691443v531.02488283c0 9.68702108 6.27454775 22.45627614 13.87005291 28.51066431L498.0198673 1013.9638196c3.85279247 2.9721542 8.8063828 4.51327118 13.87005291 4.51327118s10.12734022-1.54111698 13.87005291-4.51327118l379.4450189-295.67430252c7.59550517-5.94430839 13.87005291-18.71356345 13.87005291-28.51066431V158.75396994c0.22015956-9.68702108-7.26526581-20.14460066-16.40188796-23.33691443zM712.89560763 323.43332829L478.86598471 645.63685899c-7.04510625 9.68702108-21.57563786 9.68702108-28.6207441 0l-139.14084824-191.5388259c-4.18303182-5.8342286 0-13.9801327 7.15518603-13.9801327h60.76404132c5.61406904 0 11.0079785 2.75199463 14.31037204 7.26526582l71.22162091 97.97100864 166.11039557-228.74579323c3.30239355-4.51327118 8.58622323-7.26526581 14.31037204-7.26526581H705.7404216c7.15518602 0.11007979 11.33821785 8.25598388 7.15518603 14.09021248z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M959.86498307 186.28001231H797.00498922v-101.78749614c0-44.91373267-36.51626425-81.42999692-81.42999691-81.42999693H308.42500769c-44.91373267 0-81.42999692 36.51626425-81.42999691 81.42999693v101.78749614H64.13501693c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499847v40.71499845c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874962h76.8495596l31.42688945 665.43575611c2.03574992 43.38692024 37.91584233 77.61296581 81.30276254 77.6129658h577.64404066c43.5141546 0 79.26701262-34.09881122 81.30276254-77.6129658l31.42688945-665.43575611H990.40123192c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874962v-40.71499845c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499847z m-254.46874039 0H318.60375732v-91.60874653h386.79248536v91.60874653z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 248.62485371H654.50249462V104.85001539c0-22.52048353-18.19451494-40.71499847-40.71499847-40.71499846H94.67126578v-50.89374808c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-71.25124732c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v997.5174623c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h71.25124732c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961V674.85999383h315.54123807v143.77483833c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h529.29497999c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V289.33985217c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M804.63905145 265.16532183V94.67126578h109.42155836c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961H109.93939019c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h109.42155836v170.49405605c0 103.6960117 53.94737296 194.92305513 135.3773699 246.83467817-81.42999692 51.91162303-135.37736988 143.13866646-135.3773699 246.83467817v170.49405605h-109.42155836c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h804.12121962c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-109.42155836V758.83467817c0-103.6960117-53.94737296-194.92305513-135.3773699-246.83467817 81.42999692-51.91162303 135.37736988-143.13866646 135.3773699-246.83467817z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1020.928 448.44373333l-35.36213334-373.4528c-1.79200001-19.3536-17.2032-34.64533332-36.55679999-36.55679999L575.55626667 3.072h-0.47786666c-3.82293334 0-6.8096 1.19466667-9.07946669 3.46453333L6.53653333 565.99893332c-4.65919999 4.65919999-4.65919999 12.1856 0 16.84480001l434.61973334 434.61973334c2.26986667 2.26986667 5.25653333 3.46453333 8.48213333 3.46453333s6.21226667-1.19466667 8.48213333-3.46453333l559.46239999-559.46239999c2.38933332-2.5088 3.584-5.97333334 3.34506668-9.55733335zM735.40266668 362.66666667c-42.17173333 0-76.45866667-34.28693333-76.45866667-76.45866667s34.28693333-76.45866667 76.45866667-76.45866667 76.45866667 34.28693333 76.45866665 76.45866667-34.28693333 76.45866667-76.45866665 76.45866667z',\n        special: true,\n      },\n    ],\n  },\n\n  {\n    type: 'Linear',\n    children: [\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.55537674 75.96950982l-61.38012212-61.38012214c-4.48769762-4.48769762-11.870684-4.48769762-16.3583816 0L14.44462326 931.67210859c-4.48769762 4.48769762-4.48769762 11.870684 0 16.35838159l61.38012212 61.38012214c4.48769762 4.48769762 11.870684 4.48769762 16.3583816 0L1009.41061232 92.18312698c4.63246205-4.34293316 4.63246205-11.72591956 0.14476442-16.21361716zM210.88996692 419.35075905c114.94296453 0 208.46079213-93.51782759 208.46079213-208.46079213s-93.51782759-208.46079213-208.46079213-208.4607921-208.46079213 93.51782759-208.4607921 208.4607921 93.51782759 208.46079213 208.4607921 208.46079213z m0-312.69118816c57.47148228 0 104.23039605 46.75891379 104.23039607 104.23039603s-46.75891379 104.23039605-104.23039607 104.23039607-104.23039605-46.75891379-104.23039603-104.23039607 46.75891379-104.23039605 104.23039603-104.23039603zM813.11003308 604.64924095c-114.94296453 0-208.46079213 93.51782759-208.46079213 208.46079213s93.51782759 208.46079213 208.46079213 208.4607921 208.46079213-93.51782759 208.4607921-208.4607921-93.51782759-208.46079213-208.4607921-208.46079213z m0 312.69118816c-57.47148228 0-104.23039605-46.75891379-104.23039607-104.23039603s46.75891379-104.23039605 104.23039607-104.23039607 104.23039605 46.75891379 104.23039603 104.23039607-46.75891379 104.23039605-104.23039603 104.23039603z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1004.96017383 478.58365209L483.27851088 25.80594621c-4.00443838-3.45210207-9.11354943-5.3852792-14.49882864-5.38527921h-122.20441284c-10.21822208 0-14.91308089 12.70373557-7.18037228 19.33177152l483.57045622 419.77561022H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672657v82.85044938c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672657h807.92996557L339.25681303 984.24756148c-7.7327086 6.76612003-3.0378498 19.33177153 7.18037229 19.33177152h126.34693531c2.62359757 0 5.24719513-0.96658859 7.18037228-2.76168164L1004.96017383 545.41634791c20.2983601-17.67476253 20.2983601-49.1579333 0-66.83269582z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1011.38217956 558.9924242L545.80649025 22.43713295c-17.81503843-20.62055629-49.79794206-20.62055629-67.75325638 0L12.61782044 558.9924242c-6.31241519 7.29434645-1.12220714 18.51641789 8.41655359 18.51641789h113.62347344c6.45269109 0 12.62483038-2.80551785 16.97338308-7.71517411L458.69516062 215.87758959V1005.77114384c0 6.1721393 5.04993216 11.22207145 11.22207144 11.22207145h84.16553588c6.1721393 0 11.22207145-5.04993216 11.22207144-11.22207145V215.87758959l307.06393007 353.91607839c4.20827679 4.90965626 10.38041608 7.71517413 16.97338308 7.71517411h113.62347344c9.53876074 0 14.72896878-11.22207145 8.41655359-18.51641789z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.1026963 459.52804874H201.17273073l483.57045624-419.77561022c7.7327086-6.76612003 3.0378498-19.33177153-7.18037229-19.33177152h-122.20441283c-5.3852792 0-10.49439025 1.93317715-14.49882866 5.38527921L19.03982617 478.58365209c-20.2983601 17.67476253-20.2983601 49.1579333 0 66.69461175L543.89742302 1000.81765136c2.07126124 1.79509307 4.55677472 2.76168163 7.18037228 2.76168164h126.3469353c10.21822208 0 14.91308089-12.70373557 7.18037228-19.33177152L201.17273073 564.47195126H1009.1026963c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672657v-82.85044938c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672657z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1002.96562597 446.49115791h-113.62347344c-6.45269109 0-12.62483038 2.80551785-16.97338308 7.71517411L565.30483938 808.12241041V18.22885616c0-6.1721393-5.04993216-11.22207145-11.22207144-11.22207145h-84.16553588c-6.1721393 0-11.22207145 5.04993216-11.22207144 11.22207145v789.89355425L151.63123055 454.20633202c-4.20827679-4.90965626-10.38041608-7.71517413-16.97338308-7.71517411h-113.62347344c-9.53876074 0-14.72896878 11.36234735-8.41655359 18.51641789L478.19350975 1001.56286705c17.81503843 20.62055629 49.79794206 20.62055629 67.75325638 0L1011.38217956 465.0075758c6.31241519-7.29434645 1.12220714-18.51641789-8.41655359-18.51641789z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M975.82443246 622.46726585H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672658v82.85044937c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672659h835.6848661L651.32683905 980.10503902c-5.66144737 7.18037229-0.55233633 17.9509307 8.69929718 17.9509307h100.11095967c6.76612003 0 13.11798782-3.0378498 17.39859437-8.42312903l233.08593092-295.63802022c22.78387358-28.99765728 2.20934532-71.52755463-34.79718873-71.52755462zM1009.1026963 296.58883161H173.4178302l199.25533075-252.69387063c5.66144737-7.18037229 0.55233633-17.9509307-8.69929718-17.9509307h-100.11095967c-6.76612003 0-13.11798782 3.0378498-17.39859437 8.42312903L13.37837881 330.00517953c-22.78387358 28.99765728-2.20934532 71.52755463 34.65910466 71.52755462h961.06521283c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672658v-82.85044937c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672659z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1010.75873115 64.13501693H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874964h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874964v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961zM1010.75873115 858.07748691H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874964v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874964zM1010.75873115 461.10625194H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874959v81.42999694c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874959h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874959v-81.42999694c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874959z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z',\n        special: true,\n        outlined: true,\n      },\n    ],\n  }\n]","import type { ChartType } from '@/types/slides'\n\ninterface ChartTypes {\n  [propName: string]: ChartType\n}\n\nexport const CHART_TYPES: ChartTypes = {\n  bar: 'bar',\n  horizontalBar: 'bar',\n  line: 'line',\n  area: 'line',\n  scatter: 'line',\n  pie: 'pie',\n  ring: 'pie',\n}","import { debounce, throttle} from 'lodash'\nimport { useSnapshotStore } from '@/store'\n\nexport default () => {\n  const snapshotStore = useSnapshotStore()\n\n  // ()\n  const addHistorySnapshot = debounce(function() {\n    snapshotStore.addSnapshot()\n  }, 300, { trailing: true })\n\n  // \n  const redo = throttle(function() {\n    snapshotStore.reDo()\n  }, 100, { leading: true, trailing: false })\n\n  // \n  const undo = throttle(function() {\n    snapshotStore.unDo()\n  }, 100, { leading: true, trailing: false })\n\n  return {\n    addHistorySnapshot,\n    redo,\n    undo,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { getImageSize } from '@/utils/image'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport type { PPTLineElement, PPTElement, TableCell, TableCellStyle, PPTShapeElement, PPTChartElement, ChartOptions, PresetChartType } from '@/types/slides'\nimport { type ShapePoolItem, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport type { LinePoolItem } from '@/configs/lines'\nimport { CHART_TYPES } from '@/configs/chartTypes'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface CommonElementPosition {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\ninterface LineElementPosition {\n  top: number\n  left: number\n  start: [number, number]\n  end: [number, number]\n}\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { creatingElement } = storeToRefs(mainStore)\n  const { theme, viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const createElement = (element: PPTElement, callback?: () => void) => {\n    slidesStore.addElement(element)\n    mainStore.setActiveElementIdList([element.id])\n\n    if (creatingElement.value) mainStore.setCreatingElement(null)\n\n    setTimeout(() => {\n      mainStore.setEditorareaFocus(true)\n    }, 0)\n\n    if (callback) callback()\n\n    addHistorySnapshot()\n  }\n\n  /**\n   * \n   * @param src \n   */\n  const createImageElement = (src: string) => {\n    getImageSize(src).then(({ width, height }) => {\n      const scale = height / width\n  \n      if (scale < viewportRatio.value && width > VIEWPORT_SIZE) {\n        width = VIEWPORT_SIZE\n        height = width * scale\n      }\n      else if (height > VIEWPORT_SIZE * viewportRatio.value) {\n        height = VIEWPORT_SIZE * viewportRatio.value\n        width = height / scale\n      }\n\n      createElement({\n        type: 'image',\n        id: nanoid(10),\n        src,\n        width,\n        height,\n        left: (VIEWPORT_SIZE - width) / 2,\n        top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n        fixedRatio: true,\n        rotate: 0,\n      })\n    })\n  }\n  \n  /**\n   * \n   * @param chartType \n   */\n  const createChartElement = (type: PresetChartType) => {\n    const newElement: PPTChartElement = {\n      type: 'chart',\n      id: nanoid(10),\n      chartType: CHART_TYPES[type],\n      left: 300,\n      top: 81.25,\n      width: 400,\n      height: 400,\n      rotate: 0,\n      themeColor: [theme.value.themeColor],\n      gridColor: theme.value.fontColor,\n      data: {\n        labels: ['1', '2', '3', '4', '5'],\n        legends: ['1'],\n        series: [\n          [12, 19, 5, 2, 18],\n        ],\n      },\n    }\n\n    const options: ChartOptions = {\n      ...(type === 'bar' ? { horizontalBars: false, stackBars: false } : {}),\n      ...(type === 'horizontalBar' ? { horizontalBars: true, stackBars: false } : {}),\n      ...(type === 'line' ? { showLine: true, lineSmooth: true, showArea: false } : {}),\n      ...(type === 'area' ? { showLine: true, lineSmooth: true, showArea: true } : {}),\n      ...(type === 'scatter' ? { showLine: false, lineSmooth: true, showArea: false } : {}),\n      ...(type === 'pie' ? { donut: false } : {}),\n      ...(type === 'ring' ? { donut: true } : {}),\n    }\n\n    createElement({\n      ...newElement,\n      options,\n    })\n  }\n  \n  /**\n   * \n   * @param row \n   * @param col \n   */\n  const createTableElement = (row: number, col: number) => {\n    const style: TableCellStyle = {\n      fontname: theme.value.fontName,\n      color: theme.value.fontColor,\n    }\n    const data: TableCell[][] = []\n    for (let i = 0; i < row; i++) {\n      const rowCells: TableCell[] = []\n      for (let j = 0; j < col; j++) {\n        rowCells.push({ id: nanoid(10), colspan: 1, rowspan: 1, text: '', style })\n      }\n      data.push(rowCells)\n    }\n\n    const DEFAULT_CELL_WIDTH = 100\n    const DEFAULT_CELL_HEIGHT = 36\n\n    const colWidths: number[] = new Array(col).fill(1 / col)\n\n    const width = col * DEFAULT_CELL_WIDTH\n    const height = row * DEFAULT_CELL_HEIGHT\n\n    createElement({\n      type: 'table',\n      id: nanoid(10),\n      width,\n      height,\n      colWidths,\n      rotate: 0,\n      data,\n      left: (VIEWPORT_SIZE - width) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n      outline: {\n        width: 2,\n        style: 'solid',\n        color: '#eeece1',\n      },\n      theme: {\n        color: theme.value.themeColor,\n        rowHeader: true,\n        rowFooter: false,\n        colHeader: false,\n        colFooter: false,\n      },\n      cellMinHeight: 36,\n    })\n  }\n  \n  /**\n   * \n   * @param position \n   * @param content \n   */\n  \n  interface CreateTextData {\n    content?: string\n    vertical?: boolean\n  }\n  const createTextElement = (position: CommonElementPosition, data?: CreateTextData) => {\n    const { left, top, width, height } = position\n    const content = data?.content || ''\n    const vertical = data?.vertical || false\n\n    const id = nanoid(10)\n    createElement({\n      type: 'text',\n      id,\n      left, \n      top, \n      width, \n      height,\n      content,\n      rotate: 0,\n      defaultFontName: theme.value.fontName,\n      defaultColor: theme.value.fontColor,\n      vertical,\n    }, () => {\n      setTimeout(() => {\n        const editorRef: HTMLElement | null = document.querySelector(`#editable-element-${id} .ProseMirror`)\n        if (editorRef) editorRef.focus()\n      }, 0)\n    })\n  }\n  \n  /**\n   * \n   * @param position \n   * @param data \n   */\n  const createShapeElement = (position: CommonElementPosition, data: ShapePoolItem) => {\n    const { left, top, width, height } = position\n    const newElement: PPTShapeElement = {\n      type: 'shape',\n      id: nanoid(10),\n      left, \n      top, \n      width, \n      height,\n      viewBox: data.viewBox,\n      path: data.path,\n      fill: theme.value.themeColor,\n      fixedRatio: false,\n      rotate: 0,\n    }\n    if (data.special) newElement.special = true\n    if (data.pathFormula) {\n      newElement.pathFormula = data.pathFormula\n      newElement.viewBox = [width, height]\n\n      const pathFormula = SHAPE_PATH_FORMULAS[data.pathFormula]\n      if ('editable' in pathFormula) {\n        newElement.path = pathFormula.formula(width, height, pathFormula.defaultValue)\n        newElement.keypoint = pathFormula.defaultValue\n      }\n      else newElement.path = pathFormula.formula(width, height)\n    }\n    createElement(newElement)\n  }\n  \n  /**\n   * \n   * @param position \n   * @param data \n   */\n  const createLineElement = (position: LineElementPosition, data: LinePoolItem) => {\n    const { left, top, start, end } = position\n\n    const newElement: PPTLineElement = {\n      type: 'line',\n      id: nanoid(10),\n      left, \n      top, \n      start,\n      end,\n      points: data.points,\n      color: theme.value.themeColor,\n      style: data.style,\n      width: 2,\n    }\n    if (data.isBroken) newElement.broken = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n    if (data.isCurve) newElement.curve = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n    if (data.isCubic) newElement.cubic = [[(start[0] + end[0]) / 2, (start[1] + end[1]) / 2], [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]]\n    createElement(newElement)\n  }\n  \n  /**\n   * LaTeX\n   * @param svg SVG\n   */\n  const createLatexElement = (data: { path: string; latex: string; w: number; h: number; }) => {\n    createElement({\n      type: 'latex',\n      id: nanoid(10),\n      width: data.w,\n      height: data.h,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - data.w) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - data.h) / 2,\n      path: data.path,\n      latex: data.latex,\n      color: theme.value.fontColor,\n      strokeWidth: 2,\n      viewBox: [data.w, data.h],\n      fixedRatio: true,\n    })\n  }\n  \n  /**\n   * \n   * @param src \n   */\n  const createVideoElement = (src: string) => {\n    createElement({\n      type: 'video',\n      id: nanoid(10),\n      width: 500,\n      height: 300,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - 500) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - 300) / 2,\n      src,\n      autoplay: false,\n    })\n  }\n  \n  /**\n   * \n   * @param src \n   */\n  const createAudioElement = (src: string) => {\n    createElement({\n      type: 'audio',\n      id: nanoid(10),\n      width: 50,\n      height: 50,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - 50) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - 50) / 2,\n      loop: false,\n      autoplay: false,\n      fixedRatio: true,\n      color: theme.value.themeColor,\n      src,\n    })\n  }\n\n  return {\n    createImageElement,\n    createChartElement,\n    createTableElement,\n    createTextElement,\n    createShapeElement,\n    createLineElement,\n    createLatexElement,\n    createVideoElement,\n    createAudioElement,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useSlidesStore, useMainStore } from '@/store'\nimport type { PPTElement, Slide } from '@/types/slides'\nimport { createSlideIdMap, createElementIdMap, getElementRange } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { currentSlide, slides } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * \n   * @param elements \n   */\n  const addElementsFromData = (elements: PPTElement[]) => {\n    const { groupIdMap, elIdMap } = createElementIdMap(elements)\n\n    const firstElement = elements[0]\n    let offset = 0\n    let lastSameElement: PPTElement | undefined\n    \n    do {\n      lastSameElement = currentSlide.value.elements.find(el => {\n        if (el.type !== firstElement.type) return false\n  \n        const { minX: oMinX, maxX: oMaxX, minY: oMinY, maxY: oMaxY } = getElementRange(el)\n        const { minX: nMinX, maxX: nMaxX, minY: nMinY, maxY: nMaxY } = getElementRange({\n          ...firstElement,\n          left: firstElement.left + offset,\n          top: firstElement.top + offset\n        })\n        if (\n          oMinX === nMinX &&\n          oMaxX === nMaxX &&\n          oMinY === nMinY &&\n          oMaxY === nMaxY\n        ) return true\n  \n        return false\n      })\n      if (lastSameElement) offset += 10\n\n    } while (lastSameElement)\n    \n    for (const element of elements) {\n      element.id = elIdMap[element.id]\n\n      element.left = element.left + offset\n      element.top = element.top + offset\n\n      if (element.groupId) element.groupId = groupIdMap[element.groupId]\n    }\n    slidesStore.addElement(elements)\n    mainStore.setActiveElementIdList(Object.values(elIdMap))\n    addHistorySnapshot()\n  }\n\n  /**\n   * \n   * @param slide \n   */\n  const addSlidesFromData = (slides: Slide[]) => {\n    const slideIdMap = createSlideIdMap(slides)\n    const newSlides = slides.map(slide => {\n      const { groupIdMap, elIdMap } = createElementIdMap(slide.elements)\n\n      for (const element of slide.elements) {\n        element.id = elIdMap[element.id]\n        if (element.groupId) element.groupId = groupIdMap[element.groupId]\n\t\t\n        // \n        if (element.link && element.link.type === 'slide') {\n\n          // \n          if (slideIdMap[element.link.target]) {\n            element.link.target = slideIdMap[element.link.target]\n          }\n          // \n          else delete element.link\n        }\n      }\n      // id\n      if (slide.animations) {\n        for (const animation of slide.animations) {\n          animation.id = nanoid(10)\n          animation.elId = elIdMap[animation.elId]\n        }\n      }\n      return {\n        ...slide,\n        id: slideIdMap[slide.id],\n      }\n    })\n    slidesStore.addSlide(newSlides)\n    addHistorySnapshot()\n  }\n\n  const isEmptySlide = computed(() => {\n    if (slides.value.length > 1) return false\n    if (slides.value[0].elements.length > 0) return false\n    return true\n  })\n\n  return {\n    addElementsFromData,\n    addSlidesFromData,\n    isEmptySlide,\n  }\n}","import { pasteCustomClipboardString } from '@/utils/clipboard'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useCreateElement from '@/hooks/useCreateElement'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\n\ninterface PasteTextClipboardDataOptions {\n  onlySlide?: boolean\n  onlyElements?: boolean\n}\n\nexport default () => {\n  const { createTextElement } = useCreateElement()\n  const { addElementsFromData, addSlidesFromData } = useAddSlidesOrElements()\n\n  /**\n   * \n   * @param text \n   */\n  const createTextElementFromClipboard = (text: string) => {\n    createTextElement({\n      left: 0,\n      top: 0,\n      width: 600,\n      height: 50,\n    }, { content: text })\n  }\n\n  /**\n   * \n   * @param text \n   * @param options onlySlide -- onlyElements -- \n   */\n  const pasteTextClipboardData = (text: string, options?: PasteTextClipboardDataOptions) => {\n    const onlySlide = options?.onlySlide || false\n    const onlyElements = options?.onlyElements || false\n\n    const clipboardData = pasteCustomClipboardString(text)\n\n    // \n    if (typeof clipboardData === 'object') {\n      const { type, data } = clipboardData\n\n      if (type === 'elements' && !onlySlide) addElementsFromData(data)\n      else if (type === 'slides' && !onlyElements) addSlidesFromData(data)\n    }\n\n    // \n    else if (!onlyElements && !onlySlide) {\n      const string = parseText2Paragraphs(clipboardData)\n      createTextElementFromClipboard(string)\n    }\n  }\n\n  return {\n    pasteTextClipboardData,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport { copyText, readClipboard } from '@/utils/clipboard'\nimport { encrypt } from '@/utils/crypto'\nimport { createElementIdMap } from '@/utils/element'\nimport { KEYS } from '@/configs/hotkey'\nimport message from '@/utils/message'\nimport usePasteTextClipboardData from '@/hooks/usePasteTextClipboardData'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useAddSlidesOrElements from '@/hooks//useAddSlidesOrElements'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { selectedSlidesIndex: _selectedSlidesIndex, activeElementIdList } = storeToRefs(mainStore)\n  const { currentSlide, slides, theme, slideIndex } = storeToRefs(slidesStore)\n\n  const selectedSlidesIndex = computed(() => [..._selectedSlidesIndex.value, slideIndex.value])\n  const selectedSlides = computed(() => slides.value.filter((item, index) => selectedSlidesIndex.value.includes(index)))\n  const selectedSlidesId = computed(() => selectedSlides.value.map(item => item.id))\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { addSlidesFromData } = useAddSlidesOrElements()\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const resetSlides = () => {\n    const emptySlide: Slide = {\n      id: nanoid(10),\n      elements: [],\n      background: {\n        type: 'solid',\n        color: theme.value.backgroundColor,\n      },\n    }\n    slidesStore.updateSlideIndex(0)\n    mainStore.setActiveElementIdList([])\n    slidesStore.setSlides([emptySlide])\n  }\n\n  /**\n   * \n   * @param command \n   */\n  const updateSlideIndex = (command: string) => {\n    if (command === KEYS.UP && slideIndex.value > 0) {\n      if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n      slidesStore.updateSlideIndex(slideIndex.value - 1)\n    }\n    else if (command === KEYS.DOWN && slideIndex.value < slides.value.length - 1) {\n      if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n      slidesStore.updateSlideIndex(slideIndex.value + 1)\n    }\n  }\n\n  // \n  const copySlide = () => {\n    const text = encrypt(JSON.stringify({\n      type: 'slides',\n      data: selectedSlides.value,\n    }))\n\n    copyText(text).then(() => {\n      mainStore.setThumbnailsFocus(true)\n    })\n  }\n\n  // \n  const pasteSlide = () => {\n    readClipboard().then(text => {\n      pasteTextClipboardData(text, { onlySlide: true })\n    }).catch(err => message.warning(err))\n  }\n\n  // \n  const createSlide = () => {\n    const emptySlide: Slide = {\n      id: nanoid(10),\n      elements: [],\n      background: {\n        type: 'solid',\n        color: theme.value.backgroundColor,\n      },\n    }\n    mainStore.setActiveElementIdList([])\n    slidesStore.addSlide(emptySlide)\n    addHistorySnapshot()\n  }\n\n  // \n  const createSlideByTemplate = (slide: Slide) => {\n    const { groupIdMap, elIdMap } = createElementIdMap(slide.elements)\n\n    for (const element of slide.elements) {\n      element.id = elIdMap[element.id]\n      if (element.groupId) element.groupId = groupIdMap[element.groupId]\n    }\n    const newSlide = {\n      ...slide,\n      id: nanoid(10),\n    }\n    mainStore.setActiveElementIdList([])\n    slidesStore.addSlide(newSlide)\n    addHistorySnapshot()\n  }\n\n  // \n  const copyAndPasteSlide = () => {\n    const slide = JSON.parse(JSON.stringify(currentSlide.value))\n    addSlidesFromData([slide])\n  }\n\n  // \n  const deleteSlide = (targetSlidesId = selectedSlidesId.value) => {\n    if (slides.value.length === targetSlidesId.length) resetSlides()\n    else slidesStore.deleteSlide(targetSlidesId)\n\n    mainStore.updateSelectedSlidesIndex([])\n\n    addHistorySnapshot()\n  }\n\n  // \n  // ID\n  const cutSlide = () => {\n    const targetSlidesId = [...selectedSlidesId.value]\n    copySlide()\n    deleteSlide(targetSlidesId)\n  }\n\n  // \n  const selectAllSlide = () => {\n    const newSelectedSlidesIndex = Array.from(Array(slides.value.length), (item, index) => index)\n    mainStore.setActiveElementIdList([])\n    mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n  }\n\n  // \n  const sortSlides = (newIndex: number, oldIndex: number) => {\n    if (oldIndex === newIndex) return\n  \n    const _slides = JSON.parse(JSON.stringify(slides.value))\n    const _slide = _slides[oldIndex]\n    _slides.splice(oldIndex, 1)\n    _slides.splice(newIndex, 0, _slide)\n    slidesStore.setSlides(_slides)\n    slidesStore.updateSlideIndex(newIndex)\n  }\n\n  return {\n    resetSlides,\n    updateSlideIndex,\n    copySlide,\n    pasteSlide,\n    createSlide,\n    createSlideByTemplate,\n    copyAndPasteSlide,\n    deleteSlide,\n    cutSlide,\n    selectAllSlide,\n    sortSlides,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // ,\n  const lockElement = () => {\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n  \n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id)) element.lock = true\n    }\n    slidesStore.updateSlide({ elements: newElementList })\n    mainStore.setActiveElementIdList([])\n    addHistorySnapshot()\n  }\n\n  /**\n   * ,\n   * @param handleElement \n   */\n  const unlockElement = (handleElement: PPTElement) => {\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n\n    if (handleElement.groupId) {\n      const groupElementIdList = []\n      for (const element of newElementList) {\n        if (element.groupId === handleElement.groupId) {\n          element.lock = false\n          groupElementIdList.push(element.id)\n        }\n      }\n      slidesStore.updateSlide({ elements: newElementList })\n      mainStore.setActiveElementIdList(groupElementIdList)\n    }\n    else {\n      for (const element of newElementList) {\n        if (element.id === handleElement.id) {\n          element.lock = false\n          break\n        }\n      }\n      slidesStore.updateSlide({ elements: newElementList })\n      mainStore.setActiveElementIdList([handleElement.id])\n    }\n    addHistorySnapshot()\n  }\n\n  return {\n    lockElement,\n    unlockElement,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  // \n  const deleteElement = () => {\n    if (!activeElementIdList.value.length) return\n\n    let newElementList: PPTElement[] = []\n    if (activeGroupElementId.value) {\n      newElementList = currentSlide.value.elements.filter(el => el.id !== activeGroupElementId.value)\n    }\n    else {\n      newElementList = currentSlide.value.elements.filter(el => !activeElementIdList.value.includes(el.id))\n    }\n\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  // ()\n  const deleteAllElements = () => {\n    if (!currentSlide.value.elements.length) return\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlide({ elements: [] })\n    addHistorySnapshot()\n  }\n\n  return {\n    deleteElement,\n    deleteAllElements,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeElementList, handleElementId } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * \n   */\n  const canCombine = computed(() => {\n    if (activeElementList.value.length < 2) return false\n\n    const firstGroupId = activeElementList.value[0].groupId\n    if (!firstGroupId) return true\n\n    const inSameGroup = activeElementList.value.every(el => (el.groupId && el.groupId) === firstGroupId)\n    return !inSameGroup\n  })\n\n  /**\n   * ID\n   */\n  const combineElements = () => {\n    if (!activeElementList.value.length) return\n\n    // \n    let newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n\n    // ID\n    const groupId = nanoid(10)\n\n    // ID\n    const combineElementList: PPTElement[] = []\n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id)) {\n        element.groupId = groupId\n        combineElementList.push(element)\n      }\n    }\n\n    // \n    // \n    // \n    const combineElementMaxLevel = newElementList.findIndex(_element => _element.id === combineElementList[combineElementList.length - 1].id)\n    const combineElementIdList = combineElementList.map(_element => _element.id)\n    newElementList = newElementList.filter(_element => !combineElementIdList.includes(_element.id))\n\n    const insertLevel = combineElementMaxLevel - combineElementList.length + 1\n    newElementList.splice(insertLevel, 0, ...combineElementList)\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  /**\n   * ID\n   */\n  const uncombineElements = () => {\n    if (!activeElementList.value.length) return\n    const hasElementInGroup = activeElementList.value.some(item => item.groupId)\n    if (!hasElementInGroup) return\n    \n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id) && element.groupId) delete element.groupId\n    }\n    slidesStore.updateSlide({ elements: newElementList })\n\n    // \n    // ,\n    const handleElementIdList = handleElementId.value ? [handleElementId.value] : []\n    mainStore.setActiveElementIdList(handleElementIdList)\n\n    addHistorySnapshot()\n  }\n\n  return {\n    canCombine,\n    combineElements,\n    uncombineElements,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { copyText, readClipboard } from '@/utils/clipboard'\nimport { encrypt } from '@/utils/crypto'\nimport message from '@/utils/message'\nimport usePasteTextClipboardData from '@/hooks/usePasteTextClipboardData'\nimport useDeleteElement from './useDeleteElement'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { activeElementIdList, activeElementList } = storeToRefs(mainStore)\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { deleteElement } = useDeleteElement()\n\n  // \n  const copyElement = () => {\n    if (!activeElementIdList.value.length) return\n\n    const text = encrypt(JSON.stringify({\n      type: 'elements',\n      data: activeElementList.value,\n    }))\n\n    copyText(text).then(() => {\n      mainStore.setEditorareaFocus(true)\n    })\n  }\n\n  // \n  const cutElement = () => {\n    copyElement()\n    deleteElement()\n  }\n\n  // \n  const pasteElement = () => {\n    readClipboard().then(text => {\n      pasteTextClipboardData(text)\n    }).catch(err => message.warning(err))\n  }\n\n  // \n  const quickCopyElement = () => {\n    copyElement()\n    pasteElement()\n  }\n\n  return {\n    copyElement,\n    cutElement,\n    pasteElement,\n    quickCopyElement,\n  }\n}","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\n\r\nexport default () => {\r\n  const mainStore = useMainStore()\r\n  const { currentSlide } = storeToRefs(useSlidesStore())\r\n  const { hiddenElementIdList } = storeToRefs(mainStore)\r\n\r\n  // \r\n  const selectAllElement = () => {\r\n    const unlockedElements = currentSlide.value.elements.filter(el => !el.lock && !hiddenElementIdList.value.includes(el.id))\r\n    const newActiveElementIdList = unlockedElements.map(el => el.id)\r\n    mainStore.setActiveElementIdList(newActiveElementIdList)\r\n  }\r\n\r\n  return {\r\n    selectAllElement,\r\n  }\r\n}","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport type { PPTElement } from '@/types/slides'\r\nimport { KEYS } from '@/configs/hotkey'\r\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  /**\r\n   * \r\n   * \r\n   * @param command \r\n   * @param step \r\n   */\r\n  const moveElement = (command: string, step = 1) => {\r\n    let newElementList: PPTElement[] = []\r\n\r\n    const move = (el: PPTElement) => {\r\n      let { left, top } = el\r\n      switch (command) {\r\n        case KEYS.LEFT: \r\n          left = left - step\r\n          break\r\n        case KEYS.RIGHT: \r\n          left = left + step\r\n          break\r\n        case KEYS.UP: \r\n          top = top - step\r\n          break\r\n        case KEYS.DOWN: \r\n          top = top + step\r\n          break\r\n        default: break\r\n      }\r\n      return { ...el, left, top }\r\n    }\r\n\r\n    if (activeGroupElementId.value) {\r\n      newElementList = currentSlide.value.elements.map(el => {\r\n        return activeGroupElementId.value === el.id ? move(el) : el\r\n      })\r\n    }\r\n    else {\r\n      newElementList = currentSlide.value.elements.map(el => {\r\n        return activeElementIdList.value.includes(el.id) ? move(el) : el\r\n      })\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    moveElement,\r\n  }\r\n}","import { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { ElementOrderCommands } from '@/types/edit'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * \n   * @param elementList \n   * @param combineElementList \n   */\n  const getCombineElementLevelRange = (elementList: PPTElement[], combineElementList: PPTElement[]) => {\n    return {\n      minLevel: elementList.findIndex(_element => _element.id === combineElementList[0].id),\n      maxLevel: elementList.findIndex(_element => _element.id === combineElementList[combineElementList.length - 1].id),\n    }\n  }\n\n  /**\n   * \n   * @param elementList \n   * @param element \n   */\n  const moveUpElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    // \n    if (element.groupId) {\n\n      // \n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel, maxLevel } = getCombineElementLevelRange(elementList, combineElementList)\n\n      // \n      if (maxLevel === elementList.length - 1) return\n\n      // \n      // \n      // \n      const nextElement = copyOfElementList[maxLevel + 1]\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n\n      if (nextElement.groupId) {\n        const nextCombineElementList = copyOfElementList.filter(_element => _element.groupId === nextElement.groupId)\n        copyOfElementList.splice(minLevel + nextCombineElementList.length, 0, ...movedElementList)\n      }\n      else copyOfElementList.splice(minLevel + 1, 0, ...movedElementList)\n    }\n\n    // \n    else {\n\n      // \n      const level = elementList.findIndex(item => item.id === element.id)\n\n      // \n      if (level === elementList.length - 1) return\n\n      // \n      const nextElement = copyOfElementList[level + 1]\n      const movedElement = copyOfElementList.splice(level, 1)[0]\n\n      // \n      // \n      // \n      if (nextElement.groupId) {\n        const combineElementList = copyOfElementList.filter(_element => _element.groupId === nextElement.groupId)\n        copyOfElementList.splice(level + combineElementList.length, 0, movedElement)\n      }\n      else copyOfElementList.splice(level + 1, 0, movedElement)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * \n   * @param elementList \n   * @param element \n   */\n  const moveDownElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    if (element.groupId) {\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel } = getCombineElementLevelRange(elementList, combineElementList)\n      if (minLevel === 0) return\n\n      const prevElement = copyOfElementList[minLevel - 1]\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n\n      if (prevElement.groupId) {\n        const prevCombineElementList = copyOfElementList.filter(_element => _element.groupId === prevElement.groupId)\n        copyOfElementList.splice(minLevel - prevCombineElementList.length, 0, ...movedElementList)\n      }\n      else copyOfElementList.splice(minLevel - 1, 0, ...movedElementList)\n    }\n\n    else {\n      const level = elementList.findIndex(item => item.id === element.id)\n      if (level === 0) return\n\n      const prevElement = copyOfElementList[level - 1]\n      const movedElement = copyOfElementList.splice(level, 1)[0]\n\n      if (prevElement.groupId) {\n        const combineElementList = copyOfElementList.filter(_element => _element.groupId === prevElement.groupId)\n        copyOfElementList.splice(level - combineElementList.length, 0, movedElement)\n      }\n      else copyOfElementList.splice(level - 1, 0, movedElement)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * \n   * @param elementList \n   * @param element \n   */\n  const moveTopElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    // \n    if (element.groupId) {\n\n      // \n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel, maxLevel } = getCombineElementLevelRange(elementList, combineElementList)\n\n      // \n      if (maxLevel === elementList.length - 1) return null\n\n      // \n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n      copyOfElementList.push(...movedElementList)\n    }\n\n    // \n    else {\n\n      // \n      const level = elementList.findIndex(item => item.id === element.id)\n\n      // \n      if (level === elementList.length - 1) return null\n\n      // \n      copyOfElementList.splice(level, 1)\n      copyOfElementList.push(element)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * \n   * @param elementList \n   * @param element \n   */\n  const moveBottomElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    if (element.groupId) {\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel } = getCombineElementLevelRange(elementList, combineElementList)\n      if (minLevel === 0) return\n\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n      copyOfElementList.unshift(...movedElementList)\n    }\n\n    else {\n      const level = elementList.findIndex(item => item.id === element.id)\n      if (level === 0) return\n\n      copyOfElementList.splice(level, 1)\n      copyOfElementList.unshift(element)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * \n   * @param element \n   * @param command \n   */\n  const orderElement = (element: PPTElement, command: ElementOrderCommands) => {\n    let newElementList\n    \n    if (command === ElementOrderCommands.UP) newElementList = moveUpElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.DOWN) newElementList = moveDownElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.TOP) newElementList = moveTopElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.BOTTOM) newElementList = moveBottomElement(currentSlide.value.elements, element)\n\n    if (!newElementList) return\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  return {\n    orderElement,\n  }\n}","// \nexport const enterFullscreen = () => {\n  const docElm = document.documentElement\n  if (docElm.requestFullscreen) docElm.requestFullscreen() \n  else if (docElm.mozRequestFullScreen) docElm.mozRequestFullScreen() \n  else if (docElm.webkitRequestFullScreen) docElm.webkitRequestFullScreen()\n  else if (docElm.msRequestFullscreen) docElm.msRequestFullscreen()\n}\n\n// \nexport const exitFullscreen = () => {\n  if (document.exitFullscreen) document.exitFullscreen()\n  else if (document.mozCancelFullScreen) document.mozCancelFullScreen()\n  else if (document.webkitExitFullscreen) document.webkitExitFullscreen()\n  else if (document.msExitFullscreen) document.msExitFullscreen()\n}\n\n// \nexport const isFullscreen = () => {\n  const fullscreenElement = \n    document.fullscreenElement ||\n    document.mozFullScreenElement ||\n    document.webkitFullscreenElement ||\n    document.msFullscreenElement ||\n    document.webkitCurrentFullScreenElement\n  return !!fullscreenElement\n}","import { useScreenStore, useSlidesStore } from '@/store'\nimport { enterFullscreen, exitFullscreen, isFullscreen } from '@/utils/fullscreen'\n\nexport default () => {\n  const screenStore = useScreenStore()\n  const slidesStore = useSlidesStore()\n\n  // \n  const enterScreening = () => {\n    enterFullscreen()\n    screenStore.setScreening(true)\n  }\n\n  // \n  const enterScreeningFromStart = () => {\n    slidesStore.updateSlideIndex(0)\n    enterScreening()\n  }\n\n  // \n  const exitScreening = () => {\n    screenStore.setScreening(false)\n    if (isFullscreen()) exitFullscreen()\n  }\n\n  return {\n    enterScreening,\n    enterScreeningFromStart,\n    exitScreening,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { canvasPercentage, canvasScale, canvasDragged } = storeToRefs(mainStore)\n\n  const canvasScalePercentage = computed(() => Math.round(canvasScale.value * 100) + '%')\n\n  /**\n   * \n   * @param command \n   */\n  const scaleCanvas = (command: '+' | '-') => {\n    let percentage = canvasPercentage.value\n    const step = 5\n    const max = 200\n    const min = 30\n    if (command === '+' && percentage <= max) percentage += step\n    if (command === '-' && percentage >= min) percentage -= step\n\n    mainStore.setCanvasPercentage(percentage)\n  }\n\n  /**\n   * \n   * \n   * @param value \n   */\n  const setCanvasScalePercentage = (value: number) => {\n    const percentage = Math.round(value / canvasScale.value * canvasPercentage.value) / 100\n    mainStore.setCanvasPercentage(percentage)\n  }\n\n  /**\n   * \n   */\n  const resetCanvas = () => {\n    mainStore.setCanvasPercentage(90)\n    if (canvasDragged) mainStore.setCanvasDragged(false)\n  }\n\n  return {\n    canvasScalePercentage,\n    setCanvasScalePercentage,\n    scaleCanvas,\n    resetCanvas,\n  }\n}","import { onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { ElementOrderCommands } from '@/types/edit'\nimport { KEYS } from '@/configs/hotkey'\n\nimport useSlideHandler from './useSlideHandler'\nimport useLockElement from './useLockElement'\nimport useDeleteElement from './useDeleteElement'\nimport useCombineElement from './useCombineElement'\nimport useCopyAndPasteElement from './useCopyAndPasteElement'\nimport useSelectAllElement from './useSelectAllElement'\nimport useMoveElement from './useMoveElement'\nimport useOrderElement from './useOrderElement'\nimport useHistorySnapshot from './useHistorySnapshot'\nimport useScreening from './useScreening'\nimport useScaleCanvas from './useScaleCanvas'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const keyboardStore = useKeyboardStore()\n  const {\n    activeElementIdList,\n    disableHotkeys,\n    handleElement,\n    handleElementId,\n    editorAreaFocus,\n    thumbnailsFocus,\n    showSearchPanel,\n  } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(useSlidesStore())\n  const { ctrlKeyState, shiftKeyState, spaceKeyState } = storeToRefs(keyboardStore)\n\n  const {\n    updateSlideIndex,\n    copySlide,\n    createSlide,\n    deleteSlide,\n    cutSlide,\n    copyAndPasteSlide,\n    selectAllSlide,\n  } = useSlideHandler()\n\n  const { combineElements, uncombineElements } = useCombineElement()\n  const { deleteElement } = useDeleteElement()\n  const { lockElement } = useLockElement()\n  const { copyElement, cutElement, quickCopyElement } = useCopyAndPasteElement()\n  const { selectAllElement } = useSelectAllElement()\n  const { moveElement } = useMoveElement()\n  const { orderElement } = useOrderElement()\n  const { redo, undo } = useHistorySnapshot()\n  const { enterScreening, enterScreeningFromStart } = useScreening()\n  const { scaleCanvas, resetCanvas } = useScaleCanvas()\n\n  const copy = () => {\n    if (activeElementIdList.value.length) copyElement()\n    else if (thumbnailsFocus.value) copySlide()\n  }\n\n  const cut = () => {\n    if (activeElementIdList.value.length) cutElement()\n    else if (thumbnailsFocus.value) cutSlide()\n  }\n\n  const quickCopy = () => {\n    if (activeElementIdList.value.length) quickCopyElement()\n    else if (thumbnailsFocus.value) copyAndPasteSlide()\n  }\n\n  const selectAll = () => {\n    if (editorAreaFocus.value) selectAllElement()\n    if (thumbnailsFocus.value) selectAllSlide()\n  }\n\n  const lock = () => {\n    if (!editorAreaFocus.value) return\n    lockElement()\n  }\n  const combine = () => {\n    if (!editorAreaFocus.value) return\n    combineElements()\n  }\n\n  const uncombine = () => {\n    if (!editorAreaFocus.value) return\n    uncombineElements()\n  }\n\n  const remove = () => {\n    if (activeElementIdList.value.length) deleteElement()\n    else if (thumbnailsFocus.value) deleteSlide()\n  }\n\n  const move = (key: string) => {\n    if (activeElementIdList.value.length) moveElement(key)\n    else if (key === KEYS.UP || key === KEYS.DOWN) updateSlideIndex(key)\n  }\n\n  const moveSlide = (key: string) => {\n    if (key === KEYS.PAGEUP) updateSlideIndex(KEYS.UP)\n    else if (key === KEYS.PAGEDOWN) updateSlideIndex(KEYS.DOWN)\n  }\n\n  const order = (command: ElementOrderCommands) => {\n    if (!handleElement.value) return\n    orderElement(handleElement.value, command)\n  }\n\n  const create = () => {\n    if (!thumbnailsFocus.value) return\n    createSlide()\n  }\n\n  const tabActiveElement = () => {\n    if (!currentSlide.value.elements.length) return\n    if (!handleElementId.value) {\n      const firstElement = currentSlide.value.elements[0]\n      mainStore.setActiveElementIdList([firstElement.id])\n      return\n    }\n    const currentIndex = currentSlide.value.elements.findIndex(el => el.id === handleElementId.value)\n    const nextIndex = currentIndex >= currentSlide.value.elements.length - 1 ? 0 : currentIndex + 1\n    const nextElementId = currentSlide.value.elements[nextIndex].id\n\n    mainStore.setActiveElementIdList([nextElementId])\n  }\n\n  const keydownListener = (e: KeyboardEvent) => {\n    const { ctrlKey, shiftKey, altKey, metaKey } = e\n    const ctrlOrMetaKeyActive = ctrlKey || metaKey\n    \n    const key = e.key.toUpperCase()\n\n    if (ctrlOrMetaKeyActive && !ctrlKeyState.value) keyboardStore.setCtrlKeyState(true)\n    if (shiftKey && !shiftKeyState.value) keyboardStore.setShiftKeyState(true)\n    if (!disableHotkeys.value && key === KEYS.SPACE) keyboardStore.setSpaceKeyState(true)\n\n    \n    if (ctrlOrMetaKeyActive && key === KEYS.P) {\n      e.preventDefault()\n      mainStore.setDialogForExport('pdf')\n      return\n    }\n    if (shiftKey && key === KEYS.F5) {\n      e.preventDefault()\n      enterScreening()\n      keyboardStore.setShiftKeyState(false)\n      return\n    }\n    if (key === KEYS.F5) {\n      e.preventDefault()\n      enterScreeningFromStart()\n      return\n    }\n    if (ctrlKey && key === KEYS.F) {\n      e.preventDefault()\n      mainStore.setSearchPanelState(!showSearchPanel.value)\n      return\n    }\n    \n    if (!editorAreaFocus.value && !thumbnailsFocus.value) return      \n\n    if (ctrlOrMetaKeyActive && key === KEYS.C) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      copy()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.X) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      cut()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.D) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      quickCopy()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.Z) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      undo()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.Y) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      redo()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.A) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      selectAll()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.L) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      lock()\n    }\n    if (!shiftKey && ctrlOrMetaKeyActive && key === KEYS.G) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      combine()\n    }\n    if (shiftKey && ctrlOrMetaKeyActive && key === KEYS.G) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      uncombine()\n    }\n    if (altKey && key === KEYS.F) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      order(ElementOrderCommands.TOP)\n    }\n    if (altKey && key === KEYS.B) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      order(ElementOrderCommands.BOTTOM)\n    }\n    if (key === KEYS.DELETE || key === KEYS.BACKSPACE) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      remove()\n    }\n    if (key === KEYS.UP) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.UP)\n    }\n    if (key === KEYS.DOWN) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.DOWN)\n    }\n    if (key === KEYS.LEFT) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.LEFT)\n    }\n    if (key === KEYS.RIGHT) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.RIGHT)\n    }\n    if (key === KEYS.PAGEUP) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      moveSlide(KEYS.PAGEUP)\n    }\n    if (key === KEYS.PAGEDOWN) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      moveSlide(KEYS.PAGEDOWN)\n    }\n    if (key === KEYS.ENTER) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      create()\n    }\n    if (key === KEYS.MINUS) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      scaleCanvas('-')\n    }\n    if (key === KEYS.EQUAL) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      scaleCanvas('+')\n    }\n    if (key === KEYS.DIGIT_0) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      resetCanvas()\n    }\n    if (key === KEYS.TAB) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      tabActiveElement()\n    }\n  }\n  \n  const keyupListener = () => {\n    if (ctrlKeyState.value) keyboardStore.setCtrlKeyState(false)\n    if (shiftKeyState.value) keyboardStore.setShiftKeyState(false)\n    if (spaceKeyState.value) keyboardStore.setSpaceKeyState(false)\n  }\n\n  onMounted(() => {\n    document.addEventListener('keydown', keydownListener)\n    document.addEventListener('keyup', keyupListener)\n    window.addEventListener('blur', keyupListener)\n  })\n  onUnmounted(() => {\n    document.removeEventListener('keydown', keydownListener)\n    document.removeEventListener('keyup', keyupListener)\n    window.removeEventListener('blur', keyupListener)\n  })\n}","import { onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport usePasteTextClipboardData from './usePasteTextClipboardData'\nimport useCreateElement from './useCreateElement'\n\nexport default () => {\n  const { editorAreaFocus, thumbnailsFocus, disableHotkeys } = storeToRefs(useMainStore())\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { createImageElement } = useCreateElement()\n\n  // \n  const pasteImageFile = (imageFile: File) => {\n    getImageDataURL(imageFile).then(dataURL => createImageElement(dataURL))\n  }\n\n  /**\n   * \n   * @param e ClipboardEvent\n   */\n  const pasteListener = (e: ClipboardEvent) => {\n    if (!editorAreaFocus.value && !thumbnailsFocus.value) return\n    if (disableHotkeys.value) return\n\n    if (!e.clipboardData) return\n\n    const clipboardDataItems = e.clipboardData.items\n    const clipboardDataFirstItem = clipboardDataItems[0]\n\n    if (!clipboardDataFirstItem) return\n\n    // \n    for (const item of clipboardDataItems) {\n      if (item.kind === 'file' && item.type.indexOf('image') !== -1) {\n        const imageFile = item.getAsFile()\n        if (imageFile) pasteImageFile(imageFile)\n        return\n      }\n    }\n    \n    // \n    if (clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n      clipboardDataFirstItem.getAsString(text => pasteTextClipboardData(text))\n    }\n  }\n\n  onMounted(() => {\n    document.addEventListener('paste', pasteListener)\n  })\n  onUnmounted(() => {\n    document.removeEventListener('paste', pasteListener)\n  })\n}","import { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { parse, type Shape, type Element } from 'pptxtojson'\nimport { nanoid } from 'nanoid'\nimport type { Slide, TableCellStyle, TableCell, ChartType, ChartOptions, SlideBackground, PPTShapeElement, PPTLineElement } from '@/types/slides'\nimport { useSlidesStore } from '@/store'\nimport { decrypt } from '@/utils/crypto'\nimport { type ShapePoolItem, SHAPE_LIST, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\nimport message from '@/utils/message'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { theme } = storeToRefs(useSlidesStore())\n\n  const { addSlidesFromData, isEmptySlide } = useAddSlidesOrElements()\n\n  const exporting = ref(false)\n\n  // ppt\n  const importSpecificFile = (files: FileList, cover = false) => {\n    const file = files[0]\n\n    const reader = new FileReader()\n    reader.addEventListener('load', () => {\n      try {\n        const slides = JSON.parse(decrypt(reader.result as string))\n        if (cover) slidesStore.setSlides(slides)\n        else if (isEmptySlide.value) slidesStore.setSlides(slides)\n        else addSlidesFromData(slides)\n      }\n      catch {\n        message.error('The file could not be read/parsed correctly')\n      }\n    })\n    reader.readAsText(file)\n  }\n\n  const parseLineElement = (el: Shape): PPTLineElement => {\n    let start: [number, number] = [0, 0]\n    let end: [number, number] = [0, 0]\n\n    if (!el.isFlipV && !el.isFlipH) { // \n      start = [0, 0]\n      end = [el.width, el.height]\n    }\n    else if (el.isFlipV && el.isFlipH) { // \n      start = [el.width, el.height]\n      end = [0, 0]\n    }\n    else if (el.isFlipV && !el.isFlipH) { // \n      start = [0, el.height]\n      end = [el.width, 0]\n    }\n    else { // \n      start = [el.width, 0]\n      end = [0, el.height]\n    }\n    return {\n      type: 'line',\n      id: nanoid(10),\n      width: el.borderWidth || 1,\n      left: el.left,\n      top: el.top,\n      start,\n      end,\n      style: el.borderType,\n      color: el.borderColor,\n      points: ['', el.shapType === 'straightConnector1' ? 'arrow' : '']\n    }\n  }\n\n  const importPaper = (response:string) => {\n\n    try {\n      // console.log('slides10', response)\n      const slides = JSON.parse(decrypt(response as string))\n      slidesStore.setSlides(slides)\n      addSlidesFromData(slides)\n      // console.log('slides', slides)\n    }\n    catch {\n      message.error('The file could not be read/parsed correctly')\n    }\n}\n\n  // PPTX\n  const importPPTXFile = (file: File) => {\n\n    exporting.value = true\n\n    const shapeList: ShapePoolItem[] = []\n    for (const item of SHAPE_LIST) {\n      shapeList.push(...item.children)\n    }\n    \n    const reader = new FileReader()\n    reader.onload = async e => {\n      const json = await parse(e.target!.result as ArrayBuffer)\n\n      const width = json.size.width\n      const scale = VIEWPORT_SIZE / width\n\n      const slides: Slide[] = []\n      for (const item of json.slides) {\n        const { type, value } = item.fill\n        let background: SlideBackground\n        if (type === 'image') {\n          background = {\n            type: 'image',\n            image: value.picBase64,\n            imageSize: 'cover',\n          }\n        }\n        else if (type === 'gradient') {\n          background = {\n            type: 'gradient',\n            gradientType: 'linear',\n            gradientColor: [value.colors[0], value.colors[1]],\n            gradientRotate: value.rot,\n          }\n        }\n        else {\n          background = {\n            type: 'solid',\n            color: value,\n          }\n        }\n\n        const slide: Slide = {\n          id: nanoid(10),\n          elements: [],\n          background,\n        }\n\n        const parseElements = (elements: Element[]) => {\n          for (const el of elements) {\n            el.width = el.width * scale\n            el.height = el.height * scale\n            el.left = el.left * scale\n            el.top = el.top * scale\n  \n            if (el.type === 'text') {\n              slide.elements.push({\n                type: 'text',\n                id: nanoid(10),\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                rotate: el.rotate,\n                defaultFontName: theme.value.fontName,\n                defaultColor: theme.value.fontColor,\n                content: el.content,\n                lineHeight: 1,\n                outline: {\n                  color: el.borderColor,\n                  width: el.borderWidth,\n                  style: el.borderType,\n                },\n                fill: el.fillColor,\n              })\n            }\n            else if (el.type === 'image') {\n              slide.elements.push({\n                type: 'image',\n                id: nanoid(10),\n                src: el.src,\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                fixedRatio: true,\n                rotate: el.rotate,\n              })\n            }\n            else if (el.type === 'shape') {\n              if (el.shapType === 'line' || el.shapType === 'straightConnector1') {\n                const lineElement = parseLineElement(el)\n                slide.elements.push(lineElement)\n              }\n              else {\n                const shape = shapeList.find(item => item.pptxShapeType === el.shapType)\n                \n                const element: PPTShapeElement = {\n                  type: 'shape',\n                  id: nanoid(10),\n                  width: el.width,\n                  height: el.height,\n                  left: el.left,\n                  top: el.top,\n                  viewBox: [200, 200],\n                  path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n                  fill: el.fillColor || 'none',\n                  fixedRatio: false,\n                  rotate: el.rotate,\n                  outline: {\n                    color: el.borderColor,\n                    width: el.borderWidth,\n                    style: el.borderType,\n                  },\n                  text: {\n                    content: el.content,\n                    defaultFontName: theme.value.fontName,\n                    defaultColor: theme.value.fontColor,\n                    align: 'middle',\n                  }\n                }\n    \n                if (shape) {\n                  element.path = shape.path\n                  element.viewBox = shape.viewBox\n    \n                  if (shape.pathFormula) {\n                    element.pathFormula = shape.pathFormula\n                    element.viewBox = [el.width, el.height]\n    \n                    const pathFormula = SHAPE_PATH_FORMULAS[shape.pathFormula]\n                    if ('editable' in pathFormula) {\n                      element.path = pathFormula.formula(el.width, el.height, pathFormula.defaultValue)\n                      element.keypoint = pathFormula.defaultValue\n                    }\n                    else element.path = pathFormula.formula(el.width, el.height)\n                  }\n                }\n    \n                slide.elements.push(element)\n              }\n            }\n            else if (el.type === 'table') {\n              const row = el.data.length\n              const col = el.data[0].length\n  \n              const style: TableCellStyle = {\n                fontname: theme.value.fontName,\n                color: theme.value.fontColor,\n              }\n              const data: TableCell[][] = []\n              for (let i = 0; i < row; i++) {\n                const rowCells: TableCell[] = []\n                for (let j = 0; j < col; j++) {\n                  const cellData = el.data[i][j]\n                  rowCells.push({\n                    id: nanoid(10),\n                    colspan: 1,\n                    rowspan: cellData.rowSpan || 1,\n                    text: cellData.text,\n                    style,\n                  })\n                }\n                data.push(rowCells)\n              }\n  \n              const colWidths: number[] = new Array(col).fill(1 / col)\n  \n              slide.elements.push({\n                type: 'table',\n                id: nanoid(10),\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                colWidths,\n                rotate: 0,\n                data,\n                outline: {\n                  width: 2,\n                  style: 'solid',\n                  color: '#eeece1',\n                },\n                theme: {\n                  color: theme.value.themeColor,\n                  rowHeader: true,\n                  rowFooter: false,\n                  colHeader: false,\n                  colFooter: false,\n                },\n                cellMinHeight: 36,\n              })\n            }\n            else if (el.type === 'chart') {\n              let labels: string[]\n              let legends: string[]\n              let series: number[][]\n  \n              if (el.chartType === 'scatterChart') {\n                labels = el.data[0].map(item => item + '')\n                legends = ['1']\n                series = [el.data[1]]\n              }\n              else {\n                labels = Object.values(el.data[0].xlabels)\n                legends = el.data.map(item => item.key)\n                series = el.data.map(item => item.values.map(v => v.y))\n              }\n  \n              let options: ChartOptions = {}\n  \n              let chartType: ChartType = 'bar'\n              if (el.chartType === 'barChart') {\n                chartType = 'bar'\n              }\n              if (el.chartType === 'stackedBarChart') {\n                chartType = 'bar'\n                options = { stackBars: true }\n              }\n              else if (el.chartType === 'lineChart') {\n                chartType = 'line'\n              }\n              else if (el.chartType === 'areaChart') {\n                chartType = 'line'\n                options = { showArea: true }\n              }\n              else if (el.chartType === 'scatterChart') {\n                chartType = 'line'\n                options = { showLine: false }\n              }\n              else if (el.chartType === 'pieChart' || el.chartType === 'pie3DChart') {\n                chartType = 'pie'\n              }\n  \n              slide.elements.push({\n                type: 'chart',\n                id: nanoid(10),\n                chartType: chartType,\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                rotate: 0,\n                themeColor: [theme.value.themeColor],\n                gridColor: theme.value.fontColor,\n                data: {\n                  labels,\n                  legends,\n                  series,\n                },\n                options,\n              })\n            }\n            else if (el.type === 'group') {\n              const elements = el.elements.map(_el => ({\n                ..._el,\n                left: _el.left + el.left,\n                top: _el.top + el.top,\n              }))\n              parseElements(elements)\n            }\n          }\n        }\n        parseElements(item.elements)\n        slides.push(slide)\n      }\n      slidesStore.setSlides(slides)\n      exporting.value = false\n    }\n    reader.readAsArrayBuffer(file)\n  }\n\n  return {\n    importSpecificFile,\n    importPPTXFile,\n    exporting,\n    importPaper,\n  }\n}","export const childlessTags = ['style', 'script', 'template']\n\nexport const closingTags = ['html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option', 'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup']\n\ninterface ClosingTagAncestorBreakers {\n  [key: string]: string[]\n}\n\nexport const closingTagAncestorBreakers: ClosingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table'],\n}\n\nexport const voidTags = ['!doctype', 'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr']","import { startsWith, endsWith } from 'lodash'\nimport type { Token } from './types'\nimport { childlessTags } from './tags'\n\ninterface State {\n  str: string\n  position: number\n  tokens: Token[]\n}\n\nconst jumpPosition = (state: State, end: number) => {\n  const len = end - state.position\n  movePositopn(state, len)\n}\n\nconst movePositopn = (state: State, len: number) => {\n  state.position = state.position + len\n}\n\nconst findTextEnd = (str: string, index: number) => {\n  const isEnd = false\n  while (!isEnd) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || /[A-Za-z0-9]/.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n  return -1\n}\n\nconst lexText = (state: State) => {\n  const { str } = state\n  let textEnd = findTextEnd(str, state.position)\n  if (textEnd === state.position) return\n  if (textEnd === -1) {\n    textEnd = str.length\n  }\n\n  const content = str.slice(state.position, textEnd)\n  jumpPosition(state, textEnd)\n\n  state.tokens.push({\n    type: 'text', \n    content, \n  })\n}\n\nconst lexComment = (state: State) => {\n  const { str } = state\n\n  movePositopn(state, 4)\n  let contentEnd = str.indexOf('-->', state.position)\n  let commentEnd = contentEnd + 3\n  if (contentEnd === -1) {\n    contentEnd = commentEnd = str.length\n  }\n\n  const content = str.slice(state.position, contentEnd)\n  jumpPosition(state, commentEnd)\n\n  state.tokens.push({\n    type: 'comment',\n    content,\n  })\n}\n\nconst lexTagName = (state: State) => {\n  const { str } = state\n  const len = str.length\n  let start = state.position\n\n  while (start < len) {\n    const char = str.charAt(start)\n    const isTagChar = !(/\\s/.test(char) || char === '/' || char === '>')\n    if (isTagChar) break\n    start++\n  }\n\n  let end = start + 1\n  while (end < len) {\n    const char = str.charAt(end)\n    const isTagChar = !(/\\s/.test(char) || char === '/' || char === '>')\n    if (!isTagChar) break\n    end++\n  }\n\n  jumpPosition(state, end)\n  const tagName = str.slice(start, end)\n  state.tokens.push({\n    type: 'tag',\n    content: tagName\n  })\n  return tagName\n}\n\nconst lexTagAttributes = (state: State) => {\n  const { str, tokens } = state\n  let cursor = state.position\n  let quote = null\n  let wordBegin = cursor\n  const words = []\n  const len = str.length\n  while (cursor < len) {\n    const char = str.charAt(cursor)\n    if (quote) {\n      const isQuoteEnd = char === quote\n      if (isQuoteEnd) quote = null\n      cursor++\n      continue\n    }\n\n    const isTagEnd = char === '/' || char === '>'\n    if (isTagEnd) {\n      if (cursor !== wordBegin) words.push(str.slice(wordBegin, cursor))\n      break\n    }\n\n    const isWordEnd = /\\s/.test(char)\n    if (isWordEnd) {\n      if (cursor !== wordBegin) words.push(str.slice(wordBegin, cursor))\n      wordBegin = cursor + 1\n      cursor++\n      continue\n    }\n\n    const isQuoteStart = char === '\\'' || char === '\"'\n    if (isQuoteStart) {\n      quote = char\n      cursor++\n      continue\n    }\n\n    cursor++\n  }\n  jumpPosition(state, cursor)\n\n  const type = 'attribute'\n  for (let i = 0; i < words.length; i++) {\n    const word = words[i]\n\n    const isNotPair = word.indexOf('=') === -1\n    if (isNotPair) {\n      const secondWord = words[i + 1]\n      if (secondWord && startsWith(secondWord, '=')) {\n        if (secondWord.length > 1) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n        const thirdWord = words[i + 2]\n        i += 1\n        if (thirdWord) {\n          const newWord = word + '=' + thirdWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n      }\n    }\n    if (endsWith(word, '=')) {\n      const secondWord = words[i + 1]\n      if (secondWord && secondWord.indexOf('=') === -1) {\n        const newWord = word + secondWord\n        tokens.push({ type, content: newWord })\n        i += 1\n        continue\n      }\n\n      const newWord = word.slice(0, -1)\n      tokens.push({ type, content: newWord })\n      continue\n    }\n\n    tokens.push({ type, content: word })\n  }\n}\n\nconst lexSkipTag = (tagName: string, state: State) => {\n  const { str, tokens } = state\n  const safeTagName = tagName.toLowerCase()\n  const len = str.length\n  let index = state.position\n  \n  while (index < len) {\n    const nextTag = str.indexOf('</', index)\n    if (nextTag === -1) {\n      lexText(state)\n      break\n    }\n\n    const tagState = {\n      str,\n      position: state.position,\n      tokens: [],\n    }\n    jumpPosition(tagState, nextTag)\n    const name = lexTag(tagState)\n    if (safeTagName !== name.toLowerCase()) {\n      index = tagState.position\n      continue\n    }\n\n    if (nextTag !== state.position) {\n      const textStart = state.position\n      jumpPosition(state, nextTag)\n      tokens.push({\n        type: 'text',\n        content: str.slice(textStart, nextTag),\n      })\n    }\n\n    tokens.push(...tagState.tokens)\n    jumpPosition(state, tagState.position)\n    break\n  }\n}\n\nconst lexTag = (state: State) => {\n  const { str } = state\n  const secondChar = str.charAt(state.position + 1)\n  const tagStartClose = secondChar === '/'\n  movePositopn(state, tagStartClose ? 2 : 1)\n  state.tokens.push({\n    type: 'tag-start',\n    close: tagStartClose,\n  })\n\n  const tagName = lexTagName(state)\n  lexTagAttributes(state)\n\n  const firstChar = str.charAt(state.position)\n  const tagEndClose = firstChar === '/'\n  movePositopn(state, tagEndClose ? 2 : 1)\n  state.tokens.push({\n    type: 'tag-end',\n    close: tagEndClose,\n  })\n  return tagName\n}\n\nconst lex = (state: State) => {\n  const str = state.str\n  const len = str.length\n\n  while (state.position < len) {\n    const start = state.position\n    lexText(state)\n\n    if (state.position === start) {\n      const isComment = startsWith(str, '!--', start + 1)\n      if (isComment) lexComment(state)\n      else {\n        const tagName = lexTag(state)\n        const safeTag = tagName.toLowerCase()\n        if (childlessTags.includes(safeTag)) lexSkipTag(tagName, state)\n      }\n    }\n  }\n}\n\nexport const lexer = (str: string): Token[] => {\n  const state = {\n    str,\n    position: 0,\n    tokens: [],\n  }\n  lex(state)\n  return state.tokens\n}","import type { Token, HTMLNode, TagToken, NormalElement, TagEndToken, AttributeToken, TextToken } from './types'\nimport { closingTags, closingTagAncestorBreakers, voidTags } from './tags'\n\ninterface StackItem {\n  tagName: string | null\n  children: HTMLNode[]\n}\n\ninterface State {\n  stack: StackItem[]\n  cursor: number\n  tokens: Token[]\n}\n\nexport const parser = (tokens: Token[]) => {\n  const root: StackItem = { tagName: null, children: [] }\n  const state: State = { tokens, cursor: 0, stack: [root] }\n  parse(state)\n  return root.children\n}\n\nexport const hasTerminalParent = (tagName: string, stack: StackItem[]) => {\n  const tagParents = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) break\n      if (parentTagName && tagParents.includes(parentTagName)) return true\n      currentIndex--\n    }\n  }\n  return false\n}\n\nexport const rewindStack = (stack: StackItem[], newLength: number) => {\n  stack.splice(newLength)\n}\n\nexport const parse = (state: State) => {\n  const { stack, tokens } = state\n  let { cursor } = state\n  let nodes = stack[stack.length - 1].children\n  const len = tokens.length\n  \n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      nodes.push(token as TextToken)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor] as TagToken\n    cursor++\n    const tagName = tagToken.content.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        if (tokens[cursor].type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        rewindStack(stack, index)\n        break\n      } \n      else continue\n    }\n\n    const isClosingTag = closingTags.includes(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          rewindStack(stack, currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes = []\n    let tagEndToken: TagEndToken | undefined\n    while (cursor < len) {\n      const _token = tokens[cursor]\n      if (_token.type === 'tag-end') {\n        tagEndToken = _token\n        break\n      }\n      attributes.push((_token as AttributeToken).content)\n      cursor++\n    }\n\n    if (!tagEndToken) break\n\n    cursor++\n    const children: HTMLNode[] = []\n    const elementNode: NormalElement = {\n      type: 'element',\n      tagName: tagToken.content,\n      attributes,\n      children,\n    }\n    nodes.push(elementNode)\n\n    const hasChildren = !(tagEndToken.close || voidTags.includes(tagName))\n    if (hasChildren) {\n      stack.push({tagName, children})\n      const innerState = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n  state.cursor = cursor\n}","import type { HTMLNode, CommentOrTextAST, ElementAST, AST } from './types'\n\nexport const splitHead = (str: string, sep: string) => {\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  return [str.slice(0, idx), str.slice(idx + sep.length)]\n}\n\nconst unquote = (str: string) => {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n\nconst formatAttributes = (attributes: string[]) => {\n  return attributes.map(attribute => {\n    const parts = splitHead(attribute.trim(), '=')\n    const key = parts[0]\n    const value = typeof parts[1] === 'string' ? unquote(parts[1]) : null\n    return { key, value }\n  })\n}\n\nexport const format = (nodes: HTMLNode[]): AST[] => {\n  return nodes.map(node => {   \n    if (node.type === 'element') {\n      const children = format(node.children)\n      const item: ElementAST = {\n        type: 'element',\n        tagName: node.tagName.toLowerCase(),\n        attributes: formatAttributes(node.attributes),\n        children,\n      }\n      return item\n    }\n\n    const item: CommentOrTextAST = {\n      type: node.type,\n      content: node.content,\n    }\n    return item\n  })\n}","// https://github.com/andrejewski/himalaya TypeScript\n\nimport { lexer } from './lexer'\nimport { parser } from './parser'\nimport { format } from './format'\nimport { toHTML } from './stringify'\nimport type { AST } from './types'\n\nexport const toAST = (str: string) => {\n  const tokens = lexer(str)\n  const nodes = parser(tokens)\n  return format(nodes)\n}\n\nexport { toHTML, AST }","import { SVGPathData } from 'svg-pathdata'\nimport arcToBezier from 'svg-arc-to-cubic-bezier'\n\nconst typeMap = {\n  1: 'Z',\n  2: 'M',\n  4: 'H',\n  8: 'V',\n  16: 'L',\n  32: 'C',\n  64: 'S',\n  128: 'Q',\n  256: 'T',\n  512: 'A',\n}\n\n/**\n * SVG\n * @param d SVG path d\n */\nexport const parseSvgPath = (d: string) => {\n  const pathData = new SVGPathData(d)\n\n  const ret = pathData.commands.map(item => {\n    return { ...item, type: typeMap[item.type] }\n  })\n  return ret\n}\n\nexport type SvgPath = ReturnType<typeof parseSvgPath>\n\n/**\n * SVGAC\n * @param d SVG path d\n */\nexport const toPoints = (d: string) => {\n  const pathData = new SVGPathData(d)\n  \n  const points = []\n  for (const item of pathData.commands) {\n    const type = typeMap[item.type]\n\n    if (item.type === 2 || item.type === 16) {\n      points.push({\n        x: item.x,\n        y: item.y,\n        relative: item.relative,\n        type,\n      })\n    }\n    if (item.type === 32) {\n      points.push({\n        x: item.x, \n        y: item.y,\n        curve: {\n          type: 'cubic',\n          x1: item.x1,\n          y1: item.y1,\n          x2: item.x2,\n          y2: item.y2,\n        },\n        relative: item.relative,\n        type,\n      })\n    }\n    else if (item.type === 128) {\n      points.push({\n        x: item.x, \n        y: item.y,\n        curve: {\n          type: 'quadratic',\n          x1: item.x1,\n          y1: item.y1,\n        },\n        relative: item.relative,\n        type,\n      })\n    }\n    else if (item.type === 512) {\n      const lastPoint = points[points.length - 1]\n      if (!['M', 'L', 'Q', 'C'].includes(lastPoint.type)) continue\n\n      const cubicBezierPoints = arcToBezier({\n        px: lastPoint.x as number,\n        py: lastPoint.y as number,\n        cx: item.x,\n        cy: item.y,\n        rx: item.rX,\n        ry: item.rY,\n        xAxisRotation: item.xRot,\n        largeArcFlag: item.lArcFlag,\n        sweepFlag: item.sweepFlag,\n      })\n      for (const cbPoint of cubicBezierPoints) {\n        points.push({\n          x: cbPoint.x, \n          y: cbPoint.y,\n          curve: {\n            type: 'cubic',\n            x1: cbPoint.x1,\n            y1: cbPoint.y1,\n            x2: cbPoint.x2,\n            y2: cbPoint.y2,\n          },\n          relative: false,\n          type: 'C',\n        })\n      }\n    }\n    else if (item.type === 1) {\n      points.push({ close: true, type })\n    }\n    else continue\n  }\n  return points\n}\n\nexport type SvgPoints = ReturnType<typeof toPoints>","// svgbase64https://github.com/scriptex/svg64\n\nconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\nconst PREFIX = 'data:image/svg+xml;base64,'\n\nconst utf8Encode = (string: string) => {\n  string = string.replace(/\\r\\n/g, '\\n')\n  let utftext = ''\n\n  for (let n = 0; n < string.length; n++) {\n    const c = string.charCodeAt(n)\n\n    if (c < 128) {\n      utftext += String.fromCharCode(c)\n    }\n    else if (c > 127 && c < 2048) {\n      utftext += String.fromCharCode((c >> 6) | 192)\n      utftext += String.fromCharCode((c & 63) | 128)\n    }\n    else {\n      utftext += String.fromCharCode((c >> 12) | 224)\n      utftext += String.fromCharCode(((c >> 6) & 63) | 128)\n      utftext += String.fromCharCode((c & 63) | 128)\n    }\n  }\n\n  return utftext\n}\n\nconst encode = (input: string) => {\n  let output = ''\n  let chr1, chr2, chr3, enc1, enc2, enc3, enc4\n  let i = 0\n  input = utf8Encode(input)\n  while (i < input.length) {\n    chr1 = input.charCodeAt(i++)\n    chr2 = input.charCodeAt(i++)\n    chr3 = input.charCodeAt(i++)\n    enc1 = chr1 >> 2\n    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4)\n    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6)\n    enc4 = chr3 & 63\n    if (isNaN(chr2)) enc3 = enc4 = 64\n    else if (isNaN(chr3)) enc4 = 64\n    output = output + characters.charAt(enc1) + characters.charAt(enc2) + characters.charAt(enc3) + characters.charAt(enc4)\n  }\n  return output\n}\n\nexport const svg2Base64 = (element: Element) => {\n  const XMLS = new XMLSerializer()\n  const svg = XMLS.serializeToString(element)\n\n  return PREFIX + encode(svg)\n}","import { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { trim } from 'lodash'\nimport { saveAs } from 'file-saver'\nimport pptxgen from 'pptxgenjs'\nimport tinycolor from 'tinycolor2'\nimport { toPng, toJpeg } from 'html-to-image'\nimport { useSlidesStore } from '@/store'\nimport type {\n  PPTElementOutline,\n  PPTElementShadow,\n  PPTElementLink,\n  Slide,\n} from '@/types/slides'\nimport {\n  getElementRange,\n  getLineElementPath,\n  getTableSubThemeColor,\n} from '@/utils/element'\nimport { type AST, toAST } from '@/utils/htmlParser'\nimport { type SvgPoints, toPoints } from '@/utils/svgPathParser'\nimport { encrypt } from '@/utils/crypto'\nimport { svg2Base64 } from '@/utils/svg2Base64'\nimport message from '@/utils/message'\n\nconst INCH_PX_RATIO = 100\nconst PT_PX_RATIO = 0.75\n\ninterface ExportImageConfig {\n  quality: number\n  width: number\n  fontEmbedCSS?: string\n}\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, theme, viewportRatio, title } = storeToRefs(slidesStore)\n\n  const exporting = ref(false)\n\n  // \n  const exportImage = (\n    domRef: HTMLElement,\n    format: string,\n    quality: number,\n    ignoreWebfont = true\n  ) => {\n    exporting.value = true\n    const toImage = format === 'png' ? toPng : toJpeg\n\n    const foreignObjectSpans = domRef.querySelectorAll('foreignObject [xmlns]')\n    foreignObjectSpans.forEach((spanRef) => spanRef.removeAttribute('xmlns'))\n\n    setTimeout(() => {\n      const config: ExportImageConfig = {\n        quality,\n        width: 1600,\n      }\n\n      if (ignoreWebfont) config.fontEmbedCSS = ''\n\n      toImage(domRef, config)\n        .then((dataUrl) => {\n          exporting.value = false\n          saveAs(dataUrl, `${title.value}.${format}`)\n        })\n        .catch(() => {\n          exporting.value = false\n          message.error('Failed to export image')\n        })\n    }, 200)\n  }\n\n  // ppt .ppt \n  const exportSpecificFile = (_slides: Slide[]) => {\n    const blob = new Blob([encrypt(JSON.stringify(_slides))], { type: '' })\n    saveAs(blob, `${title.value}.ppt`)\n  }\n\n  // JSON\n  const exportJSON = () => {\n    const blob = new Blob([JSON.stringify(slides.value)], { type: '' })\n    saveAs(blob, `${title.value}.json`)\n  }\n\n  //   + HexStringpptxgenjs\n  const formatColor = (_color: string) => {\n    const c = tinycolor(_color)\n    const alpha = c.getAlpha()\n    const color = alpha === 0 ? '#ffffff' : c.setAlpha(1).toHexString()\n    return {\n      alpha,\n      color,\n    }\n  }\n\n  type FormatColor = ReturnType<typeof formatColor>\n\n  // HTMLpptxgenjs\n  // HTML\n  const formatHTML = (html: string) => {\n    const ast = toAST(html)\n    let bulletFlag = false\n    let indent = 0\n\n    const slices: pptxgen.TextProps[] = []\n    const parse = (\n      obj: AST[],\n      baseStyleObj: { [key: string]: string } = {}\n    ) => {\n      for (const item of obj) {\n        const isBlockTag =\n          'tagName' in item && ['div', 'li', 'p'].includes(item.tagName)\n\n        if (isBlockTag && slices.length) {\n          const lastSlice = slices[slices.length - 1]\n          if (!lastSlice.options) lastSlice.options = {}\n          lastSlice.options.breakLine = true\n        }\n\n        const styleObj = { ...baseStyleObj }\n        const styleAttr =\n          'attributes' in item\n            ? item.attributes.find((attr) => attr.key === 'style')\n            : null\n        if (styleAttr && styleAttr.value) {\n          const styleArr = styleAttr.value.split(';')\n          for (const styleItem of styleArr) {\n            const [_key, _value] = styleItem.split(': ')\n            const [key, value] = [trim(_key), trim(_value)]\n            if (key && value) styleObj[key] = value\n          }\n        }\n\n        if ('tagName' in item) {\n          if (item.tagName === 'em') {\n            styleObj['font-style'] = 'italic'\n          }\n          if (item.tagName === 'strong') {\n            styleObj['font-weight'] = 'bold'\n          }\n          if (item.tagName === 'sup') {\n            styleObj['vertical-align'] = 'super'\n          }\n          if (item.tagName === 'sub') {\n            styleObj['vertical-align'] = 'sub'\n          }\n          if (item.tagName === 'a') {\n            const attr = item.attributes.find((attr) => attr.key === 'href')\n            styleObj['href'] = attr?.value || ''\n          }\n          if (item.tagName === 'ul') {\n            styleObj['list-type'] = 'ul'\n          }\n          if (item.tagName === 'ol') {\n            styleObj['list-type'] = 'ol'\n          }\n          if (item.tagName === 'li') {\n            bulletFlag = true\n          }\n          if (item.tagName === 'p') {\n            if ('attributes' in item) {\n              const dataIndentAttr = item.attributes.find(\n                (attr) => attr.key === 'data-indent'\n              )\n              if (dataIndentAttr && dataIndentAttr.value)\n                indent = +dataIndentAttr.value\n            }\n          }\n        }\n\n        if ('tagName' in item && item.tagName === 'br') {\n          slices.push({ text: '', options: { breakLine: true } })\n        } else if ('content' in item) {\n          const text = item.content\n            .replace(/&nbsp;/g, ' ')\n            .replace(/&gt;/g, '>')\n            .replace(/&lt;/g, '<')\n            .replace(/&amp;/g, '&')\n            .replace(/\\n/g, '')\n          const options: pptxgen.TextPropsOptions = {}\n\n          if (styleObj['font-size']) {\n            options.fontSize = parseInt(styleObj['font-size']) * PT_PX_RATIO\n          }\n          if (styleObj['color']) {\n            options.color = formatColor(styleObj['color']).color\n          }\n          if (styleObj['background-color']) {\n            options.highlight = formatColor(styleObj['background-color']).color\n          }\n          if (styleObj['text-decoration-line']) {\n            if (styleObj['text-decoration-line'].indexOf('underline') !== -1) {\n              options.underline = {\n                color: options.color || '#000000',\n                style: 'sng',\n              }\n            }\n            if (\n              styleObj['text-decoration-line'].indexOf('line-through') !== -1\n            ) {\n              options.strike = 'sngStrike'\n            }\n          }\n          if (styleObj['text-decoration']) {\n            if (styleObj['text-decoration'].indexOf('underline') !== -1) {\n              options.underline = {\n                color: options.color || '#000000',\n                style: 'sng',\n              }\n            }\n            if (styleObj['text-decoration'].indexOf('line-through') !== -1) {\n              options.strike = 'sngStrike'\n            }\n          }\n          if (styleObj['vertical-align']) {\n            if (styleObj['vertical-align'] === 'super')\n              options.superscript = true\n            if (styleObj['vertical-align'] === 'sub') options.subscript = true\n          }\n          if (styleObj['text-align'])\n            options.align = styleObj['text-align'] as pptxgen.HAlign\n          if (styleObj['font-weight'])\n            options.bold = styleObj['font-weight'] === 'bold'\n          if (styleObj['font-style'])\n            options.italic = styleObj['font-style'] === 'italic'\n          if (styleObj['font-family'])\n            options.fontFace = styleObj['font-family']\n          if (styleObj['href']) options.hyperlink = { url: styleObj['href'] }\n\n          if (bulletFlag && styleObj['list-type'] === 'ol') {\n            options.bullet = { type: 'number', indent: 20 * PT_PX_RATIO }\n            options.paraSpaceBefore = 0.1\n            bulletFlag = false\n          }\n          if (bulletFlag && styleObj['list-type'] === 'ul') {\n            options.bullet = { indent: 20 * PT_PX_RATIO }\n            options.paraSpaceBefore = 0.1\n            bulletFlag = false\n          }\n          if (indent) {\n            options.indentLevel = indent\n            indent = 0\n          }\n\n          slices.push({ text, options })\n        } else if ('children' in item) parse(item.children, styleObj)\n      }\n    }\n    parse(ast)\n    return slices\n  }\n\n  type Points = Array<\n    | { x: number; y: number; moveTo?: boolean }\n    | {\n        x: number\n        y: number\n        curve: {\n          type: 'arc'\n          hR: number\n          wR: number\n          stAng: number\n          swAng: number\n        }\n      }\n    | {\n        x: number\n        y: number\n        curve: { type: 'quadratic'; x1: number; y1: number }\n      }\n    | {\n        x: number\n        y: number\n        curve: { type: 'cubic'; x1: number; y1: number; x2: number; y2: number }\n      }\n    | { close: true }\n  >\n\n  // SVGpptxgenjs\n  const formatPoints = (points: SvgPoints, scale = { x: 1, y: 1 }): Points => {\n    return points.map((point) => {\n      if (point.close !== undefined) {\n        return { close: true }\n      } else if (point.type === 'M') {\n        return {\n          x: (point.x / INCH_PX_RATIO) * scale.x,\n          y: (point.y / INCH_PX_RATIO) * scale.y,\n          moveTo: true,\n        }\n      } else if (point.curve) {\n        if (point.curve.type === 'cubic') {\n          return {\n            x: (point.x / INCH_PX_RATIO) * scale.x,\n            y: (point.y / INCH_PX_RATIO) * scale.y,\n            curve: {\n              type: 'cubic',\n              x1: ((point.curve.x1 as number) / INCH_PX_RATIO) * scale.x,\n              y1: ((point.curve.y1 as number) / INCH_PX_RATIO) * scale.y,\n              x2: ((point.curve.x2 as number) / INCH_PX_RATIO) * scale.x,\n              y2: ((point.curve.y2 as number) / INCH_PX_RATIO) * scale.y,\n            },\n          }\n        } else if (point.curve.type === 'quadratic') {\n          return {\n            x: (point.x / INCH_PX_RATIO) * scale.x,\n            y: (point.y / INCH_PX_RATIO) * scale.y,\n            curve: {\n              type: 'quadratic',\n              x1: ((point.curve.x1 as number) / INCH_PX_RATIO) * scale.x,\n              y1: ((point.curve.y1 as number) / INCH_PX_RATIO) * scale.y,\n            },\n          }\n        }\n      }\n      return {\n        x: (point.x / INCH_PX_RATIO) * scale.x,\n        y: (point.y / INCH_PX_RATIO) * scale.y,\n      }\n    })\n  }\n\n  // \n  const getShadowOption = (shadow: PPTElementShadow): pptxgen.ShadowProps => {\n    const c = formatColor(shadow.color)\n    const { h, v } = shadow\n\n    let offset = 4\n    let angle = 45\n\n    if (h === 0 && v === 0) {\n      offset = 4\n      angle = 45\n    } else if (h === 0) {\n      if (v > 0) {\n        offset = v\n        angle = 90\n      } else {\n        offset = -v\n        angle = 270\n      }\n    } else if (v === 0) {\n      if (h > 0) {\n        offset = h\n        angle = 1\n      } else {\n        offset = -h\n        angle = 180\n      }\n    } else if (h > 0 && v > 0) {\n      offset = Math.max(h, v)\n      angle = 45\n    } else if (h > 0 && v < 0) {\n      offset = Math.max(h, -v)\n      angle = 315\n    } else if (h < 0 && v > 0) {\n      offset = Math.max(-h, v)\n      angle = 135\n    } else if (h < 0 && v < 0) {\n      offset = Math.max(-h, -v)\n      angle = 225\n    }\n\n    return {\n      type: 'outer',\n      color: c.color.replace('#', ''),\n      opacity: c.alpha,\n      blur: shadow.blur * PT_PX_RATIO,\n      offset,\n      angle,\n    }\n  }\n\n  // \n  const getOutlineOption = (\n    outline: PPTElementOutline\n  ): pptxgen.ShapeLineProps => {\n    const c = formatColor(outline?.color || '#000000')\n    return {\n      color: c.color,\n      transparency: (1 - c.alpha) * 100,\n      width: (outline.width || 1) * PT_PX_RATIO,\n      dashType: outline.style === 'solid' ? 'solid' : 'dash',\n    }\n  }\n\n  // \n  const getLinkOption = (\n    link: PPTElementLink\n  ): pptxgen.HyperlinkProps | null => {\n    const { type, target } = link\n    if (type === 'web') return { url: target }\n    if (type === 'slide') {\n      const index = slides.value.findIndex((slide) => slide.id === target)\n      if (index !== -1) return { slide: index + 1 }\n    }\n\n    return null\n  }\n\n  // PPTX\n  const exportPPTX = (\n    _slides: Slide[],\n    masterOverwrite: boolean,\n    ignoreMedia: boolean\n  ) => {\n    exporting.value = true\n    const pptx = new pptxgen()\n\n    if (viewportRatio.value === 0.625) pptx.layout = 'LAYOUT_16x10'\n    else if (viewportRatio.value === 0.75) pptx.layout = 'LAYOUT_4x3'\n    else if (viewportRatio.value === 0.70710678) {\n      pptx.defineLayout({ name: 'A3', width: 10, height: 7.0710678 })\n      pptx.layout = 'A3'\n    } else pptx.layout = 'LAYOUT_16x9'\n\n    if (masterOverwrite) {\n      const { color: bgColor, alpha: bgAlpha } = formatColor(\n        theme.value.backgroundColor\n      )\n      pptx.defineSlideMaster({\n        title: 'Paperport_MASTER',\n        background: { color: bgColor, transparency: (1 - bgAlpha) * 100 },\n      })\n    }\n\n    for (const slide of _slides) {\n      const pptxSlide = pptx.addSlide()\n\n      if (slide.background) {\n        const background = slide.background\n        if (background.type === 'image' && background.image) {\n          pptxSlide.background = { data: background.image }\n        } else if (background.type === 'solid' && background.color) {\n          const c = formatColor(background.color)\n          pptxSlide.background = {\n            color: c.color,\n            transparency: (1 - c.alpha) * 100,\n          }\n        } else if (background.type === 'gradient' && background.gradientColor) {\n          const [color1, color2] = background.gradientColor\n          const color = tinycolor.mix(color1, color2).toHexString()\n          const c = formatColor(color)\n          pptxSlide.background = {\n            color: c.color,\n            transparency: (1 - c.alpha) * 100,\n          }\n        }\n      }\n      if (slide.remark) pptxSlide.addNotes(slide.remark)\n\n      if (!slide.elements) continue\n\n      for (const el of slide.elements) {\n        if (el.type === 'text') {\n          const textProps = formatHTML(el.content)\n\n          const options: pptxgen.TextPropsOptions = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            fontSize: 20 * PT_PX_RATIO,\n            fontFace: 'Microsoft Yahei',\n            color: '#000000',\n            valign: 'top',\n            margin: 10 * PT_PX_RATIO,\n            paraSpaceBefore: 5 * PT_PX_RATIO,\n            lineSpacingMultiple: 1.5 / 1.25,\n            autoFit: true,\n          }\n          if (el.rotate) options.rotate = el.rotate\n          if (el.wordSpace) options.charSpacing = el.wordSpace * PT_PX_RATIO\n          if (el.lineHeight) options.lineSpacingMultiple = el.lineHeight / 1.25\n          if (el.fill) {\n            const c = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n            options.fill = {\n              color: c.color,\n              transparency: (1 - c.alpha * opacity) * 100,\n            }\n          }\n          if (el.defaultColor)\n            options.color = formatColor(el.defaultColor).color\n          if (el.defaultFontName) options.fontFace = el.defaultFontName\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n          if (el.outline?.width) options.line = getOutlineOption(el.outline)\n          if (el.opacity !== undefined)\n            options.transparency = (1 - el.opacity) * 100\n          if (el.paragraphSpace !== undefined)\n            options.paraSpaceBefore = el.paragraphSpace * PT_PX_RATIO\n          if (el.vertical) options.vert = 'eaVert'\n\n          pptxSlide.addText(textProps, options)\n        } else if (el.type === 'image') {\n          const options: pptxgen.ImageProps = {\n            path: el.src,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.flipH) options.flipH = el.flipH\n          if (el.flipV) options.flipV = el.flipV\n          if (el.rotate) options.rotate = el.rotate\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n          if (el.filters?.opacity)\n            options.transparency = 100 - parseInt(el.filters?.opacity)\n          if (el.clip) {\n            if (el.clip.shape === 'ellipse') options.rounding = true\n\n            const [start, end] = el.clip.range\n            const [startX, startY] = start\n            const [endX, endY] = end\n\n            const originW = el.width / ((endX - startX) / INCH_PX_RATIO)\n            const originH = el.height / ((endY - startY) / INCH_PX_RATIO)\n\n            options.w = originW / INCH_PX_RATIO\n            options.h = originH / INCH_PX_RATIO\n\n            options.sizing = {\n              type: 'crop',\n              x: ((startX / INCH_PX_RATIO) * originW) / INCH_PX_RATIO,\n              y: ((startY / INCH_PX_RATIO) * originH) / INCH_PX_RATIO,\n              w: (((endX - startX) / INCH_PX_RATIO) * originW) / INCH_PX_RATIO,\n              h: (((endY - startY) / INCH_PX_RATIO) * originH) / INCH_PX_RATIO,\n            }\n          }\n\n          pptxSlide.addImage(options)\n        } else if (el.type === 'shape') {\n          if (el.special) {\n            const svgRef = document.querySelector(\n              `.thumbnail-list .base-element-${el.id} svg`\n            ) as HTMLElement\n            const base64SVG = svg2Base64(svgRef)\n\n            const options: pptxgen.ImageProps = {\n              data: base64SVG,\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addImage(options)\n          } else {\n            const scale = {\n              x: el.width / el.viewBox[0],\n              y: el.height / el.viewBox[1],\n            }\n            const points = formatPoints(toPoints(el.path), scale)\n\n            const fillColor = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n\n            const options: pptxgen.ShapeProps = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fill: {\n                color: fillColor.color,\n                transparency: (1 - fillColor.alpha * opacity) * 100,\n              },\n              points,\n            }\n            if (el.flipH) options.flipH = el.flipH\n            if (el.flipV) options.flipV = el.flipV\n            if (el.shadow) options.shadow = getShadowOption(el.shadow)\n            if (el.outline?.width) options.line = getOutlineOption(el.outline)\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n          }\n          if (el.text) {\n            const textProps = formatHTML(el.text.content)\n\n            const options: pptxgen.TextPropsOptions = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fontSize: 20 * PT_PX_RATIO,\n              fontFace: 'Microsoft Yahei',\n              color: '#000000',\n              paraSpaceBefore: 5 * PT_PX_RATIO,\n              valign: el.text.align,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.text.defaultColor)\n              options.color = formatColor(el.text.defaultColor).color\n            if (el.text.defaultFontName)\n              options.fontFace = el.text.defaultFontName\n\n            pptxSlide.addText(textProps, options)\n          }\n        } else if (el.type === 'line') {\n          const path = getLineElementPath(el)\n          const points = formatPoints(toPoints(path))\n          const { minX, maxX, minY, maxY } = getElementRange(el)\n          const c = formatColor(el.color)\n\n          const options: pptxgen.ShapeProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: (maxX - minX) / INCH_PX_RATIO,\n            h: (maxY - minY) / INCH_PX_RATIO,\n            line: {\n              color: c.color,\n              transparency: (1 - c.alpha) * 100,\n              width: el.width * PT_PX_RATIO,\n              dashType: el.style === 'solid' ? 'solid' : 'dash',\n              beginArrowType: el.points[0] ? 'arrow' : 'none',\n              endArrowType: el.points[1] ? 'arrow' : 'none',\n            },\n            points,\n          }\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n\n          pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n        } else if (el.type === 'chart') {\n          const chartData = []\n          for (let i = 0; i < el.data.series.length; i++) {\n            const item = el.data.series[i]\n            chartData.push({\n              name: `${i + 1}`,\n              labels: el.data.labels,\n              values: item,\n            })\n          }\n\n          let chartColors: string[] = []\n          if (el.themeColor.length === 10)\n            chartColors = el.themeColor.map((color) => formatColor(color).color)\n          else if (el.themeColor.length === 1)\n            chartColors = tinycolor(el.themeColor[0])\n              .analogous(10)\n              .map((color) => formatColor(color.toHexString()).color)\n          else {\n            const len = el.themeColor.length\n            const supplement = tinycolor(el.themeColor[len - 1])\n              .analogous(10 + 1 - len)\n              .map((color) => color.toHexString())\n            chartColors = [\n              ...el.themeColor.slice(0, len - 1),\n              ...supplement,\n            ].map((color) => formatColor(color).color)\n          }\n\n          const options: pptxgen.IChartOpts = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            chartColors:\n              el.chartType === 'pie'\n                ? chartColors\n                : chartColors.slice(0, el.data.series.length),\n          }\n\n          if (el.fill)\n            options.plotArea = { fill: { color: formatColor(el.fill).color } }\n          if (el.legend) {\n            options.showLegend = true\n            options.legendPos = el.legend === 'top' ? 't' : 'b'\n            options.legendColor = formatColor(el.gridColor || '#000000').color\n            options.legendFontSize = 14 * PT_PX_RATIO\n          }\n\n          let type = pptx.ChartType.bar\n          if (el.chartType === 'bar') {\n            type = pptx.ChartType.bar\n            options.barDir = el.options?.horizontalBars ? 'bar' : 'col'\n          } else if (el.chartType === 'line') {\n            if (el.options?.showArea) type = pptx.ChartType.area\n            else if (el.options?.showLine === false) {\n              type = pptx.ChartType.scatter\n\n              chartData.unshift({\n                name: 'X-Axis',\n                values: Array(el.data.series[0].length)\n                  .fill(0)\n                  .map((v, i) => i),\n              })\n              options.lineSize = 0\n            } else type = pptx.ChartType.line\n\n            if (el.options?.lineSmooth) options.lineSmooth = true\n          } else if (el.chartType === 'pie') {\n            if (el.options?.donut) {\n              type = pptx.ChartType.doughnut\n              options.holeSize = 75\n            } else type = pptx.ChartType.pie\n          }\n\n          pptxSlide.addChart(type, chartData, options)\n        } else if (el.type === 'table') {\n          const hiddenCells = []\n          for (let i = 0; i < el.data.length; i++) {\n            const rowData = el.data[i]\n\n            for (let j = 0; j < rowData.length; j++) {\n              const cell = rowData[j]\n              if (cell.colspan > 1 || cell.rowspan > 1) {\n                for (let row = i; row < i + cell.rowspan; row++) {\n                  for (\n                    let col = row === i ? j + 1 : j;\n                    col < j + cell.colspan;\n                    col++\n                  )\n                    hiddenCells.push(`${row}_${col}`)\n                }\n              }\n            }\n          }\n\n          const tableData = []\n\n          const theme = el.theme\n          let themeColor: FormatColor | null = null\n          let subThemeColors: FormatColor[] = []\n          if (theme) {\n            themeColor = formatColor(theme.color)\n            subThemeColors = getTableSubThemeColor(theme.color).map((item) =>\n              formatColor(item)\n            )\n          }\n\n          for (let i = 0; i < el.data.length; i++) {\n            const row = el.data[i]\n            const _row = []\n\n            for (let j = 0; j < row.length; j++) {\n              const cell = row[j]\n              const cellOptions: pptxgen.TableCellProps = {\n                colspan: cell.colspan,\n                rowspan: cell.rowspan,\n                bold: cell.style?.bold || false,\n                italic: cell.style?.em || false,\n                underline: { style: cell.style?.underline ? 'sng' : 'none' },\n                align: cell.style?.align || 'left',\n                valign: 'middle',\n                fontFace: cell.style?.fontname || '',\n                fontSize:\n                  (cell.style?.fontsize ? parseInt(cell.style?.fontsize) : 14) *\n                  PT_PX_RATIO,\n              }\n              if (theme && themeColor) {\n                let c: FormatColor\n                if (i % 2 === 0) c = subThemeColors[1]\n                else c = subThemeColors[0]\n\n                if (theme.rowHeader && i === 0) c = themeColor\n                else if (theme.rowFooter && i === el.data.length - 1)\n                  c = themeColor\n                else if (theme.colHeader && j === 0) c = themeColor\n                else if (theme.colFooter && j === row.length - 1) c = themeColor\n\n                cellOptions.fill = {\n                  color: c.color,\n                  transparency: (1 - c.alpha) * 100,\n                }\n              }\n              if (cell.style?.backcolor) {\n                const c = formatColor(cell.style.backcolor)\n                cellOptions.fill = {\n                  color: c.color,\n                  transparency: (1 - c.alpha) * 100,\n                }\n              }\n              if (cell.style?.color)\n                cellOptions.color = formatColor(cell.style.color).color\n\n              if (!hiddenCells.includes(`${i}_${j}`)) {\n                _row.push({\n                  text: cell.text,\n                  options: cellOptions,\n                })\n              }\n            }\n            if (_row.length) tableData.push(_row)\n          }\n\n          const options: pptxgen.TableProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            colW: el.colWidths.map((item) => (el.width * item) / INCH_PX_RATIO),\n          }\n          if (el.theme) options.fill = { color: '#ffffff' }\n          if (el.outline.width && el.outline.color) {\n            options.border = {\n              type: el.outline.style === 'solid' ? 'solid' : 'dash',\n              pt: el.outline.width * PT_PX_RATIO,\n              color: formatColor(el.outline.color).color,\n            }\n          }\n\n          pptxSlide.addTable(tableData, options)\n        } else if (el.type === 'latex') {\n          const svgRef = document.querySelector(\n            `.thumbnail-list .base-element-${el.id} svg`\n          ) as HTMLElement\n          const base64SVG = svg2Base64(svgRef)\n\n          const options: pptxgen.ImageProps = {\n            data: base64SVG,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n\n          pptxSlide.addImage(options)\n        } else if (\n          !ignoreMedia &&\n          (el.type === 'video' || el.type === 'audio')\n        ) {\n          const options: pptxgen.MediaProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            path: el.src,\n            type: el.type,\n          }\n          if (el.type === 'video' && el.poster) options.cover = el.poster\n\n          const extMatch = el.src.match(/\\.([a-zA-Z0-9]+)(?:[\\?#]|$)/)\n          if (extMatch && extMatch[1]) options.extn = extMatch[1]\n          else if (el.ext) options.extn = el.ext\n\n          const videoExts = ['avi', 'mp4', 'm4v', 'mov', 'wmv']\n          const audioExts = ['mp3', 'm4a', 'mp4', 'wav', 'wma']\n          if (\n            options.extn &&\n            [...videoExts, ...audioExts].includes(options.extn)\n          ) {\n            pptxSlide.addMedia(options)\n          }\n        }\n      }\n    }\n\n    setTimeout(() => {\n      pptx\n        .writeFile({ fileName: `${title.value}.pptx` })\n        .then(() => (exporting.value = false))\n        .catch(() => {\n          exporting.value = false\n          message.error('Export failed')\n        })\n    }, 200)\n  }\n\n  const savePPTX = async (\n    _slides: Slide[],\n    masterOverwrite: boolean,\n    ignoreMedia: boolean\n  ) => {\n    exporting.value = true\n    const pptx = new pptxgen()\n\n    if (viewportRatio.value === 0.625) pptx.layout = 'LAYOUT_16x10'\n    else if (viewportRatio.value === 0.75) pptx.layout = 'LAYOUT_4x3'\n    else if (viewportRatio.value === 0.70710678) {\n      pptx.defineLayout({ name: 'A3', width: 10, height: 7.0710678 })\n      pptx.layout = 'A3'\n    } else pptx.layout = 'LAYOUT_16x9'\n\n    if (masterOverwrite) {\n      const { color: bgColor, alpha: bgAlpha } = formatColor(\n        theme.value.backgroundColor\n      )\n      pptx.defineSlideMaster({\n        title: 'Paperport_MASTER',\n        background: { color: bgColor, transparency: (1 - bgAlpha) * 100 },\n      })\n    }\n\n    for (const slide of _slides) {\n      const pptxSlide = pptx.addSlide()\n\n      if (slide.background) {\n        const background = slide.background\n        if (background.type === 'image' && background.image) {\n          pptxSlide.background = { data: background.image }\n        } else if (background.type === 'solid' && background.color) {\n          const c = formatColor(background.color)\n          pptxSlide.background = {\n            color: c.color,\n            transparency: (1 - c.alpha) * 100,\n          }\n        } else if (background.type === 'gradient' && background.gradientColor) {\n          const [color1, color2] = background.gradientColor\n          const color = tinycolor.mix(color1, color2).toHexString()\n          const c = formatColor(color)\n          pptxSlide.background = {\n            color: c.color,\n            transparency: (1 - c.alpha) * 100,\n          }\n        }\n      }\n      if (slide.remark) pptxSlide.addNotes(slide.remark)\n\n      if (!slide.elements) continue\n\n      for (const el of slide.elements) {\n        if (el.type === 'text') {\n          const textProps = formatHTML(el.content)\n\n          const options: pptxgen.TextPropsOptions = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            fontSize: 20 * PT_PX_RATIO,\n            fontFace: 'Microsoft Yahei',\n            color: '#000000',\n            valign: 'top',\n            margin: 10 * PT_PX_RATIO,\n            paraSpaceBefore: 5 * PT_PX_RATIO,\n            lineSpacingMultiple: 1.5 / 1.25,\n            autoFit: true,\n          }\n          if (el.rotate) options.rotate = el.rotate\n          if (el.wordSpace) options.charSpacing = el.wordSpace * PT_PX_RATIO\n          if (el.lineHeight) options.lineSpacingMultiple = el.lineHeight / 1.25\n          if (el.fill) {\n            const c = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n            options.fill = {\n              color: c.color,\n              transparency: (1 - c.alpha * opacity) * 100,\n            }\n          }\n          if (el.defaultColor)\n            options.color = formatColor(el.defaultColor).color\n          if (el.defaultFontName) options.fontFace = el.defaultFontName\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n          if (el.outline?.width) options.line = getOutlineOption(el.outline)\n          if (el.opacity !== undefined)\n            options.transparency = (1 - el.opacity) * 100\n          if (el.paragraphSpace !== undefined)\n            options.paraSpaceBefore = el.paragraphSpace * PT_PX_RATIO\n          if (el.vertical) options.vert = 'eaVert'\n\n          pptxSlide.addText(textProps, options)\n        } else if (el.type === 'image') {\n          const options: pptxgen.ImageProps = {\n            path: el.src,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.flipH) options.flipH = el.flipH\n          if (el.flipV) options.flipV = el.flipV\n          if (el.rotate) options.rotate = el.rotate\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n          if (el.filters?.opacity)\n            options.transparency = 100 - parseInt(el.filters?.opacity)\n          if (el.clip) {\n            if (el.clip.shape === 'ellipse') options.rounding = true\n\n            const [start, end] = el.clip.range\n            const [startX, startY] = start\n            const [endX, endY] = end\n\n            const originW = el.width / ((endX - startX) / INCH_PX_RATIO)\n            const originH = el.height / ((endY - startY) / INCH_PX_RATIO)\n\n            options.w = originW / INCH_PX_RATIO\n            options.h = originH / INCH_PX_RATIO\n\n            options.sizing = {\n              type: 'crop',\n              x: ((startX / INCH_PX_RATIO) * originW) / INCH_PX_RATIO,\n              y: ((startY / INCH_PX_RATIO) * originH) / INCH_PX_RATIO,\n              w: (((endX - startX) / INCH_PX_RATIO) * originW) / INCH_PX_RATIO,\n              h: (((endY - startY) / INCH_PX_RATIO) * originH) / INCH_PX_RATIO,\n            }\n          }\n\n          pptxSlide.addImage(options)\n        } else if (el.type === 'shape') {\n          if (el.special) {\n            const svgRef = document.querySelector(\n              `.thumbnail-list .base-element-${el.id} svg`\n            ) as HTMLElement\n            const base64SVG = svg2Base64(svgRef)\n\n            const options: pptxgen.ImageProps = {\n              data: base64SVG,\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addImage(options)\n          } else {\n            const scale = {\n              x: el.width / el.viewBox[0],\n              y: el.height / el.viewBox[1],\n            }\n            const points = formatPoints(toPoints(el.path), scale)\n\n            const fillColor = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n\n            const options: pptxgen.ShapeProps = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fill: {\n                color: fillColor.color,\n                transparency: (1 - fillColor.alpha * opacity) * 100,\n              },\n              points,\n            }\n            if (el.flipH) options.flipH = el.flipH\n            if (el.flipV) options.flipV = el.flipV\n            if (el.shadow) options.shadow = getShadowOption(el.shadow)\n            if (el.outline?.width) options.line = getOutlineOption(el.outline)\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n          }\n          if (el.text) {\n            const textProps = formatHTML(el.text.content)\n\n            const options: pptxgen.TextPropsOptions = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fontSize: 20 * PT_PX_RATIO,\n              fontFace: 'Microsoft Yahei',\n              color: '#000000',\n              paraSpaceBefore: 5 * PT_PX_RATIO,\n              valign: el.text.align,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.text.defaultColor)\n              options.color = formatColor(el.text.defaultColor).color\n            if (el.text.defaultFontName)\n              options.fontFace = el.text.defaultFontName\n\n            pptxSlide.addText(textProps, options)\n          }\n        } else if (el.type === 'line') {\n          const path = getLineElementPath(el)\n          const points = formatPoints(toPoints(path))\n          const { minX, maxX, minY, maxY } = getElementRange(el)\n          const c = formatColor(el.color)\n\n          const options: pptxgen.ShapeProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: (maxX - minX) / INCH_PX_RATIO,\n            h: (maxY - minY) / INCH_PX_RATIO,\n            line: {\n              color: c.color,\n              transparency: (1 - c.alpha) * 100,\n              width: el.width * PT_PX_RATIO,\n              dashType: el.style === 'solid' ? 'solid' : 'dash',\n              beginArrowType: el.points[0] ? 'arrow' : 'none',\n              endArrowType: el.points[1] ? 'arrow' : 'none',\n            },\n            points,\n          }\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n\n          pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n        } else if (el.type === 'chart') {\n          const chartData = []\n          for (let i = 0; i < el.data.series.length; i++) {\n            const item = el.data.series[i]\n            chartData.push({\n              name: `${i + 1}`,\n              labels: el.data.labels,\n              values: item,\n            })\n          }\n\n          let chartColors: string[] = []\n          if (el.themeColor.length === 10)\n            chartColors = el.themeColor.map((color) => formatColor(color).color)\n          else if (el.themeColor.length === 1)\n            chartColors = tinycolor(el.themeColor[0])\n              .analogous(10)\n              .map((color) => formatColor(color.toHexString()).color)\n          else {\n            const len = el.themeColor.length\n            const supplement = tinycolor(el.themeColor[len - 1])\n              .analogous(10 + 1 - len)\n              .map((color) => color.toHexString())\n            chartColors = [\n              ...el.themeColor.slice(0, len - 1),\n              ...supplement,\n            ].map((color) => formatColor(color).color)\n          }\n\n          const options: pptxgen.IChartOpts = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            chartColors:\n              el.chartType === 'pie'\n                ? chartColors\n                : chartColors.slice(0, el.data.series.length),\n          }\n\n          if (el.fill)\n            options.plotArea = { fill: { color: formatColor(el.fill).color } }\n          if (el.legend) {\n            options.showLegend = true\n            options.legendPos = el.legend === 'top' ? 't' : 'b'\n            options.legendColor = formatColor(el.gridColor || '#000000').color\n            options.legendFontSize = 14 * PT_PX_RATIO\n          }\n\n          let type = pptx.ChartType.bar\n          if (el.chartType === 'bar') {\n            type = pptx.ChartType.bar\n            options.barDir = el.options?.horizontalBars ? 'bar' : 'col'\n          } else if (el.chartType === 'line') {\n            if (el.options?.showArea) type = pptx.ChartType.area\n            else if (el.options?.showLine === false) {\n              type = pptx.ChartType.scatter\n\n              chartData.unshift({\n                name: 'X-Axis',\n                values: Array(el.data.series[0].length)\n                  .fill(0)\n                  .map((v, i) => i),\n              })\n              options.lineSize = 0\n            } else type = pptx.ChartType.line\n\n            if (el.options?.lineSmooth) options.lineSmooth = true\n          } else if (el.chartType === 'pie') {\n            if (el.options?.donut) {\n              type = pptx.ChartType.doughnut\n              options.holeSize = 75\n            } else type = pptx.ChartType.pie\n          }\n\n          pptxSlide.addChart(type, chartData, options)\n        } else if (el.type === 'table') {\n          const hiddenCells = []\n          for (let i = 0; i < el.data.length; i++) {\n            const rowData = el.data[i]\n\n            for (let j = 0; j < rowData.length; j++) {\n              const cell = rowData[j]\n              if (cell.colspan > 1 || cell.rowspan > 1) {\n                for (let row = i; row < i + cell.rowspan; row++) {\n                  for (\n                    let col = row === i ? j + 1 : j;\n                    col < j + cell.colspan;\n                    col++\n                  )\n                    hiddenCells.push(`${row}_${col}`)\n                }\n              }\n            }\n          }\n\n          const tableData = []\n\n          const theme = el.theme\n          let themeColor: FormatColor | null = null\n          let subThemeColors: FormatColor[] = []\n          if (theme) {\n            themeColor = formatColor(theme.color)\n            subThemeColors = getTableSubThemeColor(theme.color).map((item) =>\n              formatColor(item)\n            )\n          }\n\n          for (let i = 0; i < el.data.length; i++) {\n            const row = el.data[i]\n            const _row = []\n\n            for (let j = 0; j < row.length; j++) {\n              const cell = row[j]\n              const cellOptions: pptxgen.TableCellProps = {\n                colspan: cell.colspan,\n                rowspan: cell.rowspan,\n                bold: cell.style?.bold || false,\n                italic: cell.style?.em || false,\n                underline: { style: cell.style?.underline ? 'sng' : 'none' },\n                align: cell.style?.align || 'left',\n                valign: 'middle',\n                fontFace: cell.style?.fontname || '',\n                fontSize:\n                  (cell.style?.fontsize ? parseInt(cell.style?.fontsize) : 14) *\n                  PT_PX_RATIO,\n              }\n              if (theme && themeColor) {\n                let c: FormatColor\n                if (i % 2 === 0) c = subThemeColors[1]\n                else c = subThemeColors[0]\n\n                if (theme.rowHeader && i === 0) c = themeColor\n                else if (theme.rowFooter && i === el.data.length - 1)\n                  c = themeColor\n                else if (theme.colHeader && j === 0) c = themeColor\n                else if (theme.colFooter && j === row.length - 1) c = themeColor\n\n                cellOptions.fill = {\n                  color: c.color,\n                  transparency: (1 - c.alpha) * 100,\n                }\n              }\n              if (cell.style?.backcolor) {\n                const c = formatColor(cell.style.backcolor)\n                cellOptions.fill = {\n                  color: c.color,\n                  transparency: (1 - c.alpha) * 100,\n                }\n              }\n              if (cell.style?.color)\n                cellOptions.color = formatColor(cell.style.color).color\n\n              if (!hiddenCells.includes(`${i}_${j}`)) {\n                _row.push({\n                  text: cell.text,\n                  options: cellOptions,\n                })\n              }\n            }\n            if (_row.length) tableData.push(_row)\n          }\n\n          const options: pptxgen.TableProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            colW: el.colWidths.map((item) => (el.width * item) / INCH_PX_RATIO),\n          }\n          if (el.theme) options.fill = { color: '#ffffff' }\n          if (el.outline.width && el.outline.color) {\n            options.border = {\n              type: el.outline.style === 'solid' ? 'solid' : 'dash',\n              pt: el.outline.width * PT_PX_RATIO,\n              color: formatColor(el.outline.color).color,\n            }\n          }\n\n          pptxSlide.addTable(tableData, options)\n        } else if (el.type === 'latex') {\n          const svgRef = document.querySelector(\n            `.thumbnail-list .base-element-${el.id} svg`\n          ) as HTMLElement\n          const base64SVG = svg2Base64(svgRef)\n\n          const options: pptxgen.ImageProps = {\n            data: base64SVG,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n\n          pptxSlide.addImage(options)\n        } else if (\n          !ignoreMedia &&\n          (el.type === 'video' || el.type === 'audio')\n        ) {\n          const options: pptxgen.MediaProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            path: el.src,\n            type: el.type,\n          }\n          if (el.type === 'video' && el.poster) options.cover = el.poster\n\n          const extMatch = el.src.match(/\\.([a-zA-Z0-9]+)(?:[\\?#]|$)/)\n          if (extMatch && extMatch[1]) options.extn = extMatch[1]\n          else if (el.ext) options.extn = el.ext\n\n          const videoExts = ['avi', 'mp4', 'm4v', 'mov', 'wmv']\n          const audioExts = ['mp3', 'm4a', 'mp4', 'wav', 'wma']\n          if (\n            options.extn &&\n            [...videoExts, ...audioExts].includes(options.extn)\n          ) {\n            pptxSlide.addMedia(options)\n          }\n        }\n      }\n    }\n\n    const pptx_file_name = await pptx.write({ outputType: 'blob' })\n    return pptx_file_name\n  }\n\n\n  return {\n    exporting,\n    exportImage,\n    exportJSON,\n    exportSpecificFile,\n    exportPPTX,\n    savePPTX,\n\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a0322054\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"hotkey-doc\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = { class: \"label\" }\nconst _hoisted_4 = { class: \"value\" }\n\nimport { HOTKEY_DOC } from '@/configs/hotkey' \n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HotkeyDoc',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(HOTKEY_DOC), (item) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (hotkey) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"hotkey-item\",\n            key: hotkey.label\n          }, [\n            _createElementVNode(\"div\", _hoisted_3, _toDisplayString(hotkey.label), 1),\n            _createElementVNode(\"div\", _hoisted_4, _toDisplayString(hotkey.value), 1)\n          ]))\n        }), 128))\n      ], 64))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./HotkeyDoc.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HotkeyDoc.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HotkeyDoc.vue?vue&type=style&index=0&id=a0322054&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a0322054\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a5c6b41c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fullscreen-spin\"\n}\nconst _hoisted_2 = { class: \"spin\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"spinner\" }, null, -1))\nconst _hoisted_4 = { class: \"text\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FullscreenSpin',\n  props: {\n    loading: { type: Boolean, default: false },\n    tip: { default: '' }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.loading)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_ctx.tip), 1)\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./FullscreenSpin.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FullscreenSpin.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FullscreenSpin.vue?vue&type=style&index=0&id=a5c6b41c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a5c6b41c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, normalizeClass as _normalizeClass, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, Teleport as _Teleport, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-749dadac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header\" }\n\nimport { computed, ref, type CSSProperties } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Drawer',\n  props: {\n    visible: { type: Boolean },\n    width: { default: 320 },\n    contentStyle: {},\n    placement: { default: 'right' }\n  },\n  emits: [\"update:visible\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return {\n    width: props.width + 'px',\n    ...(props.contentStyle || {})\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n    _createVNode(_Transition, {\n      name: `drawer-slide-${_ctx.placement}`,\n      onAfterLeave: _cache[1] || (_cache[1] = ($event: any) => (contentVisible.value = false)),\n      onBeforeEnter: _cache[2] || (_cache[2] = ($event: any) => (contentVisible.value = true))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"div\", {\n          class: _normalizeClass(['drawer', _ctx.placement]),\n          style: _normalizeStyle({ width: props.width + 'px' })\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _renderSlot(_ctx.$slots, \"title\"),\n            _createElementVNode(\"span\", {\n              class: \"close-btn\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('update:visible', false)))\n            }, [\n              _createVNode(_component_IconClose)\n            ])\n          ]),\n          (contentVisible.value)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"content\",\n                style: _normalizeStyle(contentStyle.value)\n              }, [\n                _renderSlot(_ctx.$slots, \"default\")\n              ], 4))\n            : _createCommentVNode(\"\", true)\n        ], 6), [\n          [_vShow, _ctx.visible]\n        ])\n      ]),\n      _: 3\n    }, 8, [\"name\"])\n  ]))\n}\n}\n\n})","<template>\n  <Teleport to=\"body\">\n    <Transition :name=\"`drawer-slide-${placement}`\"\n      @afterLeave=\"contentVisible = false\"\n      @before-enter=\"contentVisible = true\"\n    >\n      <div :class=\"['drawer', placement]\" v-show=\"visible\" :style=\"{ width: props.width + 'px' }\">\n        <div class=\"header\">\n          <slot name=\"title\"></slot>\n          <span class=\"close-btn\" @click=\"emit('update:visible', false)\"><IconClose /></span>\n        </div>\n        <div class=\"content\" v-if=\"contentVisible\" :style=\"contentStyle\">\n          <slot></slot>\n        </div>\n      </div>\n    </Transition>\n  </Teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, type CSSProperties } from 'vue'\n\nconst props = withDefaults(defineProps<{\n  visible: boolean\n  width?: number\n  contentStyle?: CSSProperties\n  placement?: 'left' | 'right'\n}>(), {\n  width: 320,\n  placement: 'right',\n})\n\nconst emit = defineEmits<{\n  (event: 'update:visible', payload: boolean): void\n}>()\n\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return {\n    width: props.width + 'px',\n    ...(props.contentStyle || {})\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.drawer {\n  height: 100%;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  z-index: 5000;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n\n  &.left {\n    left: 0;\n    box-shadow: 3px 0 6px -4px rgba(0, 0, 0, 0.12), 9px 0 28px 8px rgba(0, 0, 0, 0.05);\n  }\n  &.right {\n    right: 0;\n    box-shadow: -3px 0 6px -4px rgba(0, 0, 0, 0.12), -9px 0 28px 8px rgba(0, 0, 0, 0.05);\n  }\n}\n\n.header {\n  height: 50px;\n  padding: 0 15px;\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  .close-btn {\n    width: 20px;\n    height: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    cursor: pointer;\n  }\n}\n.content {\n  padding: 0 15px;\n  overflow: auto;\n  flex: 1;\n}\n\n.drawer-slide-right-enter-active {\n  animation: drawer-slide-right-enter .25s both ease;\n}\n.drawer-slide-right-leave-active {\n  animation: drawer-slide-right-leave .25s both ease;\n}\n.drawer-slide-left-enter-active {\n  animation: drawer-slide-left-enter .25s both ease;\n}\n.drawer-slide-left-leave-active {\n  animation: drawer-slide-left-leave .25s both ease;\n}\n\n@keyframes drawer-slide-right-enter {\n  from {\n    transform: translateX(100%);\n  }\n}\n@keyframes drawer-slide-right-leave {\n  to {\n    transform: translateX(100%);\n  }\n}\n@keyframes drawer-slide-left-enter {\n  from {\n    transform: translateX(-100%);\n  }\n}\n@keyframes drawer-slide-left-leave {\n  to {\n    transform: translateX(-100%);\n  }\n}\n</style>","import script from \"./Drawer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Drawer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Drawer.vue?vue&type=style&index=0&id=749dadac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-749dadac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, withKeys as _withKeys, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a97ba0dc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"prefix\" }\nconst _hoisted_2 = [\"disabled\", \"value\", \"placeholder\"]\nconst _hoisted_3 = { class: \"suffix\" }\n\nimport { ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Input',\n  props: {\n    value: {},\n    disabled: { type: Boolean, default: false },\n    placeholder: { default: '' }\n  },\n  emits: [\"update:value\", \"input\", \"change\", \"blur\", \"focus\", \"enter\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\n\n\nconst emit = __emit\n\nconst focused = ref(false)\n\nconst handleInput = (e: Event) => {\n  emit('update:value', (e.target as HTMLInputElement).value)\n}\nconst handleBlur = (e: Event) => {\n  focused.value = false\n  emit('blur', e)\n}\nconst handleFocus = (e: Event) => {\n  focused.value = true\n  emit('focus', e)\n}\n\nconst inputRef = ref<HTMLInputElement>()\nconst focus = () => {\n  if (inputRef.value) inputRef.value.focus()\n}\n\n__expose({\n  focus,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"input\", {\n      'disabled': _ctx.disabled,\n      'focused': focused.value,\n    }])\n  }, [\n    _createElementVNode(\"span\", _hoisted_1, [\n      _renderSlot(_ctx.$slots, \"prefix\")\n    ]),\n    _createElementVNode(\"input\", {\n      type: \"text\",\n      ref_key: \"inputRef\",\n      ref: inputRef,\n      disabled: _ctx.disabled,\n      value: _ctx.value,\n      placeholder: _ctx.placeholder,\n      onInput: _cache[0] || (_cache[0] = $event => handleInput($event)),\n      onFocus: _cache[1] || (_cache[1] = $event => handleFocus($event)),\n      onBlur: _cache[2] || (_cache[2] = $event => handleBlur($event)),\n      onChange: _cache[3] || (_cache[3] = $event => emit('change', $event)),\n      onKeydown: _cache[4] || (_cache[4] = _withKeys($event => emit('enter', $event), [\"enter\"]))\n    }, null, 40, _hoisted_2),\n    _createElementVNode(\"span\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"suffix\")\n    ])\n  ], 2))\n}\n}\n\n})","<template>\n  <div \n    class=\"input\"\n    :class=\"{\n      'disabled': disabled,\n      'focused': focused,\n    }\"\n  >\n    <span class=\"prefix\">\n      <slot name=\"prefix\"></slot>\n    </span>\n    <input\n      type=\"text\"\n      ref=\"inputRef\"\n      :disabled=\"disabled\"\n      :value=\"value\" \n      :placeholder=\"placeholder\"\n      @input=\"$event => handleInput($event)\"\n      @focus=\"$event => handleFocus($event)\"\n      @blur=\"$event => handleBlur($event)\"\n      @change=\"$event => emit('change', $event)\"\n      @keydown.enter=\"$event => emit('enter', $event)\"\n    />\n    <span class=\"suffix\">\n      <slot name=\"suffix\"></slot>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\n\nwithDefaults(defineProps<{\n  value: string\n  disabled?: boolean\n  placeholder?: string\n}>(), {\n  disabled: false,\n  placeholder: '',\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: string): void\n  (event: 'input', payload: Event): void\n  (event: 'change', payload: Event): void\n  (event: 'blur', payload: Event): void\n  (event: 'focus', payload: Event): void\n  (event: 'enter', payload: Event): void\n}>()\n\nconst focused = ref(false)\n\nconst handleInput = (e: Event) => {\n  emit('update:value', (e.target as HTMLInputElement).value)\n}\nconst handleBlur = (e: Event) => {\n  focused.value = false\n  emit('blur', e)\n}\nconst handleFocus = (e: Event) => {\n  focused.value = true\n  emit('focus', e)\n}\n\nconst inputRef = ref<HTMLInputElement>()\nconst focus = () => {\n  if (inputRef.value) inputRef.value.focus()\n}\n\ndefineExpose({\n  focus,\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.input {\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  padding: 0 5px;\n  border-radius: $borderRadius;\n  transition: border-color .25s;\n  font-size: 13px;\n  display: flex;\n\n  input {\n    min-width: 0;\n    height: 30px;\n    outline: 0;\n    border: 0;\n    line-height: 30px;\n    vertical-align: top;\n    color: $textColor;\n    padding: 0 5px;\n    flex: 1;\n    font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';\n\n    &::placeholder {\n      color: #bfbfbf;\n    }\n  }\n\n  &:not(.disabled):hover, &.focused {\n    border-color: $themeColor;\n  }\n\n  &.disabled {\n    background-color: #f5f5f5;\n    border-color: #dcdcdc;\n    color: #b7b7b7;\n  }\n\n  .prefix, .suffix {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 30px;\n    user-select: none;\n  }\n}\n</style>","import script from \"./Input.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Input.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Input.vue?vue&type=style&index=0&id=a97ba0dc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a97ba0dc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { type CSSProperties, onMounted, ref, watch, computed } from 'vue'\nimport tippy, { type Instance, type Placement } from 'tippy.js'\n\nimport 'tippy.js/animations/scale.css'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Popover',\n  props: {\n    value: { type: Boolean, default: false },\n    trigger: { default: 'click' },\n    placement: { default: 'bottom' },\n    appendTo: {},\n    contentStyle: {},\n    center: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst instance = ref<Instance>()\nconst triggerRef = ref<HTMLElement>()\nconst contentRef = ref<HTMLElement>()\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return props.contentStyle || {}\n})\n\nwatch(() => props.value, () => {\n  if (!instance.value) return\n  if (props.value) instance.value.show()\n  else instance.value.hide()\n})\n\nonMounted(() => {\n  instance.value = tippy(triggerRef.value!, {\n    content: contentRef.value!,\n    allowHTML: true,\n    trigger: props.trigger,\n    placement: props.placement,\n    interactive: true,\n    appendTo: props.appendTo || document.body,\n    maxWidth: 'none',\n    offset: [0, 8],\n    duration: 200,\n    animation: 'scale',\n    theme: 'popover',\n    onShow() {\n      contentVisible.value = true\n    },\n    onShown() {\n      if (!props.value) emit('update:value', true)\n    },\n    onHidden() {\n      if (props.value) emit('update:value', false)\n      contentVisible.value = false\n    },\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"popover\", { 'center': _ctx.center }]),\n    ref_key: \"triggerRef\",\n    ref: triggerRef\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"popover-content\",\n      style: _normalizeStyle(contentStyle.value),\n      ref_key: \"contentRef\",\n      ref: contentRef\n    }, [\n      (contentVisible.value)\n        ? _renderSlot(_ctx.$slots, \"content\", { key: 0 })\n        : _createCommentVNode(\"\", true)\n    ], 4),\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","<template>\n  <div class=\"popover\" :class=\"{ 'center': center }\" ref=\"triggerRef\">\n    <div class=\"popover-content\" :style=\"contentStyle\" ref=\"contentRef\">\n      <slot name=\"content\" v-if=\"contentVisible\"></slot>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { type CSSProperties, onMounted, ref, watch, computed } from 'vue'\nimport tippy, { type Instance, type Placement } from 'tippy.js'\n\nimport 'tippy.js/animations/scale.css'\n\nconst props = withDefaults(defineProps<{\n  value?: boolean\n  trigger?: 'click' | 'mouseenter' | 'manual'\n  placement?: Placement\n  appendTo?: HTMLElement | 'parent'\n  contentStyle?: CSSProperties\n  center?: boolean\n}>(), {\n  value: false,\n  trigger: 'click',\n  placement: 'bottom',\n  center: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: boolean): void\n}>()\n\nconst instance = ref<Instance>()\nconst triggerRef = ref<HTMLElement>()\nconst contentRef = ref<HTMLElement>()\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return props.contentStyle || {}\n})\n\nwatch(() => props.value, () => {\n  if (!instance.value) return\n  if (props.value) instance.value.show()\n  else instance.value.hide()\n})\n\nonMounted(() => {\n  instance.value = tippy(triggerRef.value!, {\n    content: contentRef.value!,\n    allowHTML: true,\n    trigger: props.trigger,\n    placement: props.placement,\n    interactive: true,\n    appendTo: props.appendTo || document.body,\n    maxWidth: 'none',\n    offset: [0, 8],\n    duration: 200,\n    animation: 'scale',\n    theme: 'popover',\n    onShow() {\n      contentVisible.value = true\n    },\n    onShown() {\n      if (!props.value) emit('update:value', true)\n    },\n    onHidden() {\n      if (props.value) emit('update:value', false)\n      contentVisible.value = false\n    },\n  })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.popover.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.popover-content {\n  background-color: #fff;\n  padding: 10px;\n  border: 1px solid $borderColor;\n  box-shadow: $boxShadow;\n  border-radius: $borderRadius;\n  font-size: 13px;\n}\n</style>\n\n<style lang=\"scss\">\n.tippy-box[data-theme~='popover'] {\n  border: 0;\n  outline: 0;\n}\n</style>","import script from \"./Popover.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Popover.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Popover.vue?vue&type=style&index=0&id=70fabe9a&lang=scss&scoped=true\"\nimport \"./Popover.vue?vue&type=style&index=1&id=70fabe9a&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-70fabe9a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PopoverMenuItem',\n  props: {\n    center: { type: Boolean, default: false }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"popover-menu-item\", { 'center': _ctx.center }]),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('click')))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","<template>\n  <div class=\"popover-menu-item\" :class=\"{ 'center': center }\" @click=\"emit('click')\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nwithDefaults(defineProps<{\n  center?: boolean\n}>(), {\n  center: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'click'): void\n}>()\n</script>\n\n<style lang=\"scss\" scoped>\n.popover-menu-item {\n  min-width: 80px;\n  padding: 6px 10px;\n  border-radius: $borderRadius;\n  font-size: 13px;\n  cursor: pointer;\n\n  &.center {\n    text-align: center;\n  }\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n  & + .popover-menu-item {\n    margin-top: 2px;\n  }\n}\n</style>","import script from \"./PopoverMenuItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PopoverMenuItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PopoverMenuItem.vue?vue&type=style&index=0&id=2f137c4f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f137c4f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4b5ef9ab\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editor-header\" }\nconst _hoisted_2 = { class: \"left\" }\nconst _hoisted_3 = { class: \"menu-item\" }\nconst _hoisted_4 = { class: \"title\" }\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = { class: \"right\" }\nconst _hoisted_7 = { class: \"group-menu-item\" }\nconst _hoisted_8 = { class: \"arrow-btn\" }\n\nimport { onBeforeMount, nextTick, ref, toRefs } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useScreening from '@/hooks/useScreening'\nimport useImport from '@/hooks/useImport'\nimport useExport from '@/hooks/useExport'\n\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport type { DialogForExportTypes } from '@/types/export'\nimport { encrypt } from '@/utils/crypto'\n\nimport HotkeyDoc from './HotkeyDoc.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Drawer from '@/components/Drawer.vue'\nimport Input from '@/components/Input.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\nimport axios from 'axios'\nimport { before } from 'lodash'\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  ppt_url: String,\n  pk: Number,\n},\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { title } = storeToRefs(slidesStore)\nconst { enterScreening, enterScreeningFromStart } = useScreening()\nconst { importSpecificFile, importPPTXFile, importPaper, exporting } = useImport()\nconst { resetSlides } = useSlideHandler()\n\nconst { savePPTX } = useExport()\n\nconst mainMenuVisible = ref(false)\nconst hotkeyDrawerVisible = ref(false)\nconst editingTitle = ref(false)\nconst titleInputRef = ref<InstanceType<typeof Input>>()\nconst titleValue = ref('')\n\nconst startEditTitle = () => {\n  titleValue.value = title.value\n  editingTitle.value = true\n  nextTick(() => titleInputRef.value?.focus())\n}\n\nconst save = async () => {\n  const { slides, currentSlide } = storeToRefs(useSlidesStore())\n  // const blob = new Blob([encrypt(JSON.stringify(slides))], { type: '' })\n  const blob = await savePPTX(slides.value, true, false)\n  const ppt_file = new File([blob], ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n  // console.log(ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n  const bodyFormData = new FormData()\n  // And then add the fields to the form you want to send:\n\n  bodyFormData.append('ppt', ppt_file)\n  // And then you can use axios post method (You can amend it accordingly)\n  bodyFormData.append('pk', pk.value)\n  // And then you can use axios post method (You can amend it accordingly)\n  axios({\n    method: 'post',\n    url: 'http://3.252.227.75:8005/updatePPTX/',\n    data: bodyFormData,\n    headers: { 'Content-Type': 'multipart/form-data' },\n  })\n    .then(function (response) {\n      // console.log(response)\n    })\n    .catch(function (response) {\n      // console.log(response)\n    })\n}\nconst handleUpdateTitle = () => {\n  slidesStore.setTitle(titleValue.value)\n  editingTitle.value = false\n}\n\nconst goLink = (url: string) => {\n  window.open(url)\n  mainMenuVisible.value = false\n}\n\nconst setDialogForExport = (type: DialogForExportTypes) => {\n  mainStore.setDialogForExport(type)\n  mainMenuVisible.value = false\n}\nconst props = __props\n\nconst { ppt_url } = toRefs(props)\nconst { pk } = toRefs(props)\n\n\n\n\n// ppt_url\nfunction load_file(){\n  const config = { responseType: 'blob' }\n  axios.get(ppt_url.value, config).then(response => {\n    // console.log('blob responce', response)\n    slidesStore.setTitle(ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n    // console.log('importPPTXFile', ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n   const ppt_file = new File([response.data], ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n\n   importPPTXFile(ppt_file)   \n\n  })\n}\n\nonBeforeMount(() => load_file())\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconHamburgerButton = _resolveComponent(\"IconHamburgerButton\")!\n  const _component_IconPpt = _resolveComponent(\"IconPpt\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconDownload = _resolveComponent(\"IconDownload\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Popover, {\n        trigger: \"click\",\n        placement: \"bottom-start\",\n        value: mainMenuVisible.value,\n        \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((mainMenuVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(PopoverMenuItem, {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (setDialogForExport('pptx')))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Export file\")\n            ]),\n            _: 1\n          }),\n          _createVNode(PopoverMenuItem, {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => {_unref(resetSlides)(); mainMenuVisible.value = false})\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset slideshow\")\n            ]),\n            _: 1\n          }),\n          _createVNode(PopoverMenuItem, {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => {mainMenuVisible.value = false; hotkeyDrawerVisible.value = true})\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"shortcut key\")\n            ]),\n            _: 1\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(_component_IconHamburgerButton, { class: \"icon\" })\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (editingTitle.value)\n          ? (_openBlock(), _createBlock(Input, {\n              key: 0,\n              disabled: \"\",\n              class: \"title-input\",\n              ref_key: \"titleInputRef\",\n              ref: titleInputRef,\n              value: titleValue.value,\n              \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((titleValue).value = $event)),\n              onBlur: _cache[5] || (_cache[5] = ($event: any) => (handleUpdateTitle()))\n            }, null, 8, [\"value\"]))\n          : (_openBlock(), _createElementBlock(\"div\", {\n              key: 1,\n              class: \"title-text\",\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (startEditTitle())),\n              title: _unref(title)\n            }, _toDisplayString(_unref(title)), 9, _hoisted_5))\n      ]),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"button\", {\n          class: \"saveppt\",\n          onClick: _cache[7] || (_cache[7] = ($event: any) => (save()))\n        }, \"Save\"),\n        _createTextVNode(\" >>>>>>> f8840d4ebc8e22df0108553cfbdf9ff29d328aaa \")\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"div\", _hoisted_7, [\n        _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n          class: \"menu-item\",\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(enterScreening)()))\n        }, [\n          _createVNode(_component_IconPpt, { class: \"icon\" })\n        ])), [\n          [_directive_tooltip, 'Slideshow']\n        ]),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          center: \"\"\n        }, {\n          content: _withCtx(() => [\n            _createVNode(PopoverMenuItem, {\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(enterScreeningFromStart)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Start from scratch\")\n              ]),\n              _: 1\n            }),\n            _createVNode(PopoverMenuItem, {\n              onClick: _cache[10] || (_cache[10] = ($event: any) => (_unref(enterScreening)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Start from current page\")\n              ]),\n              _: 1\n            })\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_8, [\n              _createVNode(_component_IconDown, { class: \"arrow\" })\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"menu-item\",\n        onClick: _cache[11] || (_cache[11] = ($event: any) => (setDialogForExport('pptx')))\n      }, [\n        _createVNode(_component_IconDownload, { class: \"icon\" })\n      ])), [\n        [_directive_tooltip, 'Export']\n      ])\n    ]),\n    _createVNode(Drawer, {\n      width: 320,\n      visible: hotkeyDrawerVisible.value,\n      \"onUpdate:visible\": _cache[12] || (_cache[12] = ($event: any) => ((hotkeyDrawerVisible).value = $event)),\n      placement: \"right\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(HotkeyDoc)\n      ]),\n      _: 1\n    }, 8, [\"visible\"]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"Exporting...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","<template>\n  \n  <div class=\"editor-header\">\n    <div class=\"left\">\n       \n      <Popover trigger=\"click\" placement=\"bottom-start\" v-model:value=\"mainMenuVisible\">\n        <template #content>\n         \n          <PopoverMenuItem @click=\"setDialogForExport('pptx')\">Export file</PopoverMenuItem>\n          <PopoverMenuItem @click=\"resetSlides(); mainMenuVisible = false\">Reset slideshow</PopoverMenuItem>\n          <PopoverMenuItem @click=\"mainMenuVisible = false; hotkeyDrawerVisible = true\">shortcut key</PopoverMenuItem>\n        </template>\n        <div class=\"menu-item\"><IconHamburgerButton class=\"icon\" /></div>\n      </Popover>\n\n      <div class=\"title\">\n        <Input  disabled\n          class=\"title-input\" \n          ref=\"titleInputRef\"\n          v-model:value=\"titleValue\" \n          @blur=\"handleUpdateTitle()\" \n          v-if=\"editingTitle\" \n        ></Input>\n        <div \n          class=\"title-text\"\n          @click=\"startEditTitle()\"\n          :title=\"title\"\n          v-else\n        >{{ title }}</div>\n      </div>\n      <div>\n             <button class=\"saveppt\" @click=\"save()\">Save</button>\n\n>>>>>>> f8840d4ebc8e22df0108553cfbdf9ff29d328aaa\n      </div>\n    </div>\n\n    <div class=\"right\">\n      <div class=\"group-menu-item\">\n        <div class=\"menu-item\" v-tooltip=\"'Slideshow'\" @click=\"enterScreening()\">\n          <IconPpt class=\"icon\" />\n        </div>\n        <Popover trigger=\"click\" center>\n          <template #content>\n            <PopoverMenuItem @click=\"enterScreeningFromStart()\">Start from scratch</PopoverMenuItem>\n            <PopoverMenuItem @click=\"enterScreening()\">Start from current page</PopoverMenuItem>\n          </template>\n          <div class=\"arrow-btn\"><IconDown class=\"arrow\" /></div>\n        </Popover>\n      </div>\n      <div class=\"menu-item\" v-tooltip=\"'Export'\" @click=\"setDialogForExport('pptx')\">\n        <IconDownload class=\"icon\" />\n      </div>\n     \n    </div>\n\n    <Drawer\n      :width=\"320\"\n      v-model:visible=\"hotkeyDrawerVisible\"\n      placement=\"right\"\n    >\n      <HotkeyDoc />\n    </Drawer>\n\n    <FullscreenSpin :loading=\"exporting\" tip=\"Exporting...\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onBeforeMount, nextTick, ref, toRefs } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useScreening from '@/hooks/useScreening'\nimport useImport from '@/hooks/useImport'\nimport useExport from '@/hooks/useExport'\n\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport type { DialogForExportTypes } from '@/types/export'\nimport { encrypt } from '@/utils/crypto'\n\nimport HotkeyDoc from './HotkeyDoc.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Drawer from '@/components/Drawer.vue'\nimport Input from '@/components/Input.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\nimport axios from 'axios'\nimport { before } from 'lodash'\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { title } = storeToRefs(slidesStore)\nconst { enterScreening, enterScreeningFromStart } = useScreening()\nconst { importSpecificFile, importPPTXFile, importPaper, exporting } = useImport()\nconst { resetSlides } = useSlideHandler()\n\nconst { savePPTX } = useExport()\n\nconst mainMenuVisible = ref(false)\nconst hotkeyDrawerVisible = ref(false)\nconst editingTitle = ref(false)\nconst titleInputRef = ref<InstanceType<typeof Input>>()\nconst titleValue = ref('')\n\nconst startEditTitle = () => {\n  titleValue.value = title.value\n  editingTitle.value = true\n  nextTick(() => titleInputRef.value?.focus())\n}\n\nconst save = async () => {\n  const { slides, currentSlide } = storeToRefs(useSlidesStore())\n  // const blob = new Blob([encrypt(JSON.stringify(slides))], { type: '' })\n  const blob = await savePPTX(slides.value, true, false)\n  const ppt_file = new File([blob], ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n  // console.log(ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n  const bodyFormData = new FormData()\n  // And then add the fields to the form you want to send:\n\n  bodyFormData.append('ppt', ppt_file)\n  // And then you can use axios post method (You can amend it accordingly)\n  bodyFormData.append('pk', pk.value)\n  // And then you can use axios post method (You can amend it accordingly)\n  axios({\n    method: 'post',\n    url: 'http://3.252.227.75:8005/updatePPTX/',\n    data: bodyFormData,\n    headers: { 'Content-Type': 'multipart/form-data' },\n  })\n    .then(function (response) {\n      // console.log(response)\n    })\n    .catch(function (response) {\n      // console.log(response)\n    })\n}\nconst handleUpdateTitle = () => {\n  slidesStore.setTitle(titleValue.value)\n  editingTitle.value = false\n}\n\nconst goLink = (url: string) => {\n  window.open(url)\n  mainMenuVisible.value = false\n}\n\nconst setDialogForExport = (type: DialogForExportTypes) => {\n  mainStore.setDialogForExport(type)\n  mainMenuVisible.value = false\n}\nconst props = defineProps({\n  ppt_url: String,\n  pk: Number,\n})\n\nconst { ppt_url } = toRefs(props)\nconst { pk } = toRefs(props)\n\n\n\n\n// ppt_url\nfunction load_file(){\n  const config = { responseType: 'blob' }\n  axios.get(ppt_url.value, config).then(response => {\n    // console.log('blob responce', response)\n    slidesStore.setTitle(ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n    // console.log('importPPTXFile', ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n   const ppt_file = new File([response.data], ppt_url.value?.substring(ppt_url.value.lastIndexOf('/') + 1))\n\n   importPPTXFile(ppt_file)   \n\n  })\n}\n\nonBeforeMount(() => load_file())\n\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n.editor-header {\n  background-color: #fff;\n  user-select: none;\n  border-bottom: 1px solid $borderColor;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 5px;\n}\n.left, .right {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.menu-item {\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  padding: 0 10px;\n  border-radius: $borderRadius;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    color: #666;\n  }\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n}\n.group-menu-item {\n  height: 30px;\n  display: flex;\n  margin: 0 8px;\n  padding: 0 2px;\n  border-radius: $borderRadius;\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n\n  .menu-item {\n    padding: 0 3px;\n  }\n  .arrow-btn {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n  }\n}\n.title {\n  height: 32px;\n  margin-left: 2px;\n  font-size: 13px;\n\n  .title-input {\n    width: 200px;\n    height: 100%;\n    padding-left: 0;\n    padding-right: 0;\n  }\n  .title-text {\n    min-width: 20px;\n    max-width: 400px;\n    line-height: 32px;\n    padding: 0 6px;\n    border-radius: $borderRadius;\n    cursor: pointer;\n\n    @include ellipsis-oneline();\n\n    &:hover {\n      background-color: #f1f1f1;\n    }\n  }\n}\n.github-link {\n  display: inline-block;\n  height: 30px;\n}\n.saveppt\n{\n  \n  background-color: #555555; \n  border: none;\n  color: white;\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin-left: 80px;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4b5ef9ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4b5ef9ab\"]])\n\nexport default __exports__","import type { InjectionKey, Ref } from 'vue'\n\nexport type SlideScale = Ref<number>\nexport type SlideId = Ref<string>\nexport type RadioGroupValue = {\n  value: Ref<string>\n  updateValue: (value: string) => void\n}\n\nexport const injectKeySlideScale: InjectionKey<SlideScale> = Symbol()\nexport const injectKeySlideId: InjectionKey<SlideId> = Symbol()\nexport const injectKeyRadioGroupValue: InjectionKey<RadioGroupValue> = Symbol()","// \nexport const removeAllRanges = () => {\n  const selection = window.getSelection()\n  selection && selection.removeAllRanges()\n}","import { ref, computed, onMounted, onUnmounted, watch, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nexport default (canvasRef: Ref<HTMLElement | undefined>) => {\n  const viewportLeft = ref(0)\n  const viewportTop = ref(0)\n\n  const mainStore = useMainStore()\n  const { canvasPercentage, canvasDragged } = storeToRefs(mainStore)\n  const { viewportRatio } = storeToRefs(useSlidesStore())\n\n  // \n  const initViewportPosition = () => {\n    if (!canvasRef.value) return\n    const canvasWidth = canvasRef.value.clientWidth\n    const canvasHeight = canvasRef.value.clientHeight\n\n    if (canvasHeight / canvasWidth > viewportRatio.value) {\n      const viewportActualWidth = canvasWidth * (canvasPercentage.value / 100)\n      mainStore.setCanvasScale(viewportActualWidth / VIEWPORT_SIZE)\n      viewportLeft.value = (canvasWidth - viewportActualWidth) / 2\n      viewportTop.value = (canvasHeight - viewportActualWidth * viewportRatio.value) / 2\n    }\n    else {\n      const viewportActualHeight = canvasHeight * (canvasPercentage.value / 100)\n      mainStore.setCanvasScale(viewportActualHeight / (VIEWPORT_SIZE * viewportRatio.value))\n      viewportLeft.value = (canvasWidth - viewportActualHeight / viewportRatio.value) / 2\n      viewportTop.value = (canvasHeight - viewportActualHeight) / 2\n    }\n  }\n\n  // \n  const setViewportPosition = (newValue: number, oldValue: number) => {\n    if (!canvasRef.value) return\n    const canvasWidth = canvasRef.value.clientWidth\n    const canvasHeight = canvasRef.value.clientHeight\n\n    const newViewportActualWidth = canvasWidth * (newValue / 100)\n    const oldViewportActualWidth = canvasWidth * (oldValue / 100)\n    const newViewportActualHeight = canvasHeight * (newValue / 100)\n    const oldViewportActualHeight = canvasHeight * (oldValue / 100)\n\n    if (canvasHeight / canvasWidth > viewportRatio.value) {\n      mainStore.setCanvasScale(newViewportActualWidth / VIEWPORT_SIZE)\n    }\n    else {\n      mainStore.setCanvasScale(newViewportActualHeight / (VIEWPORT_SIZE * viewportRatio.value))\n    }\n    viewportLeft.value = viewportLeft.value - (newViewportActualWidth - oldViewportActualWidth) / 2\n    viewportTop.value = viewportTop.value - (newViewportActualHeight - oldViewportActualHeight) / 2\n  }\n\n  // /\n  watch(canvasPercentage, setViewportPosition)\n  watch(viewportRatio, initViewportPosition)\n\n  // \n  watch(canvasDragged, () => {\n    if (!canvasDragged.value) initViewportPosition()\n  })\n\n  // \n  const viewportStyles = computed(() => ({\n    width: VIEWPORT_SIZE,\n    height: VIEWPORT_SIZE * viewportRatio.value,\n    left: viewportLeft.value,\n    top: viewportTop.value,\n  }))\n\n  // \n  const resizeObserver = new ResizeObserver(initViewportPosition)\n\n  onMounted(() => {\n    if (canvasRef.value) resizeObserver.observe(canvasRef.value)\n  })\n  onUnmounted(() => {\n    if (canvasRef.value) resizeObserver.unobserve(canvasRef.value)\n  })\n\n  // \n  const dragViewport = (e: MouseEvent) => {\n    let isMouseDown = true\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const originLeft = viewportLeft.value\n    const originTop = viewportTop.value\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      viewportLeft.value = originLeft + (currentPageX - startPageX)\n      viewportTop.value = originTop + (currentPageY - startPageY)\n    }\n\n    document.onmouseup = () => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      mainStore.setCanvasDragged(true)\n    }\n  }\n\n  return {\n    viewportStyles,\n    dragViewport,\n  }\n}","import { type Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { getElementRange } from '@/utils/element'\n\nexport default (elementList: Ref<PPTElement[]>, viewportRef: Ref<HTMLElement | undefined>) => {\n  const mainStore = useMainStore()\n  const { canvasScale, hiddenElementIdList } = storeToRefs(mainStore)\n\n  const mouseSelectionVisible = ref(false)\n  const mouseSelectionQuadrant = ref(1)\n  const mouseSelection = ref({\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0,\n  })\n\n  // \n  const updateMouseSelection = (e: MouseEvent) => {\n    if (!viewportRef.value) return\n\n    let isMouseDown = true\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const minSelectionRange = 5\n    \n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const left = (startPageX - viewportRect.x) / canvasScale.value\n    const top = (startPageY - viewportRect.y) / canvasScale.value\n\n    // \n    mouseSelection.value = {\n      top: top,\n      left: left,\n      width: 0,\n      height: 0,\n    }\n    mouseSelectionVisible.value = false\n    mouseSelectionQuadrant.value = 4\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const offsetWidth = (currentPageX - startPageX) / canvasScale.value\n      const offsetHeight = (currentPageY - startPageY) / canvasScale.value\n\n      const width = Math.abs(offsetWidth)\n      const height = Math.abs(offsetHeight)\n\n      if ( width < minSelectionRange || height < minSelectionRange ) return\n      \n      // \n      // \n      let quadrant = 0\n      if ( offsetWidth > 0 && offsetHeight > 0 ) quadrant = 4\n      else if ( offsetWidth < 0 && offsetHeight < 0 ) quadrant = 2\n      else if ( offsetWidth > 0 && offsetHeight < 0 ) quadrant = 1\n      else if ( offsetWidth < 0 && offsetHeight > 0 ) quadrant = 3\n\n      // \n      mouseSelection.value = {\n        ...mouseSelection.value,\n        width: width,\n        height: height,\n      }\n      mouseSelectionVisible.value = true\n      mouseSelectionQuadrant.value = quadrant\n    }\n\n    document.onmouseup = () => {\n      document.onmousemove = null\n      document.onmouseup = null\n      isMouseDown = false\n\n      // \n      let inRangeElementList: PPTElement[] = []\n      for (let i = 0; i < elementList.value.length; i++) {\n        const element = elementList.value[i]\n        const mouseSelectionLeft = mouseSelection.value.left\n        const mouseSelectionTop = mouseSelection.value.top\n        const mouseSelectionWidth = mouseSelection.value.width\n        const mouseSelectionHeight = mouseSelection.value.height\n\n        const { minX, maxX, minY, maxY } = getElementRange(element)\n\n        // \n        let isInclude = false\n        if (mouseSelectionQuadrant.value === 4) {\n          isInclude = minX > mouseSelectionLeft && \n                      maxX < mouseSelectionLeft + mouseSelectionWidth && \n                      minY > mouseSelectionTop && \n                      maxY < mouseSelectionTop + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 2) {\n          isInclude = minX > (mouseSelectionLeft - mouseSelectionWidth) && \n                      maxX < (mouseSelectionLeft - mouseSelectionWidth) + mouseSelectionWidth && \n                      minY > (mouseSelectionTop - mouseSelectionHeight) && \n                      maxY < (mouseSelectionTop - mouseSelectionHeight) + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 1) {\n          isInclude = minX > mouseSelectionLeft && \n                      maxX < mouseSelectionLeft + mouseSelectionWidth && \n                      minY > (mouseSelectionTop - mouseSelectionHeight) && \n                      maxY < (mouseSelectionTop - mouseSelectionHeight) + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 3) {\n          isInclude = minX > (mouseSelectionLeft - mouseSelectionWidth) && \n                      maxX < (mouseSelectionLeft - mouseSelectionWidth) + mouseSelectionWidth && \n                      minY > mouseSelectionTop && \n                      maxY < mouseSelectionTop + mouseSelectionHeight\n        }\n\n        // \n        if (isInclude && !element.lock && !hiddenElementIdList.value.includes(element.id)) inRangeElementList.push(element)\n      }\n\n      // \n      inRangeElementList = inRangeElementList.filter(inRangeElement => {\n        if (inRangeElement.groupId) {\n          const inRangeElementIdList = inRangeElementList.map(inRangeElement => inRangeElement.id)\n          const groupElementList = elementList.value.filter(element => element.groupId === inRangeElement.groupId)\n          return groupElementList.every(groupElement => inRangeElementIdList.includes(groupElement.id))\n        }\n        return true\n      })\n      const inRangeElementIdList = inRangeElementList.map(inRangeElement => inRangeElement.id)\n      mainStore.setActiveElementIdList(inRangeElementIdList)\n\n      mouseSelectionVisible.value = false\n    }\n  }\n\n  return {\n    mouseSelection,\n    mouseSelectionVisible,\n    mouseSelectionQuadrant,\n    updateMouseSelection,\n  }\n}","import { onMounted, onUnmounted, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nexport default (elementRef: Ref<HTMLElement | undefined>) => {\n  const { disableHotkeys } = storeToRefs(useMainStore())\n\n  const { createImageElement, createTextElement } = useCreateElement()\n\n  // \n  const handleDrop = (e: DragEvent) => {\n    if (!e.dataTransfer || e.dataTransfer.items.length === 0) return\n    const dataTransferItem = e.dataTransfer.items[0]\n\n    // \n    if (dataTransferItem.kind === 'file' && dataTransferItem.type.indexOf('image') !== -1) {\n      const imageFile = dataTransferItem.getAsFile()\n      if (imageFile) {\n        getImageDataURL(imageFile).then(dataURL => createImageElement(dataURL))\n      }\n    }\n    else if (dataTransferItem.kind === 'string' && dataTransferItem.type === 'text/plain') {\n      dataTransferItem.getAsString(text => {\n        if (disableHotkeys.value) return\n        const string = parseText2Paragraphs(text)\n        createTextElement({\n          left: 0,\n          top: 0,\n          width: 600,\n          height: 50,\n        }, { content: string })\n      })\n    }\n  }\n\n  onMounted(() => {\n    elementRef.value && elementRef.value.addEventListener('drop', handleDrop)\n\n    document.ondragleave = e => e.preventDefault()\n    document.ondrop = e => e.preventDefault()\n    document.ondragenter = e => e.preventDefault()\n    document.ondragover = e => e.preventDefault()\n  })\n  onUnmounted(() => {\n    elementRef.value && elementRef.value.removeEventListener('drop', handleDrop)\n\n    document.ondragleave = null\n    document.ondrop = null\n    document.ondragenter = null\n    document.ondragover = null\n  })\n}","import type { Ref } from 'vue'\nimport { useSlidesStore } from '@/store'\nimport type { PPTElement, PPTLineElement, PPTVideoElement, PPTAudioElement, PPTChartElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\n/**\n * \n * @param x x\n * @param y y\n */\nconst getAngleFromCoordinate = (x: number, y: number) => {\n  const radian = Math.atan2(x, y)\n  const angle = 180 / Math.PI * radian\n  return angle\n}\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  viewportRef: Ref<HTMLElement | undefined>,\n  canvasScale: Ref<number>,\n) => {\n  const slidesStore = useSlidesStore()\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const rotateElement = (e: MouseEvent | TouchEvent, element: Exclude<PPTElement, PPTChartElement | PPTLineElement | PPTVideoElement | PPTAudioElement>) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n  \n    let isMouseDown = true\n    let angle = 0\n    const elOriginRotate = element.rotate || 0\n\n    const elLeft = element.left\n    const elTop = element.top\n    const elWidth = element.width\n    const elHeight = element.height\n\n    // \n    const centerX = elLeft + elWidth / 2\n    const centerY = elTop + elHeight / 2\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      if (!isMouseDown) return\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n      \n      // \n      const mouseX = (currentPageX - viewportRect.left) / canvasScale.value\n      const mouseY = (currentPageY - viewportRect.top) / canvasScale.value\n      const x = mouseX - centerX\n      const y = centerY - mouseY\n\n      angle = getAngleFromCoordinate(x, y)\n\n      // 45\n      const sorptionRange = 5\n      if ( Math.abs(angle) <= sorptionRange ) angle = 0\n      else if ( angle > 0 && Math.abs(angle - 45) <= sorptionRange ) angle -= (angle - 45)\n      else if ( angle < 0 && Math.abs(angle + 45) <= sorptionRange ) angle -= (angle + 45)\n      else if ( angle > 0 && Math.abs(angle - 90) <= sorptionRange ) angle -= (angle - 90)\n      else if ( angle < 0 && Math.abs(angle + 90) <= sorptionRange ) angle -= (angle + 90)\n      else if ( angle > 0 && Math.abs(angle - 135) <= sorptionRange ) angle -= (angle - 135)\n      else if ( angle < 0 && Math.abs(angle + 135) <= sorptionRange ) angle -= (angle + 135)\n      else if ( angle > 0 && Math.abs(angle - 180) <= sorptionRange ) angle -= (angle - 180)\n      else if ( angle < 0 && Math.abs(angle + 180) <= sorptionRange ) angle -= (angle + 180)\n\n      elementList.value = elementList.value.map(el => element.id === el.id ? { ...el, rotate: angle } : el)\n    }\n\n    const handleMouseup = () => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      if (elOriginRotate === angle) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  return {\n    rotateElement,\n  }\n}","export const ELEMENT_TYPE_ZH: { [key: string]: string } = {\n  text: 'text',\n  image: 'picture',\n  shape: 'shape',\n  line: 'line',\n  chart: 'chart',\n  table: 'table',\n  video: 'video',\n  audio: 'audio',\n  latex: 'formula',\n}\n\nexport const MIN_SIZE: { [key: string]: number } = {\n  text: 20,\n  image: 20,\n  shape: 15,\n  chart: 200,\n  table: 20,\n  video: 250,\n  audio: 20,\n  latex: 20,\n}","import type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport type { PPTElement, PPTImageElement, PPTLineElement, PPTShapeElement } from '@/types/slides'\nimport { OperateResizeHandlers, type AlignmentLineProps, type MultiSelectRange } from '@/types/edit'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { MIN_SIZE } from '@/configs/element'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport { type AlignLine, uniqAlignLines } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface RotateElementData {\n  left: number\n  top: number\n  width: number\n  height: number\n}\n\n/**\n * \n * @param element \n * @param angle \n */\nconst getRotateElementPoints = (element: RotateElementData, angle: number) => {\n  const { left, top, width, height } = element\n\n  const radius = Math.sqrt( Math.pow(width, 2) + Math.pow(height, 2) ) / 2\n  const auxiliaryAngle = Math.atan(height / width) * 180 / Math.PI\n\n  const tlbraRadian = (180 - angle - auxiliaryAngle) * Math.PI / 180\n  const trblaRadian = (auxiliaryAngle - angle) * Math.PI / 180\n  const taRadian = (90 - angle) * Math.PI / 180\n  const raRadian = angle * Math.PI / 180\n\n  const halfWidth = width / 2\n  const halfHeight = height / 2\n\n  const middleLeft = left + halfWidth\n  const middleTop = top + halfHeight\n\n  const leftTopPoint = {\n    left: middleLeft + radius * Math.cos(tlbraRadian),\n    top: middleTop - radius * Math.sin(tlbraRadian),\n  }\n  const topPoint = {\n    left: middleLeft + halfHeight * Math.cos(taRadian),\n    top: middleTop - halfHeight * Math.sin(taRadian),\n  }\n  const rightTopPoint = {\n    left: middleLeft + radius * Math.cos(trblaRadian),\n    top: middleTop - radius * Math.sin(trblaRadian),\n  }\n  const rightPoint = {\n    left: middleLeft + halfWidth * Math.cos(raRadian),\n    top: middleTop + halfWidth * Math.sin(raRadian),\n  }\n  const rightBottomPoint = {\n    left: middleLeft - radius * Math.cos(tlbraRadian),\n    top: middleTop + radius * Math.sin(tlbraRadian),\n  }\n  const bottomPoint = {\n    left: middleLeft - halfHeight * Math.sin(raRadian),\n    top: middleTop + halfHeight * Math.cos(raRadian),\n  }\n  const leftBottomPoint = {\n    left: middleLeft - radius * Math.cos(trblaRadian),\n    top: middleTop + radius * Math.sin(trblaRadian),\n  }\n  const leftPoint = {\n    left: middleLeft - halfWidth * Math.cos(raRadian),\n    top: middleTop - halfWidth * Math.sin(raRadian),\n  }\n\n  return { leftTopPoint, topPoint, rightTopPoint, rightPoint, rightBottomPoint, bottomPoint, leftBottomPoint, leftPoint }\n}\n\n/**\n * \n * @param direction \n * @param points \n */\nconst getOppositePoint = (direction: OperateResizeHandlers, points: ReturnType<typeof getRotateElementPoints>): { left: number; top: number } => {\n  const oppositeMap = {\n    [OperateResizeHandlers.RIGHT_BOTTOM]: points.leftTopPoint,\n    [OperateResizeHandlers.LEFT_BOTTOM]: points.rightTopPoint,\n    [OperateResizeHandlers.LEFT_TOP]: points.rightBottomPoint,\n    [OperateResizeHandlers.RIGHT_TOP]: points.leftBottomPoint,\n    [OperateResizeHandlers.TOP]: points.bottomPoint,\n    [OperateResizeHandlers.BOTTOM]: points.topPoint,\n    [OperateResizeHandlers.LEFT]: points.rightPoint,\n    [OperateResizeHandlers.RIGHT]: points.leftPoint,\n  }\n  return oppositeMap[direction]\n}\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  alignmentLines: Ref<AlignmentLineProps[]>,\n  canvasScale: Ref<number>,\n) => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(mainStore)\n  const { viewportRatio } = storeToRefs(slidesStore)\n  const { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const scaleElement = (e: MouseEvent | TouchEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    let isMouseDown = true\n    mainStore.setScalingState(true)\n\n    const elOriginLeft = element.left\n    const elOriginTop = element.top\n    const elOriginWidth = element.width\n    const elOriginHeight = element.height\n\n    const originTableCellMinHeight = element.type === 'table' ? element.cellMinHeight : 0\n    \n    const elRotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n    const rotateRadian = Math.PI * elRotate / 180\n\n    const fixedRatio = ctrlOrShiftKeyActive.value || ('fixedRatio' in element && element.fixedRatio)\n    const aspectRatio = elOriginWidth / elOriginHeight\n\n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    // \n    const minSize = MIN_SIZE[element.type] || 20\n    const getSizeWithinRange = (size: number) => size < minSize ? minSize : size\n\n    let points: ReturnType<typeof getRotateElementPoints>\n    let baseLeft = 0\n    let baseTop = 0\n    let horizontalLines: AlignLine[] = []\n    let verticalLines: AlignLine[] = []\n\n    // \n    // \n    if ('rotate' in element && element.rotate) {\n      const { left, top, width, height } = element\n      points = getRotateElementPoints({ left, top, width, height }, elRotate)\n      const oppositePoint = getOppositePoint(command, points)\n\n      baseLeft = oppositePoint.left\n      baseTop = oppositePoint.top\n    }\n\n    // \n    // \n    // \n    else {\n      const edgeWidth = VIEWPORT_SIZE\n      const edgeHeight = VIEWPORT_SIZE * viewportRatio.value\n      const isActiveGroupElement = element.id === activeGroupElementId.value\n      \n      for (const el of elementList.value) {\n        if ('rotate' in el && el.rotate) continue\n        if (el.type === 'line') continue\n        if (isActiveGroupElement && el.id === element.id) continue\n        if (!isActiveGroupElement && activeElementIdList.value.includes(el.id)) continue\n\n        const left = el.left\n        const top = el.top\n        const width = el.width\n        const height = el.height\n        const right = left + width\n        const bottom = top + height\n\n        const topLine: AlignLine = { value: top, range: [left, right] }\n        const bottomLine: AlignLine = { value: bottom, range: [left, right] }\n        const leftLine: AlignLine = { value: left, range: [top, bottom] }\n        const rightLine: AlignLine = { value: right, range: [top, bottom] }\n\n        horizontalLines.push(topLine, bottomLine)\n        verticalLines.push(leftLine, rightLine)\n      }\n\n      // \n      const edgeTopLine: AlignLine = { value: 0, range: [0, edgeWidth] }\n      const edgeBottomLine: AlignLine = { value: edgeHeight, range: [0, edgeWidth] }\n      const edgeHorizontalCenterLine: AlignLine = { value: edgeHeight / 2, range: [0, edgeWidth] }\n      const edgeLeftLine: AlignLine = { value: 0, range: [0, edgeHeight] }\n      const edgeRightLine: AlignLine = { value: edgeWidth, range: [0, edgeHeight] }\n      const edgeVerticalCenterLine: AlignLine = { value: edgeWidth / 2, range: [0, edgeHeight] }\n\n      horizontalLines.push(edgeTopLine, edgeBottomLine, edgeHorizontalCenterLine)\n      verticalLines.push(edgeLeftLine, edgeRightLine, edgeVerticalCenterLine)\n      \n      horizontalLines = uniqAlignLines(horizontalLines)\n      verticalLines = uniqAlignLines(verticalLines)\n    }\n    \n    // \n    // \n    // \n    const alignedAdsorption = (currentX: number | null, currentY: number | null) => {\n      const sorptionRange = 5\n\n      const _alignmentLines: AlignmentLineProps[] = []\n      let isVerticalAdsorbed = false\n      let isHorizontalAdsorbed = false\n      const correctionVal = { offsetX: 0, offsetY: 0 }\n      \n      if (currentY || currentY === 0) {\n        for (let i = 0; i < horizontalLines.length; i++) {\n          const { value, range } = horizontalLines[i]\n          const min = Math.min(...range, currentX || 0)\n          const max = Math.max(...range, currentX || 0)\n          \n          if (Math.abs(currentY - value) < sorptionRange && !isHorizontalAdsorbed) {\n            correctionVal.offsetY = currentY - value\n            isHorizontalAdsorbed = true\n            _alignmentLines.push({ type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100 })\n          }\n        }\n      }\n      if (currentX || currentX === 0) {\n        for (let i = 0; i < verticalLines.length; i++) {\n          const { value, range } = verticalLines[i]\n          const min = Math.min(...range, (currentY || 0))\n          const max = Math.max(...range, (currentY || 0))\n\n          if (Math.abs(currentX - value) < sorptionRange && !isVerticalAdsorbed) {\n            correctionVal.offsetX = currentX - value\n            isVerticalAdsorbed = true\n            _alignmentLines.push({ type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100 })\n          }\n        }\n      }\n      alignmentLines.value = _alignmentLines\n      return correctionVal\n    }\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      if (!isMouseDown) return\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      const x = currentPageX - startPageX\n      const y = currentPageY - startPageY\n\n      let width = elOriginWidth\n      let height = elOriginHeight\n      let left = elOriginLeft\n      let top = elOriginTop\n      \n      // \n      if (elRotate) {\n        const revisedX = (Math.cos(rotateRadian) * x + Math.sin(rotateRadian) * y) / canvasScale.value\n        let revisedY = (Math.cos(rotateRadian) * y - Math.sin(rotateRadian) * x) / canvasScale.value\n\n        // \n        // \n        if (fixedRatio) {\n          if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) revisedY = revisedX / aspectRatio\n          if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) revisedY = -revisedX / aspectRatio\n        }\n\n        // \n        // \n        // +\n        // \n        if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n        }\n        else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.LEFT_TOP) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          left = elOriginLeft - (width - elOriginWidth)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.RIGHT_TOP) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.TOP) {\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.BOTTOM) {\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n        }\n        else if (command === OperateResizeHandlers.LEFT) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.RIGHT) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n        }\n\n        // \n        const currentPoints = getRotateElementPoints({ width, height, left, top }, elRotate)\n        const currentOppositePoint = getOppositePoint(command, currentPoints)\n        const currentBaseLeft = currentOppositePoint.left\n        const currentBaseTop = currentOppositePoint.top\n\n        const offsetX = currentBaseLeft - baseLeft\n        const offsetY = currentBaseTop - baseTop\n\n        left = left - offsetX\n        top = top - offsetY\n      }\n\n      // \n      // \n      // \n      else {\n        let moveX = x / canvasScale.value\n        let moveY = y / canvasScale.value\n\n        if (fixedRatio) {\n          if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) moveY = moveX / aspectRatio\n          if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) moveY = -moveX / aspectRatio\n        }\n\n        if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, elOriginTop + elOriginHeight + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = moveY * aspectRatio\n            else moveY = moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth + moveX)\n          height = getSizeWithinRange(elOriginHeight + moveY)\n        }\n        else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + moveX, elOriginTop + elOriginHeight + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = -moveY * aspectRatio\n            else moveY = -moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          height = getSizeWithinRange(elOriginHeight + moveY)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.LEFT_TOP) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + moveX, elOriginTop + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = moveY * aspectRatio\n            else moveY = moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          left = elOriginLeft - (width - elOriginWidth)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.RIGHT_TOP) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, elOriginTop + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = -moveY * aspectRatio\n            else moveY = -moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth + moveX)\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.LEFT) {\n          const { offsetX } = alignedAdsorption(elOriginLeft + moveX, null)\n          moveX = moveX - offsetX\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.RIGHT) {\n          const { offsetX } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, null)\n          moveX = moveX - offsetX\n          width = getSizeWithinRange(elOriginWidth + moveX)\n        }\n        else if (command === OperateResizeHandlers.TOP) {\n          const { offsetY } = alignedAdsorption(null, elOriginTop + moveY)\n          moveY = moveY - offsetY\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.BOTTOM) {\n          const { offsetY } = alignedAdsorption(null, elOriginTop + elOriginHeight + moveY)\n          moveY = moveY - offsetY\n          height = getSizeWithinRange(elOriginHeight + moveY)\n        }\n      }\n      \n      elementList.value = elementList.value.map(el => {\n        if (element.id !== el.id) return el\n        if (el.type === 'shape' && 'pathFormula' in el && el.pathFormula) {\n          const pathFormula = SHAPE_PATH_FORMULAS[el.pathFormula]\n\n          let path = ''\n          if ('editable' in pathFormula) path = pathFormula.formula(width, height, el.keypoint!)\n          else path = pathFormula.formula(width, height)\n\n          return {\n            ...el, left, top, width, height,\n            viewBox: [width, height],\n            path,\n          }\n        }\n        if (el.type === 'table') {\n          let cellMinHeight = originTableCellMinHeight + (height - elOriginHeight) / el.data.length\n          cellMinHeight = cellMinHeight < 36 ? 36 : cellMinHeight\n\n          if (cellMinHeight === originTableCellMinHeight) return { ...el, left, width }\n          return {\n            ...el, left, top, width, height,\n            cellMinHeight: cellMinHeight < 36 ? 36 : cellMinHeight,\n          }\n        }\n        return { ...el, left, top, width, height }\n      })\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      alignmentLines.value = []\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n      \n      if (startPageX === currentPageX && startPageY === currentPageY) return\n      \n      slidesStore.updateSlide({ elements: elementList.value })\n      mainStore.setScalingState(false)\n      \n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  // \n  const scaleMultiElement = (e: MouseEvent, range: MultiSelectRange, command: OperateResizeHandlers) => {\n    let isMouseDown = true\n    \n    const { minX, maxX, minY, maxY } = range\n    const operateWidth = maxX - minX\n    const operateHeight = maxY - minY\n    const aspectRatio = operateWidth / operateHeight\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const originElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList.value))\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n      \n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const x = (currentPageX - startPageX) / canvasScale.value\n      let y = (currentPageY - startPageY) / canvasScale.value\n\n      // \n      if (ctrlOrShiftKeyActive.value) {\n        if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) y = x / aspectRatio\n        if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) y = -x / aspectRatio\n      }\n\n      // \n      let currentMinX = minX\n      let currentMaxX = maxX\n      let currentMinY = minY\n      let currentMaxY = maxY\n\n      if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n        currentMaxX = maxX + x\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n        currentMinX = minX + x\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT_TOP) {\n        currentMinX = minX + x\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.RIGHT_TOP) {\n        currentMaxX = maxX + x\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.TOP) {\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.BOTTOM) {\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT) {\n        currentMinX = minX + x\n      }\n      else if (command === OperateResizeHandlers.RIGHT) {\n        currentMaxX = maxX + x\n      }\n\n      // \n      const currentOppositeWidth = currentMaxX - currentMinX\n      const currentOppositeHeight = currentMaxY - currentMinY\n\n      // \n      let widthScale = currentOppositeWidth / operateWidth\n      let heightScale = currentOppositeHeight / operateHeight\n\n      if (widthScale <= 0) widthScale = 0\n      if (heightScale <= 0) heightScale = 0\n      \n      // \n      elementList.value = elementList.value.map(el => {\n        if ((el.type === 'image' || el.type === 'shape') && activeElementIdList.value.includes(el.id)) {\n          const originElement = originElementList.find(originEl => originEl.id === el.id) as PPTImageElement | PPTShapeElement\n          return {\n            ...el,\n            width: originElement.width * widthScale,\n            height: originElement.height * heightScale,\n            left: currentMinX + (originElement.left - minX) * widthScale,\n            top: currentMinY + (originElement.top - minY) * heightScale,\n          }\n        }\n        return el\n      })\n    }\n\n    document.onmouseup = e => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      if (startPageX === e.pageX && startPageY === e.pageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n  }\n\n  return {\n    scaleElement,\n    scaleMultiElement,\n  }\n}","import type { Ref } from 'vue'\nimport { uniq } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  moveElement: (e: MouseEvent | TouchEvent, element: PPTElement) => void,\n) => {\n  const mainStore = useMainStore()\n  const { activeElementIdList, activeGroupElementId, handleElementId, editorAreaFocus } = storeToRefs(mainStore)\n  const { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\n  // \n  // startMove \n  const selectElement = (e: MouseEvent | TouchEvent, element: PPTElement, startMove = true) => {\n    if (!editorAreaFocus.value) mainStore.setEditorareaFocus(true)\n\n    // \n    // CtrlShift\n    // \n    if (!activeElementIdList.value.includes(element.id)) {\n      let newActiveIdList: string[] = []\n\n      if (ctrlOrShiftKeyActive.value) {\n        newActiveIdList = [...activeElementIdList.value, element.id]\n      }\n      else newActiveIdList = [element.id]\n      \n      if (element.groupId) {\n        const groupMembersId: string[] = []\n        elementList.value.forEach((el: PPTElement) => {\n          if (el.groupId === element.groupId) groupMembersId.push(el.id)\n        })\n        newActiveIdList = [...newActiveIdList, ...groupMembersId]\n      }\n\n      mainStore.setActiveElementIdList(uniq(newActiveIdList))\n      mainStore.setHandleElementId(element.id)\n    }\n\n    // CtrlShift\n    // \n    // \n    else if (ctrlOrShiftKeyActive.value) {\n      let newActiveIdList: string[] = []\n\n      if (element.groupId) {\n        const groupMembersId: string[] = []\n        elementList.value.forEach((el: PPTElement) => {\n          if (el.groupId === element.groupId) groupMembersId.push(el.id)\n        })\n        newActiveIdList = activeElementIdList.value.filter(id => !groupMembersId.includes(id))\n      }\n      else {\n        newActiveIdList = activeElementIdList.value.filter(id => id !== element.id)\n      }\n\n      if (newActiveIdList.length > 0) {\n        mainStore.setActiveElementIdList(newActiveIdList)\n      }\n    }\n\n    // \n    else if (handleElementId.value !== element.id) {\n      mainStore.setHandleElementId(element.id)\n    }\n\n    // \n    else if (activeGroupElementId.value !== element.id) {\n      const startPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const startPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      ;(e.target as HTMLElement).onmouseup = (e: MouseEvent) => {\n        const currentPageX = e.pageX\n        const currentPageY = e.pageY\n\n        if (startPageX === currentPageX && startPageY === currentPageY) {\n          mainStore.setActiveGroupElementId(element.id)\n          ;(e.target as HTMLElement).onmouseup = null\n        }\n      }\n    }\n\n    if (startMove) moveElement(e, element)\n  }\n\n  return {\n    selectElement,\n  }\n}\n","import type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport type { AlignmentLineProps } from '@/types/edit'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { getRectRotatedRange, uniqAlignLines, type AlignLine } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  alignmentLines: Ref<AlignmentLineProps[]>,\n  canvasScale: Ref<number>,\n) => {\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(useMainStore())\n  const { shiftKeyState } = storeToRefs(useKeyboardStore())\n  const { viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const dragElement = (e: MouseEvent | TouchEvent, element: PPTElement) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    if (!activeElementIdList.value.includes(element.id)) return\n    let isMouseDown = true\n\n    const edgeWidth = VIEWPORT_SIZE\n    const edgeHeight = VIEWPORT_SIZE * viewportRatio.value\n    \n    const sorptionRange = 5\n\n    const originElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList.value))\n    const originActiveElementList = originElementList.filter(el => activeElementIdList.value.includes(el.id))\n  \n    const elOriginLeft = element.left\n    const elOriginTop = element.top\n    const elOriginWidth = element.width\n    const elOriginHeight = ('height' in element && element.height) ? element.height : 0\n    const elOriginRotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n  \n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    let isMisoperation: boolean | null = null\n\n    const isActiveGroupElement = element.id === activeGroupElementId.value\n\n    // \n    // \n    // \n    let horizontalLines: AlignLine[] = []\n    let verticalLines: AlignLine[] = []\n\n    for (const el of elementList.value) {\n      if (el.type === 'line') continue\n      if (isActiveGroupElement && el.id === element.id) continue\n      if (!isActiveGroupElement && activeElementIdList.value.includes(el.id)) continue\n\n      let left, top, width, height\n      if ('rotate' in el && el.rotate) {\n        const { xRange, yRange } = getRectRotatedRange({\n          left: el.left,\n          top: el.top,\n          width: el.width,\n          height: el.height,\n          rotate: el.rotate,\n        })\n        left = xRange[0]\n        top = yRange[0]\n        width = xRange[1] - xRange[0]\n        height = yRange[1] - yRange[0]\n      }\n      else {\n        left = el.left\n        top = el.top\n        width = el.width\n        height = el.height\n      }\n      \n      const right = left + width\n      const bottom = top + height\n      const centerX = top + height / 2\n      const centerY = left + width / 2\n\n      const topLine: AlignLine = { value: top, range: [left, right] }\n      const bottomLine: AlignLine = { value: bottom, range: [left, right] }\n      const horizontalCenterLine: AlignLine = { value: centerX, range: [left, right] }\n      const leftLine: AlignLine = { value: left, range: [top, bottom] }\n      const rightLine: AlignLine = { value: right, range: [top, bottom] }\n      const verticalCenterLine: AlignLine = { value: centerY, range: [top, bottom] }\n\n      horizontalLines.push(topLine, bottomLine, horizontalCenterLine)\n      verticalLines.push(leftLine, rightLine, verticalCenterLine)\n    }\n\n    // \n    const edgeTopLine: AlignLine = { value: 0, range: [0, edgeWidth] }\n    const edgeBottomLine: AlignLine = { value: edgeHeight, range: [0, edgeWidth] }\n    const edgeHorizontalCenterLine: AlignLine = { value: edgeHeight / 2, range: [0, edgeWidth] }\n    const edgeLeftLine: AlignLine = { value: 0, range: [0, edgeHeight] }\n    const edgeRightLine: AlignLine = { value: edgeWidth, range: [0, edgeHeight] }\n    const edgeVerticalCenterLine: AlignLine = { value: edgeWidth / 2, range: [0, edgeHeight] }\n\n    horizontalLines.push(edgeTopLine, edgeBottomLine, edgeHorizontalCenterLine)\n    verticalLines.push(edgeLeftLine, edgeRightLine, edgeVerticalCenterLine)\n    \n    // \n    horizontalLines = uniqAlignLines(horizontalLines)\n    verticalLines = uniqAlignLines(verticalLines)\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      // \n      // null\n      // true\n      // false\n      if (isMisoperation !== false) {\n        isMisoperation = Math.abs(startPageX - currentPageX) < sorptionRange && \n                         Math.abs(startPageY - currentPageY) < sorptionRange\n      }\n      if (!isMouseDown || isMisoperation) return\n      \n      let moveX = (currentPageX - startPageX) / canvasScale.value\n      let moveY = (currentPageY - startPageY) / canvasScale.value\n\n      if (shiftKeyState.value) {\n        if (Math.abs(moveX) > Math.abs(moveY)) moveY = 0\n        if (Math.abs(moveX) < Math.abs(moveY)) moveX = 0\n      }\n\n      // \n      let targetLeft = elOriginLeft + moveX\n      let targetTop = elOriginTop + moveY\n\n      // \n      // \n      let targetMinX: number, targetMaxX: number, targetMinY: number, targetMaxY: number\n\n      if (activeElementIdList.value.length === 1 || isActiveGroupElement) {\n        if (elOriginRotate) {\n          const { xRange, yRange } = getRectRotatedRange({\n            left: targetLeft,\n            top: targetTop,\n            width: elOriginWidth,\n            height: elOriginHeight,\n            rotate: elOriginRotate,\n          })\n          targetMinX = xRange[0]\n          targetMaxX = xRange[1]\n          targetMinY = yRange[0]\n          targetMaxY = yRange[1]\n        }\n        else if (element.type === 'line') {\n          targetMinX = targetLeft\n          targetMaxX = targetLeft + Math.max(element.start[0], element.end[0])\n          targetMinY = targetTop\n          targetMaxY = targetTop + Math.max(element.start[1], element.end[1])\n        }\n        else {\n          targetMinX = targetLeft\n          targetMaxX = targetLeft + elOriginWidth\n          targetMinY = targetTop\n          targetMaxY = targetTop + elOriginHeight\n        }\n      }\n      else {\n        const leftValues = []\n        const topValues = []\n        const rightValues = []\n        const bottomValues = []\n        \n        for (let i = 0; i < originActiveElementList.length; i++) {\n          const element = originActiveElementList[i]\n          const left = element.left + moveX\n          const top = element.top + moveY\n          const width = element.width\n          const height = ('height' in element && element.height) ? element.height : 0\n          const rotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n\n          if ('rotate' in element && element.rotate) {\n            const { xRange, yRange } = getRectRotatedRange({ left, top, width, height, rotate })\n            leftValues.push(xRange[0])\n            topValues.push(yRange[0])\n            rightValues.push(xRange[1])\n            bottomValues.push(yRange[1])\n          }\n          else if (element.type === 'line') {\n            leftValues.push(left)\n            topValues.push(top)\n            rightValues.push(left + Math.max(element.start[0], element.end[0]))\n            bottomValues.push(top + Math.max(element.start[1], element.end[1]))\n          }\n          else {\n            leftValues.push(left)\n            topValues.push(top)\n            rightValues.push(left + width)\n            bottomValues.push(top + height)\n          }\n        }\n\n        targetMinX = Math.min(...leftValues)\n        targetMaxX = Math.max(...rightValues)\n        targetMinY = Math.min(...topValues)\n        targetMaxY = Math.max(...bottomValues)\n      }\n      \n      const targetCenterX = targetMinX + (targetMaxX - targetMinX) / 2\n      const targetCenterY = targetMinY + (targetMaxY - targetMinY) / 2\n\n      // \n      // \n      const _alignmentLines: AlignmentLineProps[] = []\n      let isVerticalAdsorbed = false\n      let isHorizontalAdsorbed = false\n      for (let i = 0; i < horizontalLines.length; i++) {\n        const { value, range } = horizontalLines[i]\n        const min = Math.min(...range, targetMinX, targetMaxX)\n        const max = Math.max(...range, targetMinX, targetMaxX)\n        \n        if (Math.abs(targetMinY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetMinY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n        if (Math.abs(targetMaxY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetMaxY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n        if (Math.abs(targetCenterY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetCenterY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n      }\n      for (let i = 0; i < verticalLines.length; i++) {\n        const { value, range } = verticalLines[i]\n        const min = Math.min(...range, targetMinY, targetMaxY)\n        const max = Math.max(...range, targetMinY, targetMaxY)\n\n        if (Math.abs(targetMinX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetMinX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n        if (Math.abs(targetMaxX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetMaxX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n        if (Math.abs(targetCenterX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetCenterX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n      }\n      alignmentLines.value = _alignmentLines\n      \n      // \n      if (activeElementIdList.value.length === 1 || isActiveGroupElement) {\n        elementList.value = elementList.value.map(el => {\n          return el.id === element.id ? { ...el, left: targetLeft, top: targetTop } : el\n        })\n      }\n\n      // \n      // \n      else {\n        const handleElement = elementList.value.find(el => el.id === element.id)\n        if (!handleElement) return\n\n        elementList.value = elementList.value.map(el => {\n          if (activeElementIdList.value.includes(el.id)) {\n            if (el.id === element.id) {\n              return {\n                ...el,\n                left: targetLeft,\n                top: targetTop,\n              }\n            }\n            return {\n              ...el,\n              left: el.left + (targetLeft - handleElement.left),\n              top: el.top + (targetTop - handleElement.top),\n            }\n          }\n          return el\n        })\n      }\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      alignmentLines.value = []\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  return {\n    dragElement,\n  }\n}","import type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, PPTLineElement } from '@/types/slides'\nimport { OperateLineHandlers } from '@/types/edit'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface AdsorptionPoint {\n  x: number\n  y: number\n}\n\nexport default (elementList: Ref<PPTElement[]>) => {\n  const slidesStore = useSlidesStore()\n  const { canvasScale } = storeToRefs(useMainStore())\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const dragLineElement = (e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => {\n    let isMouseDown = true\n\n    const sorptionRange = 8\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const adsorptionPoints: AdsorptionPoint[] = []\n\n    // 8\n    for (let i = 0; i < elementList.value.length; i++) {\n      const _element = elementList.value[i]\n      if (_element.type === 'line' || _element.rotate) continue\n\n      const left = _element.left\n      const top = _element.top\n      const width = _element.width\n      const height = _element.height\n      \n      const right = left + width\n      const bottom = top + height\n      const centerX = top + height / 2\n      const centerY = left + width / 2\n\n      const topPoint = { x: centerY, y: top }\n      const bottomPoint = { x: centerY, y: bottom }\n      const leftPoint = { x: left, y: centerX }\n      const rightPoint = { x: right, y: centerX }\n\n      const leftTopPoint = { x: left, y: top }\n      const rightTopPoint = { x: right, y: top }\n      const leftBottomPoint = { x: left, y: bottom }\n      const rightBottomPoint = { x: right, y: bottom }\n\n      adsorptionPoints.push(\n        topPoint,\n        bottomPoint,\n        leftPoint,\n        rightPoint,\n        leftTopPoint,\n        rightTopPoint,\n        leftBottomPoint,\n        rightBottomPoint,\n      )\n    }\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const moveX = (currentPageX - startPageX) / canvasScale.value\n      const moveY = (currentPageY - startPageY) / canvasScale.value\n      \n      // \n      let startX = element.left + element.start[0]\n      let startY = element.top + element.start[1]\n      let endX = element.left + element.end[0]\n      let endY = element.top + element.end[1]\n\n      const mid = element.broken || element.curve || [0, 0]\n      let midX = element.left + mid[0]\n      let midY = element.top + mid[1]\n\n      const [c1, c2] = element.cubic || [[0, 0], [0, 0]]\n      let c1X = element.left + c1[0]\n      let c1Y = element.top + c1[1]\n      let c2X = element.left + c2[0]\n      let c2Y = element.top + c2[1]\n\n      // \n      // \n      if (command === OperateLineHandlers.START) {\n        startX = startX + moveX\n        startY = startY + moveY\n\n        if (Math.abs(startX - endX) < sorptionRange) startX = endX\n        if (Math.abs(startY - endY) < sorptionRange) startY = endY\n\n        for (const adsorptionPoint of adsorptionPoints) {\n          const { x, y } = adsorptionPoint\n          if (Math.abs(x - startX) < sorptionRange && Math.abs(y - startY) < sorptionRange) {\n            startX = x\n            startY = y\n            break\n          }\n        }\n      }\n      else if (command === OperateLineHandlers.END) {\n        endX = endX + moveX\n        endY = endY + moveY\n\n        if (Math.abs(startX - endX) < sorptionRange) endX = startX\n        if (Math.abs(startY - endY) < sorptionRange) endY = startY\n\n        for (const adsorptionPoint of adsorptionPoints) {\n          const { x, y } = adsorptionPoint\n          if (Math.abs(x - endX) < sorptionRange && Math.abs(y - endY) < sorptionRange) {\n            endX = x\n            endY = y\n            break\n          }\n        }\n      }\n      else if (command === OperateLineHandlers.C) {\n        midX = midX + moveX\n        midY = midY + moveY\n\n        if (Math.abs(midX - startX) < sorptionRange) midX = startX\n        if (Math.abs(midY - startY) < sorptionRange) midY = startY\n        if (Math.abs(midX - endX) < sorptionRange) midX = endX\n        if (Math.abs(midY - endY) < sorptionRange) midY = endY\n        if (Math.abs(midX - (startX + endX) / 2) < sorptionRange && Math.abs(midY - (startY + endY) / 2) < sorptionRange) {\n          midX = (startX + endX) / 2\n          midY = (startY + endY) / 2\n        }\n      }\n      else if (command === OperateLineHandlers.C1) {\n        c1X = c1X + moveX\n        c1Y = c1Y + moveY\n\n        if (Math.abs(c1X - startX) < sorptionRange) c1X = startX\n        if (Math.abs(c1Y - startY) < sorptionRange) c1Y = startY\n        if (Math.abs(c1X - endX) < sorptionRange) c1X = endX\n        if (Math.abs(c1Y - endY) < sorptionRange) c1Y = endY\n      }\n      else if (command === OperateLineHandlers.C2) {\n        c2X = c2X + moveX\n        c2Y = c2Y + moveY\n\n        if (Math.abs(c2X - startX) < sorptionRange) c2X = startX\n        if (Math.abs(c2Y - startY) < sorptionRange) c2Y = startY\n        if (Math.abs(c2X - endX) < sorptionRange) c2X = endX\n        if (Math.abs(c2Y - endY) < sorptionRange) c2Y = endY\n      }\n\n      // \n      const minX = Math.min(startX, endX)\n      const minY = Math.min(startY, endY)\n      const maxX = Math.max(startX, endX)\n      const maxY = Math.max(startY, endY)\n\n      const start: [number, number] = [0, 0]\n      const end: [number, number] = [maxX - minX, maxY - minY]\n      if (startX > endX) {\n        start[0] = maxX - minX\n        end[0] = 0\n      }\n      if (startY > endY) {\n        start[1] = maxY - minY\n        end[1] = 0\n      }\n\n      elementList.value = elementList.value.map(el => {\n        if (el.id === element.id) {\n          const newEl: PPTLineElement = {\n            ...(el as PPTLineElement),\n            left: minX,\n            top: minY,\n            start: start,\n            end: end,\n          }\n          if (command === OperateLineHandlers.START || command === OperateLineHandlers.END) {\n            if (element.broken) newEl.broken = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n            if (element.curve) newEl.curve = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n            if (element.cubic) newEl.cubic = [[(start[0] + end[0]) / 2, (start[1] + end[1]) / 2], [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]]\n          }\n          else if (command === OperateLineHandlers.C) {\n            if (element.broken) newEl.broken = [midX - minX, midY - minY]\n            if (element.curve) newEl.curve = [midX - minX, midY - minY]\n          }\n          else {\n            if (element.cubic) newEl.cubic = [[c1X - minX, c1Y - minY], [c2X - minX, c2Y - minY]]\n          }\n          return newEl\n        }\n        return el\n      })\n    }\n\n    document.onmouseup = e => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n  }\n\n  return {\n    dragLineElement,\n  }\n}","import type { Ref } from 'vue'\nimport { useSlidesStore } from '@/store'\nimport type { PPTElement, PPTShapeElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\n\ninterface ShapePathData {\n  baseSize: number,\n  originPos: number,\n  min: number,\n  max: number,\n  relative: string,\n}\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  canvasScale: Ref<number>,\n) => {\n  const slidesStore = useSlidesStore()\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const moveShapeKeypoint = (e: MouseEvent | TouchEvent, element: PPTShapeElement) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    let isMouseDown = true\n  \n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    const pathFormula = SHAPE_PATH_FORMULAS[element.pathFormula!]\n    let shapePathData: ShapePathData | null = null\n    if ('editable' in pathFormula) {\n      const baseSize = pathFormula.getBaseSize(element.width, element.height)\n      const originPos = baseSize * element.keypoint!\n      const [min, max] = pathFormula.range\n      const relative = pathFormula.relative\n\n      shapePathData = { baseSize, originPos, min, max, relative }\n    }\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      if (!isMouseDown) return\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n      const moveX = (currentPageX - startPageX) / canvasScale.value\n      const moveY = (currentPageY - startPageY) / canvasScale.value\n\n      elementList.value = elementList.value.map(el => {\n        if (el.id === element.id && shapePathData) {\n          const { baseSize, originPos, min, max, relative } = shapePathData\n          const shapeElement = el as PPTShapeElement\n\n          let keypoint = 0\n\n          if (relative === 'left') keypoint = (originPos + moveX) / baseSize\n          if (relative === 'right') keypoint = (originPos - moveX) / baseSize\n          if (relative === 'center') keypoint = (originPos - moveX * 2) / baseSize\n          if (relative === 'top') keypoint = (originPos + moveY) / baseSize\n          if (relative === 'bottom') keypoint = (originPos - moveY) / baseSize\n\n          if (keypoint < min) keypoint = min\n          if (keypoint > max) keypoint = max\n\n          return {\n            ...el,\n            keypoint,\n            path: pathFormula.formula(shapeElement.width, shapeElement.height, keypoint),\n          }\n        }\n        return el\n      })\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  return {\n    moveShapeKeypoint,\n  }\n}","import type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { CreateElementSelectionData } from '@/types/edit'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nexport default (viewportRef: Ref<HTMLElement | undefined>) => {\n  const mainStore = useMainStore()\n  const { canvasScale, creatingElement } = storeToRefs(mainStore)\n\n  // \n  const formatCreateSelection = (selectionData: CreateElementSelectionData) => {\n    const { start, end } = selectionData\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const [startX, startY] = start\n    const [endX, endY] = end\n    const minX = Math.min(startX, endX)\n    const maxX = Math.max(startX, endX)\n    const minY = Math.min(startY, endY)\n    const maxY = Math.max(startY, endY)\n\n    const left = (minX - viewportRect.x) / canvasScale.value\n    const top = (minY - viewportRect.y) / canvasScale.value\n    const width = (maxX - minX) / canvasScale.value\n    const height = (maxY - minY) / canvasScale.value\n\n    return { left, top, width, height }\n  }\n\n  // \n  const formatCreateSelectionForLine = (selectionData: CreateElementSelectionData) => {\n    const { start, end } = selectionData\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const [startX, startY] = start\n    const [endX, endY] = end\n    const minX = Math.min(startX, endX)\n    const maxX = Math.max(startX, endX)\n    const minY = Math.min(startY, endY)\n    const maxY = Math.max(startY, endY)\n\n    const left = (minX - viewportRect.x) / canvasScale.value\n    const top = (minY - viewportRect.y) / canvasScale.value\n    const width = (maxX - minX) / canvasScale.value\n    const height = (maxY - minY) / canvasScale.value\n\n    const _start: [number, number] = [\n      startX === minX ? 0 : width,\n      startY === minY ? 0 : height,\n    ]\n    const _end: [number, number] = [\n      endX === minX ? 0 : width,\n      endY === minY ? 0 : height,\n    ]\n\n    return {\n      left,\n      top,\n      start: _start,\n      end: _end,\n    }\n  }\n\n  const { createTextElement, createShapeElement, createLineElement } = useCreateElement()\n\n  // \n  const insertElementFromCreateSelection = (selectionData: CreateElementSelectionData) => {\n    if (!creatingElement.value) return\n\n    const type = creatingElement.value.type\n    if (type === 'text') {\n      const position = formatCreateSelection(selectionData)\n      position && createTextElement(position, { vertical: creatingElement.value.vertical })\n    }\n    else if (type === 'shape') {\n      const position = formatCreateSelection(selectionData)\n      position && createShapeElement(position, creatingElement.value.data)\n    }\n    else if (type === 'line') {\n      const position = formatCreateSelectionForLine(selectionData)\n      position && createLineElement(position, creatingElement.value.data)\n    }\n    mainStore.setCreatingElement(null)\n  }\n\n  return {\n    formatCreateSelection,\n    insertElementFromCreateSelection,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { ElementAlignCommands } from '@/types/edit'\nimport { getElementListRange } from '@/utils/element'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useHistorySnapshot from './useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\n  const { currentSlide, viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * \n   * @param command \n   */\n  const alignElementToCanvas = (command: ElementAlignCommands) => {\n    const viewportWidth = VIEWPORT_SIZE\n    const viewportHeight = VIEWPORT_SIZE * viewportRatio.value\n    const { minX, maxX, minY, maxY } = getElementListRange(activeElementList.value)\n  \n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n    for (const element of newElementList) {\n      if (!activeElementIdList.value.includes(element.id)) continue\n      \n      // \n      if (command === ElementAlignCommands.CENTER) {\n        const offsetY = minY + (maxY - minY) / 2 - viewportHeight / 2\n        const offsetX = minX + (maxX - minX) / 2 - viewportWidth / 2\n        element.top = element.top - offsetY \n        element.left = element.left - offsetX           \n      }\n\n      // \n      if (command === ElementAlignCommands.TOP) {\n        const offsetY = minY - 0\n        element.top = element.top - offsetY            \n      }\n\n      // \n      else if (command === ElementAlignCommands.VERTICAL) {\n        const offsetY = minY + (maxY - minY) / 2 - viewportHeight / 2\n        element.top = element.top - offsetY            \n      }\n\n      // \n      else if (command === ElementAlignCommands.BOTTOM) {\n        const offsetY = maxY - viewportHeight\n        element.top = element.top - offsetY       \n      }\n      \n      // \n      else if (command === ElementAlignCommands.LEFT) {\n        const offsetX = minX - 0\n        element.left = element.left - offsetX            \n      }\n\n      // \n      else if (command === ElementAlignCommands.HORIZONTAL) {\n        const offsetX = minX + (maxX - minX) / 2 - viewportWidth / 2\n        element.left = element.left - offsetX            \n      }\n\n      // \n      else if (command === ElementAlignCommands.RIGHT) {\n        const offsetX = maxX - viewportWidth\n        element.left = element.left - offsetX            \n      }\n    }\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  return {\n    alignElementToCanvas,\n  }\n}","import { computed, type Ref } from 'vue'\nimport type { PPTElementShadow } from '@/types/slides'\n\n// \nexport default (shadow: Ref<PPTElementShadow | undefined>) => {\n  const shadowStyle = computed(() => {\n    if (shadow.value) {\n      const { h, v, blur, color } = shadow.value\n      return `${h}px ${v}px ${blur}px ${color}`\n    }\n    return ''\n  })\n\n  return {\n    shadowStyle,\n  }\n}","import { computed, type Ref } from 'vue'\n\n// \nexport default (flipH: Ref<boolean | undefined>, flipV: Ref<boolean | undefined>) => {\n  const flipStyle = computed(() => {\n    let style = ''\n    \n    if (flipH.value && flipV.value) style = 'rotateX(180deg) rotateY(180deg)'\n    else if (flipV.value) style = 'rotateX(180deg)'\n    else if (flipH.value) style = 'rotateY(180deg)'\n\n    return style\n  })\n\n  return {\n    flipStyle,\n  }\n}","export const enum ClipPathTypes {\n  RECT = 'rect',\n  ELLIPSE = 'ellipse',\n  POLYGON = 'polygon',\n}\n\nexport const enum ClipPaths {\n  RECT = 'rect',\n  ROUNDRECT = 'roundRect',\n  ELLIPSE = 'ellipse',\n  TRIANGLE = 'triangle',\n  PENTAGON = 'pentagon',\n  RHOMBUS = 'rhombus',\n  STAR = 'star',\n}\n\ninterface ClipPath {\n  [key: string]: {\n    name: string\n    type: ClipPathTypes\n    style: string\n    radius?: string\n    createPath?: (width: number, height: number) => string\n  }\n}\n\nexport const CLIPPATHS: ClipPath = {\n  rect: {\n    name: 'rectangle',\n    type: ClipPathTypes.RECT,\n    radius: '0',\n    style: '',\n  },\n  rect2: {\n    name: 'Rectangle 2',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.8} 0 L ${width} ${height * 0.2} L ${width} ${height} L 0 ${height} Z`\n    },\n  },\n  rect3: {\n    name: 'Rectangle 3',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.8} 0 L ${width} ${height * 0.2} L ${width} ${height} L ${width * 0.2} ${height} L 0 ${height * 0.8}Z`\n    },\n  },\n  roundRect: {\n    name: 'rounded rectangle',\n    type: ClipPathTypes.RECT,\n    radius: '10px',\n    style: 'inset(0 0 0 0 round 10px 10px 10px 10px)',\n  },\n  ellipse: {\n    name: 'circle',\n    type: ClipPathTypes.ELLIPSE,\n    style: 'ellipse(50% 50% at 50% 50%)',\n  },\n  triangle: {\n    name: 'Triangle',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(50% 0%, 0% 100%, 100% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L 0 ${height} L ${width} ${height} Z`\n    },\n  },\n  triangle2: {\n    name: 'Triangle 2',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(50% 100%, 0% 0%, 100% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} ${height} L 0 0 L ${width} 0 Z`\n    },\n  },\n  triangle3: {\n    name: 'Triangle 3',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 0%, 0% 100%, 100% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L 0 ${height} L ${width} ${height} Z`\n    },\n  },\n  rhombus: {\n    name: 'Rhombus',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width} ${height * 0.5} L ${width * 0.5} ${height} L 0 ${height * 0.5} Z`\n    },\n  },\n  pentagon: {\n    name: 'pentagon',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width} ${0.38 * height} L ${0.82 * width} ${height} L ${0.18 * width} ${height} L 0 ${0.38 * height }Z`\n    },\n  },\n  hexagon: {\n    name: 'Hexagon',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.2} 0 L ${width * 0.8} 0 L ${width} ${height * 0.5} L ${width * 0.8} ${height} L ${width * 0.2} ${height } L 0 ${height * 0.5} Z`\n    },\n  },\n  heptagon: {\n    name: 'Heptagon',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width * 0.9} ${height * 0.2} L ${width} ${height * 0.6} L ${width * 0.75} ${height} L ${width * 0.25} ${height} L 0 ${height * 0.6} L ${width * 0.1} ${height * 0.2} Z`\n    },\n  },\n  octagon: {\n    name: 'octagon',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} 0 L ${width * 0.7} 0 L ${width} ${height * 0.3} L ${width} ${height * 0.7} L ${width * 0.7} ${height } L ${width * 0.3} ${height} L 0 ${height * 0.7} L 0 ${height * 0.3} Z`\n    },\n  },\n  chevron: {\n    name: 'V-shaped',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.75} 0 L ${width} ${height * 0.5} L ${width * 0.75} ${height} L 0 ${height} L ${width * 0.25} ${height * 0.5 } L 0 0 Z`\n    },\n  },\n  point: {\n    name: 'point',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.75} 0 L ${width} ${height * 0.5} L ${width * 0.75} ${height} L 0 ${height} Z`\n    },\n  },\n  arrow: {\n    name: 'arrow',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 ${height * 0.2} L ${width * 0.6} ${height * 0.2} L ${width * 0.6} 0 L ${width} ${height * 0.5} L ${width * 0.6} $ {height} L ${width * 0.6} ${height * 0.8} L 0 ${height * 0.8} Z`\n    },\n  },\n  parallelogram: {\n    name: 'parallelogram',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} 0 L ${width} 0 L ${width * 0.7} ${height} L 0 ${height} Z`\n    },\n  },\n  parallelogram2: {\n    name: 'Parallelogram 2',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} ${height} L ${width} ${height} L ${width * 0.7} 0 L 0 0 Z`\n    },\n  },\n  trapezoid: {\n    name: 'trapezoid',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.25} 0 L ${width * 0.75} 0 L ${width} ${height} L 0 ${height} Z`\n    },\n  },\n  trapezoid2: {\n    name: 'Trapezoid 2',\n    type: ClipPathTypes.POLYGON,\n    style: 'polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width} 0 L ${width * 0.75} ${height} L ${width * 0.25} ${height} Z`\n    },\n  },\n}","import { computed, type Ref } from 'vue'\nimport { CLIPPATHS, ClipPathTypes } from '@/configs/imageClip'\nimport type { ImageElementClip } from '@/types/slides'\n\nexport default (clip: Ref<ImageElementClip | undefined>) => {\n  const clipShape = computed(() => {\n    if (!clip.value) return CLIPPATHS.rect\n    const shape = clip.value.shape || ClipPathTypes.RECT\n\n    return CLIPPATHS[shape]\n  })\n\n  const imgPosition = computed(() => {\n    if (!clip.value) {\n      return {\n        top: '0',\n        left: '0',\n        width: '100%',\n        height: '100%',\n      }\n    }\n\n    const [start, end] = clip.value.range\n\n    const widthScale = (end[0] - start[0]) / 100\n    const heightScale = (end[1] - start[1]) / 100\n    const left = start[0] / widthScale\n    const top = start[1] / heightScale\n\n    return {\n      left: -left + '%',\n      top: -top + '%',\n      width: 100 / widthScale + '%',\n      height: 100 / heightScale + '%',\n    }\n  })\n\n  return {\n    clipShape,\n    imgPosition,\n  }\n}","import { computed, type Ref } from 'vue'\nimport type { ImageElementFilters, ImageElementFilterKeys } from '@/types/slides'\n\nexport default (filters: Ref<ImageElementFilters | undefined>) => {\n  const filter = computed(() => {\n    if (!filters.value) return ''\n    let filter = ''\n    const keys = Object.keys(filters.value) as ImageElementFilterKeys[]\n    for (const key of keys) {\n      filter += `${key}(${filters.value[key]}) `\n    }\n    return filter\n  })\n\n  return {\n    filter,\n  }\n}","import { computed, type Ref } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\n\n// \nexport default (outline: Ref<PPTElementOutline | undefined>) => {\n  const outlineWidth = computed(() => outline.value?.width ?? 0)\n  const outlineStyle = computed(() => outline.value?.style || 'solid')\n  const outlineColor = computed(() => outline.value?.color || '#d14424')\n\n  const strokeDashArray = computed(() => {\n    if (outlineStyle.value !== 'dashed') return '0 0'\n    const size = outlineWidth.value\n    return size <= 6 ? `${size * 4.5} ${size * 2}` : `${size * 4} ${size * 1.5}`\n  })\n\n  return {\n    outlineWidth,\n    outlineStyle,\n    outlineColor,\n    strokeDashArray,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35e36256\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"rx\", \"ry\", \"width\", \"height\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageRectOutline',\n  props: {\n    width: {},\n    height: {},\n    outline: {},\n    radius: { default: '0' }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-rect-outline\",\n        overflow: \"visible\",\n        width: _ctx.width,\n        height: _ctx.height\n      }, [\n        _createElementVNode(\"rect\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          rx: _ctx.radius,\n          ry: _ctx.radius,\n          width: _ctx.width,\n          height: _ctx.height,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(strokeDashArray)\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\n  <svg \n    class=\"image-rect-outline\" \n    v-if=\"outline\"\n    overflow=\"visible\" \n    :width=\"width\"\n    :height=\"height\"\n  >\n    <rect \n      vector-effect=\"non-scaling-stroke\" \n      stroke-linecap=\"butt\" \n      stroke-miterlimit=\"8\"\n      fill=\"transparent\"\n      :rx=\"radius\" \n      :ry=\"radius\"\n      :width=\"width\"\n      :height=\"height\"\n      :stroke=\"outlineColor\"\n      :stroke-width=\"outlineWidth\" \n      :stroke-dasharray=\"strokeDashArray\" \n    ></rect>\n\t</svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\nconst props = withDefaults(defineProps<{\n  width: number\n  height: number\n  outline?: PPTElementOutline\n  radius?: string\n}>(), {\n  radius: '0',\n})\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  overflow: visible;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n}\n</style>","import script from \"./ImageRectOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageRectOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageRectOutline.vue?vue&type=style&index=0&id=35e36256&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35e36256\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-11836cf8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"cx\", \"cy\", \"rx\", \"ry\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageEllipseOutline',\n  props: {\n    width: {},\n    height: {},\n    outline: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-ellipse-outline\",\n        overflow: \"visible\",\n        width: _ctx.width,\n        height: _ctx.height\n      }, [\n        _createElementVNode(\"ellipse\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          cx: _ctx.width / 2,\n          cy: _ctx.height / 2,\n          rx: _ctx.width / 2,\n          ry: _ctx.height / 2,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(strokeDashArray)\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\n  <svg \n    class=\"image-ellipse-outline\"\n    v-if=\"outline\"\n    overflow=\"visible\" \n    :width=\"width\"\n    :height=\"height\"\n  >\n    <ellipse \n      vector-effect=\"non-scaling-stroke\" \n      stroke-linecap=\"butt\" \n      stroke-miterlimit=\"8\"\n      fill=\"transparent\"\n      :cx=\"width / 2\" \n      :cy=\"height / 2\"\n      :rx=\"width / 2\" \n      :ry=\"height / 2\"\n      :stroke=\"outlineColor\"\n      :stroke-width=\"outlineWidth\" \n      :stroke-dasharray=\"strokeDashArray\" \n    ></ellipse>\n\t</svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\nconst props = defineProps<{\n  width: number\n  height: number\n  outline?: PPTElementOutline\n}>()\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  overflow: visible;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n}\n</style>","import script from \"./ImageEllipseOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageEllipseOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageEllipseOutline.vue?vue&type=style&index=0&id=11836cf8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-11836cf8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6e021ee2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImagePolygonOutline',\n  props: {\n    width: {},\n    height: {},\n    createPath: { type: Function },\n    outline: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-polygon-outline\",\n        overflow: \"visible\",\n        width: _ctx.width,\n        height: _ctx.height\n      }, [\n        _createElementVNode(\"path\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          d: _ctx.createPath(_ctx.width, _ctx.height),\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(strokeDashArray)\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\n  <svg \n    class=\"image-polygon-outline\" \n    v-if=\"outline\"\n    overflow=\"visible\" \n    :width=\"width\"\n    :height=\"height\"\n  >\n    <path \n      vector-effect=\"non-scaling-stroke\" \n      stroke-linecap=\"butt\" \n      stroke-miterlimit=\"8\"\n      fill=\"transparent\"\n      :d=\"createPath(width, height)\"\n      :stroke=\"outlineColor\"\n      :stroke-width=\"outlineWidth\" \n      :stroke-dasharray=\"strokeDashArray\" \n    ></path>\n\t</svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\nconst props = defineProps<{\n  width: number\n  height: number\n  createPath: (width: number, height: number) => string\n  outline?: PPTElementOutline\n}>()\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  overflow: visible;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n}\n</style>","import script from \"./ImagePolygonOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImagePolygonOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImagePolygonOutline.vue?vue&type=style&index=0&id=6e021ee2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6e021ee2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"image-outline\" }\n\nimport { computed } from 'vue'\nimport type { PPTImageElement } from '@/types/slides'\nimport useClipImage from '../useClipImage'\n\nimport ImageRectOutline from './ImageRectOutline.vue'\nimport ImageEllipseOutline from './ImageEllipseOutline.vue'\nimport ImagePolygonOutline from './ImagePolygonOutline.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape } = useClipImage(clip)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(clipShape).type === 'rect')\n      ? (_openBlock(), _createBlock(ImageRectOutline, {\n          key: 0,\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          radius: _unref(clipShape).radius,\n          outline: _ctx.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"radius\", \"outline\"]))\n      : (_unref(clipShape).type === 'ellipse')\n        ? (_openBlock(), _createBlock(ImageEllipseOutline, {\n            key: 1,\n            width: _ctx.elementInfo.width,\n            height: _ctx.elementInfo.height,\n            outline: _ctx.elementInfo.outline\n          }, null, 8, [\"width\", \"height\", \"outline\"]))\n        : (_unref(clipShape).type === 'polygon')\n          ? (_openBlock(), _createBlock(ImagePolygonOutline, {\n              key: 2,\n              width: _ctx.elementInfo.width,\n              height: _ctx.elementInfo.height,\n              outline: _ctx.elementInfo.outline,\n              createPath: _unref(clipShape).createPath!\n            }, null, 8, [\"width\", \"height\", \"outline\", \"createPath\"]))\n          : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"image-outline\">\n    <ImageRectOutline\n      v-if=\"clipShape.type === 'rect'\"\n      :width=\"elementInfo.width\"\n      :height=\"elementInfo.height\"\n      :radius=\"clipShape.radius\"\n      :outline=\"elementInfo.outline\"\n    />\n    <ImageEllipseOutline\n      v-else-if=\"clipShape.type === 'ellipse'\"\n      :width=\"elementInfo.width\"\n      :height=\"elementInfo.height\"\n      :outline=\"elementInfo.outline\"\n    />\n    <ImagePolygonOutline\n      v-else-if=\"clipShape.type === 'polygon'\"\n      :width=\"elementInfo.width\"\n      :height=\"elementInfo.height\"\n      :outline=\"elementInfo.outline\"\n      :createPath=\"clipShape.createPath!\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTImageElement } from '@/types/slides'\nimport useClipImage from '../useClipImage'\n\nimport ImageRectOutline from './ImageRectOutline.vue'\nimport ImageEllipseOutline from './ImageEllipseOutline.vue'\nimport ImagePolygonOutline from './ImagePolygonOutline.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTImageElement\n}>()\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape } = useClipImage(clip)\n</script>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5984406b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = [\"onMousedown\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  fill: \"#fff\",\n  stroke: \"#333\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    \"stroke-width\": \"0.3\",\n    \"shape-rendering\": \"crispEdges\",\n    d: \"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z\"\n  })\n], -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = [\"onMousedown\"]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  fill: \"#fff\",\n  stroke: \"#333\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    \"stroke-width\": \"0.3\",\n    \"shape-rendering\": \"crispEdges\",\n    d: \"M 16 0 L 0 0 L 0 4 L 16 4 Z\"\n  })\n], -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\n\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport { KEYS } from '@/configs/hotkey'\nimport { type ImageClipedEmitData, OperateResizeHandlers } from '@/types/edit'\nimport type { ImageClipDataRange, ImageElementClip } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageClipHandler',\n  props: {\n    src: {},\n    clipPath: {},\n    width: {},\n    height: {},\n    top: {},\n    left: {},\n    rotate: {},\n    clipData: {}\n  },\n  emits: [\"clip\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst { canvasScale } = storeToRefs(useMainStore())\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst clipWrapperPositionStyle = ref({\n  top: '0',\n  left: '0',\n})\nconst isSettingClipRange = ref(false)\nconst currentRange = ref<ImageClipDataRange | null>(null)\n\n// \nconst getClipDataTransformInfo = () => {\n  const [start, end] = props.clipData ? props.clipData.range : [[0, 0], [100, 100]]\n\n  const widthScale = (end[0] - start[0]) / 100\n  const heightScale = (end[1] - start[1]) / 100\n  const left = start[0] / widthScale\n  const top = start[1] / heightScale\n\n  return { widthScale, heightScale, left, top }\n}\n\n// \nconst imgPosition = computed(() => {\n  const { widthScale, heightScale, left, top } = getClipDataTransformInfo()\n  return {\n    left: -left,\n    top: -top,\n    width: 100 / widthScale,\n    height: 100 / heightScale,\n  }\n})\n\n// \nconst bottomImgPositionStyle = computed(() => {\n  return {\n    top: imgPosition.value.top + '%',\n    left: imgPosition.value.left + '%',\n    width: imgPosition.value.width + '%',\n    height: imgPosition.value.height + '%',\n  }\n})\n\n// \nconst topImgWrapperPosition = ref({\n  top: 0,\n  left: 0,\n  width: 0,\n  height: 0,\n})\n\n// \nconst topImgWrapperPositionStyle = computed(() => {\n  const { top, left, width, height } = topImgWrapperPosition.value\n  return {\n    top: top + '%',\n    left: left + '%',\n    width: width + '%',\n    height: height + '%',\n  }\n})\n\n// \nconst topImgPositionStyle = computed(() => {\n  const bottomWidth = imgPosition.value.width\n  const bottomHeight = imgPosition.value.height\n  \n  const { top, left, width, height } = topImgWrapperPosition.value\n  \n  return {\n    left: -left * (100 / width) + '%',\n    top: -top * (100 / height) + '%',\n    width: bottomWidth / width * 100 + '%',\n    height: bottomHeight / height * 100 + '%',\n  }\n})\n\n// \nconst initClipPosition = () => {\n  const { left, top } = getClipDataTransformInfo()\n  topImgWrapperPosition.value = {\n    left: left,\n    top: top,\n    width: 100,\n    height: 100,\n  }\n  \n  clipWrapperPositionStyle.value = {\n    top: -top + '%',\n    left: -left + '%',\n  }\n}\n\n// \nconst handleClip = () => {\n  if (isSettingClipRange.value) return\n\n  if (!currentRange.value) {\n    emit('clip', null)\n    return\n  }\n\n  const { left, top } = getClipDataTransformInfo()\n\n  const position = {\n    left: (topImgWrapperPosition.value.left - left) / 100 * props.width,\n    top: (topImgWrapperPosition.value.top - top) / 100 * props.height,\n    width: (topImgWrapperPosition.value.width - 100) / 100 * props.width,\n    height: (topImgWrapperPosition.value.height - 100) / 100 * props.height,\n  }\n\n  const clipedEmitData: ImageClipedEmitData = {\n    range: currentRange.value,\n    position,\n  }\n  emit('clip', clipedEmitData)\n}\n\n// \nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) handleClip()\n}\n\nonMounted(() => {\n  initClipPosition()\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// \nconst updateRange = () => {\n  const retPosition = {\n    left: parseInt(topImgPositionStyle.value.left),\n    top: parseInt(topImgPositionStyle.value.top),\n    width: parseInt(topImgPositionStyle.value.width),\n    height: parseInt(topImgPositionStyle.value.height),\n  }\n\n  const widthScale = 100 / retPosition.width\n  const heightScale = 100 / retPosition.height\n\n  const start: [number, number] = [\n    -retPosition.left * widthScale,\n    -retPosition.top * heightScale,\n  ]\n  const end: [number, number] = [\n    widthScale * 100 + start[0],\n    heightScale * 100 + start[1],\n  ]\n\n  currentRange.value = [start, end]\n}\n\n// \nconst moveClipRange = (e: MouseEvent) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    let targetLeft = originPositopn.left + moveX\n    let targetTop = originPositopn.top + moveY\n\n    if (targetLeft < 0) targetLeft = 0\n    else if (targetLeft + originPositopn.width > bottomPosition.width) {\n      targetLeft = bottomPosition.width - originPositopn.width\n    }\n    if (targetTop < 0) targetTop = 0\n    else if (targetTop + originPositopn.height > bottomPosition.height) {\n      targetTop = bottomPosition.height - originPositopn.height\n    }\n    \n    topImgWrapperPosition.value = {\n      ...topImgWrapperPosition.value,\n      left: targetLeft,\n      top: targetTop,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => {\n      isSettingClipRange.value = false\n    }, 0)\n  }\n}\n\n// \nconst scaleClipRange = (e: MouseEvent, type: OperateResizeHandlers) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const minWidth = 50 / props.width * 100\n  const minHeight = 50 / props.height * 100\n  \n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  const aspectRatio = topImgWrapperPosition.value.width / topImgWrapperPosition.value.height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    if (ctrlOrShiftKeyActive.value) {\n      if (type === OperateResizeHandlers.RIGHT_BOTTOM || type === OperateResizeHandlers.LEFT_TOP) moveY = moveX / aspectRatio\n      if (type === OperateResizeHandlers.LEFT_BOTTOM || type === OperateResizeHandlers.RIGHT_TOP) moveY = -moveX / aspectRatio\n    }\n\n    let targetLeft, targetTop, targetWidth, targetHeight\n\n    if (type === OperateResizeHandlers.LEFT_TOP) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.RIGHT_TOP) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.LEFT_BOTTOM) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.RIGHT_BOTTOM) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.TOP) {\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.BOTTOM) {\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.LEFT) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      targetHeight = originPositopn.height\n      targetWidth = originPositopn.width + moveX\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n\n    topImgWrapperPosition.value = {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => isSettingClipRange.value = false, 0)\n  }\n}\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n\nconst cornerPoint = [\n  OperateResizeHandlers.LEFT_TOP,\n  OperateResizeHandlers.RIGHT_TOP,\n  OperateResizeHandlers.LEFT_BOTTOM,\n  OperateResizeHandlers.RIGHT_BOTTOM,\n]\nconst edgePoints = [\n  OperateResizeHandlers.TOP,\n  OperateResizeHandlers.BOTTOM,\n  OperateResizeHandlers.LEFT,\n  OperateResizeHandlers.RIGHT,\n]\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"image-clip-handler\",\n    style: _normalizeStyle(clipWrapperPositionStyle.value)\n  }, [\n    _createElementVNode(\"img\", {\n      class: \"bottom-img\",\n      src: _ctx.src,\n      draggable: false,\n      alt: \"\",\n      style: _normalizeStyle(bottomImgPositionStyle.value)\n    }, null, 12, _hoisted_1),\n    _createElementVNode(\"div\", {\n      class: \"top-image-content\",\n      style: _normalizeStyle({\n        ...topImgWrapperPositionStyle.value,\n        clipPath: _ctx.clipPath,\n      })\n    }, [\n      _createElementVNode(\"img\", {\n        class: \"top-img\",\n        src: _ctx.src,\n        draggable: false,\n        alt: \"\",\n        style: _normalizeStyle(topImgPositionStyle.value)\n      }, null, 12, _hoisted_2)\n    ], 4),\n    _createElementVNode(\"div\", {\n      class: \"operate\",\n      style: _normalizeStyle(topImgWrapperPositionStyle.value),\n      onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => moveClipRange($event), [\"stop\"]))\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(cornerPoint, (point) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass(['clip-point', point, rotateClassName.value]),\n          key: point,\n          onMousedown: _withModifiers($event => scaleClipRange($event, point), [\"stop\"])\n        }, _hoisted_5, 42, _hoisted_3)\n      }), 64)),\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(edgePoints, (point) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass(['clip-point', point, rotateClassName.value]),\n          key: point,\n          onMousedown: _withModifiers($event => scaleClipRange($event, point), [\"stop\"])\n        }, _hoisted_8, 42, _hoisted_6)\n      }), 64))\n    ], 36)\n  ], 4)), [\n    [_directive_click_outside, handleClip]\n  ])\n}\n}\n\n})","<template>\n  <div \n    class=\"image-clip-handler\" \n    :style=\"clipWrapperPositionStyle\" \n    v-click-outside=\"handleClip\"\n  >\n    <img \n      class=\"bottom-img\" \n      :src=\"src\" \n      :draggable=\"false\" \n      alt=\"\" \n      :style=\"bottomImgPositionStyle\" \n    />\n\n    <div \n      class=\"top-image-content\" \n      :style=\"{\n        ...topImgWrapperPositionStyle,\n        clipPath,\n      }\"\n    >\n      <img \n        class=\"top-img\" \n        :src=\"src\" \n        :draggable=\"false\" \n        alt=\"\" \n        :style=\"topImgPositionStyle\" \n      />\n    </div>\n\n    <div \n      class=\"operate\" \n      :style=\"topImgWrapperPositionStyle\" \n      @mousedown.stop=\"$event => moveClipRange($event)\"\n    >\n      <div \n        :class=\"['clip-point', point, rotateClassName]\"\n        v-for=\"point in cornerPoint\" \n        :key=\"point\" \n        @mousedown.stop=\"$event => scaleClipRange($event, point)\"\n      >\n        <svg width=\"16\" height=\"16\" fill=\"#fff\" stroke=\"#333\">\n          <path\n            stroke-width=\"0.3\" \n            shape-rendering=\"crispEdges\"\n            d=\"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z\"\n          ></path>\n        </svg>\n      </div>\n      <div \n        :class=\"['clip-point', point, rotateClassName]\"\n        v-for=\"point in edgePoints\" \n        :key=\"point\" \n        @mousedown.stop=\"$event => scaleClipRange($event, point)\"\n      >\n        <svg width=\"16\" height=\"16\" fill=\"#fff\" stroke=\"#333\">\n          <path\n            stroke-width=\"0.3\" \n            shape-rendering=\"crispEdges\"\n            d=\"M 16 0 L 0 0 L 0 4 L 16 4 Z\"\n          ></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport { KEYS } from '@/configs/hotkey'\nimport { type ImageClipedEmitData, OperateResizeHandlers } from '@/types/edit'\nimport type { ImageClipDataRange, ImageElementClip } from '@/types/slides'\n\nconst props = defineProps<{\n  src: string\n  clipPath: string\n  width: number\n  height: number\n  top: number\n  left: number\n  rotate: number\n  clipData?: ImageElementClip\n}>()\n\nconst emit = defineEmits<{\n  (event: 'clip', payload: ImageClipedEmitData | null): void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst clipWrapperPositionStyle = ref({\n  top: '0',\n  left: '0',\n})\nconst isSettingClipRange = ref(false)\nconst currentRange = ref<ImageClipDataRange | null>(null)\n\n// \nconst getClipDataTransformInfo = () => {\n  const [start, end] = props.clipData ? props.clipData.range : [[0, 0], [100, 100]]\n\n  const widthScale = (end[0] - start[0]) / 100\n  const heightScale = (end[1] - start[1]) / 100\n  const left = start[0] / widthScale\n  const top = start[1] / heightScale\n\n  return { widthScale, heightScale, left, top }\n}\n\n// \nconst imgPosition = computed(() => {\n  const { widthScale, heightScale, left, top } = getClipDataTransformInfo()\n  return {\n    left: -left,\n    top: -top,\n    width: 100 / widthScale,\n    height: 100 / heightScale,\n  }\n})\n\n// \nconst bottomImgPositionStyle = computed(() => {\n  return {\n    top: imgPosition.value.top + '%',\n    left: imgPosition.value.left + '%',\n    width: imgPosition.value.width + '%',\n    height: imgPosition.value.height + '%',\n  }\n})\n\n// \nconst topImgWrapperPosition = ref({\n  top: 0,\n  left: 0,\n  width: 0,\n  height: 0,\n})\n\n// \nconst topImgWrapperPositionStyle = computed(() => {\n  const { top, left, width, height } = topImgWrapperPosition.value\n  return {\n    top: top + '%',\n    left: left + '%',\n    width: width + '%',\n    height: height + '%',\n  }\n})\n\n// \nconst topImgPositionStyle = computed(() => {\n  const bottomWidth = imgPosition.value.width\n  const bottomHeight = imgPosition.value.height\n  \n  const { top, left, width, height } = topImgWrapperPosition.value\n  \n  return {\n    left: -left * (100 / width) + '%',\n    top: -top * (100 / height) + '%',\n    width: bottomWidth / width * 100 + '%',\n    height: bottomHeight / height * 100 + '%',\n  }\n})\n\n// \nconst initClipPosition = () => {\n  const { left, top } = getClipDataTransformInfo()\n  topImgWrapperPosition.value = {\n    left: left,\n    top: top,\n    width: 100,\n    height: 100,\n  }\n  \n  clipWrapperPositionStyle.value = {\n    top: -top + '%',\n    left: -left + '%',\n  }\n}\n\n// \nconst handleClip = () => {\n  if (isSettingClipRange.value) return\n\n  if (!currentRange.value) {\n    emit('clip', null)\n    return\n  }\n\n  const { left, top } = getClipDataTransformInfo()\n\n  const position = {\n    left: (topImgWrapperPosition.value.left - left) / 100 * props.width,\n    top: (topImgWrapperPosition.value.top - top) / 100 * props.height,\n    width: (topImgWrapperPosition.value.width - 100) / 100 * props.width,\n    height: (topImgWrapperPosition.value.height - 100) / 100 * props.height,\n  }\n\n  const clipedEmitData: ImageClipedEmitData = {\n    range: currentRange.value,\n    position,\n  }\n  emit('clip', clipedEmitData)\n}\n\n// \nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) handleClip()\n}\n\nonMounted(() => {\n  initClipPosition()\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// \nconst updateRange = () => {\n  const retPosition = {\n    left: parseInt(topImgPositionStyle.value.left),\n    top: parseInt(topImgPositionStyle.value.top),\n    width: parseInt(topImgPositionStyle.value.width),\n    height: parseInt(topImgPositionStyle.value.height),\n  }\n\n  const widthScale = 100 / retPosition.width\n  const heightScale = 100 / retPosition.height\n\n  const start: [number, number] = [\n    -retPosition.left * widthScale,\n    -retPosition.top * heightScale,\n  ]\n  const end: [number, number] = [\n    widthScale * 100 + start[0],\n    heightScale * 100 + start[1],\n  ]\n\n  currentRange.value = [start, end]\n}\n\n// \nconst moveClipRange = (e: MouseEvent) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    let targetLeft = originPositopn.left + moveX\n    let targetTop = originPositopn.top + moveY\n\n    if (targetLeft < 0) targetLeft = 0\n    else if (targetLeft + originPositopn.width > bottomPosition.width) {\n      targetLeft = bottomPosition.width - originPositopn.width\n    }\n    if (targetTop < 0) targetTop = 0\n    else if (targetTop + originPositopn.height > bottomPosition.height) {\n      targetTop = bottomPosition.height - originPositopn.height\n    }\n    \n    topImgWrapperPosition.value = {\n      ...topImgWrapperPosition.value,\n      left: targetLeft,\n      top: targetTop,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => {\n      isSettingClipRange.value = false\n    }, 0)\n  }\n}\n\n// \nconst scaleClipRange = (e: MouseEvent, type: OperateResizeHandlers) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const minWidth = 50 / props.width * 100\n  const minHeight = 50 / props.height * 100\n  \n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  const aspectRatio = topImgWrapperPosition.value.width / topImgWrapperPosition.value.height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    if (ctrlOrShiftKeyActive.value) {\n      if (type === OperateResizeHandlers.RIGHT_BOTTOM || type === OperateResizeHandlers.LEFT_TOP) moveY = moveX / aspectRatio\n      if (type === OperateResizeHandlers.LEFT_BOTTOM || type === OperateResizeHandlers.RIGHT_TOP) moveY = -moveX / aspectRatio\n    }\n\n    let targetLeft, targetTop, targetWidth, targetHeight\n\n    if (type === OperateResizeHandlers.LEFT_TOP) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.RIGHT_TOP) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.LEFT_BOTTOM) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.RIGHT_BOTTOM) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.TOP) {\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.BOTTOM) {\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.LEFT) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      targetHeight = originPositopn.height\n      targetWidth = originPositopn.width + moveX\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n\n    topImgWrapperPosition.value = {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => isSettingClipRange.value = false, 0)\n  }\n}\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n\nconst cornerPoint = [\n  OperateResizeHandlers.LEFT_TOP,\n  OperateResizeHandlers.RIGHT_TOP,\n  OperateResizeHandlers.LEFT_BOTTOM,\n  OperateResizeHandlers.RIGHT_BOTTOM,\n]\nconst edgePoints = [\n  OperateResizeHandlers.TOP,\n  OperateResizeHandlers.BOTTOM,\n  OperateResizeHandlers.LEFT,\n  OperateResizeHandlers.RIGHT,\n]\n</script>\n\n<style lang=\"scss\" scoped>\n.image-clip-handler {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  .bottom-img {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .top-image-content {\n    position: absolute;\n    overflow: hidden;\n\n    img {\n      position: absolute;\n    }\n  }\n}\n\n.operate {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  cursor: move;\n}\n\n.clip-point {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n\n  svg {\n    overflow: visible;\n  }\n\n  &.left-top {\n    left: 0;\n    top: 0;\n  }\n  &.right-top {\n    left: 100%;\n    top: 0;\n    transform: rotate(90deg);\n    transform-origin: 0 0;\n  }\n  &.left-bottom {\n    left: 0;\n    top: 100%;\n    transform: rotate(-90deg);\n    transform-origin: 0 0;\n  }\n  &.right-bottom {\n    left: 100%;\n    top: 100%;\n    transform: rotate(180deg);\n    transform-origin: 0 0;\n  }\n  &.top {\n    left: 50%;\n    top: 0;\n    margin-left: -8px;\n  }\n  &.bottom {\n    left: 50%;\n    bottom: 0;\n    margin-left: -8px;\n    transform: rotate(180deg);\n  }\n  &.left {\n    left: 0;\n    top: 50%;\n    margin-top: -8px;\n    transform: rotate(-90deg);\n  }\n  &.right {\n    right: 0;\n    top: 50%;\n    margin-top: -8px;\n    transform: rotate(90deg);\n  }\n\n  &.left-top.rotate-0,\n  &.right-bottom.rotate-0,\n  &.left.rotate-45,\n  &.right.rotate-45,\n  &.left-bottom.rotate-90,\n  &.right-top.rotate-90,\n  &.top.rotate-135,\n  &.bottom.rotate-135 {\n    cursor: nwse-resize;\n  }\n  &.top.rotate-0,\n  &.bottom.rotate-0,\n  &.left-top.rotate-45,\n  &.right-bottom.rotate-45,\n  &.left.rotate-90,\n  &.right.rotate-90,\n  &.left-bottom.rotate-135,\n  &.right-top.rotate-135 {\n    cursor: ns-resize;\n  }\n  &.left-bottom.rotate-0,\n  &.right-top.rotate-0,\n  &.top.rotate-45,\n  &.bottom.rotate-45,\n  &.left-top.rotate-90,\n  &.right-bottom.rotate-90,\n  &.left.rotate-135,\n  &.right.rotate-135 {\n    cursor: nesw-resize;\n  }\n  &.left.rotate-0,\n  &.right.rotate-0,\n  &.left-bottom.rotate-45,\n  &.right-top.rotate-45,\n  &.top.rotate-90,\n  &.bottom.rotate-90,\n  &.left-top.rotate-135,\n  &.right-bottom.rotate-135 {\n    cursor: ew-resize;\n  }\n}\n</style>","import script from \"./ImageClipHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageClipHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageClipHandler.vue?vue&type=style&index=0&id=5984406b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5984406b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1156b3e1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageElementClip, PPTImageElement } from '@/types/slides'\nimport type { ImageClipedEmitData } from '@/types/edit'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\nimport ImageClipHandler from './ImageClipHandler.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { clipingImageElementId } = storeToRefs(mainStore)\n\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n  props.selectElement(e, props.elementInfo)\n}\n\nconst handleClip = (data: ImageClipedEmitData | null) => {\n  mainStore.setClipingImageElementId('')\n  \n  if (!data) return\n\n  const { range, position } = data\n  const originClip: ImageElementClip = props.elementInfo.clip || { shape: 'rect', range: [[0, 0], [100, 100]] }\n\n  const left = props.elementInfo.left + position.left\n  const top = props.elementInfo.top + position.top\n  const width = props.elementInfo.width + position.width\n  const height = props.elementInfo.height + position.height\n\n  let centerOffsetX = 0\n  let centerOffsetY = 0\n\n  if (props.elementInfo.rotate) {\n    const centerX = (left + width / 2) - (props.elementInfo.left + props.elementInfo.width / 2)\n    const centerY = -((top + height / 2) - (props.elementInfo.top + props.elementInfo.height / 2))\n\n    const radian = -props.elementInfo.rotate * Math.PI / 180\n\n    const rotatedCenterX = centerX * Math.cos(radian) - centerY * Math.sin(radian)\n    const rotatedCenterY = centerX * Math.sin(radian) + centerY * Math.cos(radian)\n\n    centerOffsetX = rotatedCenterX - centerX\n    centerOffsetY = -(rotatedCenterY - centerY)\n  }\n\n  const _props = {\n    clip: { ...originClip, range },\n    left: left + centerOffsetX,\n    top: top + centerOffsetY,\n    width,\n    height,\n  }\n  slidesStore.updateElement({ id: props.elementInfo.id, props: _props })\n  \n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-image\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      (isCliping.value)\n        ? (_openBlock(), _createBlock(ImageClipHandler, {\n            key: 0,\n            src: _ctx.elementInfo.src,\n            clipData: _ctx.elementInfo.clip,\n            width: _ctx.elementInfo.width,\n            height: _ctx.elementInfo.height,\n            top: _ctx.elementInfo.top,\n            left: _ctx.elementInfo.left,\n            rotate: _ctx.elementInfo.rotate,\n            clipPath: _unref(clipShape).style,\n            onClip: _cache[0] || (_cache[0] = range => handleClip(range))\n          }, null, 8, [\"src\", \"clipData\", \"width\", \"height\", \"top\", \"left\", \"rotate\", \"clipPath\"]))\n        : _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            key: 1,\n            class: \"element-content\",\n            style: _normalizeStyle({\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n        }),\n            onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event)),\n            onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event))\n          }, [\n            _createVNode(ImageOutline, { elementInfo: _ctx.elementInfo }, null, 8, [\"elementInfo\"]),\n            _createElementVNode(\"div\", {\n              class: \"image-content\",\n              style: _normalizeStyle({ clipPath: _unref(clipShape).style })\n            }, [\n              _createElementVNode(\"img\", {\n                src: _ctx.elementInfo.src,\n                draggable: false,\n                style: _normalizeStyle({\n              top: _unref(imgPosition).top,\n              left: _unref(imgPosition).left,\n              width: _unref(imgPosition).width,\n              height: _unref(imgPosition).height,\n              filter: _unref(filter),\n            }),\n                onDragstart: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n                alt: \"\"\n              }, null, 44, _hoisted_1),\n              (_ctx.elementInfo.colorMask)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"color-mask\",\n                    style: _normalizeStyle({\n              backgroundColor: _ctx.elementInfo.colorMask,\n            })\n                  }, null, 4))\n                : _createCommentVNode(\"\", true)\n            ], 4)\n          ], 36)), [\n            [_directive_contextmenu, _ctx.contextmenus]\n          ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-image\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <ImageClipHandler\n        v-if=\"isCliping\"\n        :src=\"elementInfo.src\"\n        :clipData=\"elementInfo.clip\"\n        :width=\"elementInfo.width\"\n        :height=\"elementInfo.height\"\n        :top=\"elementInfo.top\"\n        :left=\"elementInfo.left\"\n        :rotate=\"elementInfo.rotate\"\n        :clipPath=\"clipShape.style\"\n        @clip=\"range => handleClip(range)\"\n      />\n      <div \n        class=\"element-content\"\n        v-else\n        :style=\"{\n          filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '',\n          transform: flipStyle,\n        }\"\n        v-contextmenu=\"contextmenus\"\n        @mousedown=\"$event => handleSelectElement($event)\" \n        @touchstart=\"$event => handleSelectElement($event)\" \n      >\n        <ImageOutline :elementInfo=\"elementInfo\" />\n\n        <div class=\"image-content\" :style=\"{ clipPath: clipShape.style }\">\n          <img \n            :src=\"elementInfo.src\" \n            :draggable=\"false\" \n            :style=\"{\n              top: imgPosition.top,\n              left: imgPosition.left,\n              width: imgPosition.width,\n              height: imgPosition.height,\n              filter: filter,\n            }\" \n            @dragstart.prevent\n            alt=\"\"\n          />\n          <div class=\"color-mask\"\n            v-if=\"elementInfo.colorMask\"\n            :style=\"{\n              backgroundColor: elementInfo.colorMask,\n            }\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageElementClip, PPTImageElement } from '@/types/slides'\nimport type { ImageClipedEmitData } from '@/types/edit'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\nimport ImageClipHandler from './ImageClipHandler.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTImageElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTImageElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { clipingImageElementId } = storeToRefs(mainStore)\n\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n  props.selectElement(e, props.elementInfo)\n}\n\nconst handleClip = (data: ImageClipedEmitData | null) => {\n  mainStore.setClipingImageElementId('')\n  \n  if (!data) return\n\n  const { range, position } = data\n  const originClip: ImageElementClip = props.elementInfo.clip || { shape: 'rect', range: [[0, 0], [100, 100]] }\n\n  const left = props.elementInfo.left + position.left\n  const top = props.elementInfo.top + position.top\n  const width = props.elementInfo.width + position.width\n  const height = props.elementInfo.height + position.height\n\n  let centerOffsetX = 0\n  let centerOffsetY = 0\n\n  if (props.elementInfo.rotate) {\n    const centerX = (left + width / 2) - (props.elementInfo.left + props.elementInfo.width / 2)\n    const centerY = -((top + height / 2) - (props.elementInfo.top + props.elementInfo.height / 2))\n\n    const radian = -props.elementInfo.rotate * Math.PI / 180\n\n    const rotatedCenterX = centerX * Math.cos(radian) - centerY * Math.sin(radian)\n    const rotatedCenterY = centerX * Math.sin(radian) + centerY * Math.cos(radian)\n\n    centerOffsetX = rotatedCenterX - centerX\n    centerOffsetY = -(rotatedCenterY - centerY)\n  }\n\n  const _props = {\n    clip: { ...originClip, range },\n    left: left + centerOffsetX,\n    top: top + centerOffsetY,\n    width,\n    height,\n  }\n  slidesStore.updateElement({ id: props.elementInfo.id, props: _props })\n  \n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-image {\n  position: absolute;\n\n  &.lock .element-content {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  cursor: move;\n\n  .image-content {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n  }\n  img {\n    position: absolute;\n  }\n}\n.color-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1156b3e1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1156b3e1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-efb76626\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\n\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOutline',\n  props: {\n    width: {},\n    height: {},\n    outline: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"element-outline\",\n        overflow: \"visible\",\n        width: _ctx.width,\n        height: _ctx.height\n      }, [\n        _createElementVNode(\"path\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          d: `M0,0 L${_ctx.width},0 L${_ctx.width},${_ctx.height} L0,${_ctx.height} Z`,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(strokeDashArray)\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\n  <svg \n    class=\"element-outline\"\n    v-if=\"outline\"\n    overflow=\"visible\" \n    :width=\"width\"\n    :height=\"height\"\n  >\n    <path \n      vector-effect=\"non-scaling-stroke\" \n      stroke-linecap=\"butt\" \n      stroke-miterlimit=\"8\"\n      fill=\"transparent\"\n      :d=\"`M0,0 L${width},0 L${width},${height} L0,${height} Z`\" \n      :stroke=\"outlineColor\"\n      :stroke-width=\"outlineWidth\" \n      :stroke-dasharray=\"strokeDashArray\" \n    ></path>\n\t</svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { toRef } from 'vue'\nimport type { PPTElementOutline } from '@/types/slides'\n\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\nconst props = defineProps<{\n  width: number\n  height: number\n  outline?: PPTElementOutline\n}>()\n\nconst {\n  outlineWidth,\n  outlineColor,\n  strokeDashArray,\n} = useElementOutline(toRef(props, 'outline'))\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  overflow: visible;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>","import script from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOutline.vue?vue&type=style&index=0&id=efb76626&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-efb76626\"]])\n\nexport default __exports__","import { splitListItem, liftListItem, sinkListItem } from 'prosemirror-schema-list'\nimport type { Schema } from 'prosemirror-model'\nimport { undo, redo } from 'prosemirror-history'\nimport { undoInputRule } from 'prosemirror-inputrules'\nimport type { Command } from 'prosemirror-state'\nimport {\n  toggleMark,\n  selectParentNode,\n  joinUp,\n  joinDown,\n  chainCommands,\n  newlineInCode,\n  createParagraphNear,\n  liftEmptyBlock,\n  splitBlockKeepMarks,\n} from 'prosemirror-commands'\n\ninterface Keys {\n  [key: string]: Command\n}\n\nexport const buildKeymap = (schema: Schema) => {\n  const keys: Keys = {}\n  const bind = (key: string, cmd: Command) => keys[key] = cmd\n\n  bind('Alt-ArrowUp', joinUp)\n  bind('Alt-ArrowDown', joinDown)\n  bind('Mod-z', undo)\n  bind('Mod-y', redo)\n  bind('Backspace', undoInputRule)\n  bind('Escape', selectParentNode)\n  bind('Mod-b', toggleMark(schema.marks.strong))\n  bind('Mod-i', toggleMark(schema.marks.em))\n  bind('Mod-u', toggleMark(schema.marks.underline))\n  bind('Mod-d', toggleMark(schema.marks.strikethrough))\n  bind('Mod-e', toggleMark(schema.marks.code))\n  bind('Mod-;', toggleMark(schema.marks.superscript))\n  bind(`Mod-'`, toggleMark(schema.marks.subscript))\n  bind('Enter', chainCommands(\n    splitListItem(schema.nodes.list_item),\n    newlineInCode,\n    createParagraphNear,\n    liftEmptyBlock,\n    splitBlockKeepMarks,\n  ))\n  bind('Mod-[', liftListItem(schema.nodes.list_item))\n  bind('Mod-]', sinkListItem(schema.nodes.list_item))\n  bind('Tab', sinkListItem(schema.nodes.list_item))\n\n  return keys\n}","import type { NodeType, Schema } from 'prosemirror-model'\nimport {\n  inputRules,\n  wrappingInputRule,\n  smartQuotes,\n  emDash,\n  ellipsis,\n  InputRule,\n} from 'prosemirror-inputrules'\n\nconst blockQuoteRule = (nodeType: NodeType) => wrappingInputRule(/^\\s*>\\s$/, nodeType)\n\nconst orderedListRule = (nodeType: NodeType) => (\n  wrappingInputRule(\n    /^(\\d+)\\.\\s$/, \n    nodeType, \n    match => ({order: +match[1]}),\n    (match, node) => node.childCount + node.attrs.order === +match[1],\n  )\n)\n\nconst bulletListRule = (nodeType: NodeType) => wrappingInputRule(/^\\s*([-+*])\\s$/, nodeType)\n\nconst codeRule = () => {\n  const inputRegex = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))$/\n  \n  return new InputRule(inputRegex, (state, match, start, end) => {\n    const { schema } = state\n\n    const tr = state.tr.insertText(`${match[2]} `, start, end)\n    const mark = schema.marks.code.create()\n\n    return tr.addMark(start, start + match[2].length, mark)\n  })\n}\n\nconst linkRule = () => {\n  const urlRegEx = /(?:https?:\\/\\/)?[\\w-]+(?:\\.[\\w-]+)+\\.?(?:\\d+)?(?:\\/\\S*)?$/\n  \n  return new InputRule(urlRegEx, (state, match, start, end) => {\n    const { schema } = state\n\n    const tr = state.tr.insertText(match[0], start, end)\n    const mark = schema.marks.link.create({ href: match[0], title: match[0] })\n\n    return tr.addMark(start, start + match[0].length, mark)\n  })\n}\n\nexport const buildInputRules = (schema: Schema) => {\n  const rules = [\n    ...smartQuotes,\n    ellipsis,\n    emDash,\n  ]\n  rules.push(blockQuoteRule(schema.nodes.blockquote))\n  rules.push(orderedListRule(schema.nodes.ordered_list))\n  rules.push(bulletListRule(schema.nodes.bullet_list))\n  rules.push(codeRule())\n  rules.push(linkRule())\n\n  return inputRules({ rules })\n}","import { Plugin } from 'prosemirror-state'\nimport { Decoration, DecorationSet } from 'prosemirror-view'\nimport type { Node } from 'prosemirror-model'\n\nconst isEmptyParagraph = (node: Node) => {\n  return node.type.name === 'paragraph' && node.nodeSize === 2\n}\n\nexport const placeholderPlugin = (placeholder: string) => {\n  return new Plugin({\n    props: {\n      decorations(state) {\n        const { $from } = state.selection\n        if (isEmptyParagraph($from.parent)) {\n          const decoration = Decoration.node($from.before(), $from.after(), {\n            'data-placeholder': placeholder,\n          })\n          return DecorationSet.create(state.doc, [decoration])\n        }\n      },\n    },\n  })\n}","import { keymap } from 'prosemirror-keymap'\nimport type { Schema } from 'prosemirror-model'\nimport { history } from 'prosemirror-history'\nimport { baseKeymap } from 'prosemirror-commands'\nimport { dropCursor } from 'prosemirror-dropcursor'\nimport { gapCursor } from 'prosemirror-gapcursor'\n\nimport { buildKeymap } from './keymap'\nimport { buildInputRules } from './inputrules'\nimport { placeholderPlugin } from './placeholder'\n\nexport interface PluginOptions {\n  placeholder?: string\n}\n\nexport const buildPlugins = (schema: Schema, options?: PluginOptions) => {\n  const placeholder = options?.placeholder\n\n  const plugins = [\n    buildInputRules(schema),\n    keymap(buildKeymap(schema)),\n    keymap(baseKeymap),\n    dropCursor(),\n    gapCursor(),\n    history(),\n  ]\n\n  if (placeholder) plugins.push(placeholderPlugin(placeholder))\n\n  return plugins\n}","import { nodes } from 'prosemirror-schema-basic'\nimport type { Node, NodeSpec } from 'prosemirror-model'\nimport { listItem as _listItem } from 'prosemirror-schema-list'\n\ninterface Attr {\n  [key: string]: number | string\n}\n\nconst orderedList: NodeSpec = {\n  attrs: {\n    order: {\n      default: 1,\n    },\n    listStyleType: {\n      default: '',\n    },\n  },\n  content: 'list_item+',\n  group: 'block',\n  parseDOM: [\n    { \n      tag: 'ol', \n      getAttrs: dom => {\n        const order = ((dom as HTMLElement).hasAttribute('start') ? (dom as HTMLElement).getAttribute('start') : 1) || 1\n        const attr: Attr = { order: +order }\n\n        const { listStyleType } = (dom as HTMLElement).style\n        if (listStyleType) attr['listStyleType'] = listStyleType\n\n        return attr\n      }\n    }\n  ],\n  toDOM: (node: Node) => {\n    const { order, listStyleType } = node.attrs\n    let style = ''\n    if (listStyleType) style += `list-style-type: ${listStyleType};`\n\n    const attr: Attr = { style }\n    if (order !== 1) attr['start'] = order\n\n\n    return ['ol', attr, 0]\n  },\n}\n\nconst bulletList: NodeSpec = {\n  attrs: {\n    listStyleType: {\n      default: '',\n    },\n  },\n  content: 'list_item+',\n  group: 'block',\n  parseDOM: [\n    {\n      tag: 'ul',\n      getAttrs: dom => {\n        const { listStyleType } = (dom as HTMLElement).style\n        return listStyleType ? { listStyleType } : {}\n      }\n    }\n  ],\n  toDOM: (node: Node) => {\n    const { listStyleType } = node.attrs\n    let style = ''\n    if (listStyleType) style += `list-style-type: ${listStyleType};`\n\n    return ['ul', { style }, 0]\n  },\n}\n\nconst listItem: NodeSpec = {\n  ..._listItem,\n  content: 'paragraph block*',\n  group: 'block',\n}\n\nconst paragraph: NodeSpec = {\n  attrs: {\n    align: {\n      default: '',\n    },\n    indent: {\n      default: 0,\n    },\n    textIndent: {\n      default: 0,\n    },\n  },\n  content: 'inline*',\n  group: 'block',\n  parseDOM: [\n    {\n      tag: 'p',\n      getAttrs: dom => {\n        const { textAlign, textIndent } = (dom as HTMLElement).style\n\n        let align = (dom as HTMLElement).getAttribute('align') || textAlign || ''\n        align = /(left|right|center|justify)/.test(align) ? align : ''\n\n        let textIndentLevel = 0\n        if (textIndent) {\n          if (/em/.test(textIndent)) {\n            textIndentLevel = parseInt(textIndent)\n          }\n          else if (/px/.test(textIndent)) {\n            textIndentLevel = Math.floor(parseInt(textIndent) / 20)\n            if (!textIndentLevel) textIndentLevel = 1\n          }\n        }\n\n        const indent = +((dom as HTMLElement).getAttribute('data-indent') || 0)\n      \n        return { align, indent, textIndent: textIndentLevel }\n      }\n    },\n    {\n      tag: 'img',\n      ignore: true,\n    },\n    {\n      tag: 'pre',\n      skip: true,\n    },\n  ],\n  toDOM: (node: Node) => {\n    const { align, indent, textIndent } = node.attrs\n    let style = ''\n    if (align && align !== 'left') style += `text-align: ${align};`\n    if (textIndent) style += `text-indent: ${textIndent * 20}px;`\n\n    const attr: Attr = { style }\n    if (indent) attr['data-indent'] = indent\n\n    return ['p', attr, 0]\n  },\n}\n\nconst {\n  doc,\n  blockquote,\n  text,\n} = nodes\n\nexport default {\n  doc,\n  paragraph,\n  blockquote,\n  text,\n  'ordered_list': orderedList,\n  'bullet_list': bulletList,\n  'list_item': listItem,\n}\n","import { marks } from 'prosemirror-schema-basic'\nimport type { MarkSpec } from 'prosemirror-model'\n\nconst subscript: MarkSpec = {\n  excludes: 'subscript',\n  parseDOM: [\n    { tag: 'sub' },\n    {\n      style: 'vertical-align',\n      getAttrs: value => value === 'sub' && null\n    },\n  ],\n  toDOM: () => ['sub', 0],\n}\n\nconst superscript: MarkSpec = {\n  excludes: 'superscript',\n  parseDOM: [\n    { tag: 'sup' },\n    {\n      style: 'vertical-align',\n      getAttrs: value => value === 'super' && null\n    },\n  ],\n  toDOM: () => ['sup', 0],\n}\n\nconst strikethrough: MarkSpec = {\n  parseDOM: [\n    { tag: 'strike' },\n    {\n      style: 'text-decoration',\n      getAttrs: value => value === 'line-through' && null\n    },\n    {\n      style: 'text-decoration-line',\n      getAttrs: value => value === 'line-through' && null\n    },\n  ],\n  toDOM: () => ['span', { style: 'text-decoration-line: line-through;' }, 0],\n}\n\nconst underline: MarkSpec = {\n  parseDOM: [\n    { tag: 'u' },\n    {\n      style: 'text-decoration',\n      getAttrs: value => value === 'underline' && null\n    },\n    {\n      style: 'text-decoration-line',\n      getAttrs: value => value === 'underline' && null\n    },\n  ],\n  toDOM: () => ['span', { style: 'text-decoration: underline;' }, 0],\n}\n\nconst forecolor: MarkSpec = {\n  attrs: {\n    color: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'color',\n      getAttrs: color => color ? { color } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { color } = mark.attrs\n    let style = ''\n    if (color) style += `color: ${color};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst backcolor: MarkSpec = {\n  attrs: {\n    backcolor: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'background-color',\n      getAttrs: backcolor => backcolor ? { backcolor } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { backcolor } = mark.attrs\n    let style = ''\n    if (backcolor) style += `background-color: ${backcolor};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst fontsize: MarkSpec = {\n  attrs: {\n    fontsize: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'font-size',\n      getAttrs: fontsize => fontsize ? { fontsize } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { fontsize } = mark.attrs\n    let style = ''\n    if (fontsize) style += `font-size: ${fontsize};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst fontname: MarkSpec = {\n  attrs: {\n    fontname: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'font-family',\n      getAttrs: fontname => {\n        return { fontname: fontname && typeof fontname === 'string' ? fontname.replace(/[\\\"\\']/g, '') : '' }\n      }\n    },\n  ],\n  toDOM: mark => {\n    const { fontname } = mark.attrs\n    let style = ''\n    if (fontname) style += `font-family: ${fontname};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst link: MarkSpec = {\n  attrs: {\n    href: {},\n    title: { default: null },\n    target: { default: '_blank' },\n  },\n  inclusive: false,\n  parseDOM: [\n    {\n      tag: 'a[href]',\n      getAttrs: dom => {\n        const href = (dom as HTMLElement).getAttribute('href')\n        const title = (dom as HTMLElement).getAttribute('title')\n        return { href, title }\n      }\n    },\n  ],\n  toDOM: node => ['a', node.attrs, 0],\n}\n\nconst mark: MarkSpec = {\n  attrs: {\n    index: { default: null },\n  },\n  parseDOM: [\n    {\n      tag: 'mark',\n      getAttrs: dom => {\n        const index = (dom as HTMLElement).dataset.index\n        return { index }\n      }\n    },\n  ],\n  toDOM: node => ['mark', { 'data-index': node.attrs.index }, 0],\n}\n\nconst { em, strong, code } = marks\n\nexport default {\n  em,\n  strong,\n  fontsize,\n  fontname,\n  code,\n  forecolor,\n  backcolor,\n  subscript,\n  superscript,\n  strikethrough,\n  underline,\n  link,\n  mark,\n}","import nodes from './nodes'\nimport marks from './marks'\n\nexport const schemaNodes = nodes\nexport const schemaMarks = marks\n","import mitt, { type Emitter } from 'mitt'\n\nexport const enum EmitterEvents {\n  RICH_TEXT_COMMAND = 'RICH_TEXT_COMMAND',\n  OPEN_CHART_DATA_EDITOR = 'OPEN_CHART_DATA_EDITOR',\n  OPEN_LATEX_EDITOR = 'OPEN_LATEX_EDITOR',\n}\n\nexport interface RichTextAction {\n  command: string\n  value?: string\n}\n\nexport interface RichTextCommand {\n  target?: string\n  action: RichTextAction | RichTextAction[]\n}\n\ntype Events = {\n  [EmitterEvents.RICH_TEXT_COMMAND]: RichTextCommand\n  [EmitterEvents.OPEN_CHART_DATA_EDITOR]: void\n  [EmitterEvents.OPEN_LATEX_EDITOR]: void\n} \n\nconst emitter: Emitter<Events> = mitt<Events>()\n\nexport default emitter","import { EditorState } from 'prosemirror-state'\nimport { type DirectEditorProps, EditorView } from 'prosemirror-view'\nimport { Schema, DOMParser } from 'prosemirror-model'\nimport { buildPlugins, type PluginOptions } from './plugins/index'\nimport { schemaNodes, schemaMarks } from './schema/index'\n\nconst schema = new Schema({\n  nodes: schemaNodes,\n  marks: schemaMarks,\n})\n\nexport const createDocument = (content: string) => {\n  const htmlString = `<div>${content}</div>`\n  const parser = new window.DOMParser()\n  const element = parser.parseFromString(htmlString, 'text/html').body.firstElementChild\n  return DOMParser.fromSchema(schema).parse(element as Element)\n}\n\nexport const initProsemirrorEditor = (\n  dom: Element,\n  content: string,\n  props: Omit<DirectEditorProps, 'state'>,\n  pluginOptions?: PluginOptions,\n) => {\n  return new EditorView(dom, {\n    state: EditorState.create({\n      doc: createDocument(content),\n      plugins: buildPlugins(schema, pluginOptions),\n    }),\n    ...props,\n  })\n}","import type { Schema, Node, NodeType } from 'prosemirror-model'\nimport type { Transaction } from 'prosemirror-state'\nimport type { EditorView } from 'prosemirror-view'\n\nexport const setTextAlign = (tr: Transaction, schema: Schema, alignment: string) => {\n  const { selection, doc } = tr\n  if (!selection || !doc) return tr\n\n  const { from, to } = selection\n  const { nodes } = schema\n\n  const blockquote = nodes.blockquote\n  const listItem = nodes.list_item\n  const paragraph = nodes.paragraph\n\n  interface Task {\n    node: Node\n    pos: number\n    nodeType: NodeType\n  }\n\n  const tasks: Task[] = []\n  alignment = alignment || ''\n\n  const allowedNodeTypes = new Set([blockquote, listItem, paragraph])\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type\n    const align = node.attrs.align || ''\n    if (align !== alignment && allowedNodeTypes.has(nodeType)) {\n      tasks.push({\n        node,\n        pos,\n        nodeType,\n      })\n    }\n    return true\n  })\n\n  if (!tasks.length) return tr\n\n  tasks.forEach(task => {\n    const { node, pos, nodeType } = task\n    let { attrs } = node\n    if (alignment) attrs = { ...attrs, align: alignment }\n    else attrs = { ...attrs, align: null }\n    tr = tr.setNodeMarkup(pos, nodeType, attrs, node.marks)\n  })\n\n  return tr\n}\n\nexport const alignmentCommand = (view: EditorView, alignment: string) => {\n  const { state } = view\n  const { schema, selection } = state\n  const tr = setTextAlign(\n    state.tr.setSelection(selection),\n    schema,\n    alignment,\n  )\n  view.dispatch(tr)\n}","import { wrapInList, liftListItem } from 'prosemirror-schema-list'\nimport type { Schema, Node, NodeType } from 'prosemirror-model'\nimport type { Transaction, EditorState } from 'prosemirror-state'\nimport { findParentNode } from '../utils'\n\nexport const isList = (node: Node, schema: Schema) => {\n  return (\n    node.type === schema.nodes.bullet_list ||\n    node.type === schema.nodes.ordered_list\n  )\n}\n\nexport const toggleList = (listType: NodeType, itemType: NodeType, listStyleType?: string) => {\n  return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n    const { schema, selection } = state\n    const { $from, $to } = selection\n    const range = $from.blockRange($to)\n\n    if (!range) return false\n\n    const parentList = findParentNode((node: Node) => isList(node, schema))(selection)\n\n    if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n      if (parentList.node.type === listType && !listStyleType) {\n        return liftListItem(itemType)(state, dispatch)\n      }\n\n      if (isList(parentList.node, schema) && listType.validContent(parentList.node.content)) {\n        const { tr } = state\n        if (listStyleType) {\n          const nodeAttrs = {\n            ...parentList.node.attrs,\n            listStyleType: listStyleType,\n          }\n          tr.setNodeMarkup(parentList.pos, listType, nodeAttrs)\n        }\n        else tr.setNodeMarkup(parentList.pos, listType)\n\n        if (dispatch) dispatch(tr)\n\n        return false\n      }\n    }\n\n    if (listStyleType) return wrapInList(listType, { listStyleType })(state, dispatch)\n    return wrapInList(listType)(state, dispatch)\n  }\n}","import type { Schema } from 'prosemirror-model'\nimport { type Transaction, TextSelection, AllSelection } from 'prosemirror-state'\nimport type { EditorView } from 'prosemirror-view'\nimport { isList } from './toggleList'\n\ntype IndentKey = 'indent' | 'textIndent'\n\nfunction setNodeIndentMarkup(tr: Transaction, pos: number, delta: number, indentKey: IndentKey): Transaction {\n  if (!tr.doc) return tr\n\n  const node = tr.doc.nodeAt(pos)\n  if (!node) return tr\n\n  const minIndent = 0\n  const maxIndent = 8\n\n  let indent = (node.attrs[indentKey] || 0) + delta\n  if (indent < minIndent) indent = minIndent\n  if (indent > maxIndent) indent = maxIndent\n\n  if (indent === node.attrs[indentKey]) return tr\n\n  const nodeAttrs = {\n    ...node.attrs,\n    [indentKey]: indent,\n  }\n\n  return tr.setNodeMarkup(pos, node.type, nodeAttrs, node.marks)\n}\n\nconst setIndent = (tr: Transaction, schema: Schema, delta: number, indentKey: IndentKey): Transaction => {\n  const { selection, doc } = tr\n  if (!selection || !doc) return tr\n\n  if (!(selection instanceof TextSelection || selection instanceof AllSelection)) return tr\n\n  const { from, to } = selection\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type\n\n    if (nodeType.name === 'paragraph' || nodeType.name === 'blockquote') {\n      tr = setNodeIndentMarkup(tr, pos, delta, indentKey)\n      return false\n    } \n    else if (isList(node, schema)) return false\n    return true\n  })\n\n  return tr\n}\n\nexport const indentCommand = (view: EditorView, delta: number) => {\n  const { state } = view\n  const { schema, selection } = state\n\n  const tr = setIndent(\n    state.tr.setSelection(selection),\n    schema,\n    delta,\n    'indent',\n  )\n  if (tr.docChanged) {\n    view.dispatch(tr)\n    return true\n  }\n\n  return false\n}\n\nexport const textIndentCommand = (view: EditorView, delta: number) => {\n  const { state } = view\n  const { schema, selection } = state\n\n  const tr = setIndent(\n    state.tr.setSelection(selection),\n    schema,\n    delta,\n    'textIndent',\n  )\n  if (tr.docChanged) {\n    view.dispatch(tr)\n    return true\n  }\n\n  return false\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { debounce } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { EditorView } from 'prosemirror-view'\nimport { toggleMark, wrapIn, lift } from 'prosemirror-commands'\nimport { initProsemirrorEditor, createDocument } from '@/utils/prosemirror'\nimport { isActiveOfParentNodeType, findNodesWithSameMark, getTextAttrs, autoSelectAll, addMark, markActive, getFontsize } from '@/utils/prosemirror/utils'\nimport emitter, { EmitterEvents, type RichTextAction, type RichTextCommand } from '@/utils/emitter'\nimport { alignmentCommand } from '@/utils/prosemirror/commands/setTextAlign'\nimport { indentCommand, textIndentCommand } from '@/utils/prosemirror/commands/setTextIndent'\nimport { toggleList } from '@/utils/prosemirror/commands/toggleList'\nimport type { TextFormatPainterKeys } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProsemirrorEditor',\n  props: {\n    elementId: {},\n    defaultColor: {},\n    defaultFontName: {},\n    value: {},\n    editable: { type: Boolean, default: false },\n    autoFocus: { type: Boolean, default: false }\n  },\n  emits: [\"update\", \"focus\", \"blur\", \"mousedown\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst mainStore = useMainStore()\nconst { handleElementId, textFormatPainter } = storeToRefs(mainStore)\n\nconst editorViewRef = ref<HTMLElement>()\nlet editorView: EditorView\n\n// \n// \n// vuex\n// \nconst handleInput = debounce(function() {\n  emit('update', editorView.dom.innerHTML)\n}, 300, { trailing: true })\n\nconst handleFocus = () => {\n  mainStore.setDisableHotkeysState(true)\n  emit('focus')\n}\n\nconst handleBlur = () => {\n  mainStore.setDisableHotkeysState(false)\n  emit('blur')\n}\n\nconst handleClick = debounce(function() {\n  const attrs = getTextAttrs(editorView, {\n    color: props.defaultColor,\n    fontname: props.defaultFontName,\n  })\n  mainStore.setRichtextAttrs(attrs)\n}, 30, { trailing: true })\n\nconst handleKeydown = () => {\n  handleInput()\n  handleClick()\n}\n\n// DOM\nconst textContent = computed(() => props.value)\nwatch(textContent, () => {\n  if (!editorView) return\n  if (editorView.hasFocus()) return\n\n  const { doc, tr } = editorView.state\n  editorView.dispatch(tr.replaceRangeWith(0, doc.content.size, createDocument(textContent.value)))\n})\n\n// /\nwatch(() => props.editable, () => {\n  editorView.setProps({ editable: () => props.editable })\n})\n\n//  focus \nconst focus = () => editorView.focus()\n__expose({ focus })\n\n// \n// \nconst execCommand = ({ target, action }: RichTextCommand) => {\n  if (!target && handleElementId.value !== props.elementId) return\n  if (target && target !== props.elementId) return\n\n  const actions = ('command' in action) ? [action] : action\n\n  for (const item of actions) {\n    if (item.command === 'fontname' && item.value) {\n      const mark = editorView.state.schema.marks.fontname.create({ fontname: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize' && item.value) {\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-add') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      const fontsize = getFontsize(editorView) + step + 'px'\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-reduce') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      let fontsize = getFontsize(editorView) - step\n      if (fontsize < 12) fontsize = 12\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: fontsize + 'px' })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'color' && item.value) {\n      const mark = editorView.state.schema.marks.forecolor.create({ color: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'backcolor' && item.value) {\n      const mark = editorView.state.schema.marks.backcolor.create({ backcolor: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'bold') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strong)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'em') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.em)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'underline') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.underline)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'strikethrough') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strikethrough)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'subscript') {\n      toggleMark(editorView.state.schema.marks.subscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'superscript') {\n      toggleMark(editorView.state.schema.marks.superscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'blockquote') {\n      const isBlockquote = isActiveOfParentNodeType('blockquote', editorView.state)\n      if (isBlockquote) lift(editorView.state, editorView.dispatch)\n      else wrapIn(editorView.state.schema.nodes.blockquote)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'code') {\n      toggleMark(editorView.state.schema.marks.code)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'align' && item.value) {\n      alignmentCommand(editorView, item.value)\n    }\n    else if (item.command === 'indent' && item.value) {\n      indentCommand(editorView, +item.value)\n    }\n    else if (item.command === 'textIndent' && item.value) {\n      textIndentCommand(editorView, +item.value)\n    }\n    else if (item.command === 'bulletList') {\n      const listStyleType = item.value || ''\n      const { bullet_list: bulletList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(bulletList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'orderedList') {\n      const listStyleType = item.value || ''\n      const { ordered_list: orderedList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(orderedList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'clear') {\n      autoSelectAll(editorView)\n      const { $from, $to } = editorView.state.selection\n      editorView.dispatch(editorView.state.tr.removeMark($from.pos, $to.pos))\n    }\n    else if (item.command === 'link') {\n      const markType = editorView.state.schema.marks.link\n      const { from, to } = editorView.state.selection\n      const result = findNodesWithSameMark(editorView.state.doc, from, to, markType)\n      if (result) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark, { from: result.from.pos, to: result.to.pos + 1 })\n        }\n        else editorView.dispatch(editorView.state.tr.removeMark(result.from.pos, result.to.pos + 1, markType))\n      }\n      else if (markActive(editorView.state, markType)) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark)\n        }\n        else toggleMark(markType)(editorView.state, editorView.dispatch)\n      }\n      else if (item.value) {\n        autoSelectAll(editorView)\n        toggleMark(markType, { href: item.value, title: item.value })(editorView.state, editorView.dispatch)\n      }\n    }\n    else if (item.command === 'insert' && item.value) {\n      editorView.dispatch(editorView.state.tr.insertText(item.value))\n    }\n  }\n\n  editorView.focus()\n  handleInput()\n  handleClick()\n}\n\n// \nconst handleMouseup = () => {\n  if (!textFormatPainter.value) return\n  const { keep, ...newProps } = textFormatPainter.value\n\n  const actions: RichTextAction[] = [{ command: 'clear' }]\n  for (const key of Object.keys(newProps) as TextFormatPainterKeys[]) {\n    const command = key\n    const value = textFormatPainter.value[key]\n    if (value === true) actions.push({ command })\n    else if (value) actions.push({ command, value })\n  }\n  execCommand({ action: actions })\n  if (!keep) mainStore.setTextFormatPainter(null)\n}\n\n// Prosemirror\nonMounted(() => {\n  editorView = initProsemirrorEditor((editorViewRef.value as Element), textContent.value, {\n    handleDOMEvents: {\n      focus: handleFocus,\n      blur: handleBlur,\n      keydown: handleKeydown,\n      click: handleClick,\n      mouseup: handleMouseup,\n    },\n    editable: () => props.editable,\n  })\n  if (props.autoFocus) editorView.focus()\n})\nonUnmounted(() => {\n  editorView && editorView.destroy()\n})\n\nemitter.on(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"prosemirror-editor\", { 'format-painter': _unref(textFormatPainter) }]),\n    ref_key: \"editorViewRef\",\n    ref: editorViewRef,\n    onMousedown: _cache[0] || (_cache[0] = $event => emit('mousedown', $event))\n  }, null, 34))\n}\n}\n\n})","<template>\n  <div \n    class=\"prosemirror-editor\" \n    :class=\"{ 'format-painter': textFormatPainter }\"\n    ref=\"editorViewRef\"\n    @mousedown=\"$event => emit('mousedown', $event)\"\n  ></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { debounce } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { EditorView } from 'prosemirror-view'\nimport { toggleMark, wrapIn, lift } from 'prosemirror-commands'\nimport { initProsemirrorEditor, createDocument } from '@/utils/prosemirror'\nimport { isActiveOfParentNodeType, findNodesWithSameMark, getTextAttrs, autoSelectAll, addMark, markActive, getFontsize } from '@/utils/prosemirror/utils'\nimport emitter, { EmitterEvents, type RichTextAction, type RichTextCommand } from '@/utils/emitter'\nimport { alignmentCommand } from '@/utils/prosemirror/commands/setTextAlign'\nimport { indentCommand, textIndentCommand } from '@/utils/prosemirror/commands/setTextIndent'\nimport { toggleList } from '@/utils/prosemirror/commands/toggleList'\nimport type { TextFormatPainterKeys } from '@/types/edit'\n\nconst props = withDefaults(defineProps<{\n  elementId: string\n  defaultColor: string\n  defaultFontName: string\n  value: string\n  editable?: boolean\n  autoFocus?: boolean\n}>(), {\n  editable: false,\n  autoFocus: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update', payload: string): void\n  (event: 'focus'): void\n  (event: 'blur'): void\n  (event: 'mousedown', payload: MouseEvent): void\n}>()\n\nconst mainStore = useMainStore()\nconst { handleElementId, textFormatPainter } = storeToRefs(mainStore)\n\nconst editorViewRef = ref<HTMLElement>()\nlet editorView: EditorView\n\n// \n// \n// vuex\n// \nconst handleInput = debounce(function() {\n  emit('update', editorView.dom.innerHTML)\n}, 300, { trailing: true })\n\nconst handleFocus = () => {\n  mainStore.setDisableHotkeysState(true)\n  emit('focus')\n}\n\nconst handleBlur = () => {\n  mainStore.setDisableHotkeysState(false)\n  emit('blur')\n}\n\nconst handleClick = debounce(function() {\n  const attrs = getTextAttrs(editorView, {\n    color: props.defaultColor,\n    fontname: props.defaultFontName,\n  })\n  mainStore.setRichtextAttrs(attrs)\n}, 30, { trailing: true })\n\nconst handleKeydown = () => {\n  handleInput()\n  handleClick()\n}\n\n// DOM\nconst textContent = computed(() => props.value)\nwatch(textContent, () => {\n  if (!editorView) return\n  if (editorView.hasFocus()) return\n\n  const { doc, tr } = editorView.state\n  editorView.dispatch(tr.replaceRangeWith(0, doc.content.size, createDocument(textContent.value)))\n})\n\n// /\nwatch(() => props.editable, () => {\n  editorView.setProps({ editable: () => props.editable })\n})\n\n//  focus \nconst focus = () => editorView.focus()\ndefineExpose({ focus })\n\n// \n// \nconst execCommand = ({ target, action }: RichTextCommand) => {\n  if (!target && handleElementId.value !== props.elementId) return\n  if (target && target !== props.elementId) return\n\n  const actions = ('command' in action) ? [action] : action\n\n  for (const item of actions) {\n    if (item.command === 'fontname' && item.value) {\n      const mark = editorView.state.schema.marks.fontname.create({ fontname: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize' && item.value) {\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-add') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      const fontsize = getFontsize(editorView) + step + 'px'\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-reduce') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      let fontsize = getFontsize(editorView) - step\n      if (fontsize < 12) fontsize = 12\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: fontsize + 'px' })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'color' && item.value) {\n      const mark = editorView.state.schema.marks.forecolor.create({ color: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'backcolor' && item.value) {\n      const mark = editorView.state.schema.marks.backcolor.create({ backcolor: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'bold') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strong)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'em') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.em)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'underline') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.underline)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'strikethrough') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strikethrough)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'subscript') {\n      toggleMark(editorView.state.schema.marks.subscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'superscript') {\n      toggleMark(editorView.state.schema.marks.superscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'blockquote') {\n      const isBlockquote = isActiveOfParentNodeType('blockquote', editorView.state)\n      if (isBlockquote) lift(editorView.state, editorView.dispatch)\n      else wrapIn(editorView.state.schema.nodes.blockquote)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'code') {\n      toggleMark(editorView.state.schema.marks.code)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'align' && item.value) {\n      alignmentCommand(editorView, item.value)\n    }\n    else if (item.command === 'indent' && item.value) {\n      indentCommand(editorView, +item.value)\n    }\n    else if (item.command === 'textIndent' && item.value) {\n      textIndentCommand(editorView, +item.value)\n    }\n    else if (item.command === 'bulletList') {\n      const listStyleType = item.value || ''\n      const { bullet_list: bulletList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(bulletList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'orderedList') {\n      const listStyleType = item.value || ''\n      const { ordered_list: orderedList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(orderedList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'clear') {\n      autoSelectAll(editorView)\n      const { $from, $to } = editorView.state.selection\n      editorView.dispatch(editorView.state.tr.removeMark($from.pos, $to.pos))\n    }\n    else if (item.command === 'link') {\n      const markType = editorView.state.schema.marks.link\n      const { from, to } = editorView.state.selection\n      const result = findNodesWithSameMark(editorView.state.doc, from, to, markType)\n      if (result) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark, { from: result.from.pos, to: result.to.pos + 1 })\n        }\n        else editorView.dispatch(editorView.state.tr.removeMark(result.from.pos, result.to.pos + 1, markType))\n      }\n      else if (markActive(editorView.state, markType)) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark)\n        }\n        else toggleMark(markType)(editorView.state, editorView.dispatch)\n      }\n      else if (item.value) {\n        autoSelectAll(editorView)\n        toggleMark(markType, { href: item.value, title: item.value })(editorView.state, editorView.dispatch)\n      }\n    }\n    else if (item.command === 'insert' && item.value) {\n      editorView.dispatch(editorView.state.tr.insertText(item.value))\n    }\n  }\n\n  editorView.focus()\n  handleInput()\n  handleClick()\n}\n\n// \nconst handleMouseup = () => {\n  if (!textFormatPainter.value) return\n  const { keep, ...newProps } = textFormatPainter.value\n\n  const actions: RichTextAction[] = [{ command: 'clear' }]\n  for (const key of Object.keys(newProps) as TextFormatPainterKeys[]) {\n    const command = key\n    const value = textFormatPainter.value[key]\n    if (value === true) actions.push({ command })\n    else if (value) actions.push({ command, value })\n  }\n  execCommand({ action: actions })\n  if (!keep) mainStore.setTextFormatPainter(null)\n}\n\n// Prosemirror\nonMounted(() => {\n  editorView = initProsemirrorEditor((editorViewRef.value as Element), textContent.value, {\n    handleDOMEvents: {\n      focus: handleFocus,\n      blur: handleBlur,\n      keydown: handleKeydown,\n      click: handleClick,\n      mouseup: handleMouseup,\n    },\n    editable: () => props.editable,\n  })\n  if (props.autoFocus) editorView.focus()\n})\nonUnmounted(() => {\n  editorView && editorView.destroy()\n})\n\nemitter.on(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.prosemirror-editor {\n  cursor: text;\n\n  &.format-painter {\n    cursor: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcuMzUuMDEybC0uMDY2Ljk5OGE1LjI3MSA1LjI3MSAwIDAwLTEuMTg0LjA2IDMuOCAzLjggMCAwMC0uOTMzLjQ3MmMtLjQ0LjM1Ni0uNzgzLjgxMS0uOTk4IDEuMzI0bC4wMTgtLjAzNnY1LjEyaDEuMDR2Ljk4aC0xLjA0bC0uMDAyIDQuMTVjLjE4Ny40MjYuNDYuODEuNzkxIDEuMTE3bC4xNzUuMTUyYy4yOTMuMjA4LjYxNS4zNzMuODkuNDcyLjQxLjA4Mi44My4xMTIgMS4yNDkuMDlsLjA1Ny45OTlhNi4wNjMgNi4wNjMgMCAwMS0xLjU4OC0uMTI5IDQuODM2IDQuODM2IDAgMDEtMS4yNS0uNjQ3IDQuNDYzIDQuNDYzIDAgMDEtLjgzOC0uODgzYy0uMjI0LjMzMi0uNS42NDItLjgyNC45MjdhNC4xMSA0LjExIDAgMDEtMS4zMDUuNjMzQTYuMTI2IDYuMTI2IDAgMDEwIDE1LjkwOWwuMDY4LS45OTdjLjQyNC4wMjYuODUtLjAwMSAxLjIxNy0uMDcuMzM2LS4wOTkuNjUxLS4yNTQuODk0LS40My40My0uMzguNzY1LS44NDcuOTgyLTEuMzY4bC0uMDA1LjAxNFY4LjkzSDIuMTE1di0uOThoMS4wNFYyLjg2MmEzLjc3IDMuNzcgMCAwMC0uNzc0LTEuMTY3bC0uMTY1LS4xNTZhMy4wNjQgMy4wNjQgMCAwMC0uODgtLjQ0OEE1LjA2MiA1LjA2MiAwIDAwLjA2NyAxLjAxTDAgLjAxMmE2LjE0IDYuMTQgMCAwMTEuNTkyLjExYy40NTMuMTM1Ljg3Ny4zNDUgMS4yOS42NS4zLjI2NS41NjUuNTY0Ljc4Ny44OS4yMzMtLjMzMS41Mi0uNjM0Ljg1My0uOTA0YTQuODM1IDQuODM1IDAgMDExLjMtLjY0OEE2LjE1NSA2LjE1NSAwIDAxNy4zNS4wMTJ6IiBmaWxsPSIjMEQwRDBEIi8+PHBhdGggZD0iTTE3LjM1IDE0LjVsNC41LTQuNS02LTZjLTIgMi0zIDItNS41IDIuNS40IDMuMiA0LjgzMyA2LjY2NyA3IDh6bTQuNTg4LTQuNDkzYS4zLjMgMCAwMC40MjQgMGwuNjgtLjY4YTEuNSAxLjUgMCAwMDAtMi4xMjJMMjEuNjkgNS44NTNsMi4wMjUtMS41ODNhMS42MjkgMS42MjkgMCAxMC0yLjI3OS0yLjI5NmwtMS42MDMgMi4wMjItMS4zNTctMS4zNTdhMS41IDEuNSAwIDAwLTIuMTIxIDBsLS42OC42OGEuMy4zIDAgMDAwIC40MjVsNi4yNjMgNi4yNjN6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTE1Ljg5MiAzLjk2MnMtMS4wMyAxLjIwMi0yLjQ5NCAxLjg5Yy0xLjAwNi40NzQtMi4xOC41ODYtMi43MzQuNjI3LS4yLjAxNS0uMzQ0LjIxLS4yNzYuMzk5LjI5Mi44MiAxLjExMiAyLjggMi42NTggNC4zNDYgMi4xMjYgMi4xMjcgMy42NTggMi45NjggNC4xNDIgMy4yMDMuMS4wNDguMjE0LjAzLjI5OC0uMDQyLjM4Ni0uMzI1IDEuNS0xLjI3NyAyLjIxLTEuOTg2Ljg5Mi0uODg5IDIuMTg3LTIuNDQ3IDIuMTg3LTIuNDQ3bS40NzkuMDU1YS4zLjMgMCAwMS0uNDI0IDBsLTYuMjY0LTYuMjYzYS4zLjMgMCAwMTAtLjQyNWwuNjgtLjY4YTEuNSAxLjUgMCAwMTIuMTIyIDBsMS4zNTcgMS4zNTcgMS42MDMtMi4wMjJhMS42MjkgMS42MjkgMCAxMTIuMjggMi4yOTZMMjEuNjkgNS44NTNsMS4zNTIgMS4zNTJhMS41IDEuNSAwIDAxMCAyLjEyMmwtLjY4LjY4eiIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9zdmc+) 2 5, default !important;\n  }\n}\n</style>\n","import script from \"./ProsemirrorEditor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProsemirrorEditor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ProsemirrorEditor.vue?vue&type=style&index=0&id=3608adca&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3608adca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a1e49ba\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"drag-handler top\" }, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"drag-handler bottom\" }, null, -1))\n\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { debounce } from 'lodash'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTextElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst elementRef = ref<HTMLElement>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\n// vuex\n// \nconst realHeightCache = ref(-1)\nconst realWidthCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (!isScaling.value) {\n    if (!props.elementInfo.vertical && realHeightCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeightCache.value },\n      })\n      realHeightCache.value = -1\n    }\n    if (props.elementInfo.vertical && realWidthCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidthCache.value },\n      })\n      realWidthCache.value = -1\n    }\n  }\n})\n\nconst updateTextElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height + 20\n  const realWidth = contentRect.width + 20\n\n  if (!props.elementInfo.vertical && props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n  if (props.elementInfo.vertical && props.elementInfo.width !== realWidth) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidth },\n      })\n    }\n    else realWidthCache.value = realWidth\n  }\n}\nconst resizeObserver = new ResizeObserver(updateTextElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\nconst updateContent = (content: string) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id,\n    props: { content },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = debounce(function() {\n  const pureText = props.elementInfo.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) slidesStore.deleteElement(props.elementInfo.id)\n}, 300, { trailing: true })\n\nconst isHandleElement = computed(() => handleElementId.value === props.elementInfo.id)\nwatch(isHandleElement, () => {\n  if (!isHandleElement.value) checkEmptyText()\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-text\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        ref_key: \"elementRef\",\n        ref: elementRef,\n        style: _normalizeStyle({\n          width: _ctx.elementInfo.vertical ? 'auto' : _ctx.elementInfo.width + 'px',\n          height: _ctx.elementInfo.vertical ? _ctx.elementInfo.height + 'px' : 'auto',\n          backgroundColor: _ctx.elementInfo.fill,\n          opacity: _ctx.elementInfo.opacity,\n          textShadow: _unref(shadowStyle),\n          lineHeight: _ctx.elementInfo.lineHeight,\n          letterSpacing: (_ctx.elementInfo.wordSpace || 0) + 'px',\n          color: _ctx.elementInfo.defaultColor,\n          fontFamily: _ctx.elementInfo.defaultFontName,\n          writingMode: _ctx.elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        }),\n        onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event))\n      }, [\n        _createVNode(ElementOutline, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          outline: _ctx.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(ProsemirrorEditor, {\n          class: \"text\",\n          elementId: _ctx.elementInfo.id,\n          defaultColor: _ctx.elementInfo.defaultColor,\n          defaultFontName: _ctx.elementInfo.defaultFontName,\n          editable: !_ctx.elementInfo.lock,\n          value: _ctx.elementInfo.content,\n          style: _normalizeStyle({\n            '--paragraphSpace': `${_ctx.elementInfo.paragraphSpace === undefined ? 5 : _ctx.elementInfo.paragraphSpace}px`,\n          }),\n          onUpdate: _cache[0] || (_cache[0] = value => updateContent(value)),\n          onMousedown: _cache[1] || (_cache[1] = $event => handleSelectElement($event, false))\n        }, null, 8, [\"elementId\", \"defaultColor\", \"defaultFontName\", \"editable\", \"value\", \"style\"]),\n        _hoisted_1,\n        _hoisted_2\n      ], 36)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-text\" \n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\"\n        ref=\"elementRef\"\n        :style=\"{\n          width: elementInfo.vertical ? 'auto' : elementInfo.width + 'px',\n          height: elementInfo.vertical ? elementInfo.height + 'px' : 'auto',\n          backgroundColor: elementInfo.fill,\n          opacity: elementInfo.opacity,\n          textShadow: shadowStyle,\n          lineHeight: elementInfo.lineHeight,\n          letterSpacing: (elementInfo.wordSpace || 0) + 'px',\n          color: elementInfo.defaultColor,\n          fontFamily: elementInfo.defaultFontName,\n          writingMode: elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        }\"\n        v-contextmenu=\"contextmenus\"\n        @mousedown=\"$event => handleSelectElement($event)\"\n        @touchstart=\"$event => handleSelectElement($event)\"\n      >\n        <ElementOutline\n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n          :outline=\"elementInfo.outline\"\n        />\n        <ProsemirrorEditor\n          class=\"text\"\n          :elementId=\"elementInfo.id\"\n          :defaultColor=\"elementInfo.defaultColor\"\n          :defaultFontName=\"elementInfo.defaultFontName\"\n          :editable=\"!elementInfo.lock\"\n          :value=\"elementInfo.content\"\n          :style=\"{\n            '--paragraphSpace': `${elementInfo.paragraphSpace === undefined ? 5 : elementInfo.paragraphSpace}px`,\n          }\"\n          @update=\"value => updateContent(value)\"\n          @mousedown=\"$event => handleSelectElement($event, false)\"\n        />\n\n        <!--  -->\n        <div class=\"drag-handler top\"></div>\n        <div class=\"drag-handler bottom\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { debounce } from 'lodash'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTextElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTTextElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTTextElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst elementRef = ref<HTMLElement>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\n// vuex\n// \nconst realHeightCache = ref(-1)\nconst realWidthCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (!isScaling.value) {\n    if (!props.elementInfo.vertical && realHeightCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeightCache.value },\n      })\n      realHeightCache.value = -1\n    }\n    if (props.elementInfo.vertical && realWidthCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidthCache.value },\n      })\n      realWidthCache.value = -1\n    }\n  }\n})\n\nconst updateTextElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height + 20\n  const realWidth = contentRect.width + 20\n\n  if (!props.elementInfo.vertical && props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n  if (props.elementInfo.vertical && props.elementInfo.width !== realWidth) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidth },\n      })\n    }\n    else realWidthCache.value = realWidth\n  }\n}\nconst resizeObserver = new ResizeObserver(updateTextElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\nconst updateContent = (content: string) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id,\n    props: { content },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = debounce(function() {\n  const pureText = props.elementInfo.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) slidesStore.deleteElement(props.elementInfo.id)\n}, 300, { trailing: true })\n\nconst isHandleElement = computed(() => handleElementId.value === props.elementInfo.id)\nwatch(isHandleElement, () => {\n  if (!isHandleElement.value) checkEmptyText()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-text {\n  position: absolute;\n\n  &.lock .element-content {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  position: relative;\n  padding: 10px;\n  line-height: 1.5;\n  word-break: break-word;\n  cursor: move;\n\n  .text {\n    position: relative;\n  }\n\n  ::v-deep(a) {\n    cursor: text;\n  }\n}\n.drag-handler {\n  height: 10px;\n  position: absolute;\n  left: 0;\n  right: 0;\n\n  &.top {\n    top: 0;\n  }\n  &.bottom {\n    bottom: 0;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2a1e49ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2a1e49ba\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"id\", \"gradientTransform\"]\nconst _hoisted_2 = [\"stop-color\"]\nconst _hoisted_3 = [\"stop-color\"]\nconst _hoisted_4 = [\"id\"]\nconst _hoisted_5 = [\"stop-color\"]\nconst _hoisted_6 = [\"stop-color\"]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GradientDefs',\n  props: {\n    id: {},\n    type: {},\n    color1: {},\n    color2: {},\n    rotate: { default: 0 }\n  },\n  setup(__props: any) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_ctx.type === 'linear')\n    ? (_openBlock(), _createElementBlock(\"linearGradient\", {\n        key: 0,\n        id: _ctx.id,\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"100%\",\n        y2: \"0%\",\n        gradientTransform: `rotate(${_ctx.rotate},0.5,0.5)`\n      }, [\n        _createElementVNode(\"stop\", {\n          offset: \"0%\",\n          \"stop-color\": _ctx.color1\n        }, null, 8, _hoisted_2),\n        _createElementVNode(\"stop\", {\n          offset: \"100%\",\n          \"stop-color\": _ctx.color2\n        }, null, 8, _hoisted_3)\n      ], 8, _hoisted_1))\n    : (_openBlock(), _createElementBlock(\"radialGradient\", {\n        key: 1,\n        id: _ctx.id\n      }, [\n        _createElementVNode(\"stop\", {\n          offset: \"0%\",\n          \"stop-color\": _ctx.color1\n        }, null, 8, _hoisted_5),\n        _createElementVNode(\"stop\", {\n          offset: \"100%\",\n          \"stop-color\": _ctx.color2\n        }, null, 8, _hoisted_6)\n      ], 8, _hoisted_4))\n}\n}\n\n})","import script from \"./GradientDefs.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GradientDefs.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d624beb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\", \"fill\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTShapeElement, ShapeText } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport GradientDefs from './GradientDefs.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId, shapeFormatPainter } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\nconst execFormatPainter = () => {\n  if (!shapeFormatPainter.value) return\n  const { keep, ...newProps } = shapeFormatPainter.value\n\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: newProps,\n  })\n  \n  addHistorySnapshot()\n  if (!keep) mainStore.setShapeFormatPainter(null)\n}\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineColor, strokeDashArray } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) {\n    if (editable.value) editable.value = false\n  }\n})\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n\nconst updateText = (content: string) => {\n  const _text = { ...text.value, content }\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { text: _text },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = () => {\n  if (!props.elementInfo.text) return\n\n  const pureText = props.elementInfo.text.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) {\n    slidesStore.removeElementProps({ id: props.elementInfo.id, propName: 'text' })\n    addHistorySnapshot()\n  }\n}\n\nconst prosemirrorEditorRef = ref<InstanceType<typeof ProsemirrorEditor>>()\nconst startEdit = () => {\n  editable.value = true\n  nextTick(() => prosemirrorEditorRef.value && prosemirrorEditorRef.value.focus())\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-shape\", {\n      'lock': _ctx.elementInfo.lock,\n      'format-painter': _unref(shapeFormatPainter),\n    }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          opacity: _ctx.elementInfo.opacity,\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n          color: text.value.defaultColor,\n          fontFamily: text.value.defaultFontName,\n        }),\n        onMousedown: _cache[3] || (_cache[3] = $event => handleSelectElement($event)),\n        onMouseup: _cache[4] || (_cache[4] = ($event: any) => (execFormatPainter())),\n        onTouchstart: _cache[5] || (_cache[5] = $event => handleSelectElement($event)),\n        onDblclick: _cache[6] || (_cache[6] = ($event: any) => (startEdit()))\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height\n        }, [\n          (_ctx.elementInfo.gradient)\n            ? (_openBlock(), _createElementBlock(\"defs\", _hoisted_2, [\n                _createVNode(GradientDefs, {\n                  id: `editabel-gradient-${_ctx.elementInfo.id}`,\n                  type: _ctx.elementInfo.gradient.type,\n                  color1: _ctx.elementInfo.gradient.color[0],\n                  color2: _ctx.elementInfo.gradient.color[1],\n                  rotate: _ctx.elementInfo.gradient.rotate\n                }, null, 8, [\"id\", \"type\", \"color1\", \"color2\", \"rotate\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"g\", {\n            transform: `scale(${_ctx.elementInfo.width / _ctx.elementInfo.viewBox[0]}, ${_ctx.elementInfo.height / _ctx.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              class: \"shape-path\",\n              \"vector-effect\": \"non-scaling-stroke\",\n              \"stroke-linecap\": \"butt\",\n              \"stroke-miterlimit\": \"8\",\n              d: _ctx.elementInfo.path,\n              fill: _ctx.elementInfo.gradient ? `url(#editabel-gradient-${_ctx.elementInfo.id})` : _ctx.elementInfo.fill,\n              stroke: _unref(outlineColor),\n              \"stroke-width\": _unref(outlineWidth),\n              \"stroke-dasharray\": _unref(strokeDashArray)\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_1)),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"shape-text\", [text.value.align, { 'editable': editable.value || text.value.content }]])\n        }, [\n          (editable.value || text.value.content)\n            ? (_openBlock(), _createBlock(ProsemirrorEditor, {\n                key: 0,\n                ref_key: \"prosemirrorEditorRef\",\n                ref: prosemirrorEditorRef,\n                elementId: _ctx.elementInfo.id,\n                defaultColor: text.value.defaultColor,\n                defaultFontName: text.value.defaultFontName,\n                editable: !_ctx.elementInfo.lock,\n                value: text.value.content,\n                onUpdate: _cache[0] || (_cache[0] = value => updateText(value)),\n                onBlur: _cache[1] || (_cache[1] = ($event: any) => (checkEmptyText())),\n                onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event, false))\n              }, null, 8, [\"elementId\", \"defaultColor\", \"defaultFontName\", \"editable\", \"value\"]))\n            : _createCommentVNode(\"\", true)\n        ], 2)\n      ], 36)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-shape\"\n    :class=\"{\n      'lock': elementInfo.lock,\n      'format-painter': shapeFormatPainter,\n    }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\" \n        :style=\"{\n          opacity: elementInfo.opacity,\n          filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '',\n          transform: flipStyle,\n          color: text.defaultColor,\n          fontFamily: text.defaultFontName,\n        }\"\n        v-contextmenu=\"contextmenus\"\n        @mousedown=\"$event => handleSelectElement($event)\"\n        @mouseup=\"execFormatPainter()\"\n        @touchstart=\"$event => handleSelectElement($event)\"\n        @dblclick=\"startEdit()\"\n      >\n        <svg \n          overflow=\"visible\" \n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n        >\n          <defs v-if=\"elementInfo.gradient\">\n            <GradientDefs\n              :id=\"`editabel-gradient-${elementInfo.id}`\" \n              :type=\"elementInfo.gradient.type\"\n              :color1=\"elementInfo.gradient.color[0]\"\n              :color2=\"elementInfo.gradient.color[1]\"\n              :rotate=\"elementInfo.gradient.rotate\"\n            />\n          </defs>\n          <g \n            :transform=\"`scale(${elementInfo.width / elementInfo.viewBox[0]}, ${elementInfo.height / elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\"\n          >\n            <path \n              class=\"shape-path\"\n              vector-effect=\"non-scaling-stroke\" \n              stroke-linecap=\"butt\" \n              stroke-miterlimit=\"8\"\n              :d=\"elementInfo.path\" \n              :fill=\"elementInfo.gradient ? `url(#editabel-gradient-${elementInfo.id})` : elementInfo.fill\"\n              :stroke=\"outlineColor\"\n              :stroke-width=\"outlineWidth\" \n              :stroke-dasharray=\"strokeDashArray\" \n            ></path>\n          </g>\n        </svg>\n\n        <div class=\"shape-text\" :class=\"[text.align, { 'editable': editable || text.content }]\">\n          <ProsemirrorEditor\n            ref=\"prosemirrorEditorRef\"\n            v-if=\"editable || text.content\"\n            :elementId=\"elementInfo.id\"\n            :defaultColor=\"text.defaultColor\"\n            :defaultFontName=\"text.defaultFontName\"\n            :editable=\"!elementInfo.lock\"\n            :value=\"text.content\"\n            @update=\"value => updateText(value)\"\n            @blur=\"checkEmptyText()\"\n            @mousedown=\"$event => handleSelectElement($event, false)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTShapeElement, ShapeText } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport GradientDefs from './GradientDefs.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTShapeElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTShapeElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId, shapeFormatPainter } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\nconst execFormatPainter = () => {\n  if (!shapeFormatPainter.value) return\n  const { keep, ...newProps } = shapeFormatPainter.value\n\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: newProps,\n  })\n  \n  addHistorySnapshot()\n  if (!keep) mainStore.setShapeFormatPainter(null)\n}\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineColor, strokeDashArray } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) {\n    if (editable.value) editable.value = false\n  }\n})\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n\nconst updateText = (content: string) => {\n  const _text = { ...text.value, content }\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { text: _text },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = () => {\n  if (!props.elementInfo.text) return\n\n  const pureText = props.elementInfo.text.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) {\n    slidesStore.removeElementProps({ id: props.elementInfo.id, propName: 'text' })\n    addHistorySnapshot()\n  }\n}\n\nconst prosemirrorEditorRef = ref<InstanceType<typeof ProsemirrorEditor>>()\nconst startEdit = () => {\n  editable.value = true\n  nextTick(() => prosemirrorEditorRef.value && prosemirrorEditorRef.value.focus())\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-shape {\n  position: absolute;\n  pointer-events: none;\n\n  &.lock .element-content {\n    cursor: default;\n  }\n  &.format-painter .element-content {\n    cursor: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIuNzUgMTMuNzY0VjEuNDIxYS4zLjMgMCAwMS40NDgtLjI2bDEwLjkxIDYuMTk3YS4zLjMgMCAwMS0uMTE2LjU1OWwtNC4xOTYuNDQyIDIuNTgyIDQuNDcyYS4zLjMgMCAwMS0uMTEuNDFsLTMuMTg0IDEuODM4YS4zLjMgMCAwMS0uNDEtLjExbC0yLjU4MS00LjQ3Mi0yLjgxIDMuNDU2YS4zLjMgMCAwMS0uNTMzLS4xODl6IiBmaWxsPSIjZmZmIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjYgMTQuNWw0LjUtNC41LTYtNmMtMiAyLTMgMi01LjUgMi41LjQgMy4yIDQuODMzIDYuNjY3IDcgOHptNC41ODgtNC40OTRhLjMuMyAwIDAwLjQyNCAwbC42OC0uNjhhMS41IDEuNSAwIDAwMC0yLjEyMUwzMC4zNCA1Ljg1MmwyLjAyNi0xLjU4MmExLjYyOSAxLjYyOSAwIDEwLTIuMjgtMi4yOTZsLTEuNjAzIDIuMDIxLTEuMzU3LTEuMzU2YTEuNSAxLjUgMCAwMC0yLjEyIDBsLS42ODEuNjhhLjMuMyAwIDAwMCAuNDI0bDYuMjYzIDYuMjYzeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yNC41NDMgMy45NjFzLTEuMDMgMS4yMDItMi40OTQgMS44OTFjLTEuMDA2LjQ3NC0yLjE4MS41ODUtMi43MzQuNjI3LS4yLjAxNC0uMzQ0LjIwOS0uMjc3LjM5OC4yOTMuODIgMS4xMTIgMi44MDEgMi42NTggNC4zNDcgMi4xMjYgMi4xMjYgMy42NTkgMi45NjggNC4xNDIgMy4yMDIuMS4wNDguMjE1LjAzLjI5OS0uMDQxLjM4NS0uMzI2IDEuNS0xLjI3NyAyLjIxLTEuOTg2Ljg5MS0uODkgMi4xODYtMi40NDggMi4xODYtMi40NDhtLjQ4LjA1NWEuMy4zIDAgMDEtLjQyNSAwbC02LjI2My02LjI2M2EuMy4zIDAgMDEwLS40MjRsLjY4LS42OGExLjUgMS41IDAgMDEyLjEyMiAwbDEuMzU2IDEuMzU2IDEuNjA0LTIuMDIxYTEuNjI5IDEuNjI5IDAgMTEyLjI3OSAyLjI5NkwzMC4zNCA1Ljg1MmwxLjM1MyAxLjM1M2ExLjUgMS41IDAgMDEwIDIuMTIxbC0uNjguNjh6IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L3N2Zz4=) 2 5, default !important;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  cursor: move;\n\n  svg {\n    transform-origin: 0 0;\n    overflow: visible;\n  }\n\n  .shape-path {\n    pointer-events: all;\n  }\n}\n.shape-text {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  line-height: 1.2;\n  word-break: break-word;\n  pointer-events: none;\n\n  &.editable {\n    pointer-events: all;\n  }\n\n  &.top {\n    justify-content: flex-start;\n  }\n  &.middle {\n    justify-content: center;\n  }\n  &.bottom {\n    justify-content: flex-end;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3d624beb&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d624beb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\", \"markerWidth\", \"markerHeight\", \"refX\", \"refY\"]\nconst _hoisted_2 = [\"d\", \"fill\", \"transform\"]\n\nimport { computed } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinePointMarker',\n  props: {\n    id: {},\n    position: {},\n    type: {},\n    baseSize: {},\n    color: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst pathMap = {\n  dot: 'm0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z',\n  arrow: 'M0,0 L10,5 0,10 Z',\n}\nconst rotateMap: { [key: string]: number } = {\n  'arrow-start': 180,\n  'arrow-end': 0,\n}\n\nconst path = computed(() => pathMap[props.type])\nconst rotate = computed(() => rotateMap[`${props.type}-${props.position}`] || 0)\nconst size = computed(() => props.baseSize < 2 ? 2 : props.baseSize)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"marker\", {\n    id: `${_ctx.id}-${_ctx.type}-${_ctx.position}`,\n    markerUnits: \"userSpaceOnUse\",\n    orient: \"auto\",\n    markerWidth: size.value * 3,\n    markerHeight: size.value * 3,\n    refX: size.value * 1.5,\n    refY: size.value * 1.5\n  }, [\n    _createElementVNode(\"path\", {\n      d: path.value,\n      fill: _ctx.color,\n      transform: `scale(${size.value * 0.3}, ${size.value * 0.3}) rotate(${rotate.value}, 5, 5)`\n    }, null, 8, _hoisted_2)\n  ], 8, _hoisted_1))\n}\n}\n\n})","<template>\n  <marker \n    :id=\"`${id}-${type}-${position}`\" \n    markerUnits=\"userSpaceOnUse\" \n    orient=\"auto\" \n    :markerWidth=\"size * 3\" \n    :markerHeight=\"size * 3\" \n    :refX=\"size * 1.5\" \n    :refY=\"size * 1.5\"\n  >\n\t\t<path \n      :d=\"path\" \n      :fill=\"color\"\n      :transform=\"`scale(${size * 0.3}, ${size * 0.3}) rotate(${rotate}, 5, 5)`\"\n    ></path>\n\t</marker>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\nconst props = defineProps<{\n  id: string\n  position: 'start' | 'end'\n  type: 'dot' | 'arrow'\n  baseSize: number\n  color?: string\n}>()\n\nconst pathMap = {\n  dot: 'm0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z',\n  arrow: 'M0,0 L10,5 0,10 Z',\n}\nconst rotateMap: { [key: string]: number } = {\n  'arrow-start': 180,\n  'arrow-end': 0,\n}\n\nconst path = computed(() => pathMap[props.type])\nconst rotate = computed(() => rotateMap[`${props.type}-${props.position}`] || 0)\nconst size = computed(() => props.baseSize < 2 ? 2 : props.baseSize)\n</script>","import script from \"./LinePointMarker.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinePointMarker.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-16512454\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\nconst _hoisted_3 = [\"d\"]\n\nimport { computed } from 'vue'\nimport type { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => {\n  if (props.elementInfo.style !== 'dashed') return '0 0'\n  const size = props.elementInfo.width\n  return size <= 8 ? `${size * 5} ${size * 2.5}` : `${size * 5} ${size * 1.5}`\n})\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-shape\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"element-content\",\n      style: _normalizeStyle({ filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '' }),\n      onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n      onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event))\n    }, [\n      (_openBlock(), _createElementBlock(\"svg\", {\n        overflow: \"visible\",\n        width: svgWidth.value,\n        height: svgHeight.value\n      }, [\n        _createElementVNode(\"defs\", null, [\n          (_ctx.elementInfo.points[0])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 0,\n                id: _ctx.elementInfo.id,\n                position: \"start\",\n                type: _ctx.elementInfo.points[0],\n                color: _ctx.elementInfo.color,\n                baseSize: _ctx.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true),\n          (_ctx.elementInfo.points[1])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 1,\n                id: _ctx.elementInfo.id,\n                position: \"end\",\n                type: _ctx.elementInfo.points[1],\n                color: _ctx.elementInfo.color,\n                baseSize: _ctx.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"path\", {\n          class: \"line-point\",\n          d: path.value,\n          stroke: _ctx.elementInfo.color,\n          \"stroke-width\": _ctx.elementInfo.width,\n          \"stroke-dasharray\": lineDashArray.value,\n          fill: \"none\",\n          \"marker-start\": _ctx.elementInfo.points[0] ? `url(#${_ctx.elementInfo.id}-${_ctx.elementInfo.points[0]}-start)` : '',\n          \"marker-end\": _ctx.elementInfo.points[1] ? `url(#${_ctx.elementInfo.id}-${_ctx.elementInfo.points[1]}-end)` : ''\n        }, null, 8, _hoisted_2),\n        _withDirectives(_createElementVNode(\"path\", {\n          class: \"line-path\",\n          d: path.value,\n          stroke: \"transparent\",\n          \"stroke-width\": \"20\",\n          fill: \"none\"\n        }, null, 8, _hoisted_3), [\n          [_directive_contextmenu, _ctx.contextmenus]\n        ])\n      ], 8, _hoisted_1))\n    ], 36)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-shape\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n    }\"\n  >\n    <div \n      class=\"element-content\" \n      :style=\"{ filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '' }\"\n      @mousedown=\"$event => handleSelectElement($event)\"\n      @touchstart=\"$event => handleSelectElement($event)\"\n    >\n      <svg\n        overflow=\"visible\" \n        :width=\"svgWidth\"\n        :height=\"svgHeight\"\n      >\n        <defs>\n          <LinePointMarker\n            v-if=\"elementInfo.points[0]\"\n            :id=\"elementInfo.id\"\n            position=\"start\"\n            :type=\"elementInfo.points[0]\"\n            :color=\"elementInfo.color\"\n            :baseSize=\"elementInfo.width\"\n          />\n          <LinePointMarker\n            v-if=\"elementInfo.points[1]\"\n            :id=\"elementInfo.id\"\n            position=\"end\"\n            :type=\"elementInfo.points[1]\"\n            :color=\"elementInfo.color\"\n            :baseSize=\"elementInfo.width\"\n          />\n        </defs>\n\t\t\t\t<path\n          class=\"line-point\"\n          :d=\"path\" \n          :stroke=\"elementInfo.color\" \n          :stroke-width=\"elementInfo.width\" \n          :stroke-dasharray=\"lineDashArray\"\n          fill=\"none\" \n          :marker-start=\"elementInfo.points[0] ? `url(#${elementInfo.id}-${elementInfo.points[0]}-start)` : ''\"\n          :marker-end=\"elementInfo.points[1] ? `url(#${elementInfo.id}-${elementInfo.points[1]}-end)` : ''\"\n        ></path>\n\t\t\t\t<path\n          class=\"line-path\"\n          :d=\"path\" \n          stroke=\"transparent\" \n          stroke-width=\"20\" \n          fill=\"none\" \n          v-contextmenu=\"contextmenus\"\n        ></path>\n\t\t\t</svg>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTLineElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTLineElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => {\n  if (props.elementInfo.style !== 'dashed') return '0 0'\n  const size = props.elementInfo.width\n  return size <= 8 ? `${size * 5} ${size * 2.5}` : `${size * 5} ${size * 1.5}`\n})\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-shape {\n  position: absolute;\n  pointer-events: none;\n\n  &.lock {\n    .line-path, .line-point {\n      cursor: default;\n    }\n  }\n}\n\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  svg {\n    transform-origin: 0 0;\n    overflow: visible;\n  }\n}\n.line-path, .line-point {\n  pointer-events: all;\n  cursor: move;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=16512454&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-16512454\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { computed, inject, onMounted, ref, watch } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { BarChart, LineChart, PieChart } from 'chartist'\nimport type { ChartData, ChartOptions, ChartType } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\n\nimport 'chartist/dist/index.css'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Chart',\n  props: {\n    width: {},\n    height: {},\n    type: {},\n    data: {},\n    themeColor: {},\n    legends: {},\n    options: {},\n    gridColor: {},\n    legend: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst chartRef = ref<HTMLElement>()\nconst slideScale = inject(injectKeySlideScale) || ref(1)\n\nlet chart: LineChart | BarChart | PieChart | undefined\n\nconst chartHeight = computed(() => {\n  if (props.legend) return props.height - 20\n  return props.height\n})\n\nconst getPieChartData = () => ({ ...props.data, series: props.data.series[0] })\n\nconst getOptions = () => {\n  const propsOptopns = props.options || {}\n  return {\n    ...propsOptopns,\n    width: props.width * slideScale.value,\n    height: chartHeight.value * slideScale.value,\n  }\n}\n\nconst renderChart = () => {\n  if (!chartRef.value) return\n\n  const options = getOptions()\n  if (props.type === 'bar') chart = new BarChart(chartRef.value, props.data, options)\n  if (props.type === 'line') chart = new LineChart(chartRef.value, props.data, options)\n  if (props.type === 'pie') chart = new PieChart(chartRef.value, getPieChartData(), options)\n}\n\nconst updateChart = () => {\n  if (!chart) {\n    renderChart()\n    return\n  }\n  const options = getOptions()\n  const data = props.type === 'pie' ? getPieChartData() : props.data\n  chart.update(data, options)\n}\n\nwatch([\n  () => props.width,\n  () => props.height,\n  () => props.data,\n  () => props.options,\n  slideScale,\n], updateChart)\n\nonMounted(renderChart)\n\nconst themeColors = computed(() => {\n  let colors: string[] = []\n  if (props.themeColor.length >= 10) colors = props.themeColor\n  else if (props.themeColor.length === 1) colors = tinycolor(props.themeColor[0]).analogous(10).map(color => color.toRgbString())\n  else {\n    const len = props.themeColor.length\n    const supplement = tinycolor(props.themeColor[len - 1]).analogous(10 + 1 - len).map(color => color.toRgbString())\n    colors = [...props.themeColor.slice(0, len - 1), ...supplement]\n  }\n  return colors\n})\n\n// \n// 10\nconst updateTheme = () => {\n  if (!chartRef.value) return\n\n  for (let i = 0; i < 10; i++) {\n    chartRef.value.style.setProperty(`--theme-color-${i + 1}`, themeColors.value[i])\n  }\n}\n\nwatch(themeColors, updateTheme)\nonMounted(updateTheme)\n\n// \nconst updateGridColor = () => {\n  if (!chartRef.value) return\n  if (props.gridColor) chartRef.value.style.setProperty(`--grid-color`, props.gridColor)\n}\n\nwatch(() => props.gridColor, updateGridColor)\nonMounted(updateGridColor)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"chart\",\n    style: _normalizeStyle({ flexDirection: _ctx.legend === 'top' ? 'column-reverse' : 'column' })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"chart-content\",\n      ref_key: \"chartRef\",\n      ref: chartRef,\n      style: _normalizeStyle({\n        width: _ctx.width + 'px',\n        height: chartHeight.value + 'px',\n        transform: `scale(${1 / _unref(slideScale)})`,\n      })\n    }, null, 4),\n    (_ctx.legend)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"legends\",\n          style: _normalizeStyle({ transform: `scale(${1 / _unref(slideScale)})` })\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.legends, (legend, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"legend\",\n              key: index,\n              style: _normalizeStyle({ color: _ctx.gridColor })\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"block\",\n                style: _normalizeStyle({ backgroundColor: themeColors.value[index] })\n              }, null, 4),\n              _createTextVNode(\" \" + _toDisplayString(legend), 1)\n            ], 4))\n          }), 128))\n        ], 4))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"chart\"\n    :style=\"{ flexDirection: legend === 'top' ? 'column-reverse' : 'column' }\"\n  >\n    <div \n      class=\"chart-content\"\n      ref=\"chartRef\"\n      :style=\"{\n        width: width + 'px',\n        height: chartHeight + 'px',\n        transform: `scale(${1 / slideScale})`,\n      }\"\n    ></div>\n    <div class=\"legends\" :style=\"{ transform: `scale(${1 / slideScale})` }\" v-if=\"legend\">\n      <div \n        class=\"legend\" \n        v-for=\"(legend, index) in legends\" \n        :key=\"index\"\n        :style=\"{ color: gridColor }\"\n      >\n        <div class=\"block\" :style=\"{ backgroundColor: themeColors[index] }\"></div>\n        {{legend}}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, onMounted, ref, watch } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { BarChart, LineChart, PieChart } from 'chartist'\nimport type { ChartData, ChartOptions, ChartType } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\n\nimport 'chartist/dist/index.css'\n\nconst props = defineProps<{\n  width: number\n  height: number\n  type: ChartType\n  data: ChartData\n  themeColor: string[]\n  legends: string[]\n  options?: ChartOptions\n  gridColor?: string\n  legend?: '' | 'top' | 'bottom'\n}>()\n\nconst chartRef = ref<HTMLElement>()\nconst slideScale = inject(injectKeySlideScale) || ref(1)\n\nlet chart: LineChart | BarChart | PieChart | undefined\n\nconst chartHeight = computed(() => {\n  if (props.legend) return props.height - 20\n  return props.height\n})\n\nconst getPieChartData = () => ({ ...props.data, series: props.data.series[0] })\n\nconst getOptions = () => {\n  const propsOptopns = props.options || {}\n  return {\n    ...propsOptopns,\n    width: props.width * slideScale.value,\n    height: chartHeight.value * slideScale.value,\n  }\n}\n\nconst renderChart = () => {\n  if (!chartRef.value) return\n\n  const options = getOptions()\n  if (props.type === 'bar') chart = new BarChart(chartRef.value, props.data, options)\n  if (props.type === 'line') chart = new LineChart(chartRef.value, props.data, options)\n  if (props.type === 'pie') chart = new PieChart(chartRef.value, getPieChartData(), options)\n}\n\nconst updateChart = () => {\n  if (!chart) {\n    renderChart()\n    return\n  }\n  const options = getOptions()\n  const data = props.type === 'pie' ? getPieChartData() : props.data\n  chart.update(data, options)\n}\n\nwatch([\n  () => props.width,\n  () => props.height,\n  () => props.data,\n  () => props.options,\n  slideScale,\n], updateChart)\n\nonMounted(renderChart)\n\nconst themeColors = computed(() => {\n  let colors: string[] = []\n  if (props.themeColor.length >= 10) colors = props.themeColor\n  else if (props.themeColor.length === 1) colors = tinycolor(props.themeColor[0]).analogous(10).map(color => color.toRgbString())\n  else {\n    const len = props.themeColor.length\n    const supplement = tinycolor(props.themeColor[len - 1]).analogous(10 + 1 - len).map(color => color.toRgbString())\n    colors = [...props.themeColor.slice(0, len - 1), ...supplement]\n  }\n  return colors\n})\n\n// \n// 10\nconst updateTheme = () => {\n  if (!chartRef.value) return\n\n  for (let i = 0; i < 10; i++) {\n    chartRef.value.style.setProperty(`--theme-color-${i + 1}`, themeColors.value[i])\n  }\n}\n\nwatch(themeColors, updateTheme)\nonMounted(updateTheme)\n\n// \nconst updateGridColor = () => {\n  if (!chartRef.value) return\n  if (props.gridColor) chartRef.value.style.setProperty(`--grid-color`, props.gridColor)\n}\n\nwatch(() => props.gridColor, updateGridColor)\nonMounted(updateGridColor)\n</script>\n\n<style lang=\"scss\" scoped>\n.chart {\n  display: flex;\n}\n\n.chart-content {\n  transform-origin: 0 0;\n}\n</style>\n\n<style lang=\"scss\">\n.chart-content {\n  $ct-series-names: (a, b, c, d, e, f, g, h, i, j);\n\n  --theme-color-1: #666;\n  --theme-color-2: #666;\n  --theme-color-3: #666;\n  --theme-color-4: #666;\n  --theme-color-5: #666;\n  --theme-color-6: #666;\n  --theme-color-7: #666;\n  --theme-color-8: #666;\n  --theme-color-9: #666;\n  --theme-color-10: #666;\n\n  @for $i from 1 to length($ct-series-names) {\n    $color: var(--theme-color-#{$i});\n\n    .ct-series-#{nth($ct-series-names, $i)} .ct-line {\n      stroke: $color;\n    }\n    .ct-series-#{nth($ct-series-names, $i)} .ct-point {\n      stroke: $color;\n    }\n    .ct-series-#{nth($ct-series-names, $i)} .ct-area {\n      fill: $color;\n    }\n    .ct-series-#{nth($ct-series-names, $i)} .ct-bar {\n      stroke: $color;\n    }\n    .ct-series-#{nth($ct-series-names, $i)} .ct-slice-pie {\n      fill: $color;\n    }\n    .ct-series-#{nth($ct-series-names, $i)} .ct-slice-donut {\n      stroke: $color;\n    }\n  }\n\n  --grid-color: rgba(0, 0, 0, 0.4);\n\n  .ct-grid {\n    stroke: var(--grid-color);\n  }\n  .ct-label {\n    fill: var(--grid-color);\n    color: var(--grid-color);\n  }\n}\n\n.legends {\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n}\n.legend {\n  display: flex;\n  align-items: center;\n\n  & + .legend {\n    margin-left: 10px;\n  }\n\n  .block {\n    width: 10px;\n    height: 10px;\n    margin-right: 5px;\n  }\n}\n</style>","import script from \"./Chart.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Chart.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Chart.vue?vue&type=style&index=0&id=ae2a96a6&lang=scss&scoped=true\"\nimport \"./Chart.vue?vue&type=style&index=1&id=ae2a96a6&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ae2a96a6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport type { PPTChartElement } from '@/types/slides'\r\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\r\nimport emitter, { EmitterEvents } from '@/utils/emitter'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\r\n  if (props.elementInfo.lock) return\r\n  e.stopPropagation()\r\n\r\n  props.selectElement(e, props.elementInfo)\r\n}\r\n\r\nconst openDataEditor = () => {\r\n  emitter.emit(EmitterEvents.OPEN_CHART_DATA_EDITOR)\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-chart\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\r\n      top: _ctx.elementInfo.top + 'px',\r\n      left: _ctx.elementInfo.left + 'px',\r\n      width: _ctx.elementInfo.width + 'px',\r\n      height: _ctx.elementInfo.height + 'px',\r\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\r\n          backgroundColor: _ctx.elementInfo.fill,\r\n        }),\n        onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onDblclick: _cache[2] || (_cache[2] = ($event: any) => (openDataEditor()))\n      }, [\n        _createVNode(ElementOutline, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          outline: _ctx.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(Chart, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          type: _ctx.elementInfo.chartType,\n          data: _ctx.elementInfo.data,\n          options: _ctx.elementInfo.options,\n          themeColor: _ctx.elementInfo.themeColor,\n          gridColor: _ctx.elementInfo.gridColor,\n          legends: _ctx.elementInfo.data.legends,\n          legend: _ctx.elementInfo.legend || ''\n        }, null, 8, [\"width\", \"height\", \"type\", \"data\", \"options\", \"themeColor\", \"gridColor\", \"legends\", \"legend\"])\n      ], 36)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\r\n  <div class=\"editable-element-chart\"\r\n    :class=\"{ 'lock': elementInfo.lock }\"\r\n    :style=\"{\r\n      top: elementInfo.top + 'px',\r\n      left: elementInfo.left + 'px',\r\n      width: elementInfo.width + 'px',\r\n      height: elementInfo.height + 'px',\r\n    }\"\r\n  >\r\n    <div\r\n      class=\"rotate-wrapper\"\r\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\r\n    >\r\n      <div \r\n        class=\"element-content\" \r\n        :style=\"{\r\n          backgroundColor: elementInfo.fill,\r\n        }\"\r\n        v-contextmenu=\"contextmenus\"\r\n        @mousedown=\"$event => handleSelectElement($event)\"\r\n        @touchstart=\"$event => handleSelectElement($event)\"\r\n        @dblclick=\"openDataEditor()\"\r\n      >\r\n        <ElementOutline\r\n          :width=\"elementInfo.width\"\r\n          :height=\"elementInfo.height\"\r\n          :outline=\"elementInfo.outline\"\r\n        />\r\n        <Chart\r\n          :width=\"elementInfo.width\"\r\n          :height=\"elementInfo.height\"\r\n          :type=\"elementInfo.chartType\"\r\n          :data=\"elementInfo.data\"\r\n          :options=\"elementInfo.options\"\r\n          :themeColor=\"elementInfo.themeColor\"\r\n          :gridColor=\"elementInfo.gridColor\"\r\n          :legends=\"elementInfo.data.legends\"\r\n          :legend=\"elementInfo.legend || ''\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { PPTChartElement } from '@/types/slides'\r\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\r\nimport emitter, { EmitterEvents } from '@/utils/emitter'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\nconst props = defineProps<{\r\n  elementInfo: PPTChartElement\r\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTChartElement, canMove?: boolean) => void\r\n  contextmenus: () => ContextmenuItem[] | null\r\n}>()\r\n\r\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\r\n  if (props.elementInfo.lock) return\r\n  e.stopPropagation()\r\n\r\n  props.selectElement(e, props.elementInfo)\r\n}\r\n\r\nconst openDataEditor = () => {\r\n  emitter.emit(EmitterEvents.OPEN_CHART_DATA_EDITOR)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.editable-element-chart {\r\n  position: absolute;\r\n\r\n  &.lock .element-content {\r\n    cursor: default;\r\n  }\r\n}\r\n.rotate-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.element-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  cursor: move;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6fc3de39&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6fc3de39\"]])\n\nexport default __exports__","import type { CSSProperties } from 'vue'\nimport type { TableCellStyle } from '@/types/slides'\n\n/**\n * \n * @param style \n */\nexport const getTextStyle = (style?: TableCellStyle): CSSProperties => {\n  if (!style) return {}\n  const {\n    bold,\n    em,\n    underline,\n    strikethrough,\n    color,\n    backcolor,\n    fontsize,\n    fontname,\n    align,\n  } = style\n\n  let textDecoration = `${underline ? 'underline' : ''} ${\n    strikethrough ? 'line-through' : ''\n  }`\n  if (textDecoration === ' ') textDecoration = 'none'\n\n  return {\n    fontWeight: bold ? 'bold' : 'normal',\n    fontStyle: em ? 'italic' : 'normal',\n    textDecoration,\n    color: color || '#000',\n    backgroundColor: backcolor || '',\n    fontSize: fontsize || '14px',\n    fontFamily: fontname || 'Microsoft Yahei',\n    textAlign: align || 'left',\n  }\n}\n\nexport const formatText = (text: string) => {\n  return text.replace(/\\n/g, '</br>').replace(/ /g, '&nbsp;')\n}\n","import { computed, type Ref } from 'vue'\nimport type { TableCell } from '@/types/slides'\n\n// \n\nexport default (cells: Ref<TableCell[][]>) => {\n  const hideCells = computed(() => {\n    const hideCells = []\n    \n    for (let i = 0; i < cells.value.length; i++) {\n      const rowCells = cells.value[i]\n\n      for (let j = 0; j < rowCells.length; j++) {\n        const cell = rowCells[j]\n        \n        if (cell.colspan > 1 || cell.rowspan > 1) {\n          for (let row = i; row < i + cell.rowspan; row++) {\n            for (let col = row === i ? j + 1 : j; col < j + cell.colspan; col++) {\n              hideCells.push(`${row}_${col}`)\n            }\n          }\n        }\n      }\n    }\n    return hideCells\n  })\n\n  return {\n    hideCells,\n  }\n}","import { ref, watch, type Ref } from 'vue'\nimport type { TableTheme } from '@/types/slides'\nimport { getTableSubThemeColor } from '@/utils/element'\n\n// \n\nexport default (theme: Ref<TableTheme | undefined>) => {\n  const subThemeColor = ref(['', ''])\n  watch(() => theme.value, () => {\n    if (theme.value) {\n      subThemeColor.value = getTableSubThemeColor(theme.value.color)\n    }\n  }, { immediate: true })\n\n  return {\n    subThemeColor,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7a7222ac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { onBeforeUnmount, ref, watch } from 'vue'\nimport { pasteCustomClipboardString, pasteExcelClipboardString } from '@/utils/clipboard'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CustomTextarea',\n  props: {\n    value: { default: '' }\n  },\n  emits: [\"updateValue\", \"insertExcelData\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst textareaRef = ref<HTMLElement>()\nconst text = ref('')\nconst isFocus = ref(false)\n\n// v-modal\n// \nwatch(() => props.value, () => {\n  if (isFocus.value) return\n  text.value = props.value\n  if (textareaRef.value) textareaRef.value.innerHTML = props.value\n}, { immediate: true })\n\nconst handleInput = () => {\n  if (!textareaRef.value) return\n  const text = textareaRef.value.innerHTML\n  emit('updateValue', text)\n}\n\n// \nconst handleFocus = () => {\n  isFocus.value = true\n\n  if (!textareaRef.value) return\n  textareaRef.value.onpaste = (e: ClipboardEvent) => {\n    e.preventDefault()\n    if (!e.clipboardData) return\n\n    const clipboardDataFirstItem = e.clipboardData.items[0]\n\n    if (clipboardDataFirstItem && clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n      clipboardDataFirstItem.getAsString(text => {\n        const clipboardData = pasteCustomClipboardString(text)\n        if (typeof clipboardData === 'object') return\n \n        const excelData = pasteExcelClipboardString(text)\n        if (excelData) {\n          emit('insertExcelData', excelData)\n          if (textareaRef.value) textareaRef.value.innerHTML = excelData[0][0]\n          return\n        }\n\n        document.execCommand('insertText', false, text)\n      })\n    }\n  }\n}\n\n// \nconst handleBlur = () => {\n  isFocus.value = false\n  if (textareaRef.value) textareaRef.value.onpaste = null\n}\n\n// \nonBeforeUnmount(() => {\n  if (textareaRef.value) textareaRef.value.onpaste = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"custom-textarea\",\n    ref_key: \"textareaRef\",\n    ref: textareaRef,\n    contenteditable: true,\n    onFocus: _cache[0] || (_cache[0] = ($event: any) => (handleFocus())),\n    onBlur: _cache[1] || (_cache[1] = ($event: any) => (handleBlur())),\n    onInput: _cache[2] || (_cache[2] = ($event: any) => (handleInput())),\n    innerHTML: text.value\n  }, null, 40, _hoisted_1))\n}\n}\n\n})","<template>\n  <div \n    class=\"custom-textarea\"\n    ref=\"textareaRef\"\n    :contenteditable=\"true\"\n    @focus=\"handleFocus()\"\n    @blur=\"handleBlur()\"\n    @input=\"handleInput()\"\n    v-html=\"text\"\n  ></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onBeforeUnmount, ref, watch } from 'vue'\nimport { pasteCustomClipboardString, pasteExcelClipboardString } from '@/utils/clipboard'\n\nconst props = withDefaults(defineProps<{\n  value?: string\n}>(), {\n  value: '',\n})\n\nconst emit = defineEmits<{\n  (event: 'updateValue', payload: string): void\n  (event: 'insertExcelData', payload: string[][]): void\n}>()\n\nconst textareaRef = ref<HTMLElement>()\nconst text = ref('')\nconst isFocus = ref(false)\n\n// v-modal\n// \nwatch(() => props.value, () => {\n  if (isFocus.value) return\n  text.value = props.value\n  if (textareaRef.value) textareaRef.value.innerHTML = props.value\n}, { immediate: true })\n\nconst handleInput = () => {\n  if (!textareaRef.value) return\n  const text = textareaRef.value.innerHTML\n  emit('updateValue', text)\n}\n\n// \nconst handleFocus = () => {\n  isFocus.value = true\n\n  if (!textareaRef.value) return\n  textareaRef.value.onpaste = (e: ClipboardEvent) => {\n    e.preventDefault()\n    if (!e.clipboardData) return\n\n    const clipboardDataFirstItem = e.clipboardData.items[0]\n\n    if (clipboardDataFirstItem && clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n      clipboardDataFirstItem.getAsString(text => {\n        const clipboardData = pasteCustomClipboardString(text)\n        if (typeof clipboardData === 'object') return\n \n        const excelData = pasteExcelClipboardString(text)\n        if (excelData) {\n          emit('insertExcelData', excelData)\n          if (textareaRef.value) textareaRef.value.innerHTML = excelData[0][0]\n          return\n        }\n\n        document.execCommand('insertText', false, text)\n      })\n    }\n  }\n}\n\n// \nconst handleBlur = () => {\n  isFocus.value = false\n  if (textareaRef.value) textareaRef.value.onpaste = null\n}\n\n// \nonBeforeUnmount(() => {\n  if (textareaRef.value) textareaRef.value.onpaste = null\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.custom-textarea {\n  border: 0;\n  outline: 0;\n  -webkit-user-modify: read-write-plaintext-only;\n}\n</style>","import script from \"./CustomTextarea.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CustomTextarea.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CustomTextarea.vue?vue&type=style&index=0&id=7a7222ac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a7222ac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, unref as _unref, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createBlock as _createBlock, vShow as _vShow, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4fdca5cc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"handler\"\n}\nconst _hoisted_2 = [\"onMousedown\"]\nconst _hoisted_3 = [\"width\"]\nconst _hoisted_4 = [\"rowspan\", \"colspan\", \"data-cell-index\", \"onMousedown\", \"onMouseenter\"]\nconst _hoisted_5 = [\"innerHTML\"]\n\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { debounce, isEqual } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore } from '@/store'\nimport type { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { KEYS } from '@/configs/hotkey'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\nimport CustomTextarea from './CustomTextarea.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableTable',\n  props: {\n    data: {},\n    width: {},\n    cellMinHeight: {},\n    colWidths: {},\n    outline: {},\n    theme: {},\n    editable: { type: Boolean, default: true }\n  },\n  emits: [\"change\", \"changeColWidths\", \"changeSelectedCells\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst isStartSelect = ref(false)\nconst startCell = ref<number[]>([])\nconst endCell = ref<number[]>([])\n\nconst tableCells = computed<TableCell[][]>({\n  get() {\n    return props.data\n  },\n  set(newData) {\n    emit('change', newData)\n  },\n})\n\n// \nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n\n// \nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\nwatch(\n  [() => props.colWidths, () => props.width],\n  () => {\n    colSizeList.value = props.colWidths.map((item) => item * props.width)\n  },\n  { immediate: true }\n)\n\n// \n// \nconst removeSelectedCells = () => {\n  startCell.value = []\n  endCell.value = []\n}\n\nwatch(\n  () => props.editable,\n  () => {\n    if (!props.editable) removeSelectedCells()\n  }\n)\n\n// \nconst dragLinePosition = computed(() => {\n  const dragLinePosition: number[] = []\n  for (let i = 1; i < colSizeList.value.length + 1; i++) {\n    const pos = colSizeList.value.slice(0, i).reduce((a, b) => a + b)\n    dragLinePosition.push(pos)\n  }\n  return dragLinePosition\n})\n\n// \nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\n// \nconst selectedCells = computed(() => {\n  if (!startCell.value.length) return []\n  const [startX, startY] = startCell.value\n\n  if (!endCell.value.length) return [`${startX}_${startY}`]\n  const [endX, endY] = endCell.value\n\n  if (startX === endX && startY === endY) return [`${startX}_${startY}`]\n\n  const selectedCells = []\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    for (let j = 0; j < rowCells.length; j++) {\n      if (i >= minX && i <= maxX && j >= minY && j <= maxY) {\n        selectedCells.push(`${i}_${j}`)\n      }\n    }\n  }\n  return selectedCells\n})\n\nwatch(selectedCells, (value, oldValue) => {\n  if (isEqual(value, oldValue)) return\n  emit('changeSelectedCells', selectedCells.value)\n})\n\n// \nconst activedCell = computed(() => {\n  if (selectedCells.value.length > 1) return null\n  return selectedCells.value[0]\n})\n\n// \nconst handleMouseup = () => (isStartSelect.value = false)\n\nconst handleCellMousedown = (\n  e: MouseEvent,\n  rowIndex: number,\n  colIndex: number\n) => {\n  if (e.button === 0) {\n    endCell.value = []\n    isStartSelect.value = true\n    startCell.value = [rowIndex, colIndex]\n  }\n}\n\nconst handleCellMouseenter = (rowIndex: number, colIndex: number) => {\n  if (!isStartSelect.value) return\n  endCell.value = [rowIndex, colIndex]\n}\n\nonMounted(() => {\n  document.addEventListener('mouseup', handleMouseup)\n})\nonUnmounted(() => {\n  document.removeEventListener('mouseup', handleMouseup)\n})\n\n// \nconst isHideCell = (rowIndex: number, colIndex: number) =>\n  hideCells.value.includes(`${rowIndex}_${colIndex}`)\n\n// \nconst selectCol = (index: number) => {\n  const maxRow = tableCells.value.length - 1\n  startCell.value = [0, index]\n  endCell.value = [maxRow, index]\n}\n\n// \nconst selectRow = (index: number) => {\n  const maxCol = tableCells.value[index].length - 1\n  startCell.value = [index, 0]\n  endCell.value = [index, maxCol]\n}\n\n// \nconst selectAll = () => {\n  const maxRow = tableCells.value.length - 1\n  const maxCol = tableCells.value[maxRow].length - 1\n  startCell.value = [0, 0]\n  endCell.value = [maxRow, maxCol]\n}\n\n// \nconst deleteRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const targetCells = tableCells.value[rowIndex]\n  const hideCellsPos = []\n  for (let i = 0; i < targetCells.length; i++) {\n    if (isHideCell(rowIndex, i)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = rowIndex; i >= 0; i--) {\n      if (!isHideCell(i, pos)) {\n        _tableCells[i][pos].rowspan = _tableCells[i][pos].rowspan - 1\n        break\n      }\n    }\n  }\n\n  _tableCells.splice(rowIndex, 1)\n  tableCells.value = _tableCells\n}\n\n// \nconst deleteCol = (colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const hideCellsPos = []\n  for (let i = 0; i < tableCells.value.length; i++) {\n    if (isHideCell(i, colIndex)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = colIndex; i >= 0; i--) {\n      if (!isHideCell(pos, i)) {\n        _tableCells[pos][i].colspan = _tableCells[pos][i].colspan - 1\n        break\n      }\n    }\n  }\n\n  tableCells.value = _tableCells.map((item) => {\n    item.splice(colIndex, 1)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 1)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// \nconst insertRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const rowCells: TableCell[] = []\n  for (let i = 0; i < _tableCells[0].length; i++) {\n    rowCells.push({\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    })\n  }\n\n  _tableCells.splice(rowIndex, 0, rowCells)\n  tableCells.value = _tableCells\n}\n\n// \nconst insertCol = (colIndex: number) => {\n  tableCells.value = tableCells.value.map((item) => {\n    const cell = {\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    }\n    item.splice(colIndex, 0, cell)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 0, 100)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// /\nconst fillTable = (rowCount: number, colCount: number) => {\n  let _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n  const defaultCell = { colspan: 1, rowspan: 1, text: '' }\n\n  if (rowCount) {\n    const newRows = []\n    for (let i = 0; i < rowCount; i++) {\n      const rowCells: TableCell[] = []\n      for (let j = 0; j < _tableCells[0].length; j++) {\n        rowCells.push({\n          ...defaultCell,\n          id: nanoid(10),\n        })\n      }\n      newRows.push(rowCells)\n    }\n    _tableCells = [..._tableCells, ...newRows]\n  }\n  if (colCount) {\n    _tableCells = _tableCells.map((item) => {\n      const cells: TableCell[] = []\n      for (let i = 0; i < colCount; i++) {\n        const cell = {\n          ...defaultCell,\n          id: nanoid(10),\n        }\n        cells.push(cell)\n      }\n      return [...item, ...cells]\n    })\n    colSizeList.value = [...colSizeList.value, ...new Array(colCount).fill(100)]\n    emit('changeColWidths', colSizeList.value)\n  }\n\n  tableCells.value = _tableCells\n}\n\n// \nconst mergeCells = () => {\n  const [startX, startY] = startCell.value\n  const [endX, endY] = endCell.value\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  _tableCells[minX][minY].rowspan = maxX - minX + 1\n  _tableCells[minX][minY].colspan = maxY - minY + 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// \nconst splitCells = (rowIndex: number, colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n  _tableCells[rowIndex][colIndex].rowspan = 1\n  _tableCells[rowIndex][colIndex].colspan = 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// \nconst handleMousedownColHandler = (e: MouseEvent, colIndex: number) => {\n  removeSelectedCells()\n  let isMouseDown = true\n\n  const originWidth = colSizeList.value[colIndex]\n  const startPageX = e.pageX\n\n  const minWidth = 50\n\n  document.onmousemove = (e) => {\n    if (!isMouseDown) return\n\n    const moveX = (e.pageX - startPageX) / canvasScale.value\n    const width =\n      originWidth + moveX < minWidth\n        ? minWidth\n        : Math.round(originWidth + moveX)\n\n    colSizeList.value[colIndex] = width\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    emit('changeColWidths', colSizeList.value)\n  }\n}\n\n// \nconst clearSelectedCellText = () => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  for (let i = 0; i < _tableCells.length; i++) {\n    for (let j = 0; j < _tableCells[i].length; j++) {\n      if (selectedCells.value.includes(`${i}_${j}`)) {\n        _tableCells[i][j].text = ''\n      }\n    }\n  }\n  tableCells.value = _tableCells\n}\n\n// \n// \n// \n// \nconst tabActiveCell = () => {\n  const getNextCell = (i: number, j: number): [number, number] | null => {\n    if (!tableCells.value[i]) return null\n    if (!tableCells.value[i][j]) return getNextCell(i + 1, 0)\n    if (isHideCell(i, j)) return getNextCell(i, j + 1)\n    return [i, j]\n  }\n\n  endCell.value = []\n\n  const nextRow = startCell.value[0]\n  const nextCol = startCell.value[1] + 1\n\n  const nextCell = getNextCell(nextRow, nextCol)\n  if (!nextCell) {\n    insertRow(nextRow + 1)\n    startCell.value = [nextRow + 1, 0]\n  } else {\n    startCell.value = nextCell\n  }\n\n  // \n  nextTick(() => {\n    const textRef = document.querySelector(\n      '.cell-text.active'\n    ) as HTMLInputElement\n    if (textRef) textRef.focus()\n  })\n}\n\n// \nconst keydownListener = (e: KeyboardEvent) => {\n  if (!props.editable || !selectedCells.value.length) return\n\n  const key = e.key.toUpperCase()\n  if (selectedCells.value.length < 2) {\n    if (key === KEYS.TAB) {\n      e.preventDefault()\n      tabActiveCell()\n    }\n    if (e.ctrlKey && key === KEYS.UP) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex)\n    }\n    if (e.ctrlKey && key === KEYS.DOWN) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex + 1)\n    }\n    if (e.ctrlKey && key === KEYS.LEFT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex)\n    }\n    if (e.ctrlKey && key === KEYS.RIGHT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex + 1)\n    }\n  } else if (key === KEYS.DELETE) {\n    clearSelectedCellText()\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keydownListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keydownListener)\n})\n\n// \nconst handleInput = debounce(\n  function (value, rowIndex, colIndex) {\n    tableCells.value[rowIndex][colIndex].text = value\n    emit('change', tableCells.value)\n  },\n  300,\n  { trailing: true }\n)\n\n// Excel/\nconst insertExcelData = (\n  data: string[][],\n  rowIndex: number,\n  colIndex: number\n) => {\n  const maxRow = data.length\n  const maxCol = data[0].length\n\n  let fillRowCount = 0\n  let fillColCount = 0\n  if (rowIndex + maxRow > tableCells.value.length)\n    fillRowCount = rowIndex + maxRow - tableCells.value.length\n  if (colIndex + maxCol > tableCells.value[0].length)\n    fillColCount = colIndex + maxCol - tableCells.value[0].length\n  if (fillRowCount || fillColCount) fillTable(fillRowCount, fillColCount)\n\n  nextTick(() => {\n    for (let i = 0; i < maxRow; i++) {\n      for (let j = 0; j < maxCol; j++) {\n        if (tableCells.value[rowIndex + i][colIndex + j]) {\n          tableCells.value[rowIndex + i][colIndex + j].text = data[i][j]\n        }\n      }\n    }\n    emit('change', tableCells.value)\n  })\n}\n\n// \nconst getEffectiveTableCells = () => {\n  const effectiveTableCells = []\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    const _rowCells = []\n    for (let j = 0; j < rowCells.length; j++) {\n      if (!isHideCell(i, j)) _rowCells.push(rowCells[j])\n    }\n    if (_rowCells.length) effectiveTableCells.push(_rowCells)\n  }\n\n  return effectiveTableCells\n}\n\n// /1\nconst checkCanDeleteRowOrCol = () => {\n  const effectiveTableCells = getEffectiveTableCells()\n  const canDeleteRow = effectiveTableCells.length > 1\n  const canDeleteCol = effectiveTableCells[0].length > 1\n\n  return { canDeleteRow, canDeleteCol }\n}\n\n// \n// \n// \nconst checkCanMergeOrSplit = (rowIndex: number, colIndex: number) => {\n  const isMultiSelected = selectedCells.value.length > 1\n  const targetCell = tableCells.value[rowIndex][colIndex]\n\n  const canMerge = isMultiSelected\n  const canSplit =\n    !isMultiSelected && (targetCell.rowspan > 1 || targetCell.colspan > 1)\n\n  return { canMerge, canSplit }\n}\n\nconst contextmenus = (el: HTMLElement): ContextmenuItem[] => {\n  const cellIndex = el.dataset.cellIndex as string\n  const rowIndex = +cellIndex.split('_')[0]\n  const colIndex = +cellIndex.split('_')[1]\n\n  if (!selectedCells.value.includes(`${rowIndex}_${colIndex}`)) {\n    startCell.value = [rowIndex, colIndex]\n    endCell.value = []\n  }\n\n  const { canMerge, canSplit } = checkCanMergeOrSplit(rowIndex, colIndex)\n  const { canDeleteRow, canDeleteCol } = checkCanDeleteRowOrCol()\n\n  return [\n    {\n      text: 'Insert column',\n      children: [\n        { text: 'To the left', handler: () => insertCol(colIndex) },\n        { text: 'To the right', handler: () => insertCol(colIndex + 1) },\n      ],\n    },\n    {\n      text: 'Insert row',\n      children: [\n        { text: 'To the top', handler: () => insertRow(rowIndex) },\n        { text: 'Go to the bottom', handler: () => insertRow(rowIndex + 1) },\n      ],\n    },\n    {\n      text: 'Delete column',\n      disable: !canDeleteCol,\n      handler: () => deleteCol(colIndex),\n    },\n    {\n      text: 'Delete row',\n      disable: !canDeleteRow,\n      handler: () => deleteRow(rowIndex),\n    },\n    { divider: true },\n    {\n      text: 'Merge cells',\n      disable: !canMerge,\n      handler: mergeCells,\n    },\n    {\n      text: 'Unmerge cells',\n      disable: !canSplit,\n      handler: () => splitCells(rowIndex, colIndex),\n    },\n    { divider: true },\n    {\n      text: 'Select current column',\n      handler: () => selectCol(colIndex),\n    },\n    {\n      text: 'Select current line',\n      handler: () => selectRow(rowIndex),\n    },\n    {\n      text: 'Select all cells',\n      handler: selectAll,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"editable-table\",\n    style: _normalizeStyle({ width: totalWidth.value + 'px' })\n  }, [\n    (_ctx.editable)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(dragLinePosition.value, (pos, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"drag-line\",\n              key: index,\n              style: _normalizeStyle({ left: pos + 'px' }),\n              onMousedown: ($event) => handleMousedownColHandler($event, index)\n            }, null, 44, _hoisted_2))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"table\", {\n      class: _normalizeClass({\n        theme: theme.value,\n        'row-header': theme.value?.rowHeader,\n        'row-footer': theme.value?.rowFooter,\n        'col-header': theme.value?.colHeader,\n        'col-footer': theme.value?.colFooter,\n      }),\n      style: _normalizeStyle(`--themeColor: ${theme.value?.color}; --subThemeColor1: ${_unref(subThemeColor)[0]}; --subThemeColor2: ${_unref(subThemeColor)[1]}`)\n    }, [\n      _createElementVNode(\"colgroup\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(colSizeList.value, (width, index) => {\n          return (_openBlock(), _createElementBlock(\"col\", {\n            span: \"1\",\n            key: index,\n            width: width\n          }, null, 8, _hoisted_3))\n        }), 128))\n      ]),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tableCells.value, (rowCells, rowIndex) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: rowIndex,\n            style: _normalizeStyle({ height: _ctx.cellMinHeight + 'px' })\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rowCells, (cell, colIndex) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"td\", {\n                class: _normalizeClass([\"cell\", {\n              selected:\n                selectedCells.value.includes(`${rowIndex}_${colIndex}`) &&\n                selectedCells.value.length > 1,\n              active: activedCell.value === `${rowIndex}_${colIndex}`,\n            }]),\n                style: _normalizeStyle({\n              borderStyle: _ctx.outline.style,\n              borderColor: _ctx.outline.color,\n              borderWidth: _ctx.outline.width + 'px',\n              ..._unref(getTextStyle)(cell.style),\n            }),\n                key: cell.id,\n                rowspan: cell.rowspan,\n                colspan: cell.colspan,\n                \"data-cell-index\": `${rowIndex}_${colIndex}`,\n                onMousedown: \n              ($event) => handleCellMousedown($event, rowIndex, colIndex)\n            ,\n                onMouseenter: ($event: any) => (handleCellMouseenter(rowIndex, colIndex))\n              }, [\n                (activedCell.value === `${rowIndex}_${colIndex}`)\n                  ? (_openBlock(), _createBlock(CustomTextarea, {\n                      key: 0,\n                      class: _normalizeClass([\"cell-text\", { active: activedCell.value === `${rowIndex}_${colIndex}` }]),\n                      style: _normalizeStyle({ minHeight: _ctx.cellMinHeight - 4 + 'px' }),\n                      value: cell.text,\n                      onUpdateValue: (value) => _unref(handleInput)(value, rowIndex, colIndex),\n                      onInsertExcelData: \n                (value) => insertExcelData(value, rowIndex, colIndex)\n              \n                    }, null, 8, [\"class\", \"style\", \"value\", \"onUpdateValue\", \"onInsertExcelData\"]))\n                  : (_openBlock(), _createElementBlock(\"div\", {\n                      key: 1,\n                      class: \"cell-text\",\n                      style: _normalizeStyle({ minHeight: _ctx.cellMinHeight - 4 + 'px' }),\n                      innerHTML: _unref(formatText)(cell.text)\n                    }, null, 12, _hoisted_5))\n              ], 46, _hoisted_4)), [\n                [_vShow, !_unref(hideCells).includes(`${rowIndex}_${colIndex}`)],\n                [_directive_contextmenu, (el) => contextmenus(el)]\n              ])\n            }), 128))\n          ], 4))\n        }), 128))\n      ])\n    ], 6)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"editable-table\" :style=\"{ width: totalWidth + 'px' }\">\n    <div class=\"handler\" v-if=\"editable\">\n      <div\n        class=\"drag-line\"\n        v-for=\"(pos, index) in dragLinePosition\"\n        :key=\"index\"\n        :style=\"{ left: pos + 'px' }\"\n        @mousedown=\"($event) => handleMousedownColHandler($event, index)\"\n      ></div>\n    </div>\n    <table\n      :class=\"{\n        theme: theme,\n        'row-header': theme?.rowHeader,\n        'row-footer': theme?.rowFooter,\n        'col-header': theme?.colHeader,\n        'col-footer': theme?.colFooter,\n      }\"\n      :style=\"`--themeColor: ${theme?.color}; --subThemeColor1: ${subThemeColor[0]}; --subThemeColor2: ${subThemeColor[1]}`\"\n    >\n      <colgroup>\n        <col\n          span=\"1\"\n          v-for=\"(width, index) in colSizeList\"\n          :key=\"index\"\n          :width=\"width\"\n        />\n      </colgroup>\n      <tbody>\n        <tr\n          v-for=\"(rowCells, rowIndex) in tableCells\"\n          :key=\"rowIndex\"\n          :style=\"{ height: cellMinHeight + 'px' }\"\n        >\n          <td\n            class=\"cell\"\n            :class=\"{\n              selected:\n                selectedCells.includes(`${rowIndex}_${colIndex}`) &&\n                selectedCells.length > 1,\n              active: activedCell === `${rowIndex}_${colIndex}`,\n            }\"\n            :style=\"{\n              borderStyle: outline.style,\n              borderColor: outline.color,\n              borderWidth: outline.width + 'px',\n              ...getTextStyle(cell.style),\n            }\"\n            v-for=\"(cell, colIndex) in rowCells\"\n            :key=\"cell.id\"\n            :rowspan=\"cell.rowspan\"\n            :colspan=\"cell.colspan\"\n            :data-cell-index=\"`${rowIndex}_${colIndex}`\"\n            v-show=\"!hideCells.includes(`${rowIndex}_${colIndex}`)\"\n            @mousedown=\"\n              ($event) => handleCellMousedown($event, rowIndex, colIndex)\n            \"\n            @mouseenter=\"handleCellMouseenter(rowIndex, colIndex)\"\n            v-contextmenu=\"(el: HTMLElement) => contextmenus(el)\"\n          >\n            <CustomTextarea\n              v-if=\"activedCell === `${rowIndex}_${colIndex}`\"\n              class=\"cell-text\"\n              :class=\"{ active: activedCell === `${rowIndex}_${colIndex}` }\"\n              :style=\"{ minHeight: cellMinHeight - 4 + 'px' }\"\n              :value=\"cell.text\"\n              @updateValue=\"(value) => handleInput(value, rowIndex, colIndex)\"\n              @insertExcelData=\"\n                (value) => insertExcelData(value, rowIndex, colIndex)\n              \"\n            />\n            <div\n              v-else\n              class=\"cell-text\"\n              :style=\"{ minHeight: cellMinHeight - 4 + 'px' }\"\n              v-html=\"formatText(cell.text)\"\n            />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { debounce, isEqual } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore } from '@/store'\nimport type { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { KEYS } from '@/configs/hotkey'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\nimport CustomTextarea from './CustomTextarea.vue'\n\nconst props = withDefaults(\n  defineProps<{\n    data: TableCell[][]\n    width: number\n    cellMinHeight: number\n    colWidths: number[]\n    outline: PPTElementOutline\n    theme?: TableTheme\n    editable?: boolean\n  }>(),\n  {\n    editable: true,\n  }\n)\n\nconst emit = defineEmits<{\n  (event: 'change', payload: TableCell[][]): void\n  (event: 'changeColWidths', payload: number[]): void\n  (event: 'changeSelectedCells', payload: string[]): void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst isStartSelect = ref(false)\nconst startCell = ref<number[]>([])\nconst endCell = ref<number[]>([])\n\nconst tableCells = computed<TableCell[][]>({\n  get() {\n    return props.data\n  },\n  set(newData) {\n    emit('change', newData)\n  },\n})\n\n// \nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n\n// \nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\nwatch(\n  [() => props.colWidths, () => props.width],\n  () => {\n    colSizeList.value = props.colWidths.map((item) => item * props.width)\n  },\n  { immediate: true }\n)\n\n// \n// \nconst removeSelectedCells = () => {\n  startCell.value = []\n  endCell.value = []\n}\n\nwatch(\n  () => props.editable,\n  () => {\n    if (!props.editable) removeSelectedCells()\n  }\n)\n\n// \nconst dragLinePosition = computed(() => {\n  const dragLinePosition: number[] = []\n  for (let i = 1; i < colSizeList.value.length + 1; i++) {\n    const pos = colSizeList.value.slice(0, i).reduce((a, b) => a + b)\n    dragLinePosition.push(pos)\n  }\n  return dragLinePosition\n})\n\n// \nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\n// \nconst selectedCells = computed(() => {\n  if (!startCell.value.length) return []\n  const [startX, startY] = startCell.value\n\n  if (!endCell.value.length) return [`${startX}_${startY}`]\n  const [endX, endY] = endCell.value\n\n  if (startX === endX && startY === endY) return [`${startX}_${startY}`]\n\n  const selectedCells = []\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    for (let j = 0; j < rowCells.length; j++) {\n      if (i >= minX && i <= maxX && j >= minY && j <= maxY) {\n        selectedCells.push(`${i}_${j}`)\n      }\n    }\n  }\n  return selectedCells\n})\n\nwatch(selectedCells, (value, oldValue) => {\n  if (isEqual(value, oldValue)) return\n  emit('changeSelectedCells', selectedCells.value)\n})\n\n// \nconst activedCell = computed(() => {\n  if (selectedCells.value.length > 1) return null\n  return selectedCells.value[0]\n})\n\n// \nconst handleMouseup = () => (isStartSelect.value = false)\n\nconst handleCellMousedown = (\n  e: MouseEvent,\n  rowIndex: number,\n  colIndex: number\n) => {\n  if (e.button === 0) {\n    endCell.value = []\n    isStartSelect.value = true\n    startCell.value = [rowIndex, colIndex]\n  }\n}\n\nconst handleCellMouseenter = (rowIndex: number, colIndex: number) => {\n  if (!isStartSelect.value) return\n  endCell.value = [rowIndex, colIndex]\n}\n\nonMounted(() => {\n  document.addEventListener('mouseup', handleMouseup)\n})\nonUnmounted(() => {\n  document.removeEventListener('mouseup', handleMouseup)\n})\n\n// \nconst isHideCell = (rowIndex: number, colIndex: number) =>\n  hideCells.value.includes(`${rowIndex}_${colIndex}`)\n\n// \nconst selectCol = (index: number) => {\n  const maxRow = tableCells.value.length - 1\n  startCell.value = [0, index]\n  endCell.value = [maxRow, index]\n}\n\n// \nconst selectRow = (index: number) => {\n  const maxCol = tableCells.value[index].length - 1\n  startCell.value = [index, 0]\n  endCell.value = [index, maxCol]\n}\n\n// \nconst selectAll = () => {\n  const maxRow = tableCells.value.length - 1\n  const maxCol = tableCells.value[maxRow].length - 1\n  startCell.value = [0, 0]\n  endCell.value = [maxRow, maxCol]\n}\n\n// \nconst deleteRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const targetCells = tableCells.value[rowIndex]\n  const hideCellsPos = []\n  for (let i = 0; i < targetCells.length; i++) {\n    if (isHideCell(rowIndex, i)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = rowIndex; i >= 0; i--) {\n      if (!isHideCell(i, pos)) {\n        _tableCells[i][pos].rowspan = _tableCells[i][pos].rowspan - 1\n        break\n      }\n    }\n  }\n\n  _tableCells.splice(rowIndex, 1)\n  tableCells.value = _tableCells\n}\n\n// \nconst deleteCol = (colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const hideCellsPos = []\n  for (let i = 0; i < tableCells.value.length; i++) {\n    if (isHideCell(i, colIndex)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = colIndex; i >= 0; i--) {\n      if (!isHideCell(pos, i)) {\n        _tableCells[pos][i].colspan = _tableCells[pos][i].colspan - 1\n        break\n      }\n    }\n  }\n\n  tableCells.value = _tableCells.map((item) => {\n    item.splice(colIndex, 1)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 1)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// \nconst insertRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  const rowCells: TableCell[] = []\n  for (let i = 0; i < _tableCells[0].length; i++) {\n    rowCells.push({\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    })\n  }\n\n  _tableCells.splice(rowIndex, 0, rowCells)\n  tableCells.value = _tableCells\n}\n\n// \nconst insertCol = (colIndex: number) => {\n  tableCells.value = tableCells.value.map((item) => {\n    const cell = {\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    }\n    item.splice(colIndex, 0, cell)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 0, 100)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// /\nconst fillTable = (rowCount: number, colCount: number) => {\n  let _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n  const defaultCell = { colspan: 1, rowspan: 1, text: '' }\n\n  if (rowCount) {\n    const newRows = []\n    for (let i = 0; i < rowCount; i++) {\n      const rowCells: TableCell[] = []\n      for (let j = 0; j < _tableCells[0].length; j++) {\n        rowCells.push({\n          ...defaultCell,\n          id: nanoid(10),\n        })\n      }\n      newRows.push(rowCells)\n    }\n    _tableCells = [..._tableCells, ...newRows]\n  }\n  if (colCount) {\n    _tableCells = _tableCells.map((item) => {\n      const cells: TableCell[] = []\n      for (let i = 0; i < colCount; i++) {\n        const cell = {\n          ...defaultCell,\n          id: nanoid(10),\n        }\n        cells.push(cell)\n      }\n      return [...item, ...cells]\n    })\n    colSizeList.value = [...colSizeList.value, ...new Array(colCount).fill(100)]\n    emit('changeColWidths', colSizeList.value)\n  }\n\n  tableCells.value = _tableCells\n}\n\n// \nconst mergeCells = () => {\n  const [startX, startY] = startCell.value\n  const [endX, endY] = endCell.value\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  _tableCells[minX][minY].rowspan = maxX - minX + 1\n  _tableCells[minX][minY].colspan = maxY - minY + 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// \nconst splitCells = (rowIndex: number, colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n  _tableCells[rowIndex][colIndex].rowspan = 1\n  _tableCells[rowIndex][colIndex].colspan = 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// \nconst handleMousedownColHandler = (e: MouseEvent, colIndex: number) => {\n  removeSelectedCells()\n  let isMouseDown = true\n\n  const originWidth = colSizeList.value[colIndex]\n  const startPageX = e.pageX\n\n  const minWidth = 50\n\n  document.onmousemove = (e) => {\n    if (!isMouseDown) return\n\n    const moveX = (e.pageX - startPageX) / canvasScale.value\n    const width =\n      originWidth + moveX < minWidth\n        ? minWidth\n        : Math.round(originWidth + moveX)\n\n    colSizeList.value[colIndex] = width\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    emit('changeColWidths', colSizeList.value)\n  }\n}\n\n// \nconst clearSelectedCellText = () => {\n  const _tableCells: TableCell[][] = JSON.parse(\n    JSON.stringify(tableCells.value)\n  )\n\n  for (let i = 0; i < _tableCells.length; i++) {\n    for (let j = 0; j < _tableCells[i].length; j++) {\n      if (selectedCells.value.includes(`${i}_${j}`)) {\n        _tableCells[i][j].text = ''\n      }\n    }\n  }\n  tableCells.value = _tableCells\n}\n\n// \n// \n// \n// \nconst tabActiveCell = () => {\n  const getNextCell = (i: number, j: number): [number, number] | null => {\n    if (!tableCells.value[i]) return null\n    if (!tableCells.value[i][j]) return getNextCell(i + 1, 0)\n    if (isHideCell(i, j)) return getNextCell(i, j + 1)\n    return [i, j]\n  }\n\n  endCell.value = []\n\n  const nextRow = startCell.value[0]\n  const nextCol = startCell.value[1] + 1\n\n  const nextCell = getNextCell(nextRow, nextCol)\n  if (!nextCell) {\n    insertRow(nextRow + 1)\n    startCell.value = [nextRow + 1, 0]\n  } else {\n    startCell.value = nextCell\n  }\n\n  // \n  nextTick(() => {\n    const textRef = document.querySelector(\n      '.cell-text.active'\n    ) as HTMLInputElement\n    if (textRef) textRef.focus()\n  })\n}\n\n// \nconst keydownListener = (e: KeyboardEvent) => {\n  if (!props.editable || !selectedCells.value.length) return\n\n  const key = e.key.toUpperCase()\n  if (selectedCells.value.length < 2) {\n    if (key === KEYS.TAB) {\n      e.preventDefault()\n      tabActiveCell()\n    }\n    if (e.ctrlKey && key === KEYS.UP) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex)\n    }\n    if (e.ctrlKey && key === KEYS.DOWN) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex + 1)\n    }\n    if (e.ctrlKey && key === KEYS.LEFT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex)\n    }\n    if (e.ctrlKey && key === KEYS.RIGHT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex + 1)\n    }\n  } else if (key === KEYS.DELETE) {\n    clearSelectedCellText()\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keydownListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keydownListener)\n})\n\n// \nconst handleInput = debounce(\n  function (value, rowIndex, colIndex) {\n    tableCells.value[rowIndex][colIndex].text = value\n    emit('change', tableCells.value)\n  },\n  300,\n  { trailing: true }\n)\n\n// Excel/\nconst insertExcelData = (\n  data: string[][],\n  rowIndex: number,\n  colIndex: number\n) => {\n  const maxRow = data.length\n  const maxCol = data[0].length\n\n  let fillRowCount = 0\n  let fillColCount = 0\n  if (rowIndex + maxRow > tableCells.value.length)\n    fillRowCount = rowIndex + maxRow - tableCells.value.length\n  if (colIndex + maxCol > tableCells.value[0].length)\n    fillColCount = colIndex + maxCol - tableCells.value[0].length\n  if (fillRowCount || fillColCount) fillTable(fillRowCount, fillColCount)\n\n  nextTick(() => {\n    for (let i = 0; i < maxRow; i++) {\n      for (let j = 0; j < maxCol; j++) {\n        if (tableCells.value[rowIndex + i][colIndex + j]) {\n          tableCells.value[rowIndex + i][colIndex + j].text = data[i][j]\n        }\n      }\n    }\n    emit('change', tableCells.value)\n  })\n}\n\n// \nconst getEffectiveTableCells = () => {\n  const effectiveTableCells = []\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    const _rowCells = []\n    for (let j = 0; j < rowCells.length; j++) {\n      if (!isHideCell(i, j)) _rowCells.push(rowCells[j])\n    }\n    if (_rowCells.length) effectiveTableCells.push(_rowCells)\n  }\n\n  return effectiveTableCells\n}\n\n// /1\nconst checkCanDeleteRowOrCol = () => {\n  const effectiveTableCells = getEffectiveTableCells()\n  const canDeleteRow = effectiveTableCells.length > 1\n  const canDeleteCol = effectiveTableCells[0].length > 1\n\n  return { canDeleteRow, canDeleteCol }\n}\n\n// \n// \n// \nconst checkCanMergeOrSplit = (rowIndex: number, colIndex: number) => {\n  const isMultiSelected = selectedCells.value.length > 1\n  const targetCell = tableCells.value[rowIndex][colIndex]\n\n  const canMerge = isMultiSelected\n  const canSplit =\n    !isMultiSelected && (targetCell.rowspan > 1 || targetCell.colspan > 1)\n\n  return { canMerge, canSplit }\n}\n\nconst contextmenus = (el: HTMLElement): ContextmenuItem[] => {\n  const cellIndex = el.dataset.cellIndex as string\n  const rowIndex = +cellIndex.split('_')[0]\n  const colIndex = +cellIndex.split('_')[1]\n\n  if (!selectedCells.value.includes(`${rowIndex}_${colIndex}`)) {\n    startCell.value = [rowIndex, colIndex]\n    endCell.value = []\n  }\n\n  const { canMerge, canSplit } = checkCanMergeOrSplit(rowIndex, colIndex)\n  const { canDeleteRow, canDeleteCol } = checkCanDeleteRowOrCol()\n\n  return [\n    {\n      text: 'Insert column',\n      children: [\n        { text: 'To the left', handler: () => insertCol(colIndex) },\n        { text: 'To the right', handler: () => insertCol(colIndex + 1) },\n      ],\n    },\n    {\n      text: 'Insert row',\n      children: [\n        { text: 'To the top', handler: () => insertRow(rowIndex) },\n        { text: 'Go to the bottom', handler: () => insertRow(rowIndex + 1) },\n      ],\n    },\n    {\n      text: 'Delete column',\n      disable: !canDeleteCol,\n      handler: () => deleteCol(colIndex),\n    },\n    {\n      text: 'Delete row',\n      disable: !canDeleteRow,\n      handler: () => deleteRow(rowIndex),\n    },\n    { divider: true },\n    {\n      text: 'Merge cells',\n      disable: !canMerge,\n      handler: mergeCells,\n    },\n    {\n      text: 'Unmerge cells',\n      disable: !canSplit,\n      handler: () => splitCells(rowIndex, colIndex),\n    },\n    { divider: true },\n    {\n      text: 'Select current column',\n      handler: () => selectCol(colIndex),\n    },\n    {\n      text: 'Select current line',\n      handler: () => selectRow(rowIndex),\n    },\n    {\n      text: 'Select all cells',\n      handler: selectAll,\n    },\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-table {\n  position: relative;\n  user-select: none;\n}\ntable {\n  width: 100%;\n  position: relative;\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: 0;\n  word-wrap: break-word;\n  user-select: none;\n\n  --themeColor: $themeColor;\n  --subThemeColor1: $themeColor;\n  --subThemeColor2: $themeColor;\n\n  &.theme {\n    background-color: #fff;\n\n    tr:nth-child(2n) .cell {\n      background-color: var(--subThemeColor1);\n    }\n    tr:nth-child(2n + 1) .cell {\n      background-color: var(--subThemeColor2);\n    }\n\n    &.row-header {\n      tr:first-child .cell {\n        background-color: var(--themeColor);\n      }\n    }\n    &.row-footer {\n      tr:last-child .cell {\n        background-color: var(--themeColor);\n      }\n    }\n    &.col-header {\n      tr .cell:first-child {\n        background-color: var(--themeColor);\n      }\n    }\n    &.col-footer {\n      tr .cell:last-child {\n        background-color: var(--themeColor);\n      }\n    }\n  }\n\n  .cell {\n    position: relative;\n    white-space: normal;\n    word-wrap: break-word;\n    vertical-align: middle;\n    font-size: 14px;\n    background-clip: padding-box;\n    cursor: default;\n\n    &.selected::after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      background-color: rgba($color: #666, $alpha: 0.4);\n    }\n  }\n\n  .cell-text {\n    padding: 5px;\n    line-height: 1.5;\n    user-select: none;\n    cursor: text;\n\n    &.active {\n      user-select: text;\n    }\n  }\n}\n\n.drag-line {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 3px;\n  background-color: $themeColor;\n  margin-left: -1px;\n  opacity: 0;\n  z-index: 2;\n  cursor: col-resize;\n}\n</style>\n","import script from \"./EditableTable.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableTable.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditableTable.vue?vue&type=style&index=0&id=4fdca5cc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4fdca5cc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, createVNode as _createVNode, unref as _unref, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-742a731e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTableElement, TableCell } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport EditableTable from './EditableTable.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale, handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst elementRef = ref<HTMLElement>()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\n// \nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) editable.value = false\n})\n\nwatch(editable, () => {\n  mainStore.setDisableHotkeysState(editable.value)\n})\n\nconst startEdit = () => {\n  if (!props.elementInfo.lock) editable.value = true\n}\n\n// vuex\n// \nconst realHeightCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (isScaling.value) editable.value = false\n\n  if (!isScaling.value && realHeightCache.value !== -1) {\n    slidesStore.updateElement({\n      id: props.elementInfo.id,\n      props: { height: realHeightCache.value },\n    })\n    realHeightCache.value = -1\n  }\n})\n\nconst updateTableElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height\n\n  if (props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n}\n\nconst resizeObserver = new ResizeObserver(updateTableElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\n// \nconst updateTableCells = (data: TableCell[][]) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { data },\n  })\n  addHistorySnapshot()\n}\n\n// \nconst updateColWidths = (widths: number[]) => {\n  const width = widths.reduce((a, b) => a + b)\n  const colWidths = widths.map(item => item / width)\n\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { width, colWidths },\n  })\n  addHistorySnapshot()\n}\n\n// \nconst updateSelectedCells = (cells: string[]) => {\n  nextTick(() => mainStore.setSelectedTableCells(cells))\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-table\", { 'lock': _ctx.elementInfo.lock }]),\n    ref_key: \"elementRef\",\n    ref: elementRef,\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(EditableTable, {\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          data: _ctx.elementInfo.data,\n          width: _ctx.elementInfo.width,\n          cellMinHeight: _ctx.elementInfo.cellMinHeight,\n          colWidths: _ctx.elementInfo.colWidths,\n          outline: _ctx.elementInfo.outline,\n          theme: _ctx.elementInfo.theme,\n          editable: editable.value,\n          onChange: _cache[1] || (_cache[1] = data => updateTableCells(data)),\n          onChangeColWidths: _cache[2] || (_cache[2] = widths => updateColWidths(widths)),\n          onChangeSelectedCells: _cache[3] || (_cache[3] = cells => updateSelectedCells(cells))\n        }, null, 8, [\"data\", \"width\", \"cellMinHeight\", \"colWidths\", \"outline\", \"theme\", \"editable\"]),\n        (!editable.value || _ctx.elementInfo.lock)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: _normalizeClass([\"table-mask\", { 'lock': _ctx.elementInfo.lock }]),\n              onDblclick: _cache[4] || (_cache[4] = ($event: any) => (startEdit())),\n              onMousedown: _cache[5] || (_cache[5] = $event => handleSelectElement($event)),\n              onTouchstart: _cache[6] || (_cache[6] = $event => handleSelectElement($event))\n            }, [\n              (_unref(handleElementId) === _ctx.elementInfo.id)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"mask-tip\",\n                    style: _normalizeStyle({ transform: `scale(${ 1 / _unref(canvasScale) })` })\n                  }, \"\", 4))\n                : _createCommentVNode(\"\", true)\n            ], 34))\n          : _createCommentVNode(\"\", true)\n      ])), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-table\"\n    ref=\"elementRef\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\" \n        v-contextmenu=\"contextmenus\"\n      >\n        <EditableTable \n          @mousedown.stop\n          :data=\"elementInfo.data\"\n          :width=\"elementInfo.width\"\n          :cellMinHeight=\"elementInfo.cellMinHeight\"\n          :colWidths=\"elementInfo.colWidths\"\n          :outline=\"elementInfo.outline\"\n          :theme=\"elementInfo.theme\"\n          :editable=\"editable\"\n          @change=\"data => updateTableCells(data)\"\n          @changeColWidths=\"widths => updateColWidths(widths)\"\n          @changeSelectedCells=\"cells => updateSelectedCells(cells)\"\n        />\n        <div \n          class=\"table-mask\" \n          :class=\"{ 'lock': elementInfo.lock }\"\n          v-if=\"!editable || elementInfo.lock\"\n          @dblclick=\"startEdit()\"\n          @mousedown=\"$event => handleSelectElement($event)\"\n          @touchstart=\"$event => handleSelectElement($event)\"\n        >\n          <div class=\"mask-tip\" v-if=\"handleElementId === elementInfo.id\" :style=\"{ transform: `scale(${ 1 / canvasScale })` }\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTableElement, TableCell } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport EditableTable from './EditableTable.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTTableElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTTableElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale, handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst elementRef = ref<HTMLElement>()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\n// \nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) editable.value = false\n})\n\nwatch(editable, () => {\n  mainStore.setDisableHotkeysState(editable.value)\n})\n\nconst startEdit = () => {\n  if (!props.elementInfo.lock) editable.value = true\n}\n\n// vuex\n// \nconst realHeightCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (isScaling.value) editable.value = false\n\n  if (!isScaling.value && realHeightCache.value !== -1) {\n    slidesStore.updateElement({\n      id: props.elementInfo.id,\n      props: { height: realHeightCache.value },\n    })\n    realHeightCache.value = -1\n  }\n})\n\nconst updateTableElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height\n\n  if (props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n}\n\nconst resizeObserver = new ResizeObserver(updateTableElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\n// \nconst updateTableCells = (data: TableCell[][]) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { data },\n  })\n  addHistorySnapshot()\n}\n\n// \nconst updateColWidths = (widths: number[]) => {\n  const width = widths.reduce((a, b) => a + b)\n  const colWidths = widths.map(item => item / width)\n\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { width, colWidths },\n  })\n  addHistorySnapshot()\n}\n\n// \nconst updateSelectedCells = (cells: string[]) => {\n  nextTick(() => mainStore.setSelectedTableCells(cells))\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-table {\n  position: absolute;\n\n  &.lock .element-content {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  cursor: move;\n}\n.table-mask {\n  @include absolute-0();\n\n  opacity: 0;\n  transition: opacity $transitionDelay;\n\n  .mask-tip {\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    background-color: rgba($color: #000, $alpha: .5);\n    color: #fff;\n    padding: 6px 12px;\n    font-size: 12px;\n    transform-origin: 0 0;\n  }\n\n  &:hover:not(.lock) {\n    opacity: .9;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=742a731e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-742a731e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35c33b80\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\", \"stroke\", \"stroke-width\"]\nconst _hoisted_2 = [\"transform\"]\nconst _hoisted_3 = [\"d\"]\n\nimport type { PPTLatexElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst openLatexEditor = () => {\n  emitter.emit(EmitterEvents.OPEN_LATEX_EDITOR)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-latex\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onDblclick: _cache[2] || (_cache[2] = ($event: any) => (openLatexEditor()))\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          stroke: _ctx.elementInfo.color,\n          \"stroke-width\": _ctx.elementInfo.strokeWidth,\n          fill: \"none\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\"\n        }, [\n          _createElementVNode(\"g\", {\n            transform: `scale(${_ctx.elementInfo.width / _ctx.elementInfo.viewBox[0]}, ${_ctx.elementInfo.height / _ctx.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              d: _ctx.elementInfo.path\n            }, null, 8, _hoisted_3)\n          ], 8, _hoisted_2)\n        ], 8, _hoisted_1))\n      ], 32)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"editable-element-latex\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\" \n        v-contextmenu=\"contextmenus\"\n        @mousedown=\"$event => handleSelectElement($event)\"\n        @touchstart=\"$event => handleSelectElement($event)\"\n        @dblclick=\"openLatexEditor()\"\n      >\n        <svg \n          overflow=\"visible\" \n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n          :stroke=\"elementInfo.color\" \n          :stroke-width=\"elementInfo.strokeWidth\" \n          fill=\"none\" \n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <g \n            :transform=\"`scale(${elementInfo.width / elementInfo.viewBox[0]}, ${elementInfo.height / elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\"\n          >\n            <path :d=\"elementInfo.path\"></path>\n          </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { PPTLatexElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\n\nconst props = defineProps<{\n  elementInfo: PPTLatexElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTLatexElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst openLatexEditor = () => {\n  emitter.emit(EmitterEvents.OPEN_LATEX_EDITOR)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-latex {\n  position: absolute;\n\n  &.lock .element-content {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  cursor: move;\n\n  svg {\n    transform-origin: 0 0;\n    overflow: visible;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=35c33b80&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35c33b80\"]])\n\nexport default __exports__","import { onMounted, type Ref } from 'vue'\n\nexport default (\n  src: string,\n  videoRef: Ref<HTMLVideoElement | undefined>,\n) => {\n  onMounted(() => {\n    if (!videoRef.value) return\n\n    let type = 'normal'\n    if (/m3u8(#|\\?|$)/i.exec(src)) type = 'hls'\n    else if (/.flv(#|\\?|$)/i.exec(src)) type = 'flv'\n\n    if (videoRef.value && type === 'hls' && (videoRef.value.canPlayType('application/x-mpegURL') || videoRef.value.canPlayType('application/vnd.apple.mpegURL'))) {\n      type = 'normal'\n    }\n\n    if (type === 'hls') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const Hls = (window as any).Hls\n      \n      if (Hls && Hls.isSupported()) {\n        const hls = new Hls()\n        hls.loadSource(src)\n        hls.attachMedia(videoRef.value)\n      }\n    }\n    else if (type === 'flv') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const flvjs = (window as any).flvjs\n      if (flvjs && flvjs.isSupported()) {\n        const flvPlayer = flvjs.createPlayer({\n          type: 'flv',\n          url: src,\n        })\n        flvPlayer.attachMediaElement(videoRef.value)\n        flvPlayer.load()\n      }\n    }\n  })\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e55352ca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"load-error\"\n}\nconst _hoisted_2 = [\"src\", \"autoplay\", \"poster\"]\nconst _hoisted_3 = { class: \"bezel\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"controller-mask\" }, null, -1))\nconst _hoisted_5 = { class: \"controller\" }\nconst _hoisted_6 = { class: \"icons icons-left\" }\nconst _hoisted_7 = { class: \"icon-content\" }\nconst _hoisted_8 = { class: \"volume\" }\nconst _hoisted_9 = { class: \"icon-content\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = { class: \"time\" }\nconst _hoisted_13 = { class: \"ptime\" }\nconst _hoisted_14 = { class: \"dtime\" }\nconst _hoisted_15 = { class: \"icons icons-right\" }\nconst _hoisted_16 = { class: \"speed\" }\nconst _hoisted_17 = { class: \"icon speed-icon\" }\nconst _hoisted_18 = [\"onClick\"]\nconst _hoisted_19 = { class: \"icon-content\" }\nconst _hoisted_20 = { class: \"bar\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_22 = [\n  _hoisted_21\n]\n\nimport { computed, ref } from 'vue'\nimport useMSE from './useMSE'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    width: {},\n    height: {},\n    src: {},\n    poster: { default: '' },\n    autoplay: { type: Boolean, default: false },\n    scale: { default: 1 }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst videoRef = ref<HTMLVideoElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\nconst loop = ref(false)\nconst bezelTransition = ref(false)\nconst playbackRate = ref(1)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst speedMenuVisible = ref(false)\nconst speedOptions = [\n  { label: '2x', value: 2 },\n  { label: '1.5x', value: 1.5 },\n  { label: '1.25x', value: 1.25 },\n  { label: '1x', value: 1 },\n  { label: '0.75x', value: 0.75 },\n  { label: '0.5x', value: 0.5 },\n]\n\nconst seek = (time: number) => {\n  if (!videoRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!videoRef.value) return\n\n  paused.value = false\n  videoRef.value.play()\n  bezelTransition.value = true\n}\n\nconst pause = () => {\n  if (!videoRef.value) return\n\n  paused.value = true\n  videoRef.value.pause()\n  bezelTransition.value = true\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!videoRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  videoRef.value.volume = percentage\n  volume.value = percentage\n  if (videoRef.value.muted && percentage !== 0) videoRef.value.muted = false\n}\n\nconst speed = (rate: number) => {\n  if (videoRef.value) videoRef.value.playbackRate = rate\n  playbackRate.value = rate\n}\n\nconst handleDurationchange = () => {\n  duration.value = videoRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = videoRef.value?.currentTime || 0\n}\n\nconst handleEnded = () => {\n  if (!loop.value) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = videoRef.value?.buffered.length ? videoRef.value.buffered.end(videoRef.value.buffered.length - 1) : 0\n}\n\nconst loadError = ref(false)\nconst handleError = () => loadError.value = true\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!videoRef.value) return\n\n  if (videoRef.value.muted) {\n    videoRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    videoRef.value.muted = true\n    setVolume(0)\n  }\n}\n\nconst toggleLoop = () => {\n  loop.value = !loop.value\n}\n\nconst autoHideControllerTimer = ref(-1)\nconst hideController = ref(false)\nconst autoHideController = () => {\n  hideController.value = false\n  clearTimeout(autoHideControllerTimer.value)\n  autoHideControllerTimer.value = setTimeout(() => {\n    if (videoRef.value?.played.length) hideController.value = true\n  }, 3000)\n}\n\nuseMSE(props.src, videoRef)\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPause = _resolveComponent(\"IconPause\")!\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconVolumeMute = _resolveComponent(\"IconVolumeMute\")!\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _component_IconVolumeSmall = _resolveComponent(\"IconVolumeSmall\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player\", { 'hide-controller': hideController.value }]),\n    style: _normalizeStyle({\n      width: _ctx.width * _ctx.scale + 'px',\n      height: _ctx.height * _ctx.scale + 'px',\n      transform: `scale(${1 / _ctx.scale})`,\n    }),\n    onMousemove: _cache[22] || (_cache[22] = ($event: any) => (autoHideController())),\n    onClick: _cache[23] || (_cache[23] = ($event: any) => (autoHideController()))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"video-wrap\",\n      onClick: _cache[8] || (_cache[8] = ($event: any) => (toggle()))\n    }, [\n      (loadError.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"\"))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"video\", {\n        class: \"video\",\n        ref_key: \"videoRef\",\n        ref: videoRef,\n        src: _ctx.src,\n        autoplay: _ctx.autoplay,\n        poster: _ctx.poster,\n        \"webkit-playsinline\": \"\",\n        playsinline: \"\",\n        onDurationchange: _cache[0] || (_cache[0] = ($event: any) => (handleDurationchange())),\n        onTimeupdate: _cache[1] || (_cache[1] = ($event: any) => (handleTimeupdate())),\n        onEnded: _cache[2] || (_cache[2] = ($event: any) => (handleEnded())),\n        onProgress: _cache[3] || (_cache[3] = ($event: any) => (handleProgress())),\n        onPlay: _cache[4] || (_cache[4] = ($event: any) => {autoHideController(); paused.value = false}),\n        onPause: _cache[5] || (_cache[5] = ($event: any) => (autoHideController())),\n        onError: _cache[6] || (_cache[6] = ($event: any) => (handleError()))\n      }, null, 40, _hoisted_2),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"span\", {\n          class: _normalizeClass([\"bezel-icon\", { 'bezel-transition': bezelTransition.value }]),\n          onAnimationend: _cache[7] || (_cache[7] = ($event: any) => (bezelTransition.value = false))\n        }, [\n          (paused.value)\n            ? (_openBlock(), _createBlock(_component_IconPause, { key: 0 }))\n            : (_openBlock(), _createBlock(_component_IconPlayOne, { key: 1 }))\n        ], 34)\n      ])\n    ]),\n    _hoisted_4,\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"div\", {\n          class: \"icon play-icon\",\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (toggle()))\n        }, [\n          _createElementVNode(\"span\", _hoisted_7, [\n            (paused.value)\n              ? (_openBlock(), _createBlock(_component_IconPlayOne, { key: 0 }))\n              : (_openBlock(), _createBlock(_component_IconPause, { key: 1 }))\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", {\n            class: \"icon volume-icon\",\n            onClick: _cache[10] || (_cache[10] = ($event: any) => (toggleVolume()))\n          }, [\n            _createElementVNode(\"span\", _hoisted_9, [\n              (volume.value === 0)\n                ? (_openBlock(), _createBlock(_component_IconVolumeMute, { key: 0 }))\n                : (volume.value === 1)\n                  ? (_openBlock(), _createBlock(_component_IconVolumeNotice, { key: 1 }))\n                  : (_openBlock(), _createBlock(_component_IconVolumeSmall, { key: 2 }))\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            class: \"volume-bar-wrap\",\n            onMousedown: _cache[11] || (_cache[11] = ($event: any) => (handleMousedownVolumeBar())),\n            onTouchstart: _cache[12] || (_cache[12] = ($event: any) => (handleMousedownVolumeBar())),\n            onClick: _cache[13] || (_cache[13] = $event => handleClickVolumeBar($event))\n          }, [\n            _createElementVNode(\"div\", {\n              class: \"volume-bar\",\n              ref_key: \"volumeBarRef\",\n              ref: volumeBarRef\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"volume-bar-inner\",\n                style: _normalizeStyle({ width: volumeBarWidth.value })\n              }, _hoisted_11, 4)\n            ], 512)\n          ], 32)\n        ]),\n        _createElementVNode(\"span\", _hoisted_12, [\n          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(ptime.value), 1),\n          _createTextVNode(\" / \"),\n          _createElementVNode(\"span\", _hoisted_14, _toDisplayString(dtime.value), 1)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_15, [\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"div\", _hoisted_17, [\n            _createElementVNode(\"span\", {\n              class: \"icon-content\",\n              onClick: _cache[14] || (_cache[14] = ($event: any) => (speedMenuVisible.value = !speedMenuVisible.value))\n            }, _toDisplayString(playbackRate.value === 1 ? '' : (playbackRate.value + 'x')), 1),\n            (speedMenuVisible.value)\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: \"speed-menu\",\n                  onMouseleave: _cache[15] || (_cache[15] = ($event: any) => (speedMenuVisible.value = false))\n                }, [\n                  (_openBlock(), _createElementBlock(_Fragment, null, _renderList(speedOptions, (item) => {\n                    return _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"speed-menu-item\", { 'active': item.value === playbackRate.value }]),\n                      key: item.label,\n                      onClick: ($event: any) => (speed(item.value))\n                    }, _toDisplayString(item.label), 11, _hoisted_18)\n                  }), 64))\n                ], 32))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createElementVNode(\"div\", {\n          class: \"loop\",\n          onClick: _cache[16] || (_cache[16] = ($event: any) => (toggleLoop()))\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"icon loop-icon\", { 'active': loop.value }])\n          }, [\n            _createElementVNode(\"span\", _hoisted_19, \"\" + _toDisplayString(loop.value ? '' : ''), 1)\n          ], 2)\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"bar-wrap\",\n        ref_key: \"playBarWrap\",\n        ref: playBarWrap,\n        onMousedown: _cache[17] || (_cache[17] = ($event: any) => (handleMousedownPlayBar())),\n        onTouchstart: _cache[18] || (_cache[18] = ($event: any) => (handleMousedownPlayBar())),\n        onMousemove: _cache[19] || (_cache[19] = $event => handleMousemovePlayBar($event)),\n        onMouseenter: _cache[20] || (_cache[20] = ($event: any) => (playBarTimeVisible.value = true)),\n        onMouseleave: _cache[21] || (_cache[21] = ($event: any) => (playBarTimeVisible.value = false))\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"bar-time\", { 'hidden': !playBarTimeVisible.value }]),\n          style: _normalizeStyle({ left: playBarTimeLeft.value })\n        }, _toDisplayString(playBarTime.value), 7),\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"div\", {\n            class: \"loaded\",\n            style: _normalizeStyle({ width: loadedBarWidth.value })\n          }, null, 4),\n          _createElementVNode(\"div\", {\n            class: \"played\",\n            style: _normalizeStyle({ width: playedBarWidth.value })\n          }, _hoisted_22, 4)\n        ])\n      ], 544)\n    ])\n  ], 38))\n}\n}\n\n})","<template>\n  <div \n    class=\"video-player\"\n    :class=\"{ 'hide-controller': hideController }\" \n    :style=\"{\n      width: width * scale + 'px',\n      height: height * scale + 'px',\n      transform: `scale(${1 / scale})`,\n    }\"\n    @mousemove=\"autoHideController()\"\n    @click=\"autoHideController()\"\n  >\n    <div class=\"video-wrap\" @click=\"toggle()\">\n      <div class=\"load-error\" v-if=\"loadError\"></div>\n\n      <video\n        class=\"video\"\n        ref=\"videoRef\"\n        :src=\"src\"\n        :autoplay=\"autoplay\"\n        :poster=\"poster\"\n        webkit-playsinline\n        playsinline\n        @durationchange=\"handleDurationchange()\"\n        @timeupdate=\"handleTimeupdate()\"\n        @ended=\"handleEnded()\"\n        @progress=\"handleProgress()\"\n        @play=\"autoHideController(); paused = false\"\n        @pause=\"autoHideController()\"\n        @error=\"handleError()\"\n      ></video>\n      <div class=\"bezel\">\n        <span class=\"bezel-icon\" :class=\"{ 'bezel-transition': bezelTransition }\" @animationend=\"bezelTransition = false\">\n          <IconPause v-if=\"paused\" />\n          <IconPlayOne v-else />\n        </span>\n      </div>\n    </div>\n\n    <div class=\"controller-mask\"></div>\n    <div class=\"controller\">\n      <div class=\"icons icons-left\">\n        <div class=\"icon play-icon\" @click=\"toggle()\">\n          <span class=\"icon-content\">\n            <IconPlayOne v-if=\"paused\" />\n            <IconPause v-else />\n          </span>\n        </div>\n        <div class=\"volume\">\n          <div class=\"icon volume-icon\" @click=\"toggleVolume()\">\n            <span class=\"icon-content\">\n              <IconVolumeMute v-if=\"volume === 0\" />\n              <IconVolumeNotice v-else-if=\"volume === 1\" />\n              <IconVolumeSmall v-else />\n            </span>\n          </div>\n          <div\n            class=\"volume-bar-wrap\"\n            @mousedown=\"handleMousedownVolumeBar()\"\n            @touchstart=\"handleMousedownVolumeBar()\"\n            @click=\"$event => handleClickVolumeBar($event)\"\n          >\n            <div class=\"volume-bar\" ref=\"volumeBarRef\">\n              <div class=\"volume-bar-inner\" :style=\"{ width: volumeBarWidth }\">\n                <span class=\"thumb\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <span class=\"time\">\n          <span class=\"ptime\">{{ptime}}</span> / <span class=\"dtime\">{{dtime}}</span>\n        </span>\n      </div>\n\n      <div class=\"icons icons-right\">\n        <div class=\"speed\">\n          <div class=\"icon speed-icon\">\n            <span class=\"icon-content\" @click=\"speedMenuVisible = !speedMenuVisible\">{{playbackRate === 1 ? '' : (playbackRate + 'x')}}</span>\n            <div class=\"speed-menu\" v-if=\"speedMenuVisible\" @mouseleave=\"speedMenuVisible = false\">\n              <div \n                class=\"speed-menu-item\" \n                :class=\"{ 'active': item.value === playbackRate }\"\n                v-for=\"item in speedOptions\" \n                :key=\"item.label\" \n                @click=\"speed(item.value)\"\n              >{{item.label}}</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"loop\" @click=\"toggleLoop()\">\n          <div class=\"icon loop-icon\" :class=\"{ 'active': loop }\">\n            <span class=\"icon-content\">{{loop ? '' : ''}}</span>\n          </div>\n        </div>\n      </div>\n\n      <div \n        class=\"bar-wrap\"\n        ref=\"playBarWrap\"\n        @mousedown=\"handleMousedownPlayBar()\"\n        @touchstart=\"handleMousedownPlayBar()\"\n        @mousemove=\"$event => handleMousemovePlayBar($event)\"\n        @mouseenter=\"playBarTimeVisible = true\"\n        @mouseleave=\"playBarTimeVisible = false\"\n      >\n        <div class=\"bar-time\" :class=\"{ 'hidden': !playBarTimeVisible }\" :style=\"{ left: playBarTimeLeft }\">{{playBarTime}}</div>\n        <div class=\"bar\">\n          <div class=\"loaded\" :style=\"{ width: loadedBarWidth }\"></div>\n          <div class=\"played\" :style=\"{ width: playedBarWidth }\">\n            <span class=\"thumb\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport useMSE from './useMSE'\n\nconst props = withDefaults(defineProps<{\n  width: number\n  height: number\n  src: string\n  poster?: string\n  autoplay?: boolean\n  scale?: number\n}>(), {\n  poster: '',\n  autoplay: false,\n  scale: 1,\n})\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst videoRef = ref<HTMLVideoElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\nconst loop = ref(false)\nconst bezelTransition = ref(false)\nconst playbackRate = ref(1)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst speedMenuVisible = ref(false)\nconst speedOptions = [\n  { label: '2x', value: 2 },\n  { label: '1.5x', value: 1.5 },\n  { label: '1.25x', value: 1.25 },\n  { label: '1x', value: 1 },\n  { label: '0.75x', value: 0.75 },\n  { label: '0.5x', value: 0.5 },\n]\n\nconst seek = (time: number) => {\n  if (!videoRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!videoRef.value) return\n\n  paused.value = false\n  videoRef.value.play()\n  bezelTransition.value = true\n}\n\nconst pause = () => {\n  if (!videoRef.value) return\n\n  paused.value = true\n  videoRef.value.pause()\n  bezelTransition.value = true\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!videoRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  videoRef.value.volume = percentage\n  volume.value = percentage\n  if (videoRef.value.muted && percentage !== 0) videoRef.value.muted = false\n}\n\nconst speed = (rate: number) => {\n  if (videoRef.value) videoRef.value.playbackRate = rate\n  playbackRate.value = rate\n}\n\nconst handleDurationchange = () => {\n  duration.value = videoRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = videoRef.value?.currentTime || 0\n}\n\nconst handleEnded = () => {\n  if (!loop.value) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = videoRef.value?.buffered.length ? videoRef.value.buffered.end(videoRef.value.buffered.length - 1) : 0\n}\n\nconst loadError = ref(false)\nconst handleError = () => loadError.value = true\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!videoRef.value) return\n\n  if (videoRef.value.muted) {\n    videoRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    videoRef.value.muted = true\n    setVolume(0)\n  }\n}\n\nconst toggleLoop = () => {\n  loop.value = !loop.value\n}\n\nconst autoHideControllerTimer = ref(-1)\nconst hideController = ref(false)\nconst autoHideController = () => {\n  hideController.value = false\n  clearTimeout(autoHideControllerTimer.value)\n  autoHideControllerTimer.value = setTimeout(() => {\n    if (videoRef.value?.played.length) hideController.value = true\n  }, 3000)\n}\n\nuseMSE(props.src, videoRef)\n</script>\n\n<style scoped lang=\"scss\">\n.video-player {\n  position: relative;\n  overflow: hidden;\n  user-select: none;\n  line-height: 1;\n  transform-origin: 0 0;\n\n  &.hide-controller {\n    cursor: none;\n\n    .controller-mask {\n      opacity: 0;\n      transform: translateY(100%);\n    }\n    .controller {\n      opacity: 0;\n      transform: translateY(100%);\n    }\n  }\n}\n\n.video-wrap {\n  position: relative;\n  background: #000;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n\n  .video {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.controller-mask {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;\n  height: 98px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  transition: all 0.3s ease;\n}\n.controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  user-select: none;\n  transition: all 0.3s ease;\n\n  .bar-wrap {\n    padding: 5px 0;\n    cursor: pointer;\n    position: absolute;\n    bottom: 33px;\n    width: calc(100% - 40px);\n    height: 3px;\n\n    &:hover .bar .played .thumb {\n      transform: scale(1);\n    }\n\n    .bar-time {\n      position: absolute;\n      left: 0;\n      top: -20px;\n      border-radius: 4px;\n      padding: 5px 7px;\n      background-color: rgba(0, 0, 0, 0.62);\n      color: #fff;\n      font-size: 12px;\n      text-align: center;\n      opacity: 1;\n      transition: opacity 0.1s ease-in-out;\n      word-wrap: normal;\n      word-break: normal;\n      z-index: 2;\n      pointer-events: none;\n\n      &.hidden {\n        opacity: 0;\n      }\n    }\n    .bar {\n      position: relative;\n      height: 3px;\n      width: 100%;\n      background: rgba(255, 255, 255, 0.2);\n      cursor: pointer;\n\n      .loaded {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        background: rgba(255, 255, 255, 0.4);\n        height: 3px;\n        transition: all 0.5s ease;\n        will-change: width;\n      }\n      .played {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        height: 3px;\n        will-change: width;\n        background-color: #fff;\n\n        .thumb {\n          position: absolute;\n          top: 0;\n          right: 5px;\n          margin-top: -4px;\n          margin-right: -10px;\n          height: 11px;\n          width: 11px;\n          border-radius: 50%;\n          cursor: pointer;\n          transition: all 0.3s ease-in-out;\n          transform: scale(0);\n          background-color: #fff;\n        }\n      }\n    }\n  }\n  .icons {\n    height: 38px;\n    position: absolute;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n\n    &.icons-right {\n      right: 15px;\n    }\n    .time {\n      line-height: 38px;\n      color: #eee;\n      text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n      vertical-align: middle;\n      font-size: 13px;\n      cursor: default;\n    }\n    .icon {\n      width: 40px;\n      height: 100%;\n      position: relative;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      font-size: 20px;\n\n      &.play-icon {\n        font-size: 26px;\n      }\n\n      .icon-content {\n        transition: all 0.2s ease-in-out;\n        opacity: 0.8;\n        color: #fff;\n      }\n      &.loop-icon {\n        font-size: 12px;\n\n        .icon-content {\n          opacity: 0.5;\n        }\n      }\n      &.speed-icon {\n        font-size: 12px;\n        position: relative;\n      }\n      .speed-menu {\n        width: 70px;\n        position: absolute;\n        bottom: 30px;\n        left: -23px;\n        background-color: #22211b;\n        padding: 5px 0;\n        color: #ddd;\n\n        .speed-menu-item {\n          padding: 8px 0;\n          text-align: center;\n\n          &:hover {\n            background-color: #393833;\n            color: #fff;\n          }\n          &.active {\n            font-weight: 700;\n            color: #fff;\n          }\n        }\n      }\n\n      &.active .icon-content {\n        opacity: 1;\n      }\n      &:hover .icon-content {\n        opacity: 1;\n      }\n    }\n    .volume {\n      height: 100%;\n      position: relative;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n\n      &:hover {\n        .volume-bar-wrap .volume-bar {\n          width: 45px;\n        }\n        .volume-bar-wrap .volume-bar .volume-bar-inner .thumb {\n          transform: scale(1);\n        }\n      }\n      &.volume-active {\n        .volume-bar-wrap .volume-bar {\n          width: 45px;\n        }\n        .volume-bar-wrap .volume-bar .volume-bar-inner .thumb {\n          transform: scale(1);\n        }\n      }\n    }\n    .volume-bar-wrap {\n      display: inline-block;\n      margin: 0 15px 0 -5px;\n      vertical-align: middle;\n      height: 100%;\n    }\n    .volume-bar {\n      position: relative;\n      top: 17px;\n      width: 0;\n      height: 3px;\n      background: #aaa;\n      transition: all 0.3s ease-in-out;\n\n      .volume-bar-inner {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 100%;\n        transition: all 0.1s ease;\n        will-change: width;\n        background-color: #fff;\n\n        .thumb {\n          position: absolute;\n          top: 0;\n          right: 5px;\n          margin-top: -4px;\n          margin-right: -10px;\n          height: 11px;\n          width: 11px;\n          border-radius: 50%;\n          cursor: pointer;\n          transition: all 0.3s ease-in-out;\n          transform: scale(0);\n          background-color: #fff;\n        }\n      }\n    }\n    .loop {\n      display: inline-block;\n      height: 100%;\n    }\n  }\n}\n\n.bezel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n  pointer-events: none;\n\n  .bezel-icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: -26px 0 0 -26px;\n    height: 52px;\n    width: 52px;\n    padding: 12px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: rgba(0, 0, 0, 0.5);\n    border-radius: 50%;\n    opacity: 0;\n    pointer-events: none;\n    font-size: 40px;\n\n    &.bezel-transition {\n      animation: bezel-hide 0.5s linear;\n    }\n\n    @keyframes bezel-hide {\n      from {\n        opacity: 1;\n        transform: scale(1);\n      }\n      to {\n        opacity: 0;\n        transform: scale(2);\n      }\n    }\n  }\n}\n\n.load-error {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 15px;\n  color: #fff;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e55352ca&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e55352ca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle } from \"vue\"\n\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-video\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event, false)),\n        onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event, false))\n      }, [\n        _createVNode(VideoPlayer, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          src: _ctx.elementInfo.src,\n          poster: _ctx.elementInfo.poster,\n          scale: _unref(canvasScale)\n        }, null, 8, [\"width\", \"height\", \"src\", \"poster\", \"scale\"]),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(['t', 'b', 'l', 'r'], (item) => {\n          return _createElementVNode(\"div\", {\n            class: _normalizeClass(['handler-border', item]),\n            key: item,\n            onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n            onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event))\n          }, null, 34)\n        }), 64))\n      ], 32)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div class=\"editable-element-video\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\" \n        v-contextmenu=\"contextmenus\" \n        @mousedown=\"$event => handleSelectElement($event, false)\"\n        @touchstart=\"$event => handleSelectElement($event, false)\"\n      >\n        <VideoPlayer\n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n          :src=\"elementInfo.src\" \n          :poster=\"elementInfo.poster\"  \n          :scale=\"canvasScale\" \n        />\n        <div \n          :class=\"['handler-border', item]\" \n          v-for=\"item in ['t', 'b', 'l', 'r']\" \n          :key=\"item\"\n          @mousedown=\"$event => handleSelectElement($event)\"\n          @touchstart=\"$event => handleSelectElement($event)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTVideoElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTVideoElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-video {\n  position: absolute;\n\n  &.lock .handler-border {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.handler-border {\n  position: absolute;\n  cursor: move;\n\n  &.t {\n    width: 100%;\n    height: 20px;\n    top: 0;\n    left: 0;\n  }\n  &.b {\n    width: 100%;\n    height: 5px;\n    bottom: 0;\n    left: 0;\n  }\n  &.l {\n    width: 10px;\n    height: 100%;\n    left: 0;\n    top: 0;\n  }\n  &.r {\n    width: 10px;\n    height: 100%;\n    right: 0;\n    top: 0;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5dc89f2a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5dc89f2a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-44037f56\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"autoplay\"]\nconst _hoisted_2 = { class: \"controller\" }\nconst _hoisted_3 = { class: \"icons\" }\nconst _hoisted_4 = { class: \"icon-content\" }\nconst _hoisted_5 = { class: \"volume\" }\nconst _hoisted_6 = { class: \"icon-content\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"time\" }\nconst _hoisted_10 = { class: \"ptime\" }\nconst _hoisted_11 = { class: \"dtime\" }\nconst _hoisted_12 = { class: \"bar\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_14 = [\n  _hoisted_13\n]\n\nimport { computed, ref } from 'vue'\nimport message from '@/utils/message'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AudioPlayer',\n  props: {\n    src: {},\n    loop: { type: Boolean },\n    autoplay: { type: Boolean, default: false },\n    scale: { default: 1 }\n  },\n  setup(__props: any, { expose: __expose }) {\n\nconst props = __props\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst audioRef = ref<HTMLAudioElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst seek = (time: number) => {\n  if (!audioRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!audioRef.value) return\n\n  paused.value = false\n  audioRef.value.play()\n}\n\nconst pause = () => {\n  if (!audioRef.value) return\n\n  paused.value = true\n  audioRef.value.pause()\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!audioRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  audioRef.value.volume = percentage\n  volume.value = percentage\n  if (audioRef.value.muted && percentage !== 0) audioRef.value.muted = false\n}\n\nconst handleDurationchange = () => {\n  duration.value = audioRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = audioRef.value?.currentTime || 0\n}\n\nconst handlePlayed = () => {\n  paused.value = false\n}\n\nconst handleEnded = () => {\n  if (!props.loop) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = audioRef.value?.buffered.length ? audioRef.value.buffered.end(audioRef.value.buffered.length - 1) : 0\n}\n\nconst handleError = () => message.error('')\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!audioRef.value) return\n\n  if (audioRef.value.muted) {\n    audioRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    audioRef.value.muted = true\n    setVolume(0)\n  }\n}\n\n__expose({\n  toggle,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconPause = _resolveComponent(\"IconPause\")!\n  const _component_IconVolumeMute = _resolveComponent(\"IconVolumeMute\")!\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _component_IconVolumeSmall = _resolveComponent(\"IconVolumeSmall\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"audio-player\",\n    style: _normalizeStyle({ transform: `scale(${1 / _ctx.scale})` })\n  }, [\n    _createElementVNode(\"audio\", {\n      class: \"audio\",\n      ref_key: \"audioRef\",\n      ref: audioRef,\n      src: _ctx.src,\n      autoplay: _ctx.autoplay,\n      onDurationchange: _cache[0] || (_cache[0] = ($event: any) => (handleDurationchange())),\n      onTimeupdate: _cache[1] || (_cache[1] = ($event: any) => (handleTimeupdate())),\n      onPlay: _cache[2] || (_cache[2] = ($event: any) => (handlePlayed())),\n      onEnded: _cache[3] || (_cache[3] = ($event: any) => (handleEnded())),\n      onProgress: _cache[4] || (_cache[4] = ($event: any) => (handleProgress())),\n      onError: _cache[5] || (_cache[5] = ($event: any) => (handleError()))\n    }, null, 40, _hoisted_1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", {\n          class: \"icon play-icon\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (toggle()))\n        }, [\n          _createElementVNode(\"span\", _hoisted_4, [\n            (paused.value)\n              ? (_openBlock(), _createBlock(_component_IconPlayOne, { key: 0 }))\n              : (_openBlock(), _createBlock(_component_IconPause, { key: 1 }))\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", {\n            class: \"icon volume-icon\",\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (toggleVolume()))\n          }, [\n            _createElementVNode(\"span\", _hoisted_6, [\n              (volume.value === 0)\n                ? (_openBlock(), _createBlock(_component_IconVolumeMute, { key: 0 }))\n                : (volume.value === 1)\n                  ? (_openBlock(), _createBlock(_component_IconVolumeNotice, { key: 1 }))\n                  : (_openBlock(), _createBlock(_component_IconVolumeSmall, { key: 2 }))\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            class: \"volume-bar-wrap\",\n            onMousedown: _cache[8] || (_cache[8] = ($event: any) => (handleMousedownVolumeBar())),\n            onTouchstart: _cache[9] || (_cache[9] = ($event: any) => (handleMousedownVolumeBar())),\n            onClick: _cache[10] || (_cache[10] = $event => handleClickVolumeBar($event))\n          }, [\n            _createElementVNode(\"div\", {\n              class: \"volume-bar\",\n              ref_key: \"volumeBarRef\",\n              ref: volumeBarRef\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"volume-bar-inner\",\n                style: _normalizeStyle({ width: volumeBarWidth.value })\n              }, _hoisted_8, 4)\n            ], 512)\n          ], 32)\n        ])\n      ]),\n      _createElementVNode(\"span\", _hoisted_9, [\n        _createElementVNode(\"span\", _hoisted_10, _toDisplayString(ptime.value), 1),\n        _createTextVNode(\" / \"),\n        _createElementVNode(\"span\", _hoisted_11, _toDisplayString(dtime.value), 1)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"bar-wrap\",\n        ref_key: \"playBarWrap\",\n        ref: playBarWrap,\n        onMousedown: _cache[11] || (_cache[11] = ($event: any) => (handleMousedownPlayBar())),\n        onTouchstart: _cache[12] || (_cache[12] = ($event: any) => (handleMousedownPlayBar())),\n        onMousemove: _cache[13] || (_cache[13] = $event => handleMousemovePlayBar($event)),\n        onMouseenter: _cache[14] || (_cache[14] = ($event: any) => (playBarTimeVisible.value = true)),\n        onMouseleave: _cache[15] || (_cache[15] = ($event: any) => (playBarTimeVisible.value = false))\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"bar-time\", { 'hidden': !playBarTimeVisible.value }]),\n          style: _normalizeStyle({ left: playBarTimeLeft.value })\n        }, _toDisplayString(playBarTime.value), 7),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", {\n            class: \"loaded\",\n            style: _normalizeStyle({ width: loadedBarWidth.value })\n          }, null, 4),\n          _createElementVNode(\"div\", {\n            class: \"played\",\n            style: _normalizeStyle({ width: playedBarWidth.value })\n          }, _hoisted_14, 4)\n        ])\n      ], 544)\n    ])\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"audio-player\"\n    :style=\"{ transform: `scale(${1 / scale})` }\"\n  >\n    <audio\n      class=\"audio\"\n      ref=\"audioRef\"\n      :src=\"src\"\n      :autoplay=\"autoplay\"\n      @durationchange=\"handleDurationchange()\"\n      @timeupdate=\"handleTimeupdate()\"\n      @play=\"handlePlayed()\"\n      @ended=\"handleEnded()\"\n      @progress=\"handleProgress()\"\n      @error=\"handleError()\"\n    ></audio>\n\n    <div class=\"controller\">\n      <div class=\"icons\">\n        <div class=\"icon play-icon\" @click=\"toggle()\">\n          <span class=\"icon-content\">\n            <IconPlayOne v-if=\"paused\" />\n            <IconPause v-else />\n          </span>\n        </div>\n        <div class=\"volume\">\n          <div class=\"icon volume-icon\" @click=\"toggleVolume()\">\n            <span class=\"icon-content\">\n              <IconVolumeMute v-if=\"volume === 0\" />\n              <IconVolumeNotice v-else-if=\"volume === 1\" />\n              <IconVolumeSmall v-else />\n            </span>\n          </div>\n          <div\n            class=\"volume-bar-wrap\"\n            @mousedown=\"handleMousedownVolumeBar()\"\n            @touchstart=\"handleMousedownVolumeBar()\"\n            @click=\"$event => handleClickVolumeBar($event)\"\n          >\n            <div class=\"volume-bar\" ref=\"volumeBarRef\">\n              <div class=\"volume-bar-inner\" :style=\"{ width: volumeBarWidth }\">\n                <span class=\"thumb\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <span class=\"time\">\n        <span class=\"ptime\">{{ptime}}</span> / <span class=\"dtime\">{{dtime}}</span>\n      </span>\n\n      <div \n        class=\"bar-wrap\"\n        ref=\"playBarWrap\"\n        @mousedown=\"handleMousedownPlayBar()\"\n        @touchstart=\"handleMousedownPlayBar()\"\n        @mousemove=\"$event => handleMousemovePlayBar($event)\"\n        @mouseenter=\"playBarTimeVisible = true\"\n        @mouseleave=\"playBarTimeVisible = false\"\n      >\n        <div class=\"bar-time\" :class=\"{ 'hidden': !playBarTimeVisible }\" :style=\"{ left: playBarTimeLeft }\">{{playBarTime}}</div>\n        <div class=\"bar\">\n          <div class=\"loaded\" :style=\"{ width: loadedBarWidth }\"></div>\n          <div class=\"played\" :style=\"{ width: playedBarWidth }\">\n            <span class=\"thumb\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport message from '@/utils/message'\n\nconst props = withDefaults(defineProps<{\n  src: string\n  loop: boolean\n  autoplay?: boolean\n  scale?: number\n}>(), {\n  autoplay: false,\n  scale: 1,\n})\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst audioRef = ref<HTMLAudioElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst seek = (time: number) => {\n  if (!audioRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!audioRef.value) return\n\n  paused.value = false\n  audioRef.value.play()\n}\n\nconst pause = () => {\n  if (!audioRef.value) return\n\n  paused.value = true\n  audioRef.value.pause()\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!audioRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  audioRef.value.volume = percentage\n  volume.value = percentage\n  if (audioRef.value.muted && percentage !== 0) audioRef.value.muted = false\n}\n\nconst handleDurationchange = () => {\n  duration.value = audioRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = audioRef.value?.currentTime || 0\n}\n\nconst handlePlayed = () => {\n  paused.value = false\n}\n\nconst handleEnded = () => {\n  if (!props.loop) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = audioRef.value?.buffered.length ? audioRef.value.buffered.end(audioRef.value.buffered.length - 1) : 0\n}\n\nconst handleError = () => message.error('')\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!audioRef.value) return\n\n  if (audioRef.value.muted) {\n    audioRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    audioRef.value.muted = true\n    setVolume(0)\n  }\n}\n\ndefineExpose({\n  toggle,\n})\n</script>\n\n<style scoped lang=\"scss\">\n\n.audio-player {\n  width: 280px;\n  height: 50px;\n  position: relative;\n  user-select: none;\n  line-height: 1;\n  transform-origin: 0 0;\n  background: #000;\n}\n\n.controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  user-select: none;\n  transition: all 0.3s ease;\n\n  .bar-wrap {\n    padding: 5px 0;\n    cursor: pointer;\n    position: absolute;\n    bottom: 35px;\n    width: calc(100% - 40px);\n    height: 3px;\n\n    &:hover .bar .played .thumb {\n      transform: scale(1);\n    }\n\n    .bar-time {\n      position: absolute;\n      left: 0;\n      top: -20px;\n      border-radius: 4px;\n      padding: 5px 7px;\n      background-color: rgba(0, 0, 0, 0.62);\n      color: #fff;\n      font-size: 12px;\n      text-align: center;\n      opacity: 1;\n      transition: opacity 0.1s ease-in-out;\n      word-wrap: normal;\n      word-break: normal;\n      z-index: 2;\n      pointer-events: none;\n\n      &.hidden {\n        opacity: 0;\n      }\n    }\n    .bar {\n      position: relative;\n      height: 3px;\n      width: 100%;\n      background: rgba(255, 255, 255, 0.2);\n      cursor: pointer;\n\n      .loaded {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        background: rgba(255, 255, 255, 0.4);\n        height: 3px;\n        transition: all 0.5s ease;\n        will-change: width;\n      }\n      .played {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        height: 3px;\n        will-change: width;\n        background-color: #fff;\n\n        .thumb {\n          position: absolute;\n          top: 0;\n          right: 5px;\n          margin-top: -4px;\n          margin-right: -10px;\n          height: 11px;\n          width: 11px;\n          border-radius: 50%;\n          cursor: pointer;\n          transition: all 0.3s ease-in-out;\n          transform: scale(0);\n          background-color: #fff;\n        }\n      }\n    }\n  }\n  .icons {\n    height: 38px;\n    position: absolute;\n    bottom: 0;\n    left: 14px;\n    display: flex;\n    align-items: center;\n\n    .icon {\n      width: 36px;\n      height: 100%;\n      position: relative;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      font-size: 20px;\n\n      &.play-icon {\n        font-size: 26px;\n      }\n\n      .icon-content {\n        transition: all 0.2s ease-in-out;\n        opacity: 0.8;\n        color: #fff;\n      }\n\n      &.active .icon-content {\n        opacity: 1;\n      }\n      &:hover .icon-content {\n        opacity: 1;\n      }\n    }\n    .volume {\n      height: 100%;\n      position: relative;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n\n      &:hover {\n        .volume-bar-wrap .volume-bar {\n          width: 45px;\n        }\n        .volume-bar-wrap .volume-bar .volume-bar-inner .thumb {\n          transform: scale(1);\n        }\n      }\n      &.volume-active {\n        .volume-bar-wrap .volume-bar {\n          width: 45px;\n        }\n        .volume-bar-wrap .volume-bar .volume-bar-inner .thumb {\n          transform: scale(1);\n        }\n      }\n    }\n    .volume-bar-wrap {\n      display: inline-block;\n      margin: 0 15px 0 -5px;\n      vertical-align: middle;\n      height: 100%;\n    }\n    .volume-bar {\n      position: relative;\n      top: 17px;\n      width: 0;\n      height: 3px;\n      background: #aaa;\n      transition: all 0.3s ease-in-out;\n\n      .volume-bar-inner {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 100%;\n        transition: all 0.1s ease;\n        will-change: width;\n        background-color: #fff;\n\n        .thumb {\n          position: absolute;\n          top: 0;\n          right: 5px;\n          margin-top: -4px;\n          margin-right: -10px;\n          height: 11px;\n          width: 11px;\n          border-radius: 50%;\n          cursor: pointer;\n          transition: all 0.3s ease-in-out;\n          transform: scale(0);\n          background-color: #fff;\n        }\n      }\n    }\n  }\n\n  .time {\n    height: 38px;\n    position: absolute;\n    right: 20px;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    line-height: 38px;\n    color: #eee;\n    text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    vertical-align: middle;\n    font-size: 13px;\n    cursor: default;\n\n    .ptime {\n      margin-right: 2px;\n    }\n    .dtime {\n      margin-left: 2px;\n    }\n  }\n}\n</style>","import script from \"./AudioPlayer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AudioPlayer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AudioPlayer.vue?vue&type=style&index=0&id=44037f56&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-44037f56\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, unref as _unref, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    selectElement: { type: Function },\n    contextmenus: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale, handleElementId } = storeToRefs(useMainStore())\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / canvasScale.value\n  const audioHeight = 50 / canvasScale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-audio\", { 'lock': _ctx.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[2] || (_cache[2] = $event => handleSelectElement($event))\n      }, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: _ctx.elementInfo.color,\n          })\n        }, null, 8, [\"style\"]),\n        (_unref(handleElementId) === _ctx.elementInfo.id)\n          ? (_openBlock(), _createBlock(AudioPlayer, {\n              key: 0,\n              class: \"audio-player\",\n              style: _normalizeStyle({ ...audioPlayerPosition.value }),\n              src: _ctx.elementInfo.src,\n              loop: _ctx.elementInfo.loop,\n              scale: _unref(canvasScale),\n              onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n            }, null, 8, [\"style\", \"src\", \"loop\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ], 32)), [\n        [_directive_contextmenu, _ctx.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","<template>\n  <div class=\"editable-element-audio\"\n    :class=\"{ 'lock': elementInfo.lock }\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\" \n        v-contextmenu=\"contextmenus\" \n        @mousedown=\"$event => handleSelectElement($event)\"\n        @touchstart=\"$event => handleSelectElement($event)\"\n      >\n        <IconVolumeNotice \n          class=\"audio-icon\" \n          :style=\"{\n            fontSize: audioIconSize,\n            color: elementInfo.color,\n          }\"\n        />\n        <AudioPlayer\n          class=\"audio-player\"\n          v-if=\"handleElementId === elementInfo.id\"\n          :style=\"{ ...audioPlayerPosition }\"\n          :src=\"elementInfo.src\" \n          :loop=\"elementInfo.loop\"\n          :scale=\"canvasScale\"\n          @mousedown.stop=\"\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTAudioElement\n  selectElement: (e: MouseEvent | TouchEvent, element: PPTAudioElement, canMove?: boolean) => void\n  contextmenus: () => ContextmenuItem[] | null\n}>()\n\nconst { canvasScale, handleElementId } = storeToRefs(useMainStore())\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / canvasScale.value\n  const audioHeight = 50 / canvasScale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-element-audio {\n  position: absolute;\n\n  &.lock .audio-icon {\n    cursor: default;\n  }\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.audio-icon {\n  cursor: move;\n}\n.audio-player {\n  position: absolute;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=53bdc956&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53bdc956\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\n\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport useLockElement from '@/hooks/useLockElement'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\n\nimport { ElementOrderCommands, ElementAlignCommands } from '@/types/edit'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableElement',\n  props: {\n    elementInfo: {},\n    elementIndex: {},\n    isMultiSelect: { type: Boolean },\n    selectElement: { type: Function },\n    openLinkDialog: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { combineElements, uncombineElements } = useCombineElement()\nconst { deleteElement } = useDeleteElement()\nconst { lockElement, unlockElement } = useLockElement()\nconst { copyElement, pasteElement, cutElement } = useCopyAndPasteElement()\nconst { selectAllElement } = useSelectAllElement()\n\nconst contextmenus = (): ContextmenuItem[] => {\n  if (props.elementInfo.lock) {\n    return [\n      {\n        text: 'unlock',\n        handler: () => unlockElement(props.elementInfo),\n      },\n    ]\n  }\n\n  return [\n    {\n      text: 'Cut',\n      subText: 'Ctrl + X',\n      handler: cutElement,\n    },\n    {\n      text: 'Copy',\n      subText: 'Ctrl + C',\n      handler: copyElement,\n    },\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    { divider: true },\n    {\n      text: 'Horizontal center',\n      handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL),\n      children: [\n        {\n          text: 'Horizontal and vertical centering',\n          handler: () => alignElementToCanvas(ElementAlignCommands.CENTER),\n        },\n        {\n          text: 'Horizontally centered',\n          handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL),\n        },\n        {\n          text: 'Left-aligned',\n          handler: () => alignElementToCanvas(ElementAlignCommands.LEFT),\n        },\n        {\n          text: 'right-aligned',\n          handler: () => alignElementToCanvas(ElementAlignCommands.RIGHT),\n        },\n      ],\n    },\n    {\n      text: 'vertically centered',\n      handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL),\n      children: [\n        {\n          text: 'Horizontal and vertical centering',\n          handler: () => alignElementToCanvas(ElementAlignCommands.CENTER),\n        },\n        {\n          text: 'Vertically centered',\n          handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL),\n        },\n        {\n          text: 'Align top',\n          handler: () => alignElementToCanvas(ElementAlignCommands.TOP),\n        },\n        {\n          text: 'Align bottom',\n          handler: () => alignElementToCanvas(ElementAlignCommands.BOTTOM),\n        },\n      ],\n    },\n    { divider: true },\n    {\n      text: 'Send to top',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () => orderElement(props.elementInfo, ElementOrderCommands.TOP),\n      children: [\n        {\n          text: 'Put on top',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.TOP),\n        },\n        {\n          text: 'Move one level up',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.UP),\n        },\n      ],\n    },\n    {\n      text: 'Put to bottom',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () =>\n        orderElement(props.elementInfo, ElementOrderCommands.BOTTOM),\n      children: [\n        {\n          text: 'Put to bottom',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.BOTTOM),\n        },\n        {\n          text: 'Move one level down',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.DOWN),\n        },\n      ],\n    },\n    { divider: true },\n    {\n      text: 'Set link',\n      handler: props.openLinkDialog,\n    },\n    {\n      text: props.elementInfo.groupId ? 'Ungroup' : 'Group',\n      subText: 'Ctrl + G',\n      handler: props.elementInfo.groupId ? uncombineElements : combineElements,\n      hide: !props.isMultiSelect,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: 'Lock',\n      subText: 'Ctrl + L',\n      handler: lockElement,\n    },\n    {\n      text: 'delete',\n      subText: 'Delete',\n      handler: deleteElement,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"editable-element\",\n    ref: \"elementRef\",\n    id: `editable-element-${_ctx.elementInfo.id}`,\n    style: _normalizeStyle({\n      zIndex: _ctx.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: _ctx.elementInfo,\n      selectElement: _ctx.selectElement,\n      contextmenus: contextmenus\n    }, null, 8, [\"elementInfo\", \"selectElement\"]))\n  ], 12, _hoisted_1))\n}\n}\n\n})","<template>\n  <div\n    class=\"editable-element\"\n    ref=\"elementRef\"\n    :id=\"`editable-element-${elementInfo.id}`\"\n    :style=\"{\n      zIndex: elementIndex,\n    }\"\n  >\n    <component\n      :is=\"currentElementComponent\"\n      :elementInfo=\"elementInfo\"\n      :selectElement=\"selectElement\"\n      :contextmenus=\"contextmenus\"\n    ></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport useLockElement from '@/hooks/useLockElement'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\n\nimport { ElementOrderCommands, ElementAlignCommands } from '@/types/edit'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  elementIndex: number\n  isMultiSelect: boolean\n  selectElement: (\n    e: MouseEvent | TouchEvent,\n    element: PPTElement,\n    canMove?: boolean\n  ) => void\n  openLinkDialog: () => void\n}>()\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { combineElements, uncombineElements } = useCombineElement()\nconst { deleteElement } = useDeleteElement()\nconst { lockElement, unlockElement } = useLockElement()\nconst { copyElement, pasteElement, cutElement } = useCopyAndPasteElement()\nconst { selectAllElement } = useSelectAllElement()\n\nconst contextmenus = (): ContextmenuItem[] => {\n  if (props.elementInfo.lock) {\n    return [\n      {\n        text: 'unlock',\n        handler: () => unlockElement(props.elementInfo),\n      },\n    ]\n  }\n\n  return [\n    {\n      text: 'Cut',\n      subText: 'Ctrl + X',\n      handler: cutElement,\n    },\n    {\n      text: 'Copy',\n      subText: 'Ctrl + C',\n      handler: copyElement,\n    },\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    { divider: true },\n    {\n      text: 'Horizontal center',\n      handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL),\n      children: [\n        {\n          text: 'Horizontal and vertical centering',\n          handler: () => alignElementToCanvas(ElementAlignCommands.CENTER),\n        },\n        {\n          text: 'Horizontally centered',\n          handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL),\n        },\n        {\n          text: 'Left-aligned',\n          handler: () => alignElementToCanvas(ElementAlignCommands.LEFT),\n        },\n        {\n          text: 'right-aligned',\n          handler: () => alignElementToCanvas(ElementAlignCommands.RIGHT),\n        },\n      ],\n    },\n    {\n      text: 'vertically centered',\n      handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL),\n      children: [\n        {\n          text: 'Horizontal and vertical centering',\n          handler: () => alignElementToCanvas(ElementAlignCommands.CENTER),\n        },\n        {\n          text: 'Vertically centered',\n          handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL),\n        },\n        {\n          text: 'Align top',\n          handler: () => alignElementToCanvas(ElementAlignCommands.TOP),\n        },\n        {\n          text: 'Align bottom',\n          handler: () => alignElementToCanvas(ElementAlignCommands.BOTTOM),\n        },\n      ],\n    },\n    { divider: true },\n    {\n      text: 'Send to top',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () => orderElement(props.elementInfo, ElementOrderCommands.TOP),\n      children: [\n        {\n          text: 'Put on top',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.TOP),\n        },\n        {\n          text: 'Move one level up',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.UP),\n        },\n      ],\n    },\n    {\n      text: 'Put to bottom',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () =>\n        orderElement(props.elementInfo, ElementOrderCommands.BOTTOM),\n      children: [\n        {\n          text: 'Put to bottom',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.BOTTOM),\n        },\n        {\n          text: 'Move one level down',\n          handler: () =>\n            orderElement(props.elementInfo, ElementOrderCommands.DOWN),\n        },\n      ],\n    },\n    { divider: true },\n    {\n      text: 'Set link',\n      handler: props.openLinkDialog,\n    },\n    {\n      text: props.elementInfo.groupId ? 'Ungroup' : 'Group',\n      subText: 'Ctrl + G',\n      handler: props.elementInfo.groupId ? uncombineElements : combineElements,\n      hide: !props.isMultiSelect,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: 'Lock',\n      subText: 'Ctrl + L',\n      handler: lockElement,\n    },\n    {\n      text: 'delete',\n      subText: 'Delete',\n      handler: deleteElement,\n    },\n  ]\n}\n</script>\n","import script from \"./EditableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MouseSelection',\n  props: {\n    top: {},\n    left: {},\n    width: {},\n    height: {},\n    quadrant: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(`mouse-selection quadrant-${_ctx.quadrant}`),\n    style: _normalizeStyle({\n      top: _ctx.top + 'px',\n      left: _ctx.left + 'px',\n      width: _ctx.width + 'px',\n      height: _ctx.height + 'px',\n    })\n  }, null, 6))\n}\n}\n\n})","import script from \"./MouseSelection.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MouseSelection.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MouseSelection.vue?vue&type=style&index=0&id=2c5e1d42&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c5e1d42\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-05484a24\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"grid-lines\" }\nconst _hoisted_2 = [\"d\", \"stroke\"]\n\nimport { computed } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport type { SlideBackground } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GridLines',\n  setup(__props) {\n\nconst { canvasScale, gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\n// \nconst gridColor = computed(() => {\n  const bgColor = background.value?.color || '#fff'\n  const colorList = ['#000', '#fff']\n  return tinycolor.mostReadable(bgColor, colorList, { includeFallbackColors: true }).setAlpha(.5).toRgbString()\n})\n\n// \nconst path = computed(() => {\n  const maxX = VIEWPORT_SIZE\n  const maxY = VIEWPORT_SIZE * viewportRatio.value\n\n  let p = ''\n  for (let i = 0; i <= Math.floor(maxY / gridLineSize.value); i++) {\n    p += `M0 ${i * gridLineSize.value} L${maxX} ${i * gridLineSize.value} `\n  }\n  for (let i = 0; i <= Math.floor(maxX / gridLineSize.value); i++) {\n    p += `M${i * gridLineSize.value} 0 L${i * gridLineSize.value} ${maxY} `\n  }\n  return p\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n    _createElementVNode(\"path\", {\n      style: _normalizeStyle({\n        transform: `scale(${_unref(canvasScale)})`,\n      }),\n      d: path.value,\n      fill: \"none\",\n      stroke: gridColor.value,\n      \"stroke-width\": \"0.3\",\n      \"stroke-dasharray\": \"5\"\n    }, null, 12, _hoisted_2)\n  ]))\n}\n}\n\n})","<template>\n  <svg class=\"grid-lines\">\n    <path \n      :style=\"{\n        transform: `scale(${canvasScale})`,\n      }\" \n      :d=\"path\" \n      fill=\"none\" \n      :stroke=\"gridColor\" \n      stroke-width=\"0.3\" \n      stroke-dasharray=\"5\"\n    ></path>\n  </svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport type { SlideBackground } from '@/types/slides'\n\nconst { canvasScale, gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\n// \nconst gridColor = computed(() => {\n  const bgColor = background.value?.color || '#fff'\n  const colorList = ['#000', '#fff']\n  return tinycolor.mostReadable(bgColor, colorList, { includeFallbackColors: true }).setAlpha(.5).toRgbString()\n})\n\n// \nconst path = computed(() => {\n  const maxX = VIEWPORT_SIZE\n  const maxY = VIEWPORT_SIZE * viewportRatio.value\n\n  let p = ''\n  for (let i = 0; i <= Math.floor(maxY / gridLineSize.value); i++) {\n    p += `M0 ${i * gridLineSize.value} L${maxX} ${i * gridLineSize.value} `\n  }\n  for (let i = 0; i <= Math.floor(maxX / gridLineSize.value); i++) {\n    p += `M${i * gridLineSize.value} 0 L${i * gridLineSize.value} ${maxY} `\n  }\n  return p\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.grid-lines {\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n  z-index: 999;\n  pointer-events: none;\n\n  @include absolute-0();\n}\n</style>","import script from \"./GridLines.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GridLines.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GridLines.vue?vue&type=style&index=0&id=05484a24&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-05484a24\"]])\n\nexport default __exports__","import { type Ref, computed } from 'vue'\nimport type { SlideBackground } from '@/types/slides'\n\n// css\nexport default (background: Ref<SlideBackground | undefined>) => {\n  const backgroundStyle = computed(() => {\n    if (!background.value) return { backgroundColor: '#fff' }\n\n    const {\n      type,\n      color,\n      image,\n      imageSize,\n      gradientColor,\n      gradientRotate,\n      gradientType,\n    } = background.value\n\n    // \n    if (type === 'solid') return { backgroundColor: color }\n\n    // \n    // \n    else if (type === 'image') {\n      if (!image) return { backgroundColor: '#fff' }\n      if (imageSize === 'repeat') {\n        return {\n          backgroundImage: `url(${image}`,\n          backgroundRepeat: 'repeat',\n          backgroundSize: 'contain',\n        }\n      }\n      return {\n        backgroundImage: `url(${image}`,\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: imageSize || 'cover',\n      }\n    }\n\n    // \n    else if (type === 'gradient') {\n      const rotate = gradientRotate || 0\n      const color1 = gradientColor ? gradientColor[0] : '#fff'\n      const color2 = gradientColor ? gradientColor[1] : '#fff'\n      \n      if (gradientType === 'radial') return { backgroundImage: `radial-gradient(${color1}, ${color2}` }\n      return { backgroundImage: `linear-gradient(${rotate}deg, ${color1}, ${color2}` }\n    }\n\n    return { backgroundColor: '#fff' }\n  })\n\n  return {\n    backgroundStyle,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { SlideBackground } from '@/types/slides'\nimport GridLines from './GridLines.vue'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ViewportBackground',\n  setup(__props) {\n\nconst { gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"viewport-background\",\n    style: _normalizeStyle(_unref(backgroundStyle))\n  }, [\n    (_unref(gridLineSize))\n      ? (_openBlock(), _createBlock(GridLines, { key: 0 }))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"viewport-background\"\n    :style=\"backgroundStyle\"\n  >\n    <GridLines v-if=\"gridLineSize\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { SlideBackground } from '@/types/slides'\nimport GridLines from './GridLines.vue'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nconst { gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n</script>\n\n<style lang=\"scss\" scoped>\n.viewport-background {\n  width: 100%;\n  height: 100%;\n  background-position: center;\n  position: absolute;\n}\n</style>\n","import script from \"./ViewportBackground.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ViewportBackground.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ViewportBackground.vue?vue&type=style&index=0&id=b6b18502&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b6b18502\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport type { AlignmentLineAxis } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AlignmentLine',\n  props: {\n    type: {},\n    axis: {},\n    length: {},\n    canvasScale: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\n// \nconst left = computed(() => props.axis.x * props.canvasScale + 'px')\nconst top = computed(() => props.axis.y * props.canvasScale + 'px')\n\n// \nconst sizeStyle = computed(() => {\n  if (props.type === 'vertical') return { height: props.length * props.canvasScale + 'px' }\n  return { width: props.length * props.canvasScale + 'px' }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"alignment-line\",\n    style: _normalizeStyle({ left: left.value, top: top.value })\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['line', _ctx.type]),\n      style: _normalizeStyle(sizeStyle.value)\n    }, null, 6)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"alignment-line\" :style=\"{ left, top }\">\n    <div :class=\"['line', type]\" :style=\"sizeStyle\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { AlignmentLineAxis } from '@/types/edit'\n\nconst props = defineProps<{\n  type: 'vertical' | 'horizontal'\n  axis: AlignmentLineAxis\n  length: number\n  canvasScale: number\n}>()\n\n// \nconst left = computed(() => props.axis.x * props.canvasScale + 'px')\nconst top = computed(() => props.axis.y * props.canvasScale + 'px')\n\n// \nconst sizeStyle = computed(() => {\n  if (props.type === 'vertical') return { height: props.length * props.canvasScale + 'px' }\n  return { width: props.length * props.canvasScale + 'px' }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.alignment-line {\n  position: absolute;\n  z-index: 100;\n\n  .line {\n    width: 0;\n    height: 0;\n    border: 0 dashed $themeColor;\n\n    &.vertical {\n      transform: translateY(-0.5px);\n      border-left-width: 1px;\n    }\n    &.horizontal {\n      transform: translateX(-0.5px);\n      border-top-width: 1px;\n    }\n  }\n}\n</style>","import script from \"./AlignmentLine.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AlignmentLine.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AlignmentLine.vue?vue&type=style&index=0&id=ed6fc00a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed6fc00a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2963c74c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ruler\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\ninterface ViewportStyles {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Ruler',\n  props: {\n    viewportStyles: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst markerSize = computed(() => {\n  return props.viewportStyles.width * canvasScale.value / 10\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h\",\n      style: _normalizeStyle({\n        width: _ctx.viewportStyles.width * _unref(canvasScale) + 'px',\n        left: _ctx.viewportStyles.left + 'px',\n      })\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, (marker) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"ruler-marker-100\", { 'hide': markerSize.value < 36, 'omit': markerSize.value < 72 }]),\n          key: `marker-100-${marker}`\n        }, [\n          _createElementVNode(\"span\", null, _toDisplayString(marker), 1)\n        ], 2)\n      }), 64))\n    ], 4),\n    _createElementVNode(\"div\", {\n      class: \"v\",\n      style: _normalizeStyle({\n        height: _ctx.viewportStyles.height * _unref(canvasScale) + 'px',\n        top: _ctx.viewportStyles.top + 'px',\n      })\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, (marker) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"ruler-marker-100\", { 'hide': markerSize.value < 36, 'omit': markerSize.value < 72 }]),\n          key: marker,\n          style: _normalizeStyle({ height: markerSize.value + 'px' })\n        }, [\n          _createElementVNode(\"span\", null, _toDisplayString(marker), 1)\n        ], 6)\n      }), 64))\n    ], 4)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"ruler\">\n    <div \n      class=\"h\"\n      :style=\"{\n        width: viewportStyles.width * canvasScale + 'px',\n        left: viewportStyles.left + 'px',\n      }\"\n    >\n      <div \n        class=\"ruler-marker-100\" \n        :class=\"{ 'hide': markerSize < 36, 'omit': markerSize < 72 }\"\n        v-for=\"marker in 20\" \n        :key=\"`marker-100-${marker}`\"\n      >\n        <span>{{marker}}</span>\n      </div>\n    </div>\n    <div \n      class=\"v\"\n      :style=\"{\n        height: viewportStyles.height * canvasScale + 'px',\n        top: viewportStyles.top + 'px',\n      }\"\n    >\n      <div \n        class=\"ruler-marker-100\" \n        :class=\"{ 'hide': markerSize < 36, 'omit': markerSize < 72 }\"\n        v-for=\"marker in 20\" \n        :key=\"marker\" \n        :style=\"{ height: markerSize + 'px' }\"\n      >\n        <span>{{marker}}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\ninterface ViewportStyles {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\nconst props = defineProps<{\n  viewportStyles: ViewportStyles\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst markerSize = computed(() => {\n  return props.viewportStyles.width * canvasScale.value / 10\n})\n</script>\n\n\n<style lang=\"scss\" scoped>\n.ruler {\n  font-size: 12px;\n}\n.h {\n  position: absolute;\n  background-color: #fff;\n  border: 1px solid $borderColor;\n  height: 20px;\n  top: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n\n  .ruler-marker-100 {\n    height: 100%;\n    width: 10%;\n    line-height: 20px;\n    text-align: right;\n    flex-shrink: 0;\n    padding-right: 5px;\n    position: relative;\n\n    &.hide span {\n      display: none;\n    }\n    &.omit::before {\n      display: none;\n    }\n\n    &:not(:last-child)::after {\n      content: '';\n      width: .1px;\n      height: 12px;\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      background-color: #999;\n    }\n    &::before {\n      content: '';\n      width: .1px;\n      height: 8px;\n      position: absolute;\n      right: 50%;\n      bottom: 0;\n      background-color: #999;\n    }\n  }\n}\n.v {\n  position: absolute;\n  background-color: #fff;\n  border: 1px solid $borderColor;\n  width: 20px;\n  left: 5px;\n  overflow: hidden;\n\n  .ruler-marker-100 {\n    width: 100%;\n    line-height: 20px;\n    text-align: right;\n    padding-bottom: 5px;\n    position: relative;\n    writing-mode: vertical-rl;\n\n    &.hide span {\n      display: none;\n    }\n    &.omit::before {\n      display: none;\n    }\n\n    &:not(:last-child)::after {\n      content: '';\n      height: .1px;\n      width: 12px;\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      background-color: #999;\n    }\n    &::before {\n      content: '';\n      height: .1px;\n      width: 8px;\n      position: absolute;\n      bottom: 50%;\n      right: 0;\n      background-color: #999;\n    }\n  }\n}\n</style>","import script from \"./Ruler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Ruler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Ruler.vue?vue&type=style&index=0&id=2963c74c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2963c74c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-85b0bbaa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\"]\n\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport type { CreateElementSelectionData } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementCreateSelection',\n  emits: [\"created\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst mainStore = useMainStore()\nconst { creatingElement } = storeToRefs(mainStore)\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst start = ref<[number, number]>()\nconst end = ref<[number, number]>()\n\nconst selectionRef = ref<HTMLElement>()\nconst offset = ref({\n  x: 0,\n  y: 0,\n})\nonMounted(() => {\n  if (!selectionRef.value) return\n  const { x, y } = selectionRef.value.getBoundingClientRect()\n  offset.value = { x, y }\n})\n\n// \n// \nconst createSelection = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  start.value = [startPageX, startPageY]\n\n  document.onmousemove = e => {\n    if (!creatingElement.value || !isMouseDown) return\n\n    let currentPageX = e.pageX\n    let currentPageY = e.pageY\n\n    // CtrlShift\n    // \n    if (ctrlOrShiftKeyActive.value) {\n      const moveX = currentPageX - startPageX\n      const moveY = currentPageY - startPageY\n\n      // \n      const absX = Math.abs(moveX)\n      const absY = Math.abs(moveY)\n\n      if (creatingElement.value.type === 'shape') {\n\n        // \n        const isOpposite = (moveY > 0 && moveX < 0) || (moveY < 0 && moveX > 0)\n\n        if (absX > absY) {\n          currentPageY = isOpposite ? startPageY - moveX : startPageY + moveX\n        }\n        else {\n          currentPageX = isOpposite ? startPageX - moveY : startPageX + moveY\n        }\n      }\n\n      else if (creatingElement.value.type === 'line') {\n        if (absX > absY) currentPageY = startPageY\n        else currentPageX = startPageX\n      }\n    }\n\n    end.value = [currentPageX, currentPageY]\n  }\n\n  document.onmouseup = e => {\n    document.onmousemove = null\n    document.onmouseup = null\n\n    if (e.button === 2) {\n      setTimeout(() => mainStore.setCreatingElement(null), 0)\n      return\n    }\n\n    isMouseDown = false\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    const minSize = 30\n\n    if (\n      creatingElement.value?.type === 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize || Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else if (\n      creatingElement.value?.type !== 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize && Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else {\n      const defaultSize = 200\n      const minX = Math.min(endPageX, startPageX)\n      const minY = Math.min(endPageY, startPageY)\n      const maxX = Math.max(endPageX, startPageX)\n      const maxY = Math.max(endPageY, startPageY)\n      const offsetX = maxX - minX >= minSize ? maxX - minX : defaultSize\n      const offsetY = maxY - minY >= minSize ? maxY - minY : defaultSize\n      emit('created', {\n        start: [minX, minY],\n        end: [minX + offsetX, minY + offsetY],\n      })\n    }\n  }\n}\n\n// \nconst lineData = computed(() => {\n  if (!start.value || !end.value) return null\n  if (!creatingElement.value || creatingElement.value.type !== 'line') return null\n\n  const [_startX, _startY] = start.value\n  const [_endX, _endY] = end.value\n  const minX = Math.min(_startX, _endX)\n  const maxX = Math.max(_startX, _endX)\n  const minY = Math.min(_startY, _endY)\n  const maxY = Math.max(_startY, _endY)\n\n  const svgWidth = maxX - minX >= 24 ? maxX - minX : 24\n  const svgHeight = maxY - minY >= 24 ? maxY - minY : 24\n\n  const startX = _startX === minX ? 0 : maxX - minX\n  const startY = _startY === minY ? 0 : maxY - minY\n  const endX = _endX === minX ? 0 : maxX - minX\n  const endY = _endY === minY ? 0 : maxY - minY\n\n  const path = `M${startX}, ${startY} L${endX}, ${endY}`\n\n  return {\n    svgWidth,\n    svgHeight,\n    startX,\n    startY,\n    endX,\n    endY,\n    path,\n  }\n})\n\n// \nconst position = computed(() => {\n  if (!start.value || !end.value) return {}\n\n  const [startX, startY] = start.value\n  const [endX, endY] = end.value\n  const minX = Math.min(startX, endX)\n  const maxX = Math.max(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxY = Math.max(startY, endY)\n\n  const width = maxX - minX\n  const height = maxY - minY\n\n  return {\n    left: minX - offset.value.x + 'px',\n    top: minY - offset.value.y + 'px',\n    width: width + 'px',\n    height: height + 'px',\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"element-create-selection\",\n    ref_key: \"selectionRef\",\n    ref: selectionRef,\n    onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => createSelection($event), [\"stop\"])),\n    onContextmenu: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\",\"prevent\"]))\n  }, [\n    (start.value && end.value)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: _normalizeClass(['selection', _unref(creatingElement)?.type]),\n          style: _normalizeStyle(position.value)\n        }, [\n          (_unref(creatingElement)?.type === 'line' && lineData.value)\n            ? (_openBlock(), _createElementBlock(\"svg\", {\n                key: 0,\n                overflow: \"visible\",\n                width: lineData.value.svgWidth,\n                height: lineData.value.svgHeight\n              }, [\n                _createElementVNode(\"path\", {\n                  d: lineData.value.path,\n                  stroke: \"#d14424\",\n                  fill: \"none\",\n                  \"stroke-width\": \"2\"\n                }, null, 8, _hoisted_2)\n              ], 8, _hoisted_1))\n            : _createCommentVNode(\"\", true)\n        ], 6))\n      : _createCommentVNode(\"\", true)\n  ], 544))\n}\n}\n\n})","<template>\n  <div \n    class=\"element-create-selection\"\n    ref=\"selectionRef\"\n    @mousedown.stop=\"$event => createSelection($event)\"\n    @contextmenu.stop.prevent\n  >\n    <div :class=\"['selection', creatingElement?.type]\" v-if=\"start && end\" :style=\"position\">\n\n      <!--  -->\n      <svg\n        v-if=\"creatingElement?.type === 'line' && lineData\"\n        overflow=\"visible\" \n        :width=\"lineData.svgWidth\"\n        :height=\"lineData.svgHeight\"\n      >\n\t\t\t\t<path\n          :d=\"lineData.path\" \n          stroke=\"#d14424\" \n          fill=\"none\" \n          stroke-width=\"2\" \n        ></path>\n\t\t\t</svg>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport type { CreateElementSelectionData } from '@/types/edit'\n\nconst emit = defineEmits<{\n  (event: 'created', payload: CreateElementSelectionData): void\n}>()\n\nconst mainStore = useMainStore()\nconst { creatingElement } = storeToRefs(mainStore)\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst start = ref<[number, number]>()\nconst end = ref<[number, number]>()\n\nconst selectionRef = ref<HTMLElement>()\nconst offset = ref({\n  x: 0,\n  y: 0,\n})\nonMounted(() => {\n  if (!selectionRef.value) return\n  const { x, y } = selectionRef.value.getBoundingClientRect()\n  offset.value = { x, y }\n})\n\n// \n// \nconst createSelection = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  start.value = [startPageX, startPageY]\n\n  document.onmousemove = e => {\n    if (!creatingElement.value || !isMouseDown) return\n\n    let currentPageX = e.pageX\n    let currentPageY = e.pageY\n\n    // CtrlShift\n    // \n    if (ctrlOrShiftKeyActive.value) {\n      const moveX = currentPageX - startPageX\n      const moveY = currentPageY - startPageY\n\n      // \n      const absX = Math.abs(moveX)\n      const absY = Math.abs(moveY)\n\n      if (creatingElement.value.type === 'shape') {\n\n        // \n        const isOpposite = (moveY > 0 && moveX < 0) || (moveY < 0 && moveX > 0)\n\n        if (absX > absY) {\n          currentPageY = isOpposite ? startPageY - moveX : startPageY + moveX\n        }\n        else {\n          currentPageX = isOpposite ? startPageX - moveY : startPageX + moveY\n        }\n      }\n\n      else if (creatingElement.value.type === 'line') {\n        if (absX > absY) currentPageY = startPageY\n        else currentPageX = startPageX\n      }\n    }\n\n    end.value = [currentPageX, currentPageY]\n  }\n\n  document.onmouseup = e => {\n    document.onmousemove = null\n    document.onmouseup = null\n\n    if (e.button === 2) {\n      setTimeout(() => mainStore.setCreatingElement(null), 0)\n      return\n    }\n\n    isMouseDown = false\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    const minSize = 30\n\n    if (\n      creatingElement.value?.type === 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize || Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else if (\n      creatingElement.value?.type !== 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize && Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else {\n      const defaultSize = 200\n      const minX = Math.min(endPageX, startPageX)\n      const minY = Math.min(endPageY, startPageY)\n      const maxX = Math.max(endPageX, startPageX)\n      const maxY = Math.max(endPageY, startPageY)\n      const offsetX = maxX - minX >= minSize ? maxX - minX : defaultSize\n      const offsetY = maxY - minY >= minSize ? maxY - minY : defaultSize\n      emit('created', {\n        start: [minX, minY],\n        end: [minX + offsetX, minY + offsetY],\n      })\n    }\n  }\n}\n\n// \nconst lineData = computed(() => {\n  if (!start.value || !end.value) return null\n  if (!creatingElement.value || creatingElement.value.type !== 'line') return null\n\n  const [_startX, _startY] = start.value\n  const [_endX, _endY] = end.value\n  const minX = Math.min(_startX, _endX)\n  const maxX = Math.max(_startX, _endX)\n  const minY = Math.min(_startY, _endY)\n  const maxY = Math.max(_startY, _endY)\n\n  const svgWidth = maxX - minX >= 24 ? maxX - minX : 24\n  const svgHeight = maxY - minY >= 24 ? maxY - minY : 24\n\n  const startX = _startX === minX ? 0 : maxX - minX\n  const startY = _startY === minY ? 0 : maxY - minY\n  const endX = _endX === minX ? 0 : maxX - minX\n  const endY = _endY === minY ? 0 : maxY - minY\n\n  const path = `M${startX}, ${startY} L${endX}, ${endY}`\n\n  return {\n    svgWidth,\n    svgHeight,\n    startX,\n    startY,\n    endX,\n    endY,\n    path,\n  }\n})\n\n// \nconst position = computed(() => {\n  if (!start.value || !end.value) return {}\n\n  const [startX, startY] = start.value\n  const [endX, endY] = end.value\n  const minX = Math.min(startX, endX)\n  const maxX = Math.max(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxY = Math.max(startY, endY)\n\n  const width = maxX - minX\n  const height = maxY - minY\n\n  return {\n    left: minX - offset.value.x + 'px',\n    top: minY - offset.value.y + 'px',\n    width: width + 'px',\n    height: height + 'px',\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.element-create-selection {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  cursor: crosshair;\n\n  svg {\n    overflow: visible;\n  }\n}\n.selection {\n  position: absolute;\n  opacity: .8;\n\n  &:not(.line) {\n    border: 1px solid $themeColor;\n  }\n}\n</style>","import script from \"./ElementCreateSelection.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementCreateSelection.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementCreateSelection.vue?vue&type=style&index=0&id=85b0bbaa&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85b0bbaa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2b1ccf28\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { overflow: \"visible\" }\nconst _hoisted_2 = [\"d\", \"fill\"]\n\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useKeyboardStore, useMainStore } from '@/store'\nimport type { CreateCustomShapeData } from '@/types/edit'\nimport { KEYS } from '@/configs/hotkey'\nimport message from '@/utils/message'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapeCreateCanvas',\n  emits: [\"created\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\nconst mainStore = useMainStore()\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst shapeCanvasRef = ref<HTMLElement>()\nconst offset = ref({\n  x: 0,\n  y: 0,\n})\nonMounted(() => {\n  if (!shapeCanvasRef.value) return\n  const { x, y } = shapeCanvasRef.value.getBoundingClientRect()\n  offset.value = { x, y }\n})\n\nconst mousePosition = ref<[number, number]>()\nconst points = ref<[number, number][]>([])\nconst closed = ref(false)\n\nconst getPoint = (e: MouseEvent) => {\n  let pageX = e.pageX - offset.value.x\n  let pageY = e.pageY - offset.value.y\n\n  if (ctrlOrShiftKeyActive.value && points.value.length) {\n    const [lastPointX, lastPointY] = points.value[points.value.length - 1]\n    if (Math.abs(lastPointX - pageX) - Math.abs(lastPointY - pageY) > 0) {\n      pageY = lastPointY\n    }\n    else pageX = lastPointX\n  }\n  return { pageX, pageY }\n}\n\nconst updateMousePosition = (e: MouseEvent) => {\n  const { pageX, pageY } = getPoint(e)\n  mousePosition.value = [pageX, pageY]\n\n  if (points.value.length >= 2) {\n    const [firstPointX, firstPointY] = points.value[0]\n    if (Math.abs(firstPointX - pageX) < 5 && Math.abs(firstPointY - pageY) < 5) {\n      closed.value = true\n    }\n    else closed.value = false\n  }\n  else closed.value = false\n}\n\nconst path = computed(() => {\n  let d = ''\n  for (let i = 0; i < points.value.length; i++) {\n    const point = points.value[i]\n    if (i === 0) d += `M ${point[0]} ${point[1]} `\n    else d += `L ${point[0]} ${point[1]} `\n  }\n  if (points.value.length && mousePosition.value) {\n    d += `L ${mousePosition.value[0]} ${mousePosition.value[1]}`\n  }\n  return d\n})\n\nconst addPoint = (e: MouseEvent) => {\n  const { pageX, pageY } = getPoint(e)\n\n  if (closed.value) {\n    const xList = points.value.map(item => item[0])\n    const yList = points.value.map(item => item[1])\n    const minX = Math.min(...xList)\n    const minY = Math.min(...yList)\n    const maxX = Math.max(...xList)\n    const maxY = Math.max(...yList)\n\n    const formatedPoints = points.value.map(point => {\n      return [point[0] - minX, point[1] - minY]\n    })\n    let path = ''\n    for (let i = 0; i < formatedPoints.length; i++) {\n      const point = formatedPoints[i]\n      if (i === 0) path += `M ${point[0]} ${point[1]} `\n      else path += `L ${point[0]} ${point[1]} `\n    }\n    path += 'Z'\n    \n    emit('created', {\n      start: [minX + offset.value.x, minY + offset.value.y],\n      end: [maxX + offset.value.x, maxY + offset.value.y],\n      path,\n      viewBox: [maxX - minX, maxY - minY],\n    })\n  }\n  else points.value.push([pageX, pageY])\n}\n\nconst close = () => {\n  mainStore.setCreatingCustomShapeState(false)\n}\n\nconst keydownListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ESC) close()\n}\nonMounted(() => {\n  message.success('Click to start drawing any polygon, close the beginning and end to complete the drawing, press the ESC key or the right mouse button to close')\n  document.addEventListener('keydown', keydownListener)\n})\nonUnmounted(() => document.removeEventListener('keydown', keydownListener))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"shape-create-canvas\",\n    ref_key: \"shapeCanvasRef\",\n    ref: shapeCanvasRef,\n    onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => addPoint($event), [\"stop\"])),\n    onMousemove: _cache[1] || (_cache[1] = $event => updateMousePosition($event)),\n    onContextmenu: _cache[2] || (_cache[2] = _withModifiers(($event: any) => (close()), [\"stop\",\"prevent\"]))\n  }, [\n    (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n      _createElementVNode(\"path\", {\n        d: path.value,\n        stroke: \"#d14424\",\n        fill: closed.value ? 'rgba(226, 83, 77, 0.15)' : 'none',\n        \"stroke-width\": \"2\"\n      }, null, 8, _hoisted_2)\n    ]))\n  ], 544))\n}\n}\n\n})","<template>\n  <div \n    class=\"shape-create-canvas\"\n    ref=\"shapeCanvasRef\"\n    @mousedown.stop=\"$event => addPoint($event)\"\n    @mousemove=\"$event => updateMousePosition($event)\"\n    @contextmenu.stop.prevent=\"close()\"\n  >\n    <svg overflow=\"visible\">\n\t\t\t<path\n        :d=\"path\" \n        stroke=\"#d14424\" \n        :fill=\"closed ? 'rgba(226, 83, 77, 0.15)' : 'none'\" \n        stroke-width=\"2\" \n      ></path>\n\t\t</svg>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useKeyboardStore, useMainStore } from '@/store'\nimport type { CreateCustomShapeData } from '@/types/edit'\nimport { KEYS } from '@/configs/hotkey'\nimport message from '@/utils/message'\n\nconst emit = defineEmits<{\n  (event: 'created', payload: CreateCustomShapeData): void\n}>()\nconst mainStore = useMainStore()\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst shapeCanvasRef = ref<HTMLElement>()\nconst offset = ref({\n  x: 0,\n  y: 0,\n})\nonMounted(() => {\n  if (!shapeCanvasRef.value) return\n  const { x, y } = shapeCanvasRef.value.getBoundingClientRect()\n  offset.value = { x, y }\n})\n\nconst mousePosition = ref<[number, number]>()\nconst points = ref<[number, number][]>([])\nconst closed = ref(false)\n\nconst getPoint = (e: MouseEvent) => {\n  let pageX = e.pageX - offset.value.x\n  let pageY = e.pageY - offset.value.y\n\n  if (ctrlOrShiftKeyActive.value && points.value.length) {\n    const [lastPointX, lastPointY] = points.value[points.value.length - 1]\n    if (Math.abs(lastPointX - pageX) - Math.abs(lastPointY - pageY) > 0) {\n      pageY = lastPointY\n    }\n    else pageX = lastPointX\n  }\n  return { pageX, pageY }\n}\n\nconst updateMousePosition = (e: MouseEvent) => {\n  const { pageX, pageY } = getPoint(e)\n  mousePosition.value = [pageX, pageY]\n\n  if (points.value.length >= 2) {\n    const [firstPointX, firstPointY] = points.value[0]\n    if (Math.abs(firstPointX - pageX) < 5 && Math.abs(firstPointY - pageY) < 5) {\n      closed.value = true\n    }\n    else closed.value = false\n  }\n  else closed.value = false\n}\n\nconst path = computed(() => {\n  let d = ''\n  for (let i = 0; i < points.value.length; i++) {\n    const point = points.value[i]\n    if (i === 0) d += `M ${point[0]} ${point[1]} `\n    else d += `L ${point[0]} ${point[1]} `\n  }\n  if (points.value.length && mousePosition.value) {\n    d += `L ${mousePosition.value[0]} ${mousePosition.value[1]}`\n  }\n  return d\n})\n\nconst addPoint = (e: MouseEvent) => {\n  const { pageX, pageY } = getPoint(e)\n\n  if (closed.value) {\n    const xList = points.value.map(item => item[0])\n    const yList = points.value.map(item => item[1])\n    const minX = Math.min(...xList)\n    const minY = Math.min(...yList)\n    const maxX = Math.max(...xList)\n    const maxY = Math.max(...yList)\n\n    const formatedPoints = points.value.map(point => {\n      return [point[0] - minX, point[1] - minY]\n    })\n    let path = ''\n    for (let i = 0; i < formatedPoints.length; i++) {\n      const point = formatedPoints[i]\n      if (i === 0) path += `M ${point[0]} ${point[1]} `\n      else path += `L ${point[0]} ${point[1]} `\n    }\n    path += 'Z'\n    \n    emit('created', {\n      start: [minX + offset.value.x, minY + offset.value.y],\n      end: [maxX + offset.value.x, maxY + offset.value.y],\n      path,\n      viewBox: [maxX - minX, maxY - minY],\n    })\n  }\n  else points.value.push([pageX, pageY])\n}\n\nconst close = () => {\n  mainStore.setCreatingCustomShapeState(false)\n}\n\nconst keydownListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ESC) close()\n}\nonMounted(() => {\n  message.success('Click to start drawing any polygon, close the beginning and end to complete the drawing, press the ESC key or the right mouse button to close')\n  document.addEventListener('keydown', keydownListener)\n})\nonUnmounted(() => document.removeEventListener('keydown', keydownListener))\n</script>\n\n<style lang=\"scss\" scoped>\n.shape-create-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  cursor: crosshair;\n\n  svg {\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n  }\n}\n</style>","import script from \"./ShapeCreateCanvas.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeCreateCanvas.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeCreateCanvas.vue?vue&type=style&index=0&id=2b1ccf28&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2b1ccf28\"]])\n\nexport default __exports__","import { computed, type Ref } from 'vue'\nimport { OperateResizeHandlers, OperateBorderLines } from '@/types/edit'\n\nexport default (width: Ref<number>, height: Ref<number>) => {\n  // \n  const resizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.LEFT_TOP, style: {} },\n      { direction: OperateResizeHandlers.TOP, style: {left: width.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT_TOP, style: {left: width.value + 'px'} },\n      { direction: OperateResizeHandlers.LEFT, style: {top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT, style: {left: width.value + 'px', top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.LEFT_BOTTOM, style: {top: height.value + 'px'} },\n      { direction: OperateResizeHandlers.BOTTOM, style: {left: width.value / 2 + 'px', top: height.value + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT_BOTTOM, style: {left: width.value + 'px', top: height.value + 'px'} },\n    ]\n  })\n\n  // \n  const textElementResizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.LEFT, style: {top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT, style: {left: width.value + 'px', top: height.value / 2 + 'px'} },\n    ]\n  })\n  const verticalTextElementResizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.TOP, style: {left: width.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.BOTTOM, style: {left: width.value / 2 + 'px', top: height.value + 'px'} },\n    ]\n  })\n\n  // \n  const borderLines = computed(() => {\n    return [\n      { type: OperateBorderLines.T, style: {width: width.value + 'px'} },\n      { type: OperateBorderLines.B, style: {top: height.value + 'px', width: width.value + 'px'} },\n      { type: OperateBorderLines.L, style: {height: height.value + 'px'} },\n      { type: OperateBorderLines.R, style: {left: width.value + 'px', height: height.value + 'px'} },\n    ]\n  })\n\n  return {\n    resizeHandlers,\n    textElementResizeHandlers,\n    verticalTextElementResizeHandlers,\n    borderLines,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport type { OperateResizeHandlers } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ResizeHandler',\n  props: {\n    type: {},\n    rotate: { default: 0 }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['resize-handler', rotateClassName.value, _ctx.type])\n  }, null, 2))\n}\n}\n\n})","<template>\n  <div :class=\"['resize-handler', rotateClassName, type]\"></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { OperateResizeHandlers } from '@/types/edit'\n\nconst props = withDefaults(defineProps<{\n  type?: OperateResizeHandlers\n  rotate?: number\n}>(), {\n  rotate: 0,\n})\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.resize-handler {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  left: 0;\n  top: 0;\n  margin: -5px 0 0 -5px;\n  border: 1px solid $themeColor;\n  background-color: #fff;\n  border-radius: 1px;\n  cursor: pointer;\n\n  &.left-top.rotate-0,\n  &.right-bottom.rotate-0,\n  &.left.rotate-45,\n  &.right.rotate-45,\n  &.left-bottom.rotate-90,\n  &.right-top.rotate-90,\n  &.top.rotate-135,\n  &.bottom.rotate-135 {\n    cursor: nwse-resize;\n  }\n  &.top.rotate-0,\n  &.bottom.rotate-0,\n  &.left-top.rotate-45,\n  &.right-bottom.rotate-45,\n  &.left.rotate-90,\n  &.right.rotate-90,\n  &.left-bottom.rotate-135,\n  &.right-top.rotate-135 {\n    cursor: ns-resize;\n  }\n  &.left-bottom.rotate-0,\n  &.right-top.rotate-0,\n  &.top.rotate-45,\n  &.bottom.rotate-45,\n  &.left-top.rotate-90,\n  &.right-bottom.rotate-90,\n  &.left.rotate-135,\n  &.right.rotate-135 {\n    cursor: nesw-resize;\n  }\n  &.left.rotate-0,\n  &.right.rotate-0,\n  &.left-bottom.rotate-45,\n  &.right-top.rotate-45,\n  &.top.rotate-90,\n  &.bottom.rotate-90,\n  &.left-top.rotate-135,\n  &.right-bottom.rotate-135 {\n    cursor: ew-resize;\n  }\n}\n</style>","import script from \"./ResizeHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ResizeHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ResizeHandler.vue?vue&type=style&index=0&id=1e66197f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1e66197f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport type { OperateBorderLines } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BorderLine',\n  props: {\n    type: {},\n    isWide: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['border-line', _ctx.type, { 'wide': _ctx.isWide }])\n  }, null, 2))\n}\n}\n\n})","import script from \"./BorderLine.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BorderLine.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BorderLine.vue?vue&type=style&index=0&id=8346cf6c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8346cf6c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { computed, ref, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { getElementListRange } from '@/utils/element'\nimport type { OperateResizeHandlers, MultiSelectRange } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiSelectOperate',\n  props: {\n    elementList: {},\n    scaleMultiElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { activeElementIdList, canvasScale } = storeToRefs(useMainStore())\n\nconst localActiveElementList = computed(() => props.elementList.filter(el => activeElementIdList.value.includes(el.id)))\n\nconst range = ref({\n  minX: 0,\n  maxX: 0,\n  minY: 0,\n  maxY: 0,\n})\n\n// \nconst width = computed(() => (range.value.maxX - range.value.minX) * canvasScale.value)\nconst height = computed(() => (range.value.maxY - range.value.minY) * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(width, height)\n\n// \nconst setRange = () => {\n  const { minX, maxX, minY, maxY } = getElementListRange(localActiveElementList.value)\n  range.value = { minX, maxX, minY, maxY }\n}\nwatchEffect(setRange)\n\n// \nconst disableResize = computed(() => {\n  return localActiveElementList.value.some(item => {\n    if (\n      (item.type === 'image' || item.type === 'shape') && \n      !item.rotate\n    ) return false\n    return true\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"multi-select-operate\",\n    style: _normalizeStyle({\n      left: range.value.minX * _unref(canvasScale) + 'px',\n      top: range.value.minY * _unref(canvasScale) + 'px',\n    })\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (!disableResize.value)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(resizeHandlers), (point) => {\n          return (_openBlock(), _createBlock(ResizeHandler, {\n            key: point.direction,\n            type: point.direction,\n            style: _normalizeStyle(point.style),\n            onMousedown: _withModifiers(($event: any) => (_ctx.scaleMultiElement($event, range.value, point.direction)), [\"stop\"])\n          }, null, 8, [\"type\", \"style\", \"onMousedown\"]))\n        }), 128))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"multi-select-operate\"\n    :style=\"{\n      left: range.minX * canvasScale + 'px',\n      top: range.minY * canvasScale + 'px',\n    }\"\n  >\n    <BorderLine v-for=\"line in borderLines\" :key=\"line.type\" :type=\"line.type\" :style=\"line.style\" />\n\n    <template v-if=\"!disableResize\">\n      <ResizeHandler\n        v-for=\"point in resizeHandlers\"\n        :key=\"point.direction\"\n        :type=\"point.direction\"\n        :style=\"point.style\"\n        @mousedown.stop=\"scaleMultiElement($event, range, point.direction)\"\n      />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { getElementListRange } from '@/utils/element'\nimport type { OperateResizeHandlers, MultiSelectRange } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\nconst props = defineProps<{\n  elementList: PPTElement[]\n  scaleMultiElement: (e: MouseEvent, range: MultiSelectRange, command: OperateResizeHandlers) => void\n}>()\n\nconst { activeElementIdList, canvasScale } = storeToRefs(useMainStore())\n\nconst localActiveElementList = computed(() => props.elementList.filter(el => activeElementIdList.value.includes(el.id)))\n\nconst range = ref({\n  minX: 0,\n  maxX: 0,\n  minY: 0,\n  maxY: 0,\n})\n\n// \nconst width = computed(() => (range.value.maxX - range.value.minX) * canvasScale.value)\nconst height = computed(() => (range.value.maxY - range.value.minY) * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(width, height)\n\n// \nconst setRange = () => {\n  const { minX, maxX, minY, maxY } = getElementListRange(localActiveElementList.value)\n  range.value = { minX, maxX, minY, maxY }\n}\nwatchEffect(setRange)\n\n// \nconst disableResize = computed(() => {\n  return localActiveElementList.value.some(item => {\n    if (\n      (item.type === 'image' || item.type === 'shape') && \n      !item.rotate\n    ) return false\n    return true\n  })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.multi-select-operate {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 101;\n}\n</style>","import script from \"./MultiSelectOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiSelectOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiSelectOperate.vue?vue&type=style&index=0&id=97dc9b9a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-97dc9b9a\"]])\n\nexport default __exports__","<template>\n  <div class=\"rotate-handler\"></div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n.rotate-handler {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  top: -25px;\n  margin-left: -5px;\n  border: 1px solid $themeColor;\n  background-color: #fff;\n  border-radius: 1px;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n</style>","import { render } from \"./RotateHandler.vue?vue&type=template&id=b99d8dae&scoped=true\"\nconst script = {}\n\nimport \"./RotateHandler.vue?vue&type=style&index=0&id=b99d8dae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b99d8dae\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"image-element-operate\" :class=\"{ 'cliping': isCliping }\">\r\n    <BorderLine \r\n      class=\"operate-border-line\"\r\n      v-for=\"line in borderLines\" \r\n      :key=\"line.type\" \r\n      :type=\"line.type\" \r\n      :style=\"line.style\"\r\n    />\r\n    <template v-if=\"handlerVisible\">\r\n      <ResizeHandler\r\n        class=\"operate-resize-handler\" \r\n        v-for=\"point in resizeHandlers\"\r\n        :key=\"point.direction\"\r\n        :type=\"point.direction\"\r\n        :rotate=\"elementInfo.rotate\"\r\n        :style=\"point.style\"\r\n        @mousedown.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\r\n      />\r\n      <RotateHandler\r\n        class=\"operate-rotate-handler\" \r\n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\r\n        @mousedown.stop=\"$event => rotateElement($event, elementInfo)\"\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default {\r\n  inheritAttrs: false,\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport type { PPTImageElement } from '@/types/slides'\r\nimport type { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\nconst props = defineProps<{\r\n  elementInfo: PPTImageElement\r\n  handlerVisible: boolean\r\n  rotateElement: (e: MouseEvent, element: PPTImageElement) => void\r\n  scaleElement: (e: MouseEvent, element: PPTImageElement, command: OperateResizeHandlers) => void\r\n}>()\r\n\r\nconst { canvasScale, clipingImageElementId } = storeToRefs(useMainStore())\r\n\r\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.image-element-operate.cliping {\r\n  visibility: hidden;\r\n}\r\n</style>","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport type { PPTImageElement } from '@/types/slides'\r\nimport type { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\n\r\nconst __default__ = {\r\n  inheritAttrs: false,\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'ImageElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst { canvasScale, clipingImageElementId } = storeToRefs(useMainStore())\r\n\r\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"image-element-operate\", { 'cliping': isCliping.value }])\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","import script from \"./ImageElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageElementOperate.vue?vue&type=style&index=0&id=7bcad5a9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bcad5a9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-element-operate\" }\n\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport type { PPTTextElement } from '@/types/slides'\r\nimport type { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\n\r\nconst __default__ = {\r\n  inheritAttrs: false,\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'TextElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst { canvasScale } = storeToRefs(useMainStore())\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\n\r\nconst { textElementResizeHandlers, verticalTextElementResizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\nconst resizeHandlers = computed(() => props.elementInfo.vertical ? verticalTextElementResizeHandlers.value : textElementResizeHandlers.value)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(resizeHandlers.value, (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"text-element-operate\">\r\n    <BorderLine \r\n      class=\"operate-border-line\"\r\n      v-for=\"line in borderLines\" \r\n      :key=\"line.type\" \r\n      :type=\"line.type\" \r\n      :style=\"line.style\"\r\n    />\r\n    <template v-if=\"handlerVisible\">\r\n      <ResizeHandler\r\n        class=\"operate-resize-handler\" \r\n        v-for=\"point in resizeHandlers\"\r\n        :key=\"point.direction\"\r\n        :type=\"point.direction\"\r\n        :rotate=\"elementInfo.rotate\"\r\n        :style=\"point.style\"\r\n        @mousedown.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\r\n      />\r\n      <RotateHandler\r\n        class=\"operate-rotate-handler\" \r\n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\r\n        @mousedown.stop=\"$event => rotateElement($event, elementInfo)\"\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default {\r\n  inheritAttrs: false,\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport type { PPTTextElement } from '@/types/slides'\r\nimport type { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\nconst props = defineProps<{\r\n  elementInfo: PPTTextElement\r\n  handlerVisible: boolean\r\n  rotateElement: (e: MouseEvent, element: PPTTextElement) => void\r\n  scaleElement: (e: MouseEvent, element: PPTTextElement, command: OperateResizeHandlers) => void\r\n}>()\r\n\r\nconst { canvasScale } = storeToRefs(useMainStore())\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\n\r\nconst { textElementResizeHandlers, verticalTextElementResizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\nconst resizeHandlers = computed(() => props.elementInfo.vertical ? verticalTextElementResizeHandlers.value : textElementResizeHandlers.value)\r\n</script>","import script from \"./TextElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-52dcdbf8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-element-operate\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTShapeElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'ShapeElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function },\n    moveShapeKeypoint: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst keypointStyle = computed(() => {\n  if (!props.elementInfo.pathFormula || props.elementInfo.keypoint === undefined) return {}\n\n  const pathFormula = SHAPE_PATH_FORMULAS[props.elementInfo.pathFormula]\n  if ('editable' in pathFormula) {\n    const keypointPos = pathFormula.getBaseSize(props.elementInfo.width, props.elementInfo.height) * props.elementInfo.keypoint\n    if (pathFormula.relative === 'left') return { left: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'right') return { left: (props.elementInfo.width - keypointPos) * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'center') return { left: (props.elementInfo.width - keypointPos) / 2 * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'top') return { top: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'bottom') return { top: (props.elementInfo.height - keypointPos) * canvasScale.value + 'px' }\n  }\n  return {}\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo), [\"stop\"]))\n          }, null, 8, [\"style\"]),\n          (_ctx.elementInfo.keypoint !== undefined)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"operate-keypoint-handler\",\n                style: _normalizeStyle(keypointStyle.value),\n                onMousedown: _cache[1] || (_cache[1] = _withModifiers($event => _ctx.moveShapeKeypoint($event, _ctx.elementInfo), [\"stop\"]))\n              }, null, 36))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"shape-element-operate\">\n    <BorderLine \n      class=\"operate-border-line\"\n      v-for=\"line in borderLines\" \n      :key=\"line.type\" \n      :type=\"line.type\" \n      :style=\"line.style\"\n    />\n    <template v-if=\"handlerVisible\">\n      <ResizeHandler\n        class=\"operate-resize-handler\" \n        v-for=\"point in resizeHandlers\"\n        :key=\"point.direction\"\n        :type=\"point.direction\"\n        :rotate=\"elementInfo.rotate\"\n        :style=\"point.style\"\n        @mousedown.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\n      />\n      <RotateHandler\n        class=\"operate-rotate-handler\" \n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\n        @mousedown.stop=\"$event => rotateElement($event, elementInfo)\"\n      />\n      <div \n        class=\"operate-keypoint-handler\" \n        v-if=\"elementInfo.keypoint !== undefined\"\n        :style=\"keypointStyle\"\n        @mousedown.stop=\"$event => moveShapeKeypoint($event, elementInfo)\"\n      ></div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTShapeElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTShapeElement\n  handlerVisible: boolean\n  rotateElement: (e: MouseEvent, element: PPTShapeElement) => void\n  scaleElement: (e: MouseEvent, element: PPTShapeElement, command: OperateResizeHandlers) => void\n  moveShapeKeypoint: (e: MouseEvent, element: PPTShapeElement) => void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst keypointStyle = computed(() => {\n  if (!props.elementInfo.pathFormula || props.elementInfo.keypoint === undefined) return {}\n\n  const pathFormula = SHAPE_PATH_FORMULAS[props.elementInfo.pathFormula]\n  if ('editable' in pathFormula) {\n    const keypointPos = pathFormula.getBaseSize(props.elementInfo.width, props.elementInfo.height) * props.elementInfo.keypoint\n    if (pathFormula.relative === 'left') return { left: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'right') return { left: (props.elementInfo.width - keypointPos) * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'center') return { left: (props.elementInfo.width - keypointPos) / 2 * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'top') return { top: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'bottom') return { top: (props.elementInfo.height - keypointPos) * canvasScale.value + 'px' }\n  }\n  return {}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.operate-keypoint-handler {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  left: 0;\n  top: 0;\n  margin: -5px 0 0 -5px;\n  border: 1px solid $themeColor;\n  background-color: #ffe873;\n  border-radius: 1px;\n}\n</style>","import script from \"./ShapeElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeElementOperate.vue?vue&type=style&index=0&id=52dcdbf8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52dcdbf8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createBlock as _createBlock, unref as _unref, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3aa5cc44\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-element-operate\" }\nconst _hoisted_2 = [\"width\", \"height\", \"stroke\"]\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_5 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_6 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_7 = [\"x1\", \"y1\", \"x2\", \"y2\"]\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTLineElement } from '@/types/slides'\nimport { OperateLineHandlers } from '@/types/edit'\n\nimport ResizeHandler from './ResizeHandler.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'LineElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    dragLineElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst svgWidth = computed(() => Math.max(props.elementInfo.start[0], props.elementInfo.end[0]))\nconst svgHeight = computed(() => Math.max(props.elementInfo.start[1], props.elementInfo.end[1]))\n\nconst resizeHandlers = computed(() => {\n  const handlers = [\n    {\n      handler: OperateLineHandlers.START,\n      style: {\n        left: props.elementInfo.start[0] * canvasScale.value + 'px',\n        top: props.elementInfo.start[1] * canvasScale.value + 'px',\n      }\n    },\n    {\n      handler: OperateLineHandlers.END,\n      style: {\n        left: props.elementInfo.end[0] * canvasScale.value + 'px',\n        top: props.elementInfo.end[1] * canvasScale.value + 'px',\n      }\n    },\n  ]\n\n  if (props.elementInfo.curve || props.elementInfo.broken) {\n    const ctrlHandler = (props.elementInfo.curve || props.elementInfo.broken) as [number, number]\n\n    handlers.push({\n      handler: OperateLineHandlers.C,\n      style: {\n        left: ctrlHandler[0] * canvasScale.value + 'px',\n        top: ctrlHandler[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n  else if (props.elementInfo.cubic) {\n    const [ctrlHandler1, ctrlHandler2] = props.elementInfo.cubic\n    handlers.push({\n      handler: OperateLineHandlers.C1,\n      style: {\n        left: ctrlHandler1[0] * canvasScale.value + 'px',\n        top: ctrlHandler1[1] * canvasScale.value + 'px',\n      }\n    })\n    handlers.push({\n      handler: OperateLineHandlers.C2,\n      style: {\n        left: ctrlHandler2[0] * canvasScale.value + 'px',\n        top: ctrlHandler2[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n\n  return handlers\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(resizeHandlers.value, (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.handler,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.dragLineElement($event, _ctx.elementInfo, point.handler), [\"stop\"])\n            }, null, 8, [\"style\", \"onMousedown\"]))\n          }), 128)),\n          (_openBlock(), _createElementBlock(\"svg\", {\n            width: svgWidth.value || 1,\n            height: svgHeight.value || 1,\n            stroke: _ctx.elementInfo.color,\n            overflow: \"visible\",\n            style: _normalizeStyle({ transform: `scale(${_unref(canvasScale)})` })\n          }, [\n            (_ctx.elementInfo.curve)\n              ? (_openBlock(), _createElementBlock(\"g\", _hoisted_3, [\n                  _createElementVNode(\"line\", {\n                    class: \"anchor-line\",\n                    x1: _ctx.elementInfo.start[0],\n                    y1: _ctx.elementInfo.start[1],\n                    x2: _ctx.elementInfo.curve[0],\n                    y2: _ctx.elementInfo.curve[1]\n                  }, null, 8, _hoisted_4),\n                  _createElementVNode(\"line\", {\n                    class: \"anchor-line\",\n                    x1: _ctx.elementInfo.end[0],\n                    y1: _ctx.elementInfo.end[1],\n                    x2: _ctx.elementInfo.curve[0],\n                    y2: _ctx.elementInfo.curve[1]\n                  }, null, 8, _hoisted_5)\n                ]))\n              : _createCommentVNode(\"\", true),\n            (_ctx.elementInfo.cubic)\n              ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.elementInfo.cubic, (item, index) => {\n                  return (_openBlock(), _createElementBlock(\"g\", { key: index }, [\n                    (index === 0)\n                      ? (_openBlock(), _createElementBlock(\"line\", {\n                          key: 0,\n                          class: \"anchor-line\",\n                          x1: _ctx.elementInfo.start[0],\n                          y1: _ctx.elementInfo.start[1],\n                          x2: item[0],\n                          y2: item[1]\n                        }, null, 8, _hoisted_6))\n                      : _createCommentVNode(\"\", true),\n                    (index === 1)\n                      ? (_openBlock(), _createElementBlock(\"line\", {\n                          key: 1,\n                          class: \"anchor-line\",\n                          x1: _ctx.elementInfo.end[0],\n                          y1: _ctx.elementInfo.end[1],\n                          x2: item[0],\n                          y2: item[1]\n                        }, null, 8, _hoisted_7))\n                      : _createCommentVNode(\"\", true)\n                  ]))\n                }), 128))\n              : _createCommentVNode(\"\", true)\n          ], 12, _hoisted_2))\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"line-element-operate\">\n    <template v-if=\"handlerVisible\">\n      <ResizeHandler\n        class=\"operate-resize-handler\" \n        v-for=\"point in resizeHandlers\"\n        :key=\"point.handler\"\n        :style=\"point.style\"\n        @mousedown.stop=\"$event => dragLineElement($event, elementInfo, point.handler)\"\n      />\n\n      <svg \n        :width=\"svgWidth || 1\" \n        :height=\"svgHeight || 1\" \n        :stroke=\"elementInfo.color\"\n        overflow=\"visible\" \n        :style=\"{ transform: `scale(${canvasScale})` }\"\n      >\n        <template v-if=\"elementInfo.curve\">\n          <g>\n            <line class=\"anchor-line\" :x1=\"elementInfo.start[0]\" :y1=\"elementInfo.start[1]\" :x2=\"elementInfo.curve[0]\" :y2=\"elementInfo.curve[1]\"></line>\n            <line class=\"anchor-line\" :x1=\"elementInfo.end[0]\" :y1=\"elementInfo.end[1]\" :x2=\"elementInfo.curve[0]\" :y2=\"elementInfo.curve[1]\"></line>\n          </g>\n        </template>\n        <template v-if=\"elementInfo.cubic\">\n          <g v-for=\"(item, index) in elementInfo.cubic\" :key=\"index\">\n            <line class=\"anchor-line\" v-if=\"index === 0\" :x1=\"elementInfo.start[0]\" :y1=\"elementInfo.start[1]\" :x2=\"item[0]\" :y2=\"item[1]\"></line>\n            <line class=\"anchor-line\" v-if=\"index === 1\" :x1=\"elementInfo.end[0]\" :y1=\"elementInfo.end[1]\" :x2=\"item[0]\" :y2=\"item[1]\"></line>\n          </g>\n        </template>\n      </svg>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTLineElement } from '@/types/slides'\nimport { OperateLineHandlers } from '@/types/edit'\n\nimport ResizeHandler from './ResizeHandler.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTLineElement\n  handlerVisible: boolean\n  dragLineElement: (e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst svgWidth = computed(() => Math.max(props.elementInfo.start[0], props.elementInfo.end[0]))\nconst svgHeight = computed(() => Math.max(props.elementInfo.start[1], props.elementInfo.end[1]))\n\nconst resizeHandlers = computed(() => {\n  const handlers = [\n    {\n      handler: OperateLineHandlers.START,\n      style: {\n        left: props.elementInfo.start[0] * canvasScale.value + 'px',\n        top: props.elementInfo.start[1] * canvasScale.value + 'px',\n      }\n    },\n    {\n      handler: OperateLineHandlers.END,\n      style: {\n        left: props.elementInfo.end[0] * canvasScale.value + 'px',\n        top: props.elementInfo.end[1] * canvasScale.value + 'px',\n      }\n    },\n  ]\n\n  if (props.elementInfo.curve || props.elementInfo.broken) {\n    const ctrlHandler = (props.elementInfo.curve || props.elementInfo.broken) as [number, number]\n\n    handlers.push({\n      handler: OperateLineHandlers.C,\n      style: {\n        left: ctrlHandler[0] * canvasScale.value + 'px',\n        top: ctrlHandler[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n  else if (props.elementInfo.cubic) {\n    const [ctrlHandler1, ctrlHandler2] = props.elementInfo.cubic\n    handlers.push({\n      handler: OperateLineHandlers.C1,\n      style: {\n        left: ctrlHandler1[0] * canvasScale.value + 'px',\n        top: ctrlHandler1[1] * canvasScale.value + 'px',\n      }\n    })\n    handlers.push({\n      handler: OperateLineHandlers.C2,\n      style: {\n        left: ctrlHandler2[0] * canvasScale.value + 'px',\n        top: ctrlHandler2[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n\n  return handlers\n})\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  transform-origin: 0 0;\n}\n.anchor-line {\n  stroke-width: 1px;\n  stroke-dasharray: 5 5;\n  opacity: .5;\n}\n</style>","import script from \"./LineElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LineElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LineElementOperate.vue?vue&type=style&index=0&id=3aa5cc44&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3aa5cc44\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-element-operate\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTTableElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'TableElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst outlineWidth = computed(() => props.elementInfo.outline.width || 1)\n\nconst scaleWidth = computed(() => (props.elementInfo.width + outlineWidth.value) * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\n\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"table-element-operate\">\n    <BorderLine \n      class=\"operate-border-line\"\n      v-for=\"line in borderLines\" \n      :key=\"line.type\" \n      :type=\"line.type\" \n      :style=\"line.style\"\n    />\n    <template v-if=\"handlerVisible\">\n      <ResizeHandler\n        class=\"operate-resize-handler\" \n        v-for=\"point in resizeHandlers\"\n        :key=\"point.direction\"\n        :type=\"point.direction\"\n        :rotate=\"elementInfo.rotate\"\n        :style=\"point.style\"\n        @mousedown.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\n      />\n      <RotateHandler\n        class=\"operate-rotate-handler\" \n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\n        @mousedown.stop=\"$event => rotateElement($event, elementInfo)\"\n      />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTTableElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTTableElement\n  handlerVisible: boolean\n  rotateElement: (e: MouseEvent, element: PPTTableElement) => void\n  scaleElement: (e: MouseEvent, element: PPTTableElement, command: OperateResizeHandlers) => void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst outlineWidth = computed(() => props.elementInfo.outline.width || 1)\n\nconst scaleWidth = computed(() => (props.elementInfo.width + outlineWidth.value) * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\n\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n</script>","import script from \"./TableElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"common-element-operate\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTVideoElement, PPTLatexElement, PPTAudioElement, PPTChartElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\ntype PPTElement = PPTVideoElement | PPTLatexElement | PPTAudioElement | PPTChartElement\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'CommonElementOperate',\n  props: {\n    elementInfo: {},\n    handlerVisible: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst cannotRotate = computed(() => ['chart', 'video', 'audio'].includes(props.elementInfo.type))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (_ctx.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          (!cannotRotate.value)\n            ? (_openBlock(), _createBlock(RotateHandler, {\n                key: 0,\n                class: \"operate-rotate-handler\",\n                style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n                onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo), [\"stop\"]))\n              }, null, 8, [\"style\"]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"common-element-operate\">\n    <BorderLine \n      class=\"operate-border-line\"\n      v-for=\"line in borderLines\" \n      :key=\"line.type\" \n      :type=\"line.type\" \n      :style=\"line.style\"\n    />\n    <template v-if=\"handlerVisible\">\n      <ResizeHandler\n        class=\"operate-resize-handler\" \n        v-for=\"point in resizeHandlers\"\n        :key=\"point.direction\"\n        :type=\"point.direction\"\n        :rotate=\"elementInfo.rotate\"\n        :style=\"point.style\"\n        @mousedown.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\n      />\n      <RotateHandler\n        class=\"operate-rotate-handler\" \n        v-if=\"!cannotRotate\"\n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\n        @mousedown.stop=\"$event => rotateElement($event, elementInfo)\"\n      />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTVideoElement, PPTLatexElement, PPTAudioElement, PPTChartElement } from '@/types/slides'\nimport type { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\ntype PPTElement = PPTVideoElement | PPTLatexElement | PPTAudioElement | PPTChartElement\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  handlerVisible: boolean\n  rotateElement: (e: MouseEvent, element: PPTElement) => void\n  scaleElement: (e: MouseEvent, element: PPTElement, command: OperateResizeHandlers) => void\n}>()\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst cannotRotate = computed(() => ['chart', 'video', 'audio'].includes(props.elementInfo.type))\n</script>","import script from \"./CommonElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CommonElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useSlidesStore } from '@/store'\nimport type { PPTElement, PPTElementLink } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport message from '@/utils/message'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const setLink = (handleElement: PPTElement, link: PPTElementLink) => {\n    const linkRegExp = /^(https?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-.,@?^=%&:\\/~+#]*[\\w\\-@?^=%&\\/~+#])?$/\n    if (link.type === 'web' && !linkRegExp.test(link.target)) {\n      message.error('')\n      return false\n    }\n    if (link.type === 'slide' && !link.target) {\n      message.error('')\n      return false\n    }\n    const props = { link }\n    slidesStore.updateElement({ id: handleElement.id, props })\n    addHistorySnapshot()\n\n    return true\n  }\n\n  const removeLink = (handleElement: PPTElement) => {\n    slidesStore.removeElementProps({ id: handleElement.id, propName: 'link' })\n    addHistorySnapshot()\n  }\n\n  return {\n    setLink,\n    removeLink,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Divider',\n  props: {\n    type: { default: 'horizontal' },\n    margin: { default: 0 }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['divider', _ctx.type]),\n    style: _normalizeStyle({\n      margin: _ctx.type === 'horizontal' ? `${_ctx.margin || 24}px 0` : `0 ${_ctx.margin || 8}px`\n    })\n  }, null, 6))\n}\n}\n\n})","import script from \"./Divider.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Divider.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Divider.vue?vue&type=style&index=0&id=6b66cde8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b66cde8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-316c4664\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"href\"]\nconst _hoisted_2 = { class: \"btns\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\nimport Divider from '@/components/Divider.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinkHandler',\n  props: {\n    elementInfo: {},\n    link: {},\n    openLinkDialog: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale } = storeToRefs(mainStore)\nconst { slides } = storeToRefs(slidesStore)\nconst { removeLink } = useLink()\nconst height = computed(() => props.elementInfo.type === 'line' ? 0 : props.elementInfo.height)\n\nconst turnTarget = (slideId: string) => {\n  const targetIndex = slides.value.findIndex(item => item.id === slideId)\n  if (targetIndex !== -1) {\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlideIndex(targetIndex)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"link-handler\",\n    style: _normalizeStyle({ top: height.value * _unref(canvasScale) + 10 + 'px' })\n  }, [\n    (_ctx.link.type === 'web')\n      ? (_openBlock(), _createElementBlock(\"a\", {\n          key: 0,\n          class: \"link\",\n          href: _ctx.link.target,\n          target: \"_blank\"\n        }, _toDisplayString(_ctx.link.target), 9, _hoisted_1))\n      : (_openBlock(), _createElementBlock(\"a\", {\n          key: 1,\n          class: \"link\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (turnTarget(_ctx.link.target)))\n        }, \" \" + _toDisplayString(_ctx.link.target), 1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.openLinkDialog()))\n      }, \"\"),\n      _createVNode(Divider, { type: \"vertical\" }),\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(removeLink)(_ctx.elementInfo)))\n      }, \"\")\n    ])\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"link-handler\" :style=\"{ top: height * canvasScale + 10 + 'px' }\">\n    <a class=\"link\" v-if=\"link.type === 'web'\" :href=\"link.target\" target=\"_blank\">{{link.target}}</a>\n    <a class=\"link\" v-else @click=\"turnTarget(link.target)\"> {{link.target}}</a>\n    <div class=\"btns\">\n      <div class=\"btn\" @click=\"openLinkDialog()\"></div>\n      <Divider type=\"vertical\" />\n      <div class=\"btn\" @click=\"removeLink(elementInfo)\"></div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\nimport Divider from '@/components/Divider.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  link: PPTElementLink\n  openLinkDialog: () => void\n}>()\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale } = storeToRefs(mainStore)\nconst { slides } = storeToRefs(slidesStore)\nconst { removeLink } = useLink()\nconst height = computed(() => props.elementInfo.type === 'line' ? 0 : props.elementInfo.height)\n\nconst turnTarget = (slideId: string) => {\n  const targetIndex = slides.value.findIndex(item => item.id === slideId)\n  if (targetIndex !== -1) {\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlideIndex(targetIndex)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.link-handler {\n  height: 30px;\n  position: absolute;\n  left: 0;\n  font-size: 12px;\n  padding: 0 10px;\n  background-color: #fff;\n  box-shadow: $boxShadow;\n  display: flex;\n  align-items: center;\n  color: $themeColor;\n}\n.link {\n  max-width: 300px;\n  margin-right: 20px;\n  word-break: keep-all;\n  white-space: nowrap;\n\n  @include ellipsis-oneline();\n}\n.btns {\n  display: flex;\n  align-items: center;\n\n  .btn {\n    word-break: keep-all;\n    cursor: pointer;\n  }\n}\n</style>","import script from \"./LinkHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinkHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinkHandler.vue?vue&type=style&index=0&id=316c4664&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-316c4664\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5ec1ff35\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"animation-index\"\n}\n\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport {\r\n  ElementTypes,\r\n  type PPTElement,\r\n  type PPTLineElement,\r\n  type PPTVideoElement,\r\n  type PPTAudioElement,\r\n  type PPTShapeElement,\r\n  type PPTChartElement,\r\n} from '@/types/slides'\r\nimport type { OperateLineHandlers, OperateResizeHandlers } from '@/types/edit'\r\n\r\nimport ImageElementOperate from './ImageElementOperate.vue'\r\nimport TextElementOperate from './TextElementOperate.vue'\r\nimport ShapeElementOperate from './ShapeElementOperate.vue'\r\nimport LineElementOperate from './LineElementOperate.vue'\r\nimport TableElementOperate from './TableElementOperate.vue'\r\nimport CommonElementOperate from './CommonElementOperate.vue'\r\nimport LinkHandler from './LinkHandler.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    elementInfo: {},\n    isSelected: { type: Boolean },\n    isActive: { type: Boolean },\n    isActiveGroupElement: { type: Boolean },\n    isMultiSelect: { type: Boolean },\n    rotateElement: { type: Function },\n    scaleElement: { type: Function },\n    dragLineElement: { type: Function },\n    moveShapeKeypoint: { type: Function },\n    openLinkDialog: { type: Function }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst { canvasScale, toolbarState } = storeToRefs(useMainStore())\r\nconst { formatedAnimations } = storeToRefs(useSlidesStore())\r\n\r\nconst currentOperateComponent = computed<unknown>(() => {\r\n  const elementTypeMap = {\r\n    [ElementTypes.IMAGE]: ImageElementOperate,\r\n    [ElementTypes.TEXT]: TextElementOperate,\r\n    [ElementTypes.SHAPE]: ShapeElementOperate,\r\n    [ElementTypes.LINE]: LineElementOperate,\r\n    [ElementTypes.TABLE]: TableElementOperate,\r\n    [ElementTypes.CHART]: CommonElementOperate,\r\n    [ElementTypes.LATEX]: CommonElementOperate,\r\n    [ElementTypes.VIDEO]: CommonElementOperate,\r\n    [ElementTypes.AUDIO]: CommonElementOperate,\r\n  }\r\n  return elementTypeMap[props.elementInfo.type] || null\r\n})\r\n\r\nconst elementIndexListInAnimation = computed(() => {\r\n  const indexList = []\r\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\r\n    const elIds = formatedAnimations.value[i].animations.map(item => item.elId)\r\n    if (elIds.includes(props.elementInfo.id)) indexList.push(i)\r\n  }\r\n  return indexList\r\n})\r\n\r\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\r\nconst height = computed(() => 'height' in props.elementInfo ? props.elementInfo.height : 0)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"operate\", { 'multi-select': _ctx.isMultiSelect && !_ctx.isActive }]),\n    style: _normalizeStyle({\r\n      top: _ctx.elementInfo.top * _unref(canvasScale) + 'px',\r\n      left: _ctx.elementInfo.left * _unref(canvasScale) + 'px',\r\n      transform: `rotate(${rotate.value}deg)`,\r\n      transformOrigin: `${_ctx.elementInfo.width * _unref(canvasScale) / 2}px ${height.value * _unref(canvasScale) / 2}px`,\r\n    })\n  }, [\n    (_ctx.isSelected)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(currentOperateComponent.value), {\n          key: 0,\n          elementInfo: _ctx.elementInfo,\n          handlerVisible: !_ctx.elementInfo.lock && (_ctx.isActiveGroupElement || !_ctx.isMultiSelect),\n          rotateElement: _ctx.rotateElement,\n          scaleElement: _ctx.scaleElement,\n          dragLineElement: _ctx.dragLineElement,\n          moveShapeKeypoint: _ctx.moveShapeKeypoint\n        }, null, 8, [\"elementInfo\", \"handlerVisible\", \"rotateElement\", \"scaleElement\", \"dragLineElement\", \"moveShapeKeypoint\"]))\n      : _createCommentVNode(\"\", true),\n    (_unref(toolbarState) === 'elAnimation' && elementIndexListInAnimation.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementIndexListInAnimation.value, (index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"index-item\",\n              key: index\n            }, _toDisplayString(index + 1), 1))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isActive && _ctx.elementInfo.link)\n      ? (_openBlock(), _createBlock(LinkHandler, {\n          key: 2,\n          elementInfo: _ctx.elementInfo,\n          link: _ctx.elementInfo.link,\n          openLinkDialog: _ctx.openLinkDialog,\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n        }, null, 8, [\"elementInfo\", \"link\", \"openLinkDialog\"]))\n      : _createCommentVNode(\"\", true)\n  ], 6))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"operate\"\r\n    :class=\"{ 'multi-select': isMultiSelect && !isActive }\"\r\n    :style=\"{\r\n      top: elementInfo.top * canvasScale + 'px',\r\n      left: elementInfo.left * canvasScale + 'px',\r\n      transform: `rotate(${rotate}deg)`,\r\n      transformOrigin: `${elementInfo.width * canvasScale / 2}px ${height * canvasScale / 2}px`,\r\n    }\"\r\n  >\r\n    <component\r\n      v-if=\"isSelected\"\r\n      :is=\"currentOperateComponent\"\r\n      :elementInfo=\"elementInfo\"\r\n      :handlerVisible=\"!elementInfo.lock && (isActiveGroupElement || !isMultiSelect)\"\r\n      :rotateElement=\"rotateElement\"\r\n      :scaleElement=\"scaleElement\"\r\n      :dragLineElement=\"dragLineElement\"\r\n      :moveShapeKeypoint=\"moveShapeKeypoint\"\r\n    ></component>\r\n\r\n    <div \r\n      class=\"animation-index\"\r\n      v-if=\"toolbarState === 'elAnimation' && elementIndexListInAnimation.length\"\r\n    >\r\n      <div class=\"index-item\" v-for=\"index in elementIndexListInAnimation\" :key=\"index\">{{index + 1}}</div>\r\n    </div>\r\n\r\n    <LinkHandler \r\n      :elementInfo=\"elementInfo\" \r\n      :link=\"elementInfo.link\"\r\n      :openLinkDialog=\"openLinkDialog\" \r\n      v-if=\"isActive && elementInfo.link\" \r\n      @mousedown.stop=\"\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport {\r\n  ElementTypes,\r\n  type PPTElement,\r\n  type PPTLineElement,\r\n  type PPTVideoElement,\r\n  type PPTAudioElement,\r\n  type PPTShapeElement,\r\n  type PPTChartElement,\r\n} from '@/types/slides'\r\nimport type { OperateLineHandlers, OperateResizeHandlers } from '@/types/edit'\r\n\r\nimport ImageElementOperate from './ImageElementOperate.vue'\r\nimport TextElementOperate from './TextElementOperate.vue'\r\nimport ShapeElementOperate from './ShapeElementOperate.vue'\r\nimport LineElementOperate from './LineElementOperate.vue'\r\nimport TableElementOperate from './TableElementOperate.vue'\r\nimport CommonElementOperate from './CommonElementOperate.vue'\r\nimport LinkHandler from './LinkHandler.vue'\r\n\r\nconst props = defineProps<{\r\n  elementInfo: PPTElement\r\n  isSelected: boolean\r\n  isActive: boolean\r\n  isActiveGroupElement: boolean\r\n  isMultiSelect: boolean\r\n  rotateElement: (e: MouseEvent, element: Exclude<PPTElement, PPTChartElement | PPTLineElement | PPTVideoElement | PPTAudioElement>) => void\r\n  scaleElement: (e: MouseEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => void\r\n  dragLineElement: (e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => void\r\n  moveShapeKeypoint: (e: MouseEvent, element: PPTShapeElement) => void\r\n  openLinkDialog: () => void\r\n}>()\r\n\r\nconst { canvasScale, toolbarState } = storeToRefs(useMainStore())\r\nconst { formatedAnimations } = storeToRefs(useSlidesStore())\r\n\r\nconst currentOperateComponent = computed<unknown>(() => {\r\n  const elementTypeMap = {\r\n    [ElementTypes.IMAGE]: ImageElementOperate,\r\n    [ElementTypes.TEXT]: TextElementOperate,\r\n    [ElementTypes.SHAPE]: ShapeElementOperate,\r\n    [ElementTypes.LINE]: LineElementOperate,\r\n    [ElementTypes.TABLE]: TableElementOperate,\r\n    [ElementTypes.CHART]: CommonElementOperate,\r\n    [ElementTypes.LATEX]: CommonElementOperate,\r\n    [ElementTypes.VIDEO]: CommonElementOperate,\r\n    [ElementTypes.AUDIO]: CommonElementOperate,\r\n  }\r\n  return elementTypeMap[props.elementInfo.type] || null\r\n})\r\n\r\nconst elementIndexListInAnimation = computed(() => {\r\n  const indexList = []\r\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\r\n    const elIds = formatedAnimations.value[i].animations.map(item => item.elId)\r\n    if (elIds.includes(props.elementInfo.id)) indexList.push(i)\r\n  }\r\n  return indexList\r\n})\r\n\r\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\r\nconst height = computed(() => 'height' in props.elementInfo ? props.elementInfo.height : 0)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.operate {\r\n  position: absolute;\r\n  z-index: 100;\r\n  user-select: none;\r\n\r\n  &.multi-select {\r\n    opacity: 0.2;\r\n  }\r\n}\r\n.animation-index {\r\n  position: absolute;\r\n  top: 0;\r\n  left: -24px;\r\n  font-size: 12px;\r\n\r\n  .index-item {\r\n    width: 18px;\r\n    height: 18px;\r\n    background-color: #fff;\r\n    color: $themeColor;\r\n    border: 1px solid $themeColor;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    & + .index-item {\r\n      margin-top: 5px;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5ec1ff35&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ec1ff35\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-24fef706\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nimport { computed } from 'vue'\nimport type { PPTImageElement } from '@/types/slides'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseImageElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-image\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n        })\n      }, [\n        _createVNode(ImageOutline, { elementInfo: _ctx.elementInfo }, null, 8, [\"elementInfo\"]),\n        _createElementVNode(\"div\", {\n          class: \"image-content\",\n          style: _normalizeStyle({ clipPath: _unref(clipShape).style })\n        }, [\n          _createElementVNode(\"img\", {\n            src: _ctx.elementInfo.src,\n            draggable: false,\n            style: _normalizeStyle({\n              top: _unref(imgPosition).top,\n              left: _unref(imgPosition).left,\n              width: _unref(imgPosition).width,\n              height: _unref(imgPosition).height,\n              filter: _unref(filter),\n            }),\n            alt: \"\"\n          }, null, 12, _hoisted_1),\n          (_ctx.elementInfo.colorMask)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"color-mask\",\n                style: _normalizeStyle({\n              backgroundColor: _ctx.elementInfo.colorMask,\n            })\n              }, null, 4))\n            : _createCommentVNode(\"\", true)\n        ], 4)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"base-element-image\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\"\n        :style=\"{\n          filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '',\n          transform: flipStyle,\n        }\"\n      >\n        <ImageOutline :elementInfo=\"elementInfo\" />\n\n        <div class=\"image-content\" :style=\"{ clipPath: clipShape.style }\">\n          <img \n            :src=\"elementInfo.src\" \n            :draggable=\"false\" \n            :style=\"{\n              top: imgPosition.top,\n              left: imgPosition.left,\n              width: imgPosition.width,\n              height: imgPosition.height,\n              filter: filter,\n            }\" \n            alt=\"\"\n          />\n          <div class=\"color-mask\"\n            v-if=\"elementInfo.colorMask\"\n            :style=\"{\n              backgroundColor: elementInfo.colorMask,\n            }\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTImageElement } from '@/types/slides'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTImageElement\n}>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n</script>\n\n<style lang=\"scss\" scoped>\n.base-element-image {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  .image-content {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n  }\n\n  img {\n    position: absolute;\n  }\n}\n.color-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n</style>\n","import script from \"./BaseImageElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseImageElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseImageElement.vue?vue&type=style&index=0&id=24fef706&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-24fef706\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-52a206f2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { computed } from 'vue'\nimport type { PPTTextElement } from '@/types/slides'\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\n\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTextElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-text\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          width: _ctx.elementInfo.vertical ? 'auto' : _ctx.elementInfo.width + 'px',\n          height: _ctx.elementInfo.vertical ? _ctx.elementInfo.height + 'px' : 'auto',\n          backgroundColor: _ctx.elementInfo.fill,\n          opacity: _ctx.elementInfo.opacity,\n          textShadow: _unref(shadowStyle),\n          lineHeight: _ctx.elementInfo.lineHeight,\n          letterSpacing: (_ctx.elementInfo.wordSpace || 0) + 'px',\n          color: _ctx.elementInfo.defaultColor,\n          fontFamily: _ctx.elementInfo.defaultFontName,\n          writingMode: _ctx.elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        })\n      }, [\n        _createVNode(ElementOutline, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          outline: _ctx.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createElementVNode(\"div\", {\n          class: \"text ProseMirror-static\",\n          style: _normalizeStyle({\n            '--paragraphSpace': `${_ctx.elementInfo.paragraphSpace === undefined ? 5 : _ctx.elementInfo.paragraphSpace}px`,\n          }),\n          innerHTML: _ctx.elementInfo.content\n        }, null, 12, _hoisted_1)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"base-element-text\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\"\n        :style=\"{\n          width: elementInfo.vertical ? 'auto' : elementInfo.width + 'px',\n          height: elementInfo.vertical ? elementInfo.height + 'px' : 'auto',\n          backgroundColor: elementInfo.fill,\n          opacity: elementInfo.opacity,\n          textShadow: shadowStyle,\n          lineHeight: elementInfo.lineHeight,\n          letterSpacing: (elementInfo.wordSpace || 0) + 'px',\n          color: elementInfo.defaultColor,\n          fontFamily: elementInfo.defaultFontName,\n          writingMode: elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        }\"\n      >\n        <ElementOutline\n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n          :outline=\"elementInfo.outline\"\n        />\n        <div \n          class=\"text ProseMirror-static\" \n          :style=\"{\n            '--paragraphSpace': `${elementInfo.paragraphSpace === undefined ? 5 : elementInfo.paragraphSpace}px`,\n          }\"\n          v-html=\"elementInfo.content\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTTextElement } from '@/types/slides'\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\n\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nconst props = defineProps<{\n  elementInfo: PPTTextElement\n}>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n</script>\n\n<style lang=\"scss\" scoped>\n.base-element-text {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  position: relative;\n  padding: 10px;\n  line-height: 1.5;\n  word-break: break-word;\n\n  .text {\n    position: relative;\n  }\n}\n</style>\n","import script from \"./BaseTextElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTextElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTextElement.vue?vue&type=style&index=0&id=52a206f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52a206f2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b13f8fa8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\", \"fill\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\nconst _hoisted_5 = [\"innerHTML\"]\n\nimport { computed } from 'vue'\nimport type { PPTShapeElement, ShapeText } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\n\nimport GradientDefs from './GradientDefs.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseShapeElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineColor, strokeDashArray } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: '',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-shape\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          opacity: _ctx.elementInfo.opacity,\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n          color: text.value.defaultColor,\n          fontFamily: text.value.defaultFontName,\n        })\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height\n        }, [\n          (_ctx.elementInfo.gradient)\n            ? (_openBlock(), _createElementBlock(\"defs\", _hoisted_2, [\n                _createVNode(GradientDefs, {\n                  id: `base-gradient-${_ctx.elementInfo.id}`,\n                  type: _ctx.elementInfo.gradient.type,\n                  color1: _ctx.elementInfo.gradient.color[0],\n                  color2: _ctx.elementInfo.gradient.color[1],\n                  rotate: _ctx.elementInfo.gradient.rotate\n                }, null, 8, [\"id\", \"type\", \"color1\", \"color2\", \"rotate\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"g\", {\n            transform: `scale(${_ctx.elementInfo.width / _ctx.elementInfo.viewBox[0]}, ${_ctx.elementInfo.height / _ctx.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              \"vector-effect\": \"non-scaling-stroke\",\n              \"stroke-linecap\": \"butt\",\n              \"stroke-miterlimit\": \"8\",\n              d: _ctx.elementInfo.path,\n              fill: _ctx.elementInfo.gradient ? `url(#base-gradient-${_ctx.elementInfo.id})` : _ctx.elementInfo.fill,\n              stroke: _unref(outlineColor),\n              \"stroke-width\": _unref(outlineWidth),\n              \"stroke-dasharray\": _unref(strokeDashArray)\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_1)),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"shape-text\", text.value.align])\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"ProseMirror-static\",\n            innerHTML: text.value.content\n          }, null, 8, _hoisted_5)\n        ], 2)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"base-element-shape\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div \n        class=\"element-content\"\n        :style=\"{\n          opacity: elementInfo.opacity,\n          filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '',\n          transform: flipStyle,\n          color: text.defaultColor,\n          fontFamily: text.defaultFontName,\n        }\"\n      >\n        <svg \n          overflow=\"visible\" \n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n        >\n          <defs v-if=\"elementInfo.gradient\">\n            <GradientDefs\n              :id=\"`base-gradient-${elementInfo.id}`\" \n              :type=\"elementInfo.gradient.type\"\n              :color1=\"elementInfo.gradient.color[0]\"\n              :color2=\"elementInfo.gradient.color[1]\"\n              :rotate=\"elementInfo.gradient.rotate\"\n            />\n          </defs>\n          <g \n            :transform=\"`scale(${elementInfo.width / elementInfo.viewBox[0]}, ${elementInfo.height / elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\"\n          >\n            <path \n              vector-effect=\"non-scaling-stroke\" \n              stroke-linecap=\"butt\" \n              stroke-miterlimit=\"8\"\n              :d=\"elementInfo.path\" \n              :fill=\"elementInfo.gradient ? `url(#base-gradient-${elementInfo.id})` : elementInfo.fill\"\n              :stroke=\"outlineColor\"\n              :stroke-width=\"outlineWidth\" \n              :stroke-dasharray=\"strokeDashArray\" \n            ></path>\n          </g>\n        </svg>\n\n        <div class=\"shape-text\" :class=\"text.align\">\n          <div class=\"ProseMirror-static\" v-html=\"text.content\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTShapeElement, ShapeText } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\n\nimport GradientDefs from './GradientDefs.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTShapeElement\n}>()\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineColor, strokeDashArray } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: '',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.base-element-shape {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  svg {\n    transform-origin: 0 0;\n    overflow: visible;\n  }\n}\n.shape-text {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  line-height: 1.2;\n  word-break: break-word;\n\n  &.top {\n    justify-content: flex-start;\n  }\n  &.middle {\n    justify-content: center;\n  }\n  &.bottom {\n    justify-content: flex-end;\n  }\n}\n</style>\n","import script from \"./BaseShapeElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseShapeElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseShapeElement.vue?vue&type=style&index=0&id=b13f8fa8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b13f8fa8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-443e2f82\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\n\nimport { computed } from 'vue'\nimport type { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseLineElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => {\n  if (props.elementInfo.style !== 'dashed') return '0 0'\n  const size = props.elementInfo.width\n  return size <= 8 ? `${size * 5} ${size * 2.5}` : `${size * 5} ${size * 1.5}`\n})\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-line\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"element-content\",\n      style: _normalizeStyle({ filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '' })\n    }, [\n      (_openBlock(), _createElementBlock(\"svg\", {\n        overflow: \"visible\",\n        width: svgWidth.value,\n        height: svgHeight.value\n      }, [\n        _createElementVNode(\"defs\", null, [\n          (_ctx.elementInfo.points[0])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 0,\n                id: _ctx.elementInfo.id,\n                position: \"start\",\n                type: _ctx.elementInfo.points[0],\n                color: _ctx.elementInfo.color,\n                baseSize: _ctx.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true),\n          (_ctx.elementInfo.points[1])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 1,\n                id: _ctx.elementInfo.id,\n                position: \"end\",\n                type: _ctx.elementInfo.points[1],\n                color: _ctx.elementInfo.color,\n                baseSize: _ctx.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"path\", {\n          d: path.value,\n          stroke: _ctx.elementInfo.color,\n          \"stroke-width\": _ctx.elementInfo.width,\n          \"stroke-dasharray\": lineDashArray.value,\n          fill: \"none\",\n          \"marker-start\": _ctx.elementInfo.points[0] ? `url(#${_ctx.elementInfo.id}-${_ctx.elementInfo.points[0]}-start)` : '',\n          \"marker-end\": _ctx.elementInfo.points[1] ? `url(#${_ctx.elementInfo.id}-${_ctx.elementInfo.points[1]}-end)` : ''\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"base-element-line\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n    }\"\n  >\n    <div \n      class=\"element-content\"\n      :style=\"{ filter: shadowStyle ? `drop-shadow(${shadowStyle})` : '' }\"\n    >\n      <svg\n        overflow=\"visible\" \n        :width=\"svgWidth\"\n        :height=\"svgHeight\"\n      >\n        <defs>\n          <LinePointMarker\n            v-if=\"elementInfo.points[0]\"\n            :id=\"elementInfo.id\"\n            position=\"start\"\n            :type=\"elementInfo.points[0]\"\n            :color=\"elementInfo.color\"\n            :baseSize=\"elementInfo.width\"\n          />\n          <LinePointMarker\n            v-if=\"elementInfo.points[1]\"\n            :id=\"elementInfo.id\"\n            position=\"end\"\n            :type=\"elementInfo.points[1]\"\n            :color=\"elementInfo.color\"\n            :baseSize=\"elementInfo.width\"\n          />\n        </defs>\n\t\t\t\t<path\n          :d=\"path\" \n          :stroke=\"elementInfo.color\" \n          :stroke-width=\"elementInfo.width\" \n          :stroke-dasharray=\"lineDashArray\"\n          fill=\"none\" \n          :marker-start=\"elementInfo.points[0] ? `url(#${elementInfo.id}-${elementInfo.points[0]}-start)` : ''\"\n          :marker-end=\"elementInfo.points[1] ? `url(#${elementInfo.id}-${elementInfo.points[1]}-end)` : ''\"\n        ></path>\n\t\t\t</svg>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTLineElement\n}>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => {\n  if (props.elementInfo.style !== 'dashed') return '0 0'\n  const size = props.elementInfo.width\n  return size <= 8 ? `${size * 5} ${size * 2.5}` : `${size * 5} ${size * 1.5}`\n})\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.base-element-line {\n  position: absolute;\n}\n\n.element-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  svg {\n    transform-origin: 0 0;\n    overflow: visible;\n  }\n}\n</style>\n","import script from \"./BaseLineElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseLineElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseLineElement.vue?vue&type=style&index=0&id=443e2f82&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-443e2f82\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, inject, ref } from 'vue'\r\nimport type { PPTChartElement } from '@/types/slides'\r\nimport { injectKeySlideScale } from '@/types/injectKey'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseChartElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\r\n\r\n\r\nconst slideScale = inject(injectKeySlideScale) || ref(1)\r\n\r\nconst needScaleSize = computed(() => slideScale.value < 1)\r\nconst zoom = computed(() => needScaleSize.value ? 1 / slideScale.value : 1)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-chart\",\n    style: _normalizeStyle({\r\n      top: _ctx.elementInfo.top + 'px',\r\n      left: _ctx.elementInfo.left + 'px',\r\n      width: _ctx.elementInfo.width + 'px',\r\n      height: _ctx.elementInfo.height + 'px',\r\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\r\n          backgroundColor: _ctx.elementInfo.fill,\r\n        })\n      }, [\n        _createVNode(ElementOutline, {\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          outline: _ctx.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(Chart, {\n          width: _ctx.elementInfo.width * zoom.value,\n          height: _ctx.elementInfo.height * zoom.value,\n          type: _ctx.elementInfo.chartType,\n          data: _ctx.elementInfo.data,\n          options: _ctx.elementInfo.options,\n          themeColor: _ctx.elementInfo.themeColor,\n          gridColor: _ctx.elementInfo.gridColor,\n          legends: _ctx.elementInfo.data.legends,\n          legend: _ctx.elementInfo.legend || '',\n          style: _normalizeStyle({ zoom: 1 / zoom.value })\n        }, null, 8, [\"width\", \"height\", \"type\", \"data\", \"options\", \"themeColor\", \"gridColor\", \"legends\", \"legend\", \"style\"])\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\r\n  <div class=\"base-element-chart\"\r\n    :style=\"{\r\n      top: elementInfo.top + 'px',\r\n      left: elementInfo.left + 'px',\r\n      width: elementInfo.width + 'px',\r\n      height: elementInfo.height + 'px',\r\n    }\"\r\n  >\r\n    <div\r\n      class=\"rotate-wrapper\"\r\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\r\n    >\r\n      <div \r\n        class=\"element-content\"\r\n        :style=\"{\r\n          backgroundColor: elementInfo.fill,\r\n        }\"\r\n      >\r\n        <ElementOutline\r\n          :width=\"elementInfo.width\"\r\n          :height=\"elementInfo.height\"\r\n          :outline=\"elementInfo.outline\"\r\n        />\r\n        <Chart\r\n          :width=\"elementInfo.width * zoom\"\r\n          :height=\"elementInfo.height * zoom\"\r\n          :type=\"elementInfo.chartType\"\r\n          :data=\"elementInfo.data\"\r\n          :options=\"elementInfo.options\"\r\n          :themeColor=\"elementInfo.themeColor\"\r\n          :gridColor=\"elementInfo.gridColor\"\r\n          :legends=\"elementInfo.data.legends\"\r\n          :legend=\"elementInfo.legend || ''\"\r\n          :style=\"{ zoom: 1 / zoom }\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, inject, ref } from 'vue'\r\nimport type { PPTChartElement } from '@/types/slides'\r\nimport { injectKeySlideScale } from '@/types/injectKey'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\ndefineProps<{\r\n  elementInfo: PPTChartElement\r\n}>()\r\n\r\nconst slideScale = inject(injectKeySlideScale) || ref(1)\r\n\r\nconst needScaleSize = computed(() => slideScale.value < 1)\r\nconst zoom = computed(() => needScaleSize.value ? 1 / slideScale.value : 1)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.base-element-chart {\r\n  position: absolute;\r\n}\r\n.rotate-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.element-content {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import script from \"./BaseChartElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseChartElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseChartElement.vue?vue&type=style&index=0&id=7c03d68d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c03d68d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5d949d4d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\"]\nconst _hoisted_2 = [\"rowspan\", \"colspan\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nimport { computed, ref, watch } from 'vue'\nimport type { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'StaticTable',\n  props: {\n    data: {},\n    width: {},\n    cellMinHeight: {},\n    colWidths: {},\n    outline: {},\n    theme: {},\n    editable: { type: Boolean, default: true }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\n\nwatch([\n  () => props.colWidths,\n  () => props.width,\n], () => {\n  colSizeList.value = props.colWidths.map(item => item * props.width)\n}, { immediate: true })\n\nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"static-table\",\n    style: _normalizeStyle({ width: totalWidth.value + 'px' })\n  }, [\n    _createElementVNode(\"table\", {\n      class: _normalizeClass({\n        'theme': theme.value,\n        'row-header': theme.value?.rowHeader,\n        'row-footer': theme.value?.rowFooter,\n        'col-header': theme.value?.colHeader,\n        'col-footer': theme.value?.colFooter,\n      }),\n      style: _normalizeStyle(`--themeColor: ${theme.value?.color}; --subThemeColor1: ${_unref(subThemeColor)[0]}; --subThemeColor2: ${_unref(subThemeColor)[1]}`)\n    }, [\n      _createElementVNode(\"colgroup\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(colSizeList.value, (width, index) => {\n          return (_openBlock(), _createElementBlock(\"col\", {\n            span: \"1\",\n            key: index,\n            width: width\n          }, null, 8, _hoisted_1))\n        }), 128))\n      ]),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.data, (rowCells, rowIndex) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: rowIndex,\n            style: _normalizeStyle({ height: _ctx.cellMinHeight + 'px' })\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rowCells, (cell, colIndex) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"td\", {\n                class: \"cell\",\n                style: _normalizeStyle({\n              borderStyle: _ctx.outline.style,\n              borderColor: _ctx.outline.color,\n              borderWidth: _ctx.outline.width + 'px',\n              ..._unref(getTextStyle)(cell.style),\n            }),\n                key: cell.id,\n                rowspan: cell.rowspan,\n                colspan: cell.colspan\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"cell-text\",\n                  style: _normalizeStyle({ minHeight: (_ctx.cellMinHeight - 4) + 'px' }),\n                  innerHTML: _unref(formatText)(cell.text)\n                }, null, 12, _hoisted_3)\n              ], 12, _hoisted_2)), [\n                [_vShow, !_unref(hideCells).includes(`${rowIndex}_${colIndex}`)]\n              ])\n            }), 128))\n          ], 4))\n        }), 128))\n      ])\n    ], 6)\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"static-table\"\n    :style=\"{ width: totalWidth + 'px' }\"\n  >\n    <table\n      :class=\"{\n        'theme': theme,\n        'row-header': theme?.rowHeader,\n        'row-footer': theme?.rowFooter,\n        'col-header': theme?.colHeader,\n        'col-footer': theme?.colFooter,\n      }\"\n      :style=\"`--themeColor: ${theme?.color}; --subThemeColor1: ${subThemeColor[0]}; --subThemeColor2: ${subThemeColor[1]}`\"\n    >\n      <colgroup>\n        <col span=\"1\" v-for=\"(width, index) in colSizeList\" :key=\"index\" :width=\"width\">\n      </colgroup>\n      <tbody>\n        <tr v-for=\"(rowCells, rowIndex) in data\" :key=\"rowIndex\" :style=\"{ height: cellMinHeight + 'px' }\">\n          <td \n            class=\"cell\"\n            :style=\"{\n              borderStyle: outline.style,\n              borderColor: outline.color,\n              borderWidth: outline.width + 'px',\n              ...getTextStyle(cell.style),\n            }\"\n            v-for=\"(cell, colIndex) in rowCells\"\n            :key=\"cell.id\"\n            :rowspan=\"cell.rowspan\"\n            :colspan=\"cell.colspan\"\n            v-show=\"!hideCells.includes(`${rowIndex}_${colIndex}`)\"\n          >\n            <div class=\"cell-text\" :style=\"{ minHeight: (cellMinHeight - 4) + 'px' }\" v-html=\"formatText(cell.text)\" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from 'vue'\nimport type { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\nconst props = withDefaults(defineProps<{\n  data: TableCell[][]\n  width: number\n  cellMinHeight: number\n  colWidths: number[]\n  outline: PPTElementOutline\n  theme?: TableTheme\n  editable?: boolean\n}>(), {\n  editable: true,\n})\n\nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\n\nwatch([\n  () => props.colWidths,\n  () => props.width,\n], () => {\n  colSizeList.value = props.colWidths.map(item => item * props.width)\n}, { immediate: true })\n\nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n</script>\n\n<style lang=\"scss\" scoped>\n.static-table {\n  position: relative;\n  user-select: none;\n}\ntable {\n  width: 100%;\n  position: relative;\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: 0;\n  word-wrap: break-word;\n  user-select: none;\n\n  --themeColor: $themeColor;\n  --subThemeColor1: $themeColor;\n  --subThemeColor2: $themeColor;\n\n  &.theme {\n    background-color: #fff;\n\n    tr:nth-child(2n) .cell {\n      background-color: var(--subThemeColor1);\n    }\n    tr:nth-child(2n + 1) .cell {\n      background-color: var(--subThemeColor2);\n    }\n\n    &.row-header {\n      tr:first-child .cell {\n        background-color: var(--themeColor);\n      }\n    }\n    &.row-footer {\n      tr:last-child .cell {\n        background-color: var(--themeColor);\n      }\n    }\n    &.col-header {\n      tr .cell:first-child {\n        background-color: var(--themeColor);\n      }\n    }\n    &.col-footer {\n      tr .cell:last-child {\n        background-color: var(--themeColor);\n      }\n    }\n  }\n\n  .cell {\n    position: relative;\n    white-space: normal;\n    word-wrap: break-word;\n    vertical-align: middle;\n    background-clip: padding-box;\n  }\n\n  .cell-text {\n    padding: 5px;\n    line-height: 1.5;\n  }\n}\n</style>","import script from \"./StaticTable.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./StaticTable.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./StaticTable.vue?vue&type=style&index=0&id=5d949d4d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5d949d4d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3eff7eba\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport type { PPTTableElement } from '@/types/slides'\n\nimport StaticTable from './StaticTable.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTableElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-table\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(StaticTable, {\n          data: _ctx.elementInfo.data,\n          width: _ctx.elementInfo.width,\n          cellMinHeight: _ctx.elementInfo.cellMinHeight,\n          colWidths: _ctx.elementInfo.colWidths,\n          outline: _ctx.elementInfo.outline,\n          theme: _ctx.elementInfo.theme\n        }, null, 8, [\"data\", \"width\", \"cellMinHeight\", \"colWidths\", \"outline\", \"theme\"])\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseTableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTableElement.vue?vue&type=style&index=0&id=3eff7eba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3eff7eba\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1587280d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\nconst _hoisted_2 = [\"width\", \"height\", \"stroke\", \"stroke-width\"]\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\"]\n\nimport type { PPTLatexElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseLatexElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-latex\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: _ctx.elementInfo.width,\n          height: _ctx.elementInfo.height,\n          stroke: _ctx.elementInfo.color,\n          \"stroke-width\": _ctx.elementInfo.strokeWidth,\n          fill: \"none\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\"\n        }, [\n          _createElementVNode(\"g\", {\n            transform: `scale(${_ctx.elementInfo.width / _ctx.elementInfo.viewBox[0]}, ${_ctx.elementInfo.height / _ctx.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              d: _ctx.elementInfo.path\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_2))\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseLatexElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseLatexElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseLatexElement.vue?vue&type=style&index=0&id=1587280d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1587280d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport type { PPTVideoElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseVideoElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-video\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({ backgroundImage: _ctx.elementInfo.poster ? `url(${_ctx.elementInfo.poster})` : '' })\n      }, [\n        _createVNode(_component_IconPlayOne, { class: \"icon\" })\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseVideoElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseVideoElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseVideoElement.vue?vue&type=style&index=0&id=09436dde&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-09436dde\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5da834d7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed } from 'vue'\nimport type { PPTAudioElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseAudioElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-audio\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: _ctx.elementInfo.color,\n          })\n        }, null, 8, [\"style\"])\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"base-element-audio\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div class=\"element-content\">\n        <IconVolumeNotice \n          class=\"audio-icon\" \n          :style=\"{\n            fontSize: audioIconSize,\n            color: elementInfo.color,\n          }\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTAudioElement } from '@/types/slides'\n\nconst props = defineProps<{\n  elementInfo: PPTAudioElement\n}>()\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.base-element-audio {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.audio-icon {\n  cursor: move;\n}\n</style>\n","import script from \"./BaseAudioElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseAudioElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseAudioElement.vue?vue&type=style&index=0&id=5da834d7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5da834d7\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport BaseChartElement from '@/views/components/element/ChartElement/BaseChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport BaseVideoElement from '@/views/components/element/VideoElement/BaseVideoElement.vue'\nimport BaseAudioElement from '@/views/components/element/AudioElement/BaseAudioElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ThumbnailElement',\n  props: {\n    elementInfo: {},\n    elementIndex: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: BaseChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: BaseVideoElement,\n    [ElementTypes.AUDIO]: BaseAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"base-element\", `base-element-${_ctx.elementInfo.id}`]),\n    style: _normalizeStyle({\n      zIndex: _ctx.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: _ctx.elementInfo,\n      target: \"thumbnail\"\n    }, null, 8, [\"elementInfo\"]))\n  ], 6))\n}\n}\n\n})","<template>\n  <div \n    class=\"base-element\"\n    :class=\"`base-element-${elementInfo.id}`\"\n    :style=\"{\n      zIndex: elementIndex,\n    }\"\n  >\n    <component\n      :is=\"currentElementComponent\"\n      :elementInfo=\"elementInfo\"\n      target=\"thumbnail\"\n    ></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport BaseChartElement from '@/views/components/element/ChartElement/BaseChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport BaseVideoElement from '@/views/components/element/VideoElement/BaseVideoElement.vue'\nimport BaseAudioElement from '@/views/components/element/AudioElement/BaseAudioElement.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  elementIndex: number\n}>()\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: BaseChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: BaseVideoElement,\n    [ElementTypes.AUDIO]: BaseAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n</script>","import script from \"./ThumbnailElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ThumbnailElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-43dcaa52\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"placeholder\"\n}\n\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ThumbnailElement from './ThumbnailElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    slide: {},\n    size: {},\n    visible: { type: Boolean, default: true }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst scale = computed(() => props.size / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"thumbnail-slide\",\n    style: _normalizeStyle({\n      width: _ctx.size + 'px',\n      height: _ctx.size * _unref(viewportRatio) + 'px',\n    })\n  }, [\n    (_ctx.visible)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"elements\",\n          style: _normalizeStyle({\n        width: _unref(VIEWPORT_SIZE) + 'px',\n        height: _unref(VIEWPORT_SIZE) * _unref(viewportRatio) + 'px',\n        transform: `scale(${scale.value})`,\n      })\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"background\",\n            style: _normalizeStyle(_unref(backgroundStyle))\n          }, null, 4),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.slide.elements, (element, index) => {\n            return (_openBlock(), _createBlock(ThumbnailElement, {\n              key: element.id,\n              elementInfo: element,\n              elementIndex: index + 1\n            }, null, 8, [\"elementInfo\", \"elementIndex\"]))\n          }), 128))\n        ], 4))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" ...\"))\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"thumbnail-slide\"\n    :style=\"{\n      width: size + 'px',\n      height: size * viewportRatio + 'px',\n    }\"\n  >\n    <div \n      class=\"elements\"\n      :style=\"{\n        width: VIEWPORT_SIZE + 'px',\n        height: VIEWPORT_SIZE * viewportRatio + 'px',\n        transform: `scale(${scale})`,\n      }\"\n      v-if=\"visible\"\n    >\n      <div class=\"background\" :style=\"backgroundStyle\"></div>\n      <ThumbnailElement\n        v-for=\"(element, index) in slide.elements\"\n        :key=\"element.id\"\n        :elementInfo=\"element\"\n        :elementIndex=\"index + 1\"\n      />\n    </div>\n    <div class=\"placeholder\" v-else> ...</div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ThumbnailElement from './ThumbnailElement.vue'\n\nconst props = withDefaults(defineProps<{\n  slide: Slide\n  size: number\n  visible?: boolean\n}>(), {\n  visible: true,\n})\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst scale = computed(() => props.size / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n</script>\n\n<style lang=\"scss\" scoped>\n.thumbnail-slide {\n  background-color: #fff;\n  overflow: hidden;\n  user-select: none;\n}\n.elements {\n  transform-origin: 0 0;\n}\n.background {\n  width: 100%;\n  height: 100%;\n  background-position: center;\n  position: absolute;\n}\n.placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=43dcaa52&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43dcaa52\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5e3d7626\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\n\nimport { type CSSProperties } from 'vue'\n\ninterface TabItem {\n  key: string\n  label: string\n  color?: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Tabs',\n  props: {\n    value: {},\n    tabs: {},\n    card: { type: Boolean, default: false },\n    tabsStyle: {},\n    tabStyle: {},\n    spaceAround: { type: Boolean, default: false },\n    spaceBetween: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"tabs\", {\n      'card': _ctx.card,\n      'space-around': _ctx.spaceAround,\n      'space-between': _ctx.spaceBetween,\n    }]),\n    style: _normalizeStyle(_ctx.tabsStyle || {})\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tabs, (tab) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass([\"tab\", { 'active': tab.key === _ctx.value }]),\n        key: tab.key,\n        style: _normalizeStyle({\n        ...(_ctx.tabStyle || {}),\n        '--color': tab.color,\n      }),\n        onClick: ($event: any) => (emit('update:value', tab.key))\n      }, _toDisplayString(tab.label), 15, _hoisted_1))\n    }), 128))\n  ], 6))\n}\n}\n\n})","<template>\n  <div class=\"tabs\"\n    :class=\"{\n      'card': card,\n      'space-around': spaceAround,\n      'space-between': spaceBetween,\n    }\" \n    :style=\"tabsStyle || {}\"\n  >\n    <div \n      class=\"tab\" \n      :class=\"{ 'active': tab.key === value }\"\n      v-for=\"tab in tabs\" \n      :key=\"tab.key\"\n      :style=\"{\n        ...(tabStyle || {}),\n        '--color': tab.color,\n      }\"\n      @click=\"emit('update:value', tab.key)\"\n    >{{tab.label}}</div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { type CSSProperties } from 'vue'\n\ninterface TabItem {\n  key: string\n  label: string\n  color?: string\n}\n\nwithDefaults(defineProps<{\n  value: string\n  tabs: TabItem[]\n  card?: boolean\n  tabsStyle?: CSSProperties\n  tabStyle?: CSSProperties\n  spaceAround?: boolean\n  spaceBetween?: boolean\n}>(), {\n  card: false,\n  spaceAround: false,\n  spaceBetween: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: string): void\n}>()\n</script>\n\n<style lang=\"scss\" scoped>\n.tabs {\n  display: flex;\n  user-select: none;\n  line-height: 1;\n\n  &:not(.card) {\n    font-size: 13px;\n    align-items: center;\n    justify-content: flex-start;\n    border-bottom: 1px solid $borderColor;\n\n    &.space-around {\n      justify-content: space-around;\n    }\n    &.space-between {\n      justify-content: space-between;\n    }\n\n    .tab {\n      text-align: center;\n      border-bottom: 2px solid transparent;\n      padding: 8px 10px;\n      cursor: pointer;\n\n      &.active {\n        border-bottom: 2px solid var(--color, $themeColor);\n      }\n    }\n  }\n\n  &.card {\n    height: 40px;\n    font-size: 12px;\n    flex-shrink: 0;\n\n    .tab {\n      flex: 1;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: $lightGray;\n      border-bottom: 1px solid $borderColor;\n      cursor: pointer;\n\n      &.active {\n        background-color: transparent;\n        border-bottom-color: transparent;\n      }\n\n      & + .tab {\n        border-left: 1px solid $borderColor;\n      }\n    }\n  }\n}\n</style>","import script from \"./Tabs.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Tabs.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Tabs.vue?vue&type=style&index=0&id=5e3d7626&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e3d7626\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Button',\n  props: {\n    checked: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    type: { default: 'default' },\n    size: { default: 'normal' },\n    first: { type: Boolean, default: false },\n    last: { type: Boolean, default: false }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst handleClick = () => {\n  if (props.disabled) return\n  emit('click')\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    class: _normalizeClass([\"button\", {\n      'disabled': _ctx.disabled,\n      'checked': !_ctx.disabled && _ctx.checked,\n      'default': !_ctx.disabled && _ctx.type === 'default',\n      'primary': !_ctx.disabled && _ctx.type === 'primary',\n      'checkbox': !_ctx.disabled && _ctx.type === 'checkbox',\n      'radio': !_ctx.disabled && _ctx.type === 'radio',\n      'small': _ctx.size === 'small',\n      'first': _ctx.first,\n      'last': _ctx.last,\n    }]),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (handleClick()))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","<template>\n  <button \n    class=\"button\"\n    :class=\"{\n      'disabled': disabled,\n      'checked': !disabled && checked,\n      'default': !disabled && type === 'default',\n      'primary': !disabled && type === 'primary',\n      'checkbox': !disabled && type === 'checkbox',\n      'radio': !disabled && type === 'radio',\n      'small': size === 'small',\n      'first': first,\n      'last': last,\n    }\"\n    @click=\"handleClick()\"\n  >\n    <slot></slot>\n  </button>\n</template>\n\n<script lang=\"ts\" setup>\nconst props = withDefaults(defineProps<{\n  checked?: boolean\n  disabled?: boolean\n  type?: 'default' | 'primary' | 'checkbox' | 'radio'\n  size?: 'small' | 'normal'\n  first?: boolean\n  last?: boolean\n}>(), {\n  checked: false,\n  disabled: false,\n  type: 'default',\n  size: 'normal',\n  first: false,\n  last: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'click'): void\n}>()\n\nconst handleClick = () => {\n  if (props.disabled) return\n  emit('click')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button {\n  height: 32px;\n  line-height: 32px;\n  outline: 0;\n  font-size: 13px;\n  padding: 0 15px;\n  text-align: center;\n  color: $textColor;\n  border-radius: $borderRadius;\n  user-select: none;\n  letter-spacing: 1px;\n  cursor: pointer;\n\n  &.small {\n    height: 24px;\n    line-height: 24px;\n    padding: 0 7px;\n    letter-spacing: 0;\n  }\n\n  &.default {\n    background-color: #fff;\n    border: 1px solid #d9d9d9;\n    color: $textColor;\n\n    &:hover {\n      color: $themeColor;\n      border-color: $themeColor;\n    }\n  }\n  &.primary {\n    background-color: $themeColor;\n    border: 1px solid $themeColor;\n    color: #fff;\n\n    &:hover {\n      background-color: $themeHoverColor;\n      border-color: $themeHoverColor;\n    }\n  }\n  &.checkbox, &.radio {\n    background-color: #fff;\n    border: 1px solid #d9d9d9;\n    color: $textColor;\n\n    &:not(.checked):hover {\n      color: $themeColor;\n    }\n  }\n  &.checked {\n    color: #fff;\n    background-color: $themeColor;\n    border-color: $themeColor;\n\n    &:hover {\n      background-color: $themeHoverColor;\n      border-color: $themeHoverColor;\n    }\n  }\n  &.disabled {\n    background-color: #f5f5f5;\n    border: 1px solid #d9d9d9;\n    color: #b7b7b7;\n    cursor: default;\n  }\n}\n</style>","import script from \"./Button.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Button.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=52c90330&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52c90330\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5bf3b141\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"select-wrap\"\n}\nconst _hoisted_2 = { class: \"selector\" }\nconst _hoisted_3 = { class: \"icon\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"selector\" }\nconst _hoisted_6 = { class: \"icon\" }\n\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport Popover from './Popover.vue'\n\ninterface SelectOption {\n  label: string\n  value: string | number\n  disabled?: boolean\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Select',\n  props: {\n    value: {},\n    options: {},\n    disabled: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst showLabel = computed(() => {\n  return props.options.find(item => item.value === props.value)?.label || props.value\n})\n\nconst emit = __emit\n\nconst popoverVisible = ref(false)\nconst selectRef = ref<HTMLElement>()\nconst width = ref(0)\n\nconst updateWidth = () => {\n  if (!selectRef.value) return\n  width.value = selectRef.value.clientWidth\n}\nconst resizeObserver = new ResizeObserver(updateWidth)\nonMounted(() => {\n  if (!selectRef.value) return\n  resizeObserver.observe(selectRef.value)\n})\nonUnmounted(() => {\n  if (!selectRef.value) return\n  resizeObserver.unobserve(selectRef.value)\n})\n\nconst handleSelect = (option: SelectOption) => {\n  if (option.disabled) return\n\n  emit('update:value', option.value)\n  popoverVisible.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n\n  return (_ctx.disabled)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"select disabled\",\n          ref_key: \"selectRef\",\n          ref: selectRef\n        }, [\n          _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.value), 1),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _renderSlot(_ctx.$slots, \"icon\", {}, () => [\n              _createVNode(_component_IconDown, { size: 14 })\n            ])\n          ])\n        ], 512)\n      ]))\n    : (_openBlock(), _createBlock(Popover, {\n        key: 1,\n        class: \"select-wrap\",\n        trigger: \"click\",\n        value: popoverVisible.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((popoverVisible).value = $event)),\n        placement: \"bottom\",\n        contentStyle: {\n      padding: 0,\n      boxShadow: '0 6px 16px 0 rgba(0, 0, 0, 0.08)',\n    }\n      }, {\n        content: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: \"options\",\n            style: _normalizeStyle({ width: width.value + 2 + 'px' })\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.options, (option) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"option\", {\n            'disabled': option.disabled,\n            'selected': option.value === _ctx.value,\n          }]),\n                key: option.value,\n                onClick: ($event: any) => (handleSelect(option))\n              }, _toDisplayString(option.label), 11, _hoisted_4))\n            }), 128))\n          ], 4)\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: \"select\",\n            ref_key: \"selectRef\",\n            ref: selectRef\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, _toDisplayString(showLabel.value), 1),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _renderSlot(_ctx.$slots, \"icon\", {}, () => [\n                _createVNode(_component_IconDown, { size: 14 })\n              ])\n            ])\n          ], 512)\n        ]),\n        _: 3\n      }, 8, [\"value\", \"contentStyle\"]))\n}\n}\n\n})","<template>\n  <div class=\"select-wrap\" v-if=\"disabled\">\n    <div class=\"select disabled\" ref=\"selectRef\">\n      <div class=\"selector\">{{ value }}</div>\n      <div class=\"icon\">\n        <slot name=\"icon\">\n          <IconDown :size=\"14\" />\n        </slot>\n      </div>\n    </div>\n  </div>\n  <Popover \n    class=\"select-wrap\"\n    trigger=\"click\" \n    v-model:value=\"popoverVisible\" \n    placement=\"bottom\"\n    :contentStyle=\"{\n      padding: 0,\n      boxShadow: '0 6px 16px 0 rgba(0, 0, 0, 0.08)',\n    }\"\n    v-else\n  >\n    <template #content>\n      <div class=\"options\" :style=\"{ width: width + 2 + 'px' }\">\n        <div class=\"option\" \n          :class=\"{\n            'disabled': option.disabled,\n            'selected': option.value === value,\n          }\"\n          v-for=\"option in options\" \n          :key=\"option.value\"\n          @click=\"handleSelect(option)\"\n        >{{ option.label }}</div>\n      </div>\n    </template>\n    <div class=\"select\" ref=\"selectRef\">\n      <div class=\"selector\">{{ showLabel }}</div>\n      <div class=\"icon\">\n        <slot name=\"icon\">\n          <IconDown :size=\"14\" />\n        </slot>\n      </div>\n    </div>\n  </Popover>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport Popover from './Popover.vue'\n\ninterface SelectOption {\n  label: string\n  value: string | number\n  disabled?: boolean\n}\n\nconst props = withDefaults(defineProps<{\n  value: string | number\n  options: SelectOption[]\n  disabled?: boolean\n}>(), {\n  disabled: false,\n})\n\nconst showLabel = computed(() => {\n  return props.options.find(item => item.value === props.value)?.label || props.value\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: string | number): void\n}>()\n\nconst popoverVisible = ref(false)\nconst selectRef = ref<HTMLElement>()\nconst width = ref(0)\n\nconst updateWidth = () => {\n  if (!selectRef.value) return\n  width.value = selectRef.value.clientWidth\n}\nconst resizeObserver = new ResizeObserver(updateWidth)\nonMounted(() => {\n  if (!selectRef.value) return\n  resizeObserver.observe(selectRef.value)\n})\nonUnmounted(() => {\n  if (!selectRef.value) return\n  resizeObserver.unobserve(selectRef.value)\n})\n\nconst handleSelect = (option: SelectOption) => {\n  if (option.disabled) return\n\n  emit('update:value', option.value)\n  popoverVisible.value = false\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.select {\n  width: 100%;\n  height: 32px;\n  padding-right: 32px;\n  border-radius: $borderRadius;\n  transition: border-color .25s;\n  font-size: 13px;\n  user-select: none;\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  position: relative;\n  cursor: pointer;\n\n  &:not(.disabled):hover {\n    border-color: $themeColor;\n  }\n\n  &.disabled {\n    background-color: #f5f5f5;\n    border-color: #dcdcdc;\n    color: #b7b7b7;\n    cursor: default;\n  }\n\n  .selector {\n    min-width: 50px;\n    height: 30px;\n    line-height: 30px;\n    padding-left: 10px;\n    @include ellipsis-oneline();\n  }\n}\n.options {\n  max-height: 260px;\n  padding: 5px;\n  overflow: auto;\n  text-align: left;\n  font-size: 13px;\n  user-select: none;\n}\n.option {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 5px;\n  border-radius: $borderRadius;\n  cursor: pointer;\n  @include ellipsis-oneline();\n\n  &.disabled {\n    color: #b7b7b7;\n    cursor: default;\n  }\n  &:not(.disabled, .selected):hover {\n    background-color: rgba($color: #666, $alpha: .05);\n  }\n\n  &.selected {\n    background-color: rgba($color: $themeColor, $alpha: .05);\n  }\n}\n.icon {\n  width: 32px;\n  height: 30px;\n  color: #bfbfbf;\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import script from \"./Select.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Select.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Select.vue?vue&type=style&index=0&id=5bf3b141&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bf3b141\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-41523c93\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"link-dialog\" }\nconst _hoisted_2 = {\n  key: 2,\n  class: \"preview\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \"Preview:\", -1))\nconst _hoisted_4 = { class: \"btns\" }\n\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\nimport Select from '@/components/Select.vue'\n\ntype TypeKey = 'web' | 'slide'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinkDialog',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { handleElement } = storeToRefs(useMainStore())\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst type = ref<TypeKey>('web')\nconst address = ref('')\nconst slideId = ref('')\n\nconst slideOptions = computed(() => {\n  return slides.value.map((item, index) => ({\n    label: ` ${index + 1}`,\n    value: item.id,\n    disabled: currentSlide.value.id === item.id,\n  }))\n})\n\nslideId.value = slides.value.find(item => item.id !== currentSlide.value.id)?.id || ''\n\nconst selectedSlide = computed(() => {\n  if (!slideId.value) return null\n\n  return slides.value.find(item => item.id === slideId.value) || null\n})\n\nconst tabs: TabItem[] = [\n  { key: 'web', label: '' },\n  { key: 'slide', label: '' },\n]\n\nconst { setLink } = useLink()\n\nonMounted(() => {\n  if (handleElement.value?.link) {\n    if (handleElement.value.link.type === 'web') address.value = handleElement.value.link.target\n    else if (handleElement.value.link.type === 'slide') slideId.value = handleElement.value.link.target\n\n    type.value = handleElement.value.link.type\n  }\n})\n\nconst save = () => {\n  const link: PPTElementLink = {\n    type: type.value,\n    target: type.value === 'web' ? address.value : slideId.value,\n  }\n  if (handleElement.value) {\n    const success = setLink(handleElement.value, link)\n    if (success) emit('close')\n    else address.value = ''\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: tabs,\n      value: type.value,\n      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((type).value = $event)),\n      tabsStyle: { marginBottom: '20px' }\n    }, null, 8, [\"value\"]),\n    (type.value === 'web')\n      ? (_openBlock(), _createBlock(Input, {\n          key: 0,\n          class: \"input\",\n          value: address.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((address).value = $event)),\n          placeholder: \"\"\n        }, null, 8, [\"value\"]))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'slide')\n      ? (_openBlock(), _createBlock(Select, {\n          key: 1,\n          class: \"input\",\n          value: slideId.value,\n          \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((slideId).value = $event)),\n          options: slideOptions.value\n        }, null, 8, [\"value\", \"options\"]))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'slide' && selectedSlide.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: selectedSlide.value,\n            size: 500\n          }, null, 8, [\"slide\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(Button, {\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('close'))),\n        style: {\"margin-right\":\"10px\"}\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Cancel\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        type: \"primary\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (save()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"confirm\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"link-dialog\">\n    <Tabs \n      :tabs=\"tabs\" \n      v-model:value=\"type\"\n      :tabsStyle=\"{ marginBottom: '20px' }\" \n    />\n\n    <Input \n      class=\"input\"\n      v-if=\"type === 'web'\" \n      v-model:value=\"address\" \n      placeholder=\"\"\n    />\n\n    <Select \n      class=\"input\"\n      v-if=\"type === 'slide'\"\n      v-model:value=\"slideId\"\n      :options=\"slideOptions\"\n    />\n\n    <div class=\"preview\" v-if=\"type === 'slide' && selectedSlide\">\n      <div>Preview:</div>\n      <ThumbnailSlide class=\"thumbnail\" :slide=\"selectedSlide\" :size=\"500\" />\n    </div>\n\n    <div class=\"btns\">\n      <Button @click=\"emit('close')\" style=\"margin-right: 10px;\">Cancel</Button>\n      <Button type=\"primary\" @click=\"save()\">confirm</Button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\nimport Select from '@/components/Select.vue'\n\ntype TypeKey = 'web' | 'slide'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { handleElement } = storeToRefs(useMainStore())\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst type = ref<TypeKey>('web')\nconst address = ref('')\nconst slideId = ref('')\n\nconst slideOptions = computed(() => {\n  return slides.value.map((item, index) => ({\n    label: ` ${index + 1}`,\n    value: item.id,\n    disabled: currentSlide.value.id === item.id,\n  }))\n})\n\nslideId.value = slides.value.find(item => item.id !== currentSlide.value.id)?.id || ''\n\nconst selectedSlide = computed(() => {\n  if (!slideId.value) return null\n\n  return slides.value.find(item => item.id === slideId.value) || null\n})\n\nconst tabs: TabItem[] = [\n  { key: 'web', label: '' },\n  { key: 'slide', label: '' },\n]\n\nconst { setLink } = useLink()\n\nonMounted(() => {\n  if (handleElement.value?.link) {\n    if (handleElement.value.link.type === 'web') address.value = handleElement.value.link.target\n    else if (handleElement.value.link.type === 'slide') slideId.value = handleElement.value.link.target\n\n    type.value = handleElement.value.link.type\n  }\n})\n\nconst save = () => {\n  const link: PPTElementLink = {\n    type: type.value,\n    target: type.value === 'web' ? address.value : slideId.value,\n  }\n  if (handleElement.value) {\n    const success = setLink(handleElement.value, link)\n    if (success) emit('close')\n    else address.value = ''\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.link-dialog {\n  font-size: 13px;\n  line-height: 1.675;\n}\n.input {\n  width: 100%;\n  height: 32px;\n}\n.preview {\n  margin-top: 12px;\n}\n.thumbnail {\n  border: 1px solid rgba($color: $themeColor, $alpha: .15);\n  margin-top: 5px;\n}\n.btns {\n  margin-top: 20px;\n  text-align: right;\n}\n</style>","import script from \"./LinkDialog.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinkDialog.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinkDialog.vue?vue&type=style&index=0&id=41523c93&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-41523c93\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, vShow as _vShow, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, withKeys as _withKeys, Teleport as _Teleport, createBlock as _createBlock } from \"vue\"\n\nimport { computed, nextTick, ref, watch, type CSSProperties } from 'vue'\nimport { icons } from '@/plugins/icon'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Modal',\n  props: {\n    visible: { type: Boolean },\n    width: { default: 480 },\n    closeButton: { type: Boolean, default: false },\n    closeOnClickMask: { type: Boolean, default: true },\n    closeOnEsc: { type: Boolean, default: true },\n    contentStyle: {}\n  },\n  emits: [\"update:visible\", \"closed\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst { IconClose } = icons\n\nconst props = __props\n\nconst modalRef = ref<HTMLDivElement>()\n\nconst emit = __emit\n\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return {\n    width: props.width + 'px',\n    ...(props.contentStyle || {})\n  }\n})\n\nwatch(() => props.visible, () => {\n  if (props.visible) {\n    nextTick(() => modalRef.value!.focus())\n  }\n})\n\nconst close = () => {\n  emit('update:visible', false)\n  emit('closed')\n}\n\nconst onEsc = () => {\n  if (props.visible && props.closeOnEsc) close()\n}\n\nconst onClickMask = () => {\n  if (props.closeOnClickMask) close()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n    _createVNode(_Transition, { name: \"modal-fade\" }, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"div\", {\n          class: \"modal\",\n          ref_key: \"modalRef\",\n          ref: modalRef,\n          tabindex: \"-1\",\n          onKeyup: _cache[4] || (_cache[4] = _withKeys(($event: any) => (onEsc()), [\"esc\"]))\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"mask\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (onClickMask()))\n          }),\n          _createVNode(_Transition, {\n            name: \"modal-zoom\",\n            onAfterLeave: _cache[2] || (_cache[2] = ($event: any) => (contentVisible.value = false)),\n            onBeforeEnter: _cache[3] || (_cache[3] = ($event: any) => (contentVisible.value = true))\n          }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", {\n                class: \"modal-content\",\n                style: _normalizeStyle(contentStyle.value)\n              }, [\n                (_ctx.closeButton)\n                  ? (_openBlock(), _createElementBlock(\"span\", {\n                      key: 0,\n                      class: \"close-btn\",\n                      onClick: _cache[1] || (_cache[1] = ($event: any) => (close()))\n                    }, [\n                      _createVNode(_unref(IconClose))\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (contentVisible.value)\n                  ? _renderSlot(_ctx.$slots, \"default\", { key: 1 })\n                  : _createCommentVNode(\"\", true)\n              ], 4), [\n                [_vShow, _ctx.visible]\n              ])\n            ]),\n            _: 3\n          })\n        ], 544), [\n          [_vShow, _ctx.visible]\n        ])\n      ]),\n      _: 3\n    })\n  ]))\n}\n}\n\n})","<template>\n  <Teleport to=\"body\">\n    <Transition name=\"modal-fade\">\n      <div class=\"modal\" ref=\"modalRef\" v-show=\"visible\" tabindex=\"-1\" @keyup.esc=\"onEsc()\">\n        <div class=\"mask\" @click=\"onClickMask()\"></div>\n        <Transition name=\"modal-zoom\"\n          @afterLeave=\"contentVisible = false\"\n          @before-enter=\"contentVisible = true\"\n        >\n          <div class=\"modal-content\" v-show=\"visible\" :style=\"contentStyle\">\n            <span class=\"close-btn\" v-if=\"closeButton\" @click=\"close()\"><IconClose /></span>\n            <slot v-if=\"contentVisible\"></slot>\n          </div>\n        </Transition>\n      </div>\n    </Transition>\n  </Teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref, watch, type CSSProperties } from 'vue'\nimport { icons } from '@/plugins/icon'\n\nconst { IconClose } = icons\n\nconst props = withDefaults(defineProps<{\n  visible: boolean\n  width?: number\n  closeButton?: boolean\n  closeOnClickMask?: boolean\n  closeOnEsc?: boolean\n  contentStyle?: CSSProperties\n}>(), {\n  width: 480,\n  closeButton: false,\n  closeOnClickMask: true,\n  closeOnEsc: true,\n})\n\nconst modalRef = ref<HTMLDivElement>()\n\nconst emit = defineEmits<{\n  (event: 'update:visible', payload: boolean): void\n  (event: 'closed'): void\n}>()\n\nconst contentVisible = ref(false)\n\nconst contentStyle = computed(() => {\n  return {\n    width: props.width + 'px',\n    ...(props.contentStyle || {})\n  }\n})\n\nwatch(() => props.visible, () => {\n  if (props.visible) {\n    nextTick(() => modalRef.value!.focus())\n  }\n})\n\nconst close = () => {\n  emit('update:visible', false)\n  emit('closed')\n}\n\nconst onEsc = () => {\n  if (props.visible && props.closeOnEsc) close()\n}\n\nconst onClickMask = () => {\n  if (props.closeOnClickMask) close()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal, .mask {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 5000;\n}\n\n.modal {\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  outline: 0;\n  border: 0;\n}\n\n.mask {\n  position: absolute;\n  background: rgba(0, 0, 0, .25);\n}\n\n.modal-content {\n  z-index: 5001;\n  padding: 20px;\n  background: #fff;\n  border-radius: $borderRadius;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, .2);\n  position: relative;\n}\n\n.close-btn {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  cursor: pointer;\n}\n\n.modal-fade-enter-active {\n  animation: modal-fade-enter .25s both ease-in;\n}\n.modal-fade-leave-active {\n  animation: modal-fade-leave .25s both ease-out;\n}\n.modal-zoom-enter-active {\n  animation: modal-zoom-enter .25s both cubic-bezier(.4, 0, 0, 1.5);\n}\n.modal-zoom-leave-active {\n  animation: modal-zoom-leave .25s both;\n}\n\n@keyframes modal-fade-enter {\n  from {\n    opacity: 0;\n  }\n}\n@keyframes modal-fade-leave {\n  to {\n    opacity: 0;\n  }\n}\n@keyframes modal-zoom-enter {\n  from {\n    transform: scale3d(.3, .3, .3);\n  }\n}\n@keyframes modal-zoom-leave {\n  to {\n    transform: scale3d(.3, .3, .3);\n  }\n}\n</style>","import script from \"./Modal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=fea8edcc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fea8edcc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, resolveDirective as _resolveDirective, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7c16d8cc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"operates\" }\nconst _hoisted_2 = {\n  key: 2,\n  class: \"drag-mask\"\n}\n\nimport {\n  nextTick,\n  onMounted,\n  onUnmounted,\n  provide,\n  ref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport { throttle } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport type { PPTElement } from '@/types/slides'\nimport type { AlignmentLineProps, CreateCustomShapeData } from '@/types/edit'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { removeAllRanges } from '@/utils/selection'\nimport { KEYS } from '@/configs/hotkey'\n\nimport useViewportSize from './hooks/useViewportSize'\nimport useMouseSelection from './hooks/useMouseSelection'\nimport useDropImageOrText from './hooks/useDropImageOrText'\nimport useRotateElement from './hooks/useRotateElement'\nimport useScaleElement from './hooks/useScaleElement'\nimport useSelectElement from './hooks/useSelectElement'\nimport useDragElement from './hooks/useDragElement'\nimport useDragLineElement from './hooks/useDragLineElement'\nimport useMoveShapeKeypoint from './hooks/useMoveShapeKeypoint'\nimport useInsertFromCreateSelection from './hooks/useInsertFromCreateSelection'\n\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useScreening from '@/hooks/useScreening'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nimport EditableElement from './EditableElement.vue'\nimport MouseSelection from './MouseSelection.vue'\nimport ViewportBackground from './ViewportBackground.vue'\nimport AlignmentLine from './AlignmentLine.vue'\nimport Ruler from './Ruler.vue'\nimport ElementCreateSelection from './ElementCreateSelection.vue'\nimport ShapeCreateCanvas from './ShapeCreateCanvas.vue'\nimport MultiSelectOperate from './Operate/MultiSelectOperate.vue'\nimport Operate from './Operate/index.vue'\nimport LinkDialog from './LinkDialog.vue'\nimport Modal from '@/components/Modal.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst {\n  activeElementIdList,\n  activeGroupElementId,\n  handleElementId,\n  hiddenElementIdList,\n  editorAreaFocus,\n  gridLineSize,\n  showRuler,\n  creatingElement,\n  creatingCustomShape,\n  canvasScale,\n  textFormatPainter,\n} = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst { ctrlKeyState, spaceKeyState } = storeToRefs(useKeyboardStore())\n\nconst viewportRef = ref<HTMLElement>()\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst linkDialogVisible = ref(false)\nconst openLinkDialog = () => (linkDialogVisible.value = true)\n\nwatch(handleElementId, () => {\n  mainStore.setActiveGroupElementId('')\n})\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value\n    ? JSON.parse(JSON.stringify(currentSlide.value.elements))\n    : []\n}\nwatchEffect(setLocalElementList)\n\nconst canvasRef = ref<HTMLElement>()\nconst { dragViewport, viewportStyles } = useViewportSize(canvasRef)\n\nuseDropImageOrText(canvasRef)\n\nconst {\n  mouseSelection,\n  mouseSelectionVisible,\n  mouseSelectionQuadrant,\n  updateMouseSelection,\n} = useMouseSelection(elementList, viewportRef)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { dragLineElement } = useDragLineElement(elementList)\nconst { selectElement } = useSelectElement(elementList, dragElement)\nconst { scaleElement, scaleMultiElement } = useScaleElement(\n  elementList,\n  alignmentLines,\n  canvasScale\n)\nconst { rotateElement } = useRotateElement(\n  elementList,\n  viewportRef,\n  canvasScale\n)\nconst { moveShapeKeypoint } = useMoveShapeKeypoint(elementList, canvasScale)\n\nconst { selectAllElement } = useSelectAllElement()\nconst { deleteAllElements } = useDeleteElement()\nconst { pasteElement } = useCopyAndPasteElement()\nconst { enterScreeningFromStart } = useScreening()\nconst { updateSlideIndex } = useSlideHandler()\nconst { createTextElement, createShapeElement } = useCreateElement()\n\n// \n// \nonMounted(() => {\n  if (activeElementIdList.value.length) {\n    nextTick(() => mainStore.setActiveElementIdList([]))\n  }\n})\n\n// \nconst handleClickBlankArea = (e: MouseEvent) => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n\n  if (!spaceKeyState.value) updateMouseSelection(e)\n  else dragViewport(e)\n\n  if (!editorAreaFocus.value) mainStore.setEditorareaFocus(true)\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n  removeAllRanges()\n}\n\n// \nconst handleDblClick = (e: MouseEvent) => {\n  if (\n    activeElementIdList.value.length ||\n    creatingElement.value ||\n    creatingCustomShape.value\n  ) {\n    return\n  }\n  if (!viewportRef.value) {\n    return\n  }\n\n  const viewportRect = viewportRef.value.getBoundingClientRect()\n  const left = (e.pageX - viewportRect.x) / canvasScale.value\n  const top = (e.pageY - viewportRect.y) / canvasScale.value\n\n  createTextElement({\n    left,\n    top,\n    width: 200 / canvasScale.value, //  canvasScale \n    height: 0,\n  })\n}\n\n// \nonUnmounted(() => {\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n})\n\n// \nconst removeEditorAreaFocus = () => {\n  if (editorAreaFocus.value) mainStore.setEditorareaFocus(false)\n}\n\n// \nconst { scaleCanvas } = useScaleCanvas()\nconst throttleScaleCanvas = throttle(scaleCanvas, 100, {\n  leading: true,\n  trailing: false,\n})\nconst throttleUpdateSlideIndex = throttle(updateSlideIndex, 300, {\n  leading: true,\n  trailing: false,\n})\n\nconst handleMousewheelCanvas = (e: WheelEvent) => {\n  e.preventDefault()\n\n  // Ctrl\n  if (ctrlKeyState.value) {\n    if (e.deltaY > 0) throttleScaleCanvas('-')\n    else if (e.deltaY < 0) throttleScaleCanvas('+')\n  }\n  // \n  else {\n    if (e.deltaY > 0) throttleUpdateSlideIndex(KEYS.DOWN)\n    else if (e.deltaY < 0) throttleUpdateSlideIndex(KEYS.UP)\n  }\n}\n\n// \nconst toggleRuler = () => {\n  mainStore.setRulerState(!showRuler.value)\n}\n\n// \nconst { insertElementFromCreateSelection, formatCreateSelection } =\n  useInsertFromCreateSelection(viewportRef)\n\n// \nconst insertCustomShape = (data: CreateCustomShapeData) => {\n  const { start, end, path, viewBox } = data\n  const position = formatCreateSelection({ start, end })\n  position && createShapeElement(position, { path, viewBox })\n\n  mainStore.setCreatingCustomShapeState(false)\n}\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: 'ruler',\n      subText: showRuler.value ? '' : '',\n      handler: toggleRuler,\n    },\n    {\n      text: 'grid lines',\n      handler: () => mainStore.setGridLineSize(gridLineSize.value ? 0 : 50),\n      children: [\n        {\n          text: 'None',\n          subText: gridLineSize.value === 0 ? '' : '',\n          handler: () => mainStore.setGridLineSize(0),\n        },\n        {\n          text: 'small',\n          subText: gridLineSize.value === 25 ? '' : '',\n          handler: () => mainStore.setGridLineSize(25),\n        },\n        {\n          text: '',\n          subText: gridLineSize.value === 50 ? '' : '',\n          handler: () => mainStore.setGridLineSize(50),\n        },\n        {\n          text: 'big',\n          subText: gridLineSize.value === 100 ? '' : '',\n          handler: () => mainStore.setGridLineSize(100),\n        },\n      ],\n    },\n    {\n      text: 'Reset current page',\n      handler: deleteAllElements,\n    },\n    { divider: true },\n    {\n      text: 'Slide show',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nprovide(injectKeySlideScale, canvasScale)\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas\",\n    ref_key: \"canvasRef\",\n    ref: canvasRef,\n    onWheel: _cache[4] || (_cache[4] = ($event) => handleMousewheelCanvas($event)),\n    onMousedown: _cache[5] || (_cache[5] = ($event) => handleClickBlankArea($event)),\n    onDblclick: _cache[6] || (_cache[6] = ($event) => handleDblClick($event))\n  }, [\n    (_unref(creatingElement))\n      ? (_openBlock(), _createBlock(ElementCreateSelection, {\n          key: 0,\n          onCreated: _cache[0] || (_cache[0] = (data) => _unref(insertElementFromCreateSelection)(data))\n        }))\n      : _createCommentVNode(\"\", true),\n    (_unref(creatingCustomShape))\n      ? (_openBlock(), _createBlock(ShapeCreateCanvas, {\n          key: 1,\n          onCreated: _cache[1] || (_cache[1] = (data) => insertCustomShape(data))\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"viewport-wrapper\",\n      style: _normalizeStyle({\n        width: _unref(viewportStyles).width * _unref(canvasScale) + 'px',\n        height: _unref(viewportStyles).height * _unref(canvasScale) + 'px',\n        left: _unref(viewportStyles).left + 'px',\n        top: _unref(viewportStyles).top + 'px',\n      })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(alignmentLines.value, (line, index) => {\n          return (_openBlock(), _createBlock(AlignmentLine, {\n            key: index,\n            type: line.type,\n            axis: line.axis,\n            length: line.length,\n            canvasScale: _unref(canvasScale)\n          }, null, 8, [\"type\", \"axis\", \"length\", \"canvasScale\"]))\n        }), 128)),\n        (_unref(activeElementIdList).length > 1)\n          ? (_openBlock(), _createBlock(MultiSelectOperate, {\n              key: 0,\n              elementList: elementList.value,\n              scaleMultiElement: _unref(scaleMultiElement)\n            }, null, 8, [\"elementList\", \"scaleMultiElement\"]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element) => {\n          return _withDirectives((_openBlock(), _createBlock(Operate, {\n            key: element.id,\n            elementInfo: element,\n            isSelected: _unref(activeElementIdList).includes(element.id),\n            isActive: _unref(handleElementId) === element.id,\n            isActiveGroupElement: _unref(activeGroupElementId) === element.id,\n            isMultiSelect: _unref(activeElementIdList).length > 1,\n            rotateElement: _unref(rotateElement),\n            scaleElement: _unref(scaleElement),\n            openLinkDialog: openLinkDialog,\n            dragLineElement: _unref(dragLineElement),\n            moveShapeKeypoint: _unref(moveShapeKeypoint)\n          }, null, 8, [\"elementInfo\", \"isSelected\", \"isActive\", \"isActiveGroupElement\", \"isMultiSelect\", \"rotateElement\", \"scaleElement\", \"dragLineElement\", \"moveShapeKeypoint\"])), [\n            [_vShow, !_unref(hiddenElementIdList).includes(element.id)]\n          ])\n        }), 128)),\n        _createVNode(ViewportBackground)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"viewport\",\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        style: _normalizeStyle({ transform: `scale(${_unref(canvasScale)})` })\n      }, [\n        (_unref(mouseSelectionVisible))\n          ? (_openBlock(), _createBlock(MouseSelection, {\n              key: 0,\n              top: _unref(mouseSelection).top,\n              left: _unref(mouseSelection).left,\n              width: _unref(mouseSelection).width,\n              height: _unref(mouseSelection).height,\n              quadrant: _unref(mouseSelectionQuadrant)\n            }, null, 8, [\"top\", \"left\", \"width\", \"height\", \"quadrant\"]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element, index) => {\n          return _withDirectives((_openBlock(), _createBlock(EditableElement, {\n            key: element.id,\n            elementInfo: element,\n            elementIndex: index + 1,\n            isMultiSelect: _unref(activeElementIdList).length > 1,\n            selectElement: _unref(selectElement),\n            openLinkDialog: openLinkDialog\n          }, null, 8, [\"elementInfo\", \"elementIndex\", \"isMultiSelect\", \"selectElement\"])), [\n            [_vShow, !_unref(hiddenElementIdList).includes(element.id)]\n          ])\n        }), 128))\n      ], 4)\n    ], 4),\n    (_unref(spaceKeyState))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n      : _createCommentVNode(\"\", true),\n    (_unref(showRuler))\n      ? (_openBlock(), _createBlock(Ruler, {\n          key: 3,\n          viewportStyles: _unref(viewportStyles)\n        }, null, 8, [\"viewportStyles\"]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Modal, {\n      visible: linkDialogVisible.value,\n      \"onUpdate:visible\": _cache[3] || (_cache[3] = ($event: any) => ((linkDialogVisible).value = $event)),\n      width: 540\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LinkDialog, {\n          onClose: _cache[2] || (_cache[2] = ($event: any) => (linkDialogVisible.value = false))\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 32)), [\n    [_directive_contextmenu, contextmenus],\n    [_directive_click_outside, removeEditorAreaFocus]\n  ])\n}\n}\n\n})","<template>\n  <div\n    class=\"canvas\"\n    ref=\"canvasRef\"\n    @wheel=\"($event) => handleMousewheelCanvas($event)\"\n    @mousedown=\"($event) => handleClickBlankArea($event)\"\n    @dblclick=\"($event) => handleDblClick($event)\"\n    v-contextmenu=\"contextmenus\"\n    v-click-outside=\"removeEditorAreaFocus\"\n  >\n    <ElementCreateSelection\n      v-if=\"creatingElement\"\n      @created=\"(data) => insertElementFromCreateSelection(data)\"\n    />\n    <ShapeCreateCanvas\n      v-if=\"creatingCustomShape\"\n      @created=\"(data) => insertCustomShape(data)\"\n    />\n    <div\n      class=\"viewport-wrapper\"\n      :style=\"{\n        width: viewportStyles.width * canvasScale + 'px',\n        height: viewportStyles.height * canvasScale + 'px',\n        left: viewportStyles.left + 'px',\n        top: viewportStyles.top + 'px',\n      }\"\n    >\n      <div class=\"operates\">\n        <AlignmentLine\n          v-for=\"(line, index) in alignmentLines\"\n          :key=\"index\"\n          :type=\"line.type\"\n          :axis=\"line.axis\"\n          :length=\"line.length\"\n          :canvasScale=\"canvasScale\"\n        />\n        <MultiSelectOperate\n          v-if=\"activeElementIdList.length > 1\"\n          :elementList=\"elementList\"\n          :scaleMultiElement=\"scaleMultiElement\"\n        />\n        <Operate\n          v-for=\"element in elementList\"\n          :key=\"element.id\"\n          :elementInfo=\"element\"\n          :isSelected=\"activeElementIdList.includes(element.id)\"\n          :isActive=\"handleElementId === element.id\"\n          :isActiveGroupElement=\"activeGroupElementId === element.id\"\n          :isMultiSelect=\"activeElementIdList.length > 1\"\n          :rotateElement=\"rotateElement\"\n          :scaleElement=\"scaleElement\"\n          :openLinkDialog=\"openLinkDialog\"\n          :dragLineElement=\"dragLineElement\"\n          :moveShapeKeypoint=\"moveShapeKeypoint\"\n          v-show=\"!hiddenElementIdList.includes(element.id)\"\n        />\n        <ViewportBackground />\n      </div>\n\n      <div\n        class=\"viewport\"\n        ref=\"viewportRef\"\n        :style=\"{ transform: `scale(${canvasScale})` }\"\n      >\n        <MouseSelection\n          v-if=\"mouseSelectionVisible\"\n          :top=\"mouseSelection.top\"\n          :left=\"mouseSelection.left\"\n          :width=\"mouseSelection.width\"\n          :height=\"mouseSelection.height\"\n          :quadrant=\"mouseSelectionQuadrant\"\n        />\n        <EditableElement\n          v-for=\"(element, index) in elementList\"\n          :key=\"element.id\"\n          :elementInfo=\"element\"\n          :elementIndex=\"index + 1\"\n          :isMultiSelect=\"activeElementIdList.length > 1\"\n          :selectElement=\"selectElement\"\n          :openLinkDialog=\"openLinkDialog\"\n          v-show=\"!hiddenElementIdList.includes(element.id)\"\n        />\n      </div>\n    </div>\n\n    <div class=\"drag-mask\" v-if=\"spaceKeyState\"></div>\n\n    <Ruler :viewportStyles=\"viewportStyles\" v-if=\"showRuler\" />\n\n    <Modal v-model:visible=\"linkDialogVisible\" :width=\"540\">\n      <LinkDialog @close=\"linkDialogVisible = false\" />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  nextTick,\n  onMounted,\n  onUnmounted,\n  provide,\n  ref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport { throttle } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport type { PPTElement } from '@/types/slides'\nimport type { AlignmentLineProps, CreateCustomShapeData } from '@/types/edit'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { removeAllRanges } from '@/utils/selection'\nimport { KEYS } from '@/configs/hotkey'\n\nimport useViewportSize from './hooks/useViewportSize'\nimport useMouseSelection from './hooks/useMouseSelection'\nimport useDropImageOrText from './hooks/useDropImageOrText'\nimport useRotateElement from './hooks/useRotateElement'\nimport useScaleElement from './hooks/useScaleElement'\nimport useSelectElement from './hooks/useSelectElement'\nimport useDragElement from './hooks/useDragElement'\nimport useDragLineElement from './hooks/useDragLineElement'\nimport useMoveShapeKeypoint from './hooks/useMoveShapeKeypoint'\nimport useInsertFromCreateSelection from './hooks/useInsertFromCreateSelection'\n\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useScreening from '@/hooks/useScreening'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nimport EditableElement from './EditableElement.vue'\nimport MouseSelection from './MouseSelection.vue'\nimport ViewportBackground from './ViewportBackground.vue'\nimport AlignmentLine from './AlignmentLine.vue'\nimport Ruler from './Ruler.vue'\nimport ElementCreateSelection from './ElementCreateSelection.vue'\nimport ShapeCreateCanvas from './ShapeCreateCanvas.vue'\nimport MultiSelectOperate from './Operate/MultiSelectOperate.vue'\nimport Operate from './Operate/index.vue'\nimport LinkDialog from './LinkDialog.vue'\nimport Modal from '@/components/Modal.vue'\n\nconst mainStore = useMainStore()\nconst {\n  activeElementIdList,\n  activeGroupElementId,\n  handleElementId,\n  hiddenElementIdList,\n  editorAreaFocus,\n  gridLineSize,\n  showRuler,\n  creatingElement,\n  creatingCustomShape,\n  canvasScale,\n  textFormatPainter,\n} = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst { ctrlKeyState, spaceKeyState } = storeToRefs(useKeyboardStore())\n\nconst viewportRef = ref<HTMLElement>()\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst linkDialogVisible = ref(false)\nconst openLinkDialog = () => (linkDialogVisible.value = true)\n\nwatch(handleElementId, () => {\n  mainStore.setActiveGroupElementId('')\n})\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value\n    ? JSON.parse(JSON.stringify(currentSlide.value.elements))\n    : []\n}\nwatchEffect(setLocalElementList)\n\nconst canvasRef = ref<HTMLElement>()\nconst { dragViewport, viewportStyles } = useViewportSize(canvasRef)\n\nuseDropImageOrText(canvasRef)\n\nconst {\n  mouseSelection,\n  mouseSelectionVisible,\n  mouseSelectionQuadrant,\n  updateMouseSelection,\n} = useMouseSelection(elementList, viewportRef)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { dragLineElement } = useDragLineElement(elementList)\nconst { selectElement } = useSelectElement(elementList, dragElement)\nconst { scaleElement, scaleMultiElement } = useScaleElement(\n  elementList,\n  alignmentLines,\n  canvasScale\n)\nconst { rotateElement } = useRotateElement(\n  elementList,\n  viewportRef,\n  canvasScale\n)\nconst { moveShapeKeypoint } = useMoveShapeKeypoint(elementList, canvasScale)\n\nconst { selectAllElement } = useSelectAllElement()\nconst { deleteAllElements } = useDeleteElement()\nconst { pasteElement } = useCopyAndPasteElement()\nconst { enterScreeningFromStart } = useScreening()\nconst { updateSlideIndex } = useSlideHandler()\nconst { createTextElement, createShapeElement } = useCreateElement()\n\n// \n// \nonMounted(() => {\n  if (activeElementIdList.value.length) {\n    nextTick(() => mainStore.setActiveElementIdList([]))\n  }\n})\n\n// \nconst handleClickBlankArea = (e: MouseEvent) => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n\n  if (!spaceKeyState.value) updateMouseSelection(e)\n  else dragViewport(e)\n\n  if (!editorAreaFocus.value) mainStore.setEditorareaFocus(true)\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n  removeAllRanges()\n}\n\n// \nconst handleDblClick = (e: MouseEvent) => {\n  if (\n    activeElementIdList.value.length ||\n    creatingElement.value ||\n    creatingCustomShape.value\n  ) {\n    return\n  }\n  if (!viewportRef.value) {\n    return\n  }\n\n  const viewportRect = viewportRef.value.getBoundingClientRect()\n  const left = (e.pageX - viewportRect.x) / canvasScale.value\n  const top = (e.pageY - viewportRect.y) / canvasScale.value\n\n  createTextElement({\n    left,\n    top,\n    width: 200 / canvasScale.value, //  canvasScale \n    height: 0,\n  })\n}\n\n// \nonUnmounted(() => {\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n})\n\n// \nconst removeEditorAreaFocus = () => {\n  if (editorAreaFocus.value) mainStore.setEditorareaFocus(false)\n}\n\n// \nconst { scaleCanvas } = useScaleCanvas()\nconst throttleScaleCanvas = throttle(scaleCanvas, 100, {\n  leading: true,\n  trailing: false,\n})\nconst throttleUpdateSlideIndex = throttle(updateSlideIndex, 300, {\n  leading: true,\n  trailing: false,\n})\n\nconst handleMousewheelCanvas = (e: WheelEvent) => {\n  e.preventDefault()\n\n  // Ctrl\n  if (ctrlKeyState.value) {\n    if (e.deltaY > 0) throttleScaleCanvas('-')\n    else if (e.deltaY < 0) throttleScaleCanvas('+')\n  }\n  // \n  else {\n    if (e.deltaY > 0) throttleUpdateSlideIndex(KEYS.DOWN)\n    else if (e.deltaY < 0) throttleUpdateSlideIndex(KEYS.UP)\n  }\n}\n\n// \nconst toggleRuler = () => {\n  mainStore.setRulerState(!showRuler.value)\n}\n\n// \nconst { insertElementFromCreateSelection, formatCreateSelection } =\n  useInsertFromCreateSelection(viewportRef)\n\n// \nconst insertCustomShape = (data: CreateCustomShapeData) => {\n  const { start, end, path, viewBox } = data\n  const position = formatCreateSelection({ start, end })\n  position && createShapeElement(position, { path, viewBox })\n\n  mainStore.setCreatingCustomShapeState(false)\n}\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: 'ruler',\n      subText: showRuler.value ? '' : '',\n      handler: toggleRuler,\n    },\n    {\n      text: 'grid lines',\n      handler: () => mainStore.setGridLineSize(gridLineSize.value ? 0 : 50),\n      children: [\n        {\n          text: 'None',\n          subText: gridLineSize.value === 0 ? '' : '',\n          handler: () => mainStore.setGridLineSize(0),\n        },\n        {\n          text: 'small',\n          subText: gridLineSize.value === 25 ? '' : '',\n          handler: () => mainStore.setGridLineSize(25),\n        },\n        {\n          text: '',\n          subText: gridLineSize.value === 50 ? '' : '',\n          handler: () => mainStore.setGridLineSize(50),\n        },\n        {\n          text: 'big',\n          subText: gridLineSize.value === 100 ? '' : '',\n          handler: () => mainStore.setGridLineSize(100),\n        },\n      ],\n    },\n    {\n      text: 'Reset current page',\n      handler: deleteAllElements,\n    },\n    { divider: true },\n    {\n      text: 'Slide show',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nprovide(injectKeySlideScale, canvasScale)\n</script>\n\n<style lang=\"scss\" scoped>\n.canvas {\n  height: 100%;\n  user-select: none;\n  overflow: hidden;\n  background-color: $lightGray;\n  position: relative;\n}\n.drag-mask {\n  cursor: grab;\n  @include absolute-0();\n}\n.viewport-wrapper {\n  position: absolute;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n}\n.viewport {\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform-origin: 0 0;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7c16d8cc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c16d8cc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8603ad34\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-item-thumbnail\" }\nconst _hoisted_2 = { class: \"shape-content\" }\nconst _hoisted_3 = {\n  overflow: \"visible\",\n  width: \"18\",\n  height: \"18\"\n}\nconst _hoisted_4 = [\"transform\"]\nconst _hoisted_5 = [\"fill\", \"stroke\", \"d\"]\n\nimport type { ShapePoolItem } from '@/configs/shapes'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapeItemThumbnail',\n  props: {\n    shape: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, [\n        _createElementVNode(\"g\", {\n          transform: `scale(${18 / _ctx.shape.viewBox[0]}, ${18 / _ctx.shape.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n        }, [\n          _createElementVNode(\"path\", {\n            class: _normalizeClass([\"shape-path\", { 'outlined': _ctx.shape.outlined }]),\n            \"vector-effect\": \"non-scaling-stroke\",\n            \"stroke-linecap\": \"butt\",\n            \"stroke-miterlimit\": \"8\",\n            fill: _ctx.shape.outlined ? '#999' : 'transparent',\n            stroke: _ctx.shape.outlined ? 'transparent' : '#999',\n            \"stroke-width\": \"2\",\n            d: _ctx.shape.path\n          }, null, 10, _hoisted_5)\n        ], 8, _hoisted_4)\n      ]))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ShapeItemThumbnail.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeItemThumbnail.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeItemThumbnail.vue?vue&type=style&index=0&id=8603ad34&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8603ad34\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8b994b42\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-pool\" }\nconst _hoisted_2 = { class: \"category-name\" }\nconst _hoisted_3 = { class: \"shape-list\" }\n\nimport { SHAPE_LIST, type ShapePoolItem } from '@/configs/shapes'\nimport ShapeItemThumbnail from './ShapeItemThumbnail.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapePool',\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst selectShape = (shape: ShapePoolItem) => {\n  emit('select', shape)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(SHAPE_LIST), (item) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"category\",\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (shape, index) => {\n            return (_openBlock(), _createBlock(ShapeItemThumbnail, {\n              class: \"shape-item\",\n              key: index,\n              shape: shape,\n              onClick: ($event: any) => (selectShape(shape))\n            }, null, 8, [\"shape\", \"onClick\"]))\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"shape-pool\">\n    <div class=\"category\" v-for=\"item in SHAPE_LIST\" :key=\"item.type\">\n      <div class=\"category-name\">{{item.type}}</div>\n      <div class=\"shape-list\">\n        <ShapeItemThumbnail \n          class=\"shape-item\"\n          v-for=\"(shape, index) in item.children\" \n          :key=\"index\" \n          :shape=\"shape\" \n          @click=\"selectShape(shape)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { SHAPE_LIST, type ShapePoolItem } from '@/configs/shapes'\nimport ShapeItemThumbnail from './ShapeItemThumbnail.vue'\n\nconst emit = defineEmits<{\n  (event: 'select', payload: ShapePoolItem): void\n}>()\n\nconst selectShape = (shape: ShapePoolItem) => {\n  emit('select', shape)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.shape-pool {\n  width: 340px;\n  max-height: 520px;\n  overflow: auto;\n  margin-top: -12px;\n  margin-bottom: -12px;\n  margin-right: -12px;\n  padding-right: 12px;\n  padding-top: 12px;\n}\n.category-name {\n  width: 100%;\n  font-size: 13px;\n  margin-bottom: 10px;\n  border-left: 4px solid #aaa;\n  background-color: #eee;\n  padding: 2px 0 2px 10px;\n}\n.shape-list {\n  @include flex-grid-layout();\n\n  margin-bottom: 10px;\n}\n.shape-item {\n  @include flex-grid-layout-children(10, 8%);\n\n  height: 0;\n  padding-bottom: 8%;\n  flex-shrink: 0;\n}\n</style>","import script from \"./ShapePool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapePool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapePool.vue?vue&type=style&index=0&id=8b994b42&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8b994b42\"]])\n\nexport default __exports__","import type { LinePoint } from '@/types/slides'\n\n\nexport interface LinePoolItem {\n  path: string\n  style: 'solid' | 'dashed'\n  points: [LinePoint, LinePoint]\n  isBroken?: boolean\n  isCurve?: boolean\n  isCubic?: boolean\n}\n\ninterface PresetLine {\n  type: string\n  children: LinePoolItem[]\n}\n\nexport const LINE_LIST: PresetLine[] = [\n  {\n    type: 'straight line',\n    children: [\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', ''] },\n      { path: 'M 0 0 L 20 20', style: 'dashed', points: ['', ''] },\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', 'arrow'] },\n      { path: 'M 0 0 L 20 20', style: 'dashed', points: ['', 'arrow'] },\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', 'dot'] },\n    ],\n  },\n  {\n    type: 'polyline, curve',\n    children: [\n      { path: 'M 0 0 L 0 20 L 20 20', style: 'solid', points: ['', 'arrow'], isBroken: true },\n      { path: 'M 0 0 Q 0 20 20 20', style: 'solid', points: ['', 'arrow'], isCurve: true },\n      { path: 'M 0 0 C 20 0 0 20 20 20', style: 'solid', points: ['', 'arrow'], isCubic: true },\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-554824b6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-pool\" }\nconst _hoisted_2 = { class: \"category-name\" }\nconst _hoisted_3 = { class: \"line-list\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = {\n  overflow: \"visible\",\n  width: \"20\",\n  height: \"20\"\n}\nconst _hoisted_6 = [\"d\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\n\nimport { LINE_LIST, type LinePoolItem } from '@/configs/lines'\n\nimport LinePointMarker from '@/views/components/element/LineElement/LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinePool',\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst selectLine = (line: LinePoolItem) => {\n  emit('select', line)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(LINE_LIST), (item, i) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"category\",\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (line, j) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"line-item\",\n              key: j\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"line-content\",\n                onClick: ($event: any) => (selectLine(line))\n              }, [\n                (_openBlock(), _createElementBlock(\"svg\", _hoisted_5, [\n                  _createElementVNode(\"defs\", null, [\n                    (line.points[0])\n                      ? (_openBlock(), _createBlock(LinePointMarker, {\n                          key: 0,\n                          class: \"line-marker\",\n                          id: `preset-line-${i}-${j}`,\n                          position: \"start\",\n                          type: line.points[0],\n                          color: \"currentColor\",\n                          baseSize: 2\n                        }, null, 8, [\"id\", \"type\"]))\n                      : _createCommentVNode(\"\", true),\n                    (line.points[1])\n                      ? (_openBlock(), _createBlock(LinePointMarker, {\n                          key: 1,\n                          class: \"line-marker\",\n                          id: `preset-line-${i}-${j}`,\n                          position: \"end\",\n                          type: line.points[1],\n                          color: \"currentColor\",\n                          baseSize: 2\n                        }, null, 8, [\"id\", \"type\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _createElementVNode(\"path\", {\n                    class: \"line-path\",\n                    d: line.path,\n                    stroke: \"currentColor\",\n                    fill: \"none\",\n                    \"stroke-width\": \"2\",\n                    \"stroke-dasharray\": line.style === 'solid' ? '0, 0' : '4, 1',\n                    \"marker-start\": line.points[0] ? `url(#${`preset-line-${i}-${j}`}-${line.points[0]}-start)` : '',\n                    \"marker-end\": line.points[1] ? `url(#${`preset-line-${i}-${j}`}-${line.points[1]}-end)` : ''\n                  }, null, 8, _hoisted_6)\n                ]))\n              ], 8, _hoisted_4)\n            ]))\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"line-pool\">\n    <div class=\"category\" v-for=\"(item, i) in LINE_LIST\" :key=\"item.type\">\n      <div class=\"category-name\">{{item.type}}</div>\n      <div class=\"line-list\">\n        <div class=\"line-item\" v-for=\"(line, j) in item.children\" :key=\"j\">\n          <div class=\"line-content\" @click=\"selectLine(line)\">\n            <svg\n              overflow=\"visible\" \n              width=\"20\"\n              height=\"20\"\n            >\n              <defs>\n                <LinePointMarker\n                  class=\"line-marker\"\n                  v-if=\"line.points[0]\"\n                  :id=\"`preset-line-${i}-${j}`\"\n                  position=\"start\"\n                  :type=\"line.points[0]\"\n                  color=\"currentColor\"\n                  :baseSize=\"2\"\n                />\n                <LinePointMarker\n                  class=\"line-marker\"\n                  v-if=\"line.points[1]\"\n                  :id=\"`preset-line-${i}-${j}`\"\n                  position=\"end\"\n                  :type=\"line.points[1]\"\n                  color=\"currentColor\"\n                  :baseSize=\"2\"\n                />\n              </defs>\n              <path\n                class=\"line-path\"\n                :d=\"line.path\" \n                stroke=\"currentColor\" \n                fill=\"none\" \n                stroke-width=\"2\" \n                :stroke-dasharray=\"line.style === 'solid' ? '0, 0' : '4, 1'\"\n                :marker-start=\"line.points[0] ? `url(#${`preset-line-${i}-${j}`}-${line.points[0]}-start)` : ''\"\n                :marker-end=\"line.points[1] ? `url(#${`preset-line-${i}-${j}`}-${line.points[1]}-end)` : ''\"\n              ></path>\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { LINE_LIST, type LinePoolItem } from '@/configs/lines'\n\nimport LinePointMarker from '@/views/components/element/LineElement/LinePointMarker.vue'\n\nconst emit = defineEmits<{\n  (event: 'select', payload: LinePoolItem): void\n}>()\n\nconst selectLine = (line: LinePoolItem) => {\n  emit('select', line)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.line-pool {\n  width: 220px;\n  overflow: auto;\n  margin-bottom: -12px;\n  margin-right: -12px;\n  padding-right: 12px;\n}\n.category-name {\n  width: 100%;\n  font-size: 13px;\n  margin-bottom: 10px;\n  border-left: 4px solid #aaa;\n  background-color: #eee;\n  padding: 2px 0 2px 10px;\n}\n.line-list {\n  @include flex-grid-layout();\n\n  margin-bottom: 10px;\n}\n.line-item {\n  @include flex-grid-layout-children(5, 19%);\n\n  height: 0;\n  padding-bottom: 19%;\n  flex-shrink: 0;\n  position: relative;\n  cursor: pointer;\n}\n.line-content {\n  @include absolute-0();\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n\n  &:hover {\n    color: $themeColor;\n  }\n\n  svg:not(:root) {\n    overflow: visible;\n  }\n}\n</style>","import script from \"./LinePool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinePool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinePool.vue?vue&type=style&index=0&id=554824b6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-554824b6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-398f5699\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-pool\" }\nconst _hoisted_2 = [\"onClick\"]\n\nimport type { PresetChartType } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChartPool',\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst chartList: PresetChartType[] = ['bar', 'horizontalBar', 'line', 'area', 'scatter', 'pie', 'ring']\n\nconst selectChart = (chart: PresetChartType) => {\n  emit('select', chart)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconChartLine = _resolveComponent(\"IconChartLine\")!\n  const _component_IconChartHistogram = _resolveComponent(\"IconChartHistogram\")!\n  const _component_IconChartPie = _resolveComponent(\"IconChartPie\")!\n  const _component_IconChartHistogramOne = _resolveComponent(\"IconChartHistogramOne\")!\n  const _component_IconChartLineArea = _resolveComponent(\"IconChartLineArea\")!\n  const _component_IconChartRing = _resolveComponent(\"IconChartRing\")!\n  const _component_IconChartScatter = _resolveComponent(\"IconChartScatter\")!\n\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(chartList, (chart, index) => {\n      return _createElementVNode(\"li\", {\n        class: \"chart-item\",\n        key: index\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"chart-content\",\n          onClick: ($event: any) => (selectChart(chart))\n        }, [\n          (chart === 'line')\n            ? (_openBlock(), _createBlock(_component_IconChartLine, {\n                key: 0,\n                size: \"24\"\n              }))\n            : (chart === 'bar')\n              ? (_openBlock(), _createBlock(_component_IconChartHistogram, {\n                  key: 1,\n                  size: \"24\"\n                }))\n              : (chart === 'pie')\n                ? (_openBlock(), _createBlock(_component_IconChartPie, {\n                    key: 2,\n                    size: \"24\"\n                  }))\n                : (chart === 'horizontalBar')\n                  ? (_openBlock(), _createBlock(_component_IconChartHistogramOne, {\n                      key: 3,\n                      size: \"24\"\n                    }))\n                  : (chart === 'area')\n                    ? (_openBlock(), _createBlock(_component_IconChartLineArea, {\n                        key: 4,\n                        size: \"24\"\n                      }))\n                    : (chart === 'ring')\n                      ? (_openBlock(), _createBlock(_component_IconChartRing, {\n                          key: 5,\n                          size: \"24\"\n                        }))\n                      : (chart === 'scatter')\n                        ? (_openBlock(), _createBlock(_component_IconChartScatter, {\n                            key: 6,\n                            size: \"24\"\n                          }))\n                        : _createCommentVNode(\"\", true)\n        ], 8, _hoisted_2)\n      ])\n    }), 64))\n  ]))\n}\n}\n\n})","<template>\n  <ul class=\"chart-pool\">\n    <li class=\"chart-item\" v-for=\"(chart, index) in chartList\" :key=\"index\">\n      <div class=\"chart-content\" @click=\"selectChart(chart)\">\n        <IconChartLine size=\"24\" v-if=\"chart === 'line'\" />\n        <IconChartHistogram size=\"24\" v-else-if=\"chart === 'bar'\" />\n        <IconChartPie size=\"24\" v-else-if=\"chart === 'pie'\" />\n        <IconChartHistogramOne size=\"24\" v-else-if=\"chart === 'horizontalBar'\" />\n        <IconChartLineArea size=\"24\" v-else-if=\"chart === 'area'\" />\n        <IconChartRing size=\"24\" v-else-if=\"chart === 'ring'\" />\n        <IconChartScatter size=\"24\" v-else-if=\"chart === 'scatter'\" />\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { PresetChartType } from '@/types/slides'\n\nconst emit = defineEmits<{\n  (event: 'select', payload: PresetChartType): void\n}>()\n\nconst chartList: PresetChartType[] = ['bar', 'horizontalBar', 'line', 'area', 'scatter', 'pie', 'ring']\n\nconst selectChart = (chart: PresetChartType) => {\n  emit('select', chart)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.chart-pool {\n  width: 200px;\n  margin-bottom: -5px;\n\n  @include flex-grid-layout();\n}\n.chart-item {\n  @include flex-grid-layout-children(5, 19%);\n\n  height: 0;\n  padding-bottom: 19%;\n  flex-shrink: 0;\n  position: relative;\n  cursor: pointer;\n}\n.chart-content {\n  @include absolute-0();\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n\n  &:hover {\n    color: $themeColor;\n  }\n}\n</style>","import script from \"./ChartPool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ChartPool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ChartPool.vue?vue&type=style&index=0&id=398f5699&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-398f5699\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-268948c2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"prefix\" }\nconst _hoisted_2 = { class: \"input-wrap\" }\nconst _hoisted_3 = [\"disabled\", \"placeholder\"]\nconst _hoisted_4 = { class: \"handlers\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  fill: \"currentColor\",\n  width: \"1em\",\n  height: \"1em\",\n  viewBox: \"64 64 896 896\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z\" })\n], -1))\nconst _hoisted_6 = [\n  _hoisted_5\n]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  fill: \"currentColor\",\n  width: \"1em\",\n  height: \"1em\",\n  viewBox: \"64 64 896 896\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\" })\n], -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"suffix\" }\n\nimport { ref, watch } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'NumberInput',\n  props: {\n    value: {},\n    disabled: { type: Boolean, default: false },\n    placeholder: { default: '' },\n    min: { default: 0 },\n    max: { default: Infinity },\n    step: { default: 1 }\n  },\n  emits: [\"update:value\", \"input\", \"change\", \"blur\", \"focus\", \"enter\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst number = ref(0)\nconst focused = ref(false)\n\nwatch(() => props.value, () => {\n  if (props.value !== number.value) {\n    number.value = props.value\n  }\n}, {\n  immediate: true,\n})\n\nwatch(number, () => {\n  let value = +number.value\n  if (isNaN(value)) value = props.min\n  else if (value > props.max) value = props.max\n  else if (value < props.min) value = props.min\n\n  number.value = value\n  emit('update:value', number.value)\n})\n\nconst handleBlur = (e: Event) => {\n  focused.value = false\n  emit('blur', e)\n}\nconst handleFocus = (e: Event) => {\n  focused.value = true\n  emit('focus', e)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"number-input\", {\n      'disabled': _ctx.disabled,\n      'focused': focused.value,\n    }])\n  }, [\n    _createElementVNode(\"span\", _hoisted_1, [\n      _renderSlot(_ctx.$slots, \"prefix\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        disabled: _ctx.disabled,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((number).value = $event)),\n        placeholder: _ctx.placeholder,\n        onInput: _cache[1] || (_cache[1] = $event => emit('input', $event)),\n        onFocus: _cache[2] || (_cache[2] = $event => handleFocus($event)),\n        onBlur: _cache[3] || (_cache[3] = $event => handleBlur($event)),\n        onChange: _cache[4] || (_cache[4] = $event => emit('change', $event)),\n        onKeydown: _cache[5] || (_cache[5] = _withKeys($event => emit('enter', $event), [\"enter\"]))\n      }, null, 40, _hoisted_3), [\n        [_vModelText, number.value]\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"span\", {\n          class: \"handler\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (number.value += _ctx.step))\n        }, _hoisted_6),\n        _createElementVNode(\"span\", {\n          class: \"handler\",\n          onClick: _cache[7] || (_cache[7] = ($event: any) => (number.value -= _ctx.step))\n        }, _hoisted_8)\n      ])\n    ]),\n    _createElementVNode(\"span\", _hoisted_9, [\n      _renderSlot(_ctx.$slots, \"suffix\")\n    ])\n  ], 2))\n}\n}\n\n})","<template>\n  <div \n    class=\"number-input\"\n    :class=\"{\n      'disabled': disabled,\n      'focused': focused,\n    }\"\n  >\n    <span class=\"prefix\">\n      <slot name=\"prefix\"></slot>\n    </span>\n    <div class=\"input-wrap\">\n      <input\n        type=\"text\"\n        :disabled=\"disabled\"\n        v-model=\"number\" \n        :placeholder=\"placeholder\"\n        @input=\"$event => emit('input', $event)\"\n        @focus=\"$event => handleFocus($event)\"\n        @blur=\"$event => handleBlur($event)\"\n        @change=\"$event => emit('change', $event)\"\n        @keydown.enter=\"$event => emit('enter', $event)\"\n      />\n      <div class=\"handlers\">\n        <span class=\"handler\" @click=\"number += step\">\n          <svg fill=\"currentColor\" width=\"1em\" height=\"1em\" viewBox=\"64 64 896 896\"><path d=\"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z\"></path></svg>\n        </span>\n        <span class=\"handler\" @click=\"number -= step\">\n          <svg fill=\"currentColor\" width=\"1em\" height=\"1em\" viewBox=\"64 64 896 896\"><path d=\"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\"></path></svg>\n        </span>\n      </div>\n    </div>\n    <span class=\"suffix\">\n      <slot name=\"suffix\"></slot>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\n\nconst props = withDefaults(defineProps<{\n  value: number\n  disabled?: boolean\n  placeholder?: string\n  min?: number\n  max?: number\n  step?: number\n}>(), {\n  disabled: false,\n  placeholder: '',\n  min: 0,\n  max: Infinity,\n  step: 1,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: number): void\n  (event: 'input', payload: Event): void\n  (event: 'change', payload: Event): void\n  (event: 'blur', payload: Event): void\n  (event: 'focus', payload: Event): void\n  (event: 'enter', payload: Event): void\n}>()\n\nconst number = ref(0)\nconst focused = ref(false)\n\nwatch(() => props.value, () => {\n  if (props.value !== number.value) {\n    number.value = props.value\n  }\n}, {\n  immediate: true,\n})\n\nwatch(number, () => {\n  let value = +number.value\n  if (isNaN(value)) value = props.min\n  else if (value > props.max) value = props.max\n  else if (value < props.min) value = props.min\n\n  number.value = value\n  emit('update:value', number.value)\n})\n\nconst handleBlur = (e: Event) => {\n  focused.value = false\n  emit('blur', e)\n}\nconst handleFocus = (e: Event) => {\n  focused.value = true\n  emit('focus', e)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.number-input {\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  padding: 0 0 0 5px;\n  border-radius: $borderRadius;\n  transition: border-color .25s;\n  font-size: 13px;\n  display: inline-flex;\n\n  .input-wrap {\n    flex: 1;\n    color: $textColor;\n    padding: 0 0 0 5px;\n    position: relative;\n  }\n  &:not(.disabled) .input-wrap:hover .handlers {\n    opacity: 1;\n  }\n  .handlers {\n    width: 20px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    font-size: 6px;\n    color: #999;\n    opacity: 0;\n    user-select: none;\n    transition: opacity .25s;\n\n    .handler {\n      width: 100%;\n      height: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-left: 1px solid #d9d9d9;\n      cursor: pointer;\n\n      & + .handler {\n        border-top: 1px solid #d9d9d9;\n      }\n\n      &:hover {\n        color: $themeColor;\n      }\n    }\n  }\n  input {\n    width: 100%;\n    min-width: 0;\n    padding: 0;\n    height: 30px;\n    line-height: 30px;\n    outline: 0;\n    border: 0;\n    font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';\n\n    &::placeholder {\n      color: #bfbfbf;\n    }\n  }\n\n  &:not(.disabled):hover, &.focused {\n    border-color: $themeColor;\n  }\n\n  &.disabled {\n    background-color: #f5f5f5;\n    border-color: #dcdcdc;\n    color: #b7b7b7;\n  }\n\n  .prefix, .suffix {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 30px;\n    user-select: none;\n  }\n}\n</style>","import script from \"./NumberInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./NumberInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./NumberInput.vue?vue&type=style&index=0&id=268948c2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-268948c2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-372c6730\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"table-generator\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = { class: \"lef\" }\nconst _hoisted_4 = [\"onMouseenter\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"custom\"\n}\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"label\",\n  style: {\"width\":\"25%\"}\n}, \"\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"label\",\n  style: {\"width\":\"25%\"}\n}, \"\", -1))\nconst _hoisted_10 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport message from '@/utils/message'\nimport Button from '@/components/Button.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\ninterface InsertData {\n  row: number\n  col: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TableGenerator',\n  emits: [\"insert\", \"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst endCell = ref<number[]>([])\nconst customRow = ref(3)\nconst customCol = ref(3)\nconst isCustom = ref(false)\n\nconst handleClickTable = () => {\n  if (!endCell.value.length) return\n  const [row, col] = endCell.value\n  emit('insert', { row, col })\n}\n\nconst insertCustomTable = () => {\n  if (customRow.value < 1 || customRow.value > 20) return message.warning('/0~20')\n  if (customCol.value < 1 || customCol.value > 20) return message.warning('/0~20')\n  emit('insert', { row: customRow.value, col: customCol.value })\n  isCustom.value = false\n}\n\nconst close = () => {\n  emit('close')\n  isCustom.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, \" \" + _toDisplayString(endCell.value.length ? `${endCell.value[0]} x ${endCell.value[1]}` : ''), 1),\n      _createElementVNode(\"div\", {\n        class: \"right\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (isCustom.value = !isCustom.value))\n      }, _toDisplayString(isCustom.value ? '' : ''), 1)\n    ]),\n    (!isCustom.value)\n      ? (_openBlock(), _createElementBlock(\"table\", {\n          key: 0,\n          onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (endCell.value = [])),\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (handleClickTable()))\n        }, [\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(10, (row) => {\n              return _createElementVNode(\"tr\", { key: row }, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(10, (col) => {\n                  return _createElementVNode(\"td\", {\n                    onMouseenter: ($event: any) => (endCell.value = [row, col]),\n                    key: col\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"cell\", { 'active': endCell.value.length && row <= endCell.value[0] && col <= endCell.value[1] }])\n                    }, null, 2)\n                  ], 40, _hoisted_4)\n                }), 64))\n              ])\n            }), 64))\n          ])\n        ], 32))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createVNode(NumberInput, {\n              min: 1,\n              max: 20,\n              value: customRow.value,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((customRow).value = $event)),\n              style: {\"width\":\"75%\"}\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(NumberInput, {\n              min: 1,\n              max: 20,\n              value: customCol.value,\n              \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((customCol).value = $event)),\n              style: {\"width\":\"75%\"}\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createVNode(Button, {\n              class: \"btn\",\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (close()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            }),\n            _createVNode(Button, {\n              class: \"btn\",\n              type: \"primary\",\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (insertCustomTable()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            })\n          ])\n        ]))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"table-generator\">\n    <div class=\"title\">\n      <div class=\"lef\"> {{endCell.length ? `${endCell[0]} x ${endCell[1]}` : ''}}</div>\n      <div class=\"right\" @click=\"isCustom = !isCustom\">{{ isCustom ? '' : ''}}</div>\n    </div>\n    <table \n      @mouseleave=\"endCell = []\" \n      @click=\"handleClickTable()\" \n      v-if=\"!isCustom\"\n    >\n      <tbody>\n        <tr v-for=\"row in 10\" :key=\"row\">\n          <td \n            @mouseenter=\"endCell = [row, col]\"\n            v-for=\"col in 10\" :key=\"col\"\n          >\n            <div \n              class=\"cell\" \n              :class=\"{ 'active': endCell.length && row <= endCell[0] && col <= endCell[1] }\"\n            ></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class=\"custom\" v-else>\n      <div class=\"row\">\n        <div class=\"label\" style=\"width: 25%;\"></div>\n        <NumberInput\n          :min=\"1\"\n          :max=\"20\"\n          v-model:value=\"customRow\"\n          style=\"width: 75%;\"\n        />\n      </div>\n      <div class=\"row\">\n        <div class=\"label\" style=\"width: 25%;\"></div>\n        <NumberInput\n          :min=\"1\"\n          :max=\"20\"\n          v-model:value=\"customCol\"\n          style=\"width: 75%;\"\n        />\n      </div>\n      <div class=\"btns\">\n        <Button class=\"btn\" @click=\"close()\"></Button>\n        <Button class=\"btn\" type=\"primary\" @click=\"insertCustomTable()\"></Button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport message from '@/utils/message'\nimport Button from '@/components/Button.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\ninterface InsertData {\n  row: number\n  col: number\n}\n\nconst emit = defineEmits<{\n  (event: 'insert', payload: InsertData): void\n  (event: 'close'): void\n}>()\n\nconst endCell = ref<number[]>([])\nconst customRow = ref(3)\nconst customCol = ref(3)\nconst isCustom = ref(false)\n\nconst handleClickTable = () => {\n  if (!endCell.value.length) return\n  const [row, col] = endCell.value\n  emit('insert', { row, col })\n}\n\nconst insertCustomTable = () => {\n  if (customRow.value < 1 || customRow.value > 20) return message.warning('/0~20')\n  if (customCol.value < 1 || customCol.value > 20) return message.warning('/0~20')\n  emit('insert', { row: customRow.value, col: customCol.value })\n  isCustom.value = false\n}\n\nconst close = () => {\n  emit('close')\n  isCustom.value = false\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table-generator {\n  width: 100%;\n  margin-top: -12px;\n}\n.title {\n  height: 28px;\n  line-height: 28px;\n  background-color: #ededed;\n  margin: 0 -12px 12px -12px;\n  padding: 0 14px;\n  font-size: 12px;\n  display: flex;\n  justify-content: space-between;\n  user-select: none;\n\n  .right {\n    cursor: pointer;\n\n    &:hover {\n      color: $themeColor;\n    }\n  }\n}\ntable {\n  border-collapse: separate;\n}\ntd {\n  width: 23px;\n  height: 23px;\n  line-height: 23px;\n  border: 2px solid #fff;\n  background-color: #f7f7f7;\n}\n.cell {\n  width: 100%;\n  height: 100%;\n  border: 1px solid #dcdcdc;\n\n  &.active {\n    background-color: rgba($color: $themeColor, $alpha: .1);\n    border-color: $themeColor;\n  }\n}\n\n.custom {\n  width: 230px;\n\n  .row {\n    display: flex;\n    align-items: center;\n\n    & + .row {\n      margin-top: 10px;\n    }\n  }\n}\n\n.btns {\n  margin-top: 10px;\n  text-align: right;\n\n  .btn {\n    margin-left: 10px;\n  }\n}\n</style>","import script from \"./TableGenerator.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableGenerator.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TableGenerator.vue?vue&type=style&index=0&id=372c6730&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-372c6730\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35a1214c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"media-input\" }\nconst _hoisted_2 = { class: \"btns\" }\nconst _hoisted_3 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport message from '@/utils/message'\nimport Tabs from '@/components/Tabs.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\n\ntype TypeKey = 'video' | 'audio'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MediaInput',\n  emits: [\"insertVideo\", \"insertAudio\", \"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst type = ref<TypeKey>('video')\n\nconst videoSrc = ref('https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm')\nconst audioSrc = ref('https://freesound.org/data/previews/614/614107_11861866-lq.mp3')\n\nconst tabs: TabItem[] = [\n  { key: 'video', label: '' },\n  { key: 'audio', label: '' },\n]\n\nconst insertVideo = () => {\n  if (!videoSrc.value) return message.error('')\n  emit('insertVideo', videoSrc.value)\n}\n\nconst insertAudio = () => {\n  if (!audioSrc.value) return message.error('')\n  emit('insertAudio', audioSrc.value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: tabs,\n      value: type.value,\n      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((type).value = $event)),\n      tabsStyle: { marginBottom: '15px' }\n    }, null, 8, [\"value\"]),\n    (type.value === 'video')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createVNode(Input, {\n            value: videoSrc.value,\n            \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((videoSrc).value = $event)),\n            placeholder: \"e.g. https://xxx.mp4\"\n          }, null, 8, [\"value\"]),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(Button, {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (emit('close'))),\n              style: {\"margin-right\":\"10px\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            }),\n            _createVNode(Button, {\n              type: \"primary\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (insertVideo()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'audio')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(Input, {\n            value: audioSrc.value,\n            \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((audioSrc).value = $event)),\n            placeholder: \"e.g. https://xxx.mp3\"\n          }, null, 8, [\"value\"]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(Button, {\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (emit('close'))),\n              style: {\"margin-right\":\"10px\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            }),\n            _createVNode(Button, {\n              type: \"primary\",\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (insertAudio()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"\")\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"media-input\">\n    <Tabs \n      :tabs=\"tabs\" \n      v-model:value=\"type\" \n      :tabsStyle=\"{ marginBottom: '15px' }\" \n    />\n\n    <template v-if=\"type === 'video'\">\n      <Input v-model:value=\"videoSrc\" placeholder=\"e.g. https://xxx.mp4\"></Input>\n      <div class=\"btns\">\n        <Button @click=\"emit('close')\" style=\"margin-right: 10px;\"></Button>\n        <Button type=\"primary\" @click=\"insertVideo()\"></Button>\n      </div>\n    </template>\n\n    <template v-if=\"type === 'audio'\">\n      <Input v-model:value=\"audioSrc\" placeholder=\"e.g. https://xxx.mp3\"></Input>\n      <div class=\"btns\">\n        <Button @click=\"emit('close')\" style=\"margin-right: 10px;\"></Button>\n        <Button type=\"primary\" @click=\"insertAudio()\"></Button>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport message from '@/utils/message'\nimport Tabs from '@/components/Tabs.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\n\ntype TypeKey = 'video' | 'audio'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\nconst emit = defineEmits<{\n  (event: 'insertVideo', payload: string): void\n  (event: 'insertAudio', payload: string): void\n  (event: 'close'): void\n}>()\n\nconst type = ref<TypeKey>('video')\n\nconst videoSrc = ref('https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm')\nconst audioSrc = ref('https://freesound.org/data/previews/614/614107_11861866-lq.mp3')\n\nconst tabs: TabItem[] = [\n  { key: 'video', label: '' },\n  { key: 'audio', label: '' },\n]\n\nconst insertVideo = () => {\n  if (!videoSrc.value) return message.error('')\n  emit('insertVideo', videoSrc.value)\n}\n\nconst insertAudio = () => {\n  if (!audioSrc.value) return message.error('')\n  emit('insertAudio', audioSrc.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.media-input {\n  width: 480px;\n}\n.btns {\n  margin-top: 10px;\n  text-align: right;\n}\n</style>\n","import script from \"./MediaInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MediaInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MediaInput.vue?vue&type=style&index=0&id=35a1214c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35a1214c\"]])\n\nexport default __exports__","import { hfmath, CONFIG as hfmathConfig } from 'hfmath'\n\nhfmathConfig.SUB_SUP_SCALE = 0.5\n\nexport { hfmath }","export const FORMULA_LIST = [\n  {\n    label: 'Gaussian formula',\n    latex: `\\\\int\\\\int\\\\int _ { \\\\Omega } \\\\left( \\\\frac { \\\\partial {P} } { \\\\partial {x} } + \\\\frac { \\\\partial { Q} } { \\\\partial {y} } + \\\\frac { \\\\partial {R} }{ \\\\partial {z} } \\\\right) \\\\mathrm { d } V = \\\\oint _ { \\\\ partial \\\\Omega } ( P \\\\cos \\\\alpha + Q \\\\cos \\\\beta + R \\\\cos \\\\gamma ) \\\\mathrm{ d} S`\n  },\n  {\n    label: 'Fourier series',\n    latex: `f(x) = \\\\frac {a_0} 2 + \\\\sum_{n = 1}^\\\\infty {({a_n}\\\\cos {nx} + {b_n}\\\\sin {nx}) }`,\n  },\n  {\n    label: 'Taylor expansion',\n    latex: `e ^ { x } = 1 + \\\\frac { x } { 1 ! } + \\\\frac { x ^ { 2 } } { 2 ! } + \\\\frac { x ^ { 3 } } { 3 ! } + ... , \\\\quad - \\\\infty < x < \\\\infty`,\n  },\n  {\n    label: 'definite integral',\n    latex: `\\\\lim_ { n \\\\rightarrow + \\\\infty } \\\\sum _ { i = 1 } ^ { n } f \\\\left[ a + \\\\frac { i } { n } ( b - a ) \\\\right] \\\\frac { b - a } { n } = \\\\int _ { a } ^ { b } f ( x ) dx`,\n  },\n  {\n    label: 'Trigonometric Identity 1',\n    latex: `\\\\sin \\\\alpha \\\\pm \\\\sin \\\\beta = 2 \\\\sin \\\\frac { 1 } { 2 } ( \\\\alpha \\\\pm \\\\beta ) \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha \\\\mp \\\\beta )`,\n  },\n  {\n    label: 'Trigonometric Identity 2',\n    latex: `\\\\cos \\\\alpha + \\\\cos \\\\beta = 2 \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha + \\\\beta ) \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha - \\\\beta )`,\n  },\n  {\n    label: 'Expansion of sum',\n    latex: `( 1 + x ) ^ { n } = 1 + \\\\frac { n x } { 1 ! } + \\\\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ... `,\n  },\n  {\n    label: 'Euler\\'s formula',\n    latex: ` e^{ix} = \\\\cos {x} + i\\\\sin {x}`,\n  },\n  {\n    label: 'Bernoulli equation',\n    latex: `\\\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\\\not= {0,1})`,\n  },\n  {\n    label: 'total differential equation',\n    latex: `du(x,y) = P(x,y)dx + Q(x,y)dy = 0`,\n  },\n  {\n    label: 'non-homogeneous equation',\n    latex: `y = (\\\\int Q(x) e^{\\\\int {P(x)dx}}dx + C)e^{-\\\\int {P(x)dx}}`,\n  },\n  {\n    label: 'Cauchy\\'s mean value theorem',\n    latex: `\\\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\\\frac{{f'(\\\\xi )}}{{F '(\\\\xi )}}`,\n  },\n  {\n    label: 'Lagrange\\'s mean value theorem',\n    latex: `f(b) - f(a) = f'(\\\\xi )(b - a)`,\n  },\n  {\n    label: 'derivative formula',\n    latex: `(\\\\arcsin x)' = \\\\frac{1}{{\\\\sqrt {1 - x^2} }}`,\n  },\n  {\n    label: 'trigonometric function integral',\n    latex: `\\\\int {tgxdx = - \\\\ln \\\\left| {\\\\cos x} \\\\right| + C}`,\n  },\n  {\n    label: 'quadratic surface',\n    latex: `\\\\frac{{{x^2}}}{{{a^2}}} + \\\\frac{{{y^2}}}{{{b^2}}} - \\\\frac {{{z^2}}}{{{c^2}}} = 1`,\n  },\n  {\n    label: 'Second differential',\n    latex: `\\\\frac {{d^2}y} {dx^2} + P(x) \\\\frac {dy} {dx} + Q(x)y = f(x)`,\n  },\n  {\n    label: 'Directional derivative',\n    latex: `\\\\frac{{\\\\partial f}}{{\\\\partial l}} = \\\\frac{{\\\\partial f}}{{\\\\partial x}}\\\\cos \\\\phi + \\ \\frac{{\\\\partial f}}{{\\\\partial y}}\\\\sin \\\\phi`,\n  },\n]\n\nexport const SYMBOL_LIST = [\n  {\n    type: 'operators',\n    label: 'math',\n    children: [\n      { latex: '\\\\cdot' },\n      { latex: '\\\\pm' },\n      { latex: '\\\\mp' },\n      { latex: '+' },\n      { latex: '-' },\n      { latex: '\\\\times' },\n      { latex: '\\\\div' },\n      { latex: '<' },\n      { latex: '>' },\n      { latex: '=' },\n      { latex: '\\\\neq\\\\ne' },\n      { latex: '\\\\leqq' },\n      { latex: '\\\\geqq' },\n      { latex: '\\\\leq' },\n      { latex: '\\\\geq' },\n      { latex: '\\\\propto' },\n      { latex: '\\\\sim' },\n      { latex: '\\\\equiv' },\n      { latex: '\\\\dagger' },\n      { latex: '\\\\ddagger' },\n      { latex: '\\\\ell' },\n      { latex: '\\\\#' },\n      { latex: '\\\\$' },\n      { latex: '\\\\&' },\n      { latex: '\\\\%' },\n      { latex: '\\\\langle\\\\rangle' },\n      { latex: '()' },\n      { latex: '[]' },\n      { latex: '\\\\{\\\\}' },\n      { latex: '||' },\n      { latex: '\\\\|' },\n      { latex: '\\\\exists' },\n      { latex: '\\\\in' },\n      { latex: '\\\\subset' },\n      { latex: '\\\\supset' },\n      { latex: '\\\\cup' },\n      { latex: '\\\\cap' },\n      { latex: '\\\\infty' },\n      { latex: '\\\\partial' },\n      { latex: '\\\\nabla' },\n      { latex: '\\\\aleph' },\n      { latex: '\\\\wp' },\n      { latex: '\\\\therefore' },\n      { latex: '\\\\mid' },\n      { latex: '\\\\sum' },\n      { latex: '\\\\prod' },\n      { latex: '\\\\bigoplus' },\n      { latex: '\\\\bigodot' },\n      { latex: '\\\\int' },\n      { latex: '\\\\oint' },\n      { latex: '\\\\oplus' },\n      { latex: '\\\\odot' },\n      { latex: '\\\\perp' },\n      { latex: '\\\\angle' },\n      { latex: '\\\\triangle' },\n      { latex: '\\\\Box' },\n      { latex: '\\\\rightarrow' },\n      { latex: '\\\\to' },\n      { latex: '\\\\leftarrow' },\n      { latex: '\\\\gets' },\n      { latex: '\\\\circ' },\n      { latex: '\\\\bigcirc' },\n      { latex: '\\\\bullet' },\n      { latex: '\\\\star' },\n      { latex: '\\\\diamond' },\n      { latex: '\\\\ast' },\n      { latex: ',' },\n      { latex: '.' },\n      { latex: ';' },\n      { latex: '!' },\n    ],\n  },\n  {\n    type: 'group',\n    label: 'combination',\n    children: [\n      { latex: '\\\\frac{a}{b}' },\n      { latex: '\\\\frac{dx}{dx}' },\n      { latex: '\\\\frac{\\\\partial a}{\\\\partial b}' },\n      { latex: '\\\\sqrt{x}' },\n      { latex: '\\\\sqrt[n]{x}' },\n      { latex: 'x^{n}' },\n      { latex: 'x_{n}' },\n      { latex: 'x_a^b' },\n      { latex: '\\\\int_{a}^{b}' },\n      { latex: '\\\\oint_a^b' },\n      { latex: '\\\\lim_{a \\\\rightarrow b}' },\n      { latex: '\\\\prod_a^b' },\n      { latex: '\\\\sum_a^b' },\n      { latex: '\\\\left(\\\\begin{array}a \\\\\\\\ b\\\\end{array}\\\\right)' },\n      { latex: '\\\\begin{bmatrix}a & b \\\\\\\\ c & d \\\\end{bmatrix}' },\n      { latex: '\\\\begin{cases}a & x = 0 \\\\\\\\ b & x > 0\\\\end{cases}' },\n      { latex: '\\\\hat{a}' },\n      { latex: '\\\\breve{a}' },\n      { latex: '\\\\acute{a}' },\n      { latex: '\\\\grave{a}' },\n      { latex: '\\\\tilde{a}' },\n      { latex: '\\\\bar{a}' },\n      { latex: '\\\\vec{a}' },\n      { latex: '\\\\underline{a}' },\n      { latex: '\\\\overline{a}' },\n      { latex: '\\\\widehat{ab}' },\n      { latex: '\\\\overleftarrow{ab}' },\n      { latex: '\\\\overrightarrow{ab}' },\n    ],\n  },\n  {\n    type: 'verbatim',\n    label: 'function',\n    children: [\n      { latex: '\\\\log' },\n      { latex: '\\\\ln' },\n      { latex: '\\\\exp' },\n      { latex: '\\\\mod' },\n      { latex: '\\\\lim' },\n      { latex: '\\\\sin' },\n      { latex: '\\\\cos' },\n      { latex: '\\\\tan' },\n      { latex: '\\\\csc' },\n      { latex: '\\\\sec' },\n      { latex: '\\\\cot' },\n      { latex: '\\\\sinh' },\n      { latex: '\\\\cosh' },\n      { latex: '\\\\tanh' },\n      { latex: '\\\\csch' },\n      { latex: '\\\\sech' },\n      { latex: '\\\\coth' },\n      { latex: '\\\\arcsin' },\n      { latex: '\\\\arccos' },\n      { latex: '\\\\arctan' },\n      { latex: '\\\\arccsc' },\n      { latex: '\\\\arcsec' },\n      { latex: '\\\\arccot' },\n    ],\n  },\n  {\n    type: 'greek',\n    label: 'Greek alphabet',\n    children: [\n      { latex: '\\\\alpha' },\n      { latex: '\\\\beta' },\n      { latex: '\\\\gamma' },\n      { latex: '\\\\delta' },\n      { latex: '\\\\varepsilon' },\n      { latex: '\\\\zeta' },\n      { latex: '\\\\eta' },\n      { latex: '\\\\vartheta' },\n      { latex: '\\\\iota' },\n      { latex: '\\\\kappa' },\n      { latex: '\\\\lambda' },\n      { latex: '\\\\mu' },\n      { latex: '\\\\nu' },\n      { latex: '\\\\xi' },\n      { latex: '\\\\omicron' },\n      { latex: '\\\\pi' },\n      { latex: '\\\\rho' },\n      { latex: '\\\\sigma' },\n      { latex: '\\\\tau' },\n      { latex: '\\\\upsilon' },\n      { latex: '\\\\varphi' },\n      { latex: '\\\\chi' },\n      { latex: '\\\\psi' },\n      { latex: '\\\\omega' },\n      { latex: '\\\\epsilon' },\n      { latex: '\\\\theta' },\n      { latex: '\\\\phi' },\n      { latex: '\\\\varsigma' },\n      { latex: '\\\\Alpha' },\n      { latex: '\\\\Beta' },\n      { latex: '\\\\Gamma' },\n      { latex: '\\\\Delta' },\n      { latex: '\\\\Epsilon' },\n      { latex: '\\\\Zeta' },\n      { latex: '\\\\Eta' },\n      { latex: '\\\\Theta' },\n      { latex: '\\\\Iota' },\n      { latex: '\\\\Kappa' },\n      { latex: '\\\\Lambda' },\n      { latex: '\\\\Mu' },\n      { latex: '\\\\Nu' },\n      { latex: '\\\\Xi' },\n      { latex: '\\\\Omicron' },\n      { latex: '\\\\Pi' },\n      { latex: '\\\\Rho' },\n      { latex: '\\\\Sigma' },\n      { latex: '\\\\Tau' },\n      { latex: '\\\\Upsilon' },\n      { latex: '\\\\Phi' },\n      { latex: '\\\\Chi' },\n      { latex: '\\\\Psi' },\n      { latex: '\\\\Omega' },\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-567417d3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"transform\"]\nconst _hoisted_3 = [\"d\"]\n\nimport { computed, ref, watch } from 'vue'\nimport { hfmath } from './hfmath'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FormulaContent',\n  props: {\n    latex: {},\n    width: {},\n    height: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst box = ref({ x: 0, y: 0, w: 0, h: 0 })\nconst pathd = ref('')\n\nwatch(() => props.latex, () => {\n  const eq = new hfmath(props.latex)\n  pathd.value = eq.pathd({})\n  box.value = eq.box({})\n}, { immediate: true })\n\nconst scale = computed(() => {\n  const boxW = box.value.w + 32\n  const boxH = box.value.h + 32\n\n  if (boxW > props.width || boxH > props.height) {\n    if (boxW / boxH > props.width / props.height) return props.width / boxW\n    return props.height / boxH\n  }\n  return 1\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    class: \"formula-content\",\n    overflow: \"visible\",\n    width: box.value.w + 32,\n    height: box.value.h + 32,\n    stroke: \"#000\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\"\n  }, [\n    _createElementVNode(\"g\", {\n      transform: `scale(${scale.value}, ${scale.value}) translate(0,0) matrix(1,0,0,1,0,0)`,\n      \"transform-origin\": \"0 50%\"\n    }, [\n      _createElementVNode(\"path\", { d: pathd.value }, null, 8, _hoisted_3)\n    ], 8, _hoisted_2)\n  ], 8, _hoisted_1))\n}\n}\n\n})","<template>\n  <svg \n    class=\"formula-content\"\n    overflow=\"visible\" \n    :width=\"box.w + 32\"\n    :height=\"box.h + 32\"\n    stroke=\"#000\" \n    stroke-width=\"1\" \n    fill=\"none\" \n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <g \n      :transform=\"`scale(${scale}, ${scale}) translate(0,0) matrix(1,0,0,1,0,0)`\"\n      transform-origin=\"0 50%\"\n    >\n      <path :d=\"pathd\"></path>\n    </g>\n  </svg>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from 'vue'\nimport { hfmath } from './hfmath'\n\nconst props = defineProps<{\n  latex: string\n  width: number\n  height: number\n}>()\n\nconst box = ref({ x: 0, y: 0, w: 0, h: 0 })\nconst pathd = ref('')\n\nwatch(() => props.latex, () => {\n  const eq = new hfmath(props.latex)\n  pathd.value = eq.pathd({})\n  box.value = eq.box({})\n}, { immediate: true })\n\nconst scale = computed(() => {\n  const boxW = box.value.w + 32\n  const boxH = box.value.h + 32\n\n  if (boxW > props.width || boxH > props.height) {\n    if (boxW / boxH > props.width / props.height) return props.width / boxW\n    return props.height / boxH\n  }\n  return 1\n})\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  overflow: hidden;\n}\n</style>","import script from \"./FormulaContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormulaContent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FormulaContent.vue?vue&type=style&index=0&id=567417d3&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-567417d3\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { computed } from 'vue'\nimport { hfmath } from './hfmath'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SymbolContent',\n  props: {\n    latex: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst svg = computed(() => {\n  const eq = new hfmath(props.latex)\n  return eq.svg({\n    SCALE_X: 10,\n    SCALE_Y: 10,\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"symbol-content\",\n    innerHTML: svg.value\n  }, null, 8, _hoisted_1))\n}\n}\n\n})","<template>\n  <div class=\"symbol-content\" v-html=\"svg\"></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { hfmath } from './hfmath'\n\nconst props = defineProps<{\n  latex: string\n}>()\n\nconst svg = computed(() => {\n  const eq = new hfmath(props.latex)\n  return eq.svg({\n    SCALE_X: 10,\n    SCALE_Y: 10,\n  })\n})\n</script>\n","import script from \"./SymbolContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SymbolContent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-326ac8a0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"disabled\", \"value\", \"rows\", \"placeholder\"]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TextArea',\n  props: {\n    value: {},\n    rows: { default: 4 },\n    disabled: { type: Boolean, default: false },\n    resizable: { type: Boolean, default: false },\n    placeholder: { default: '' }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit\n\nconst handleInput = (e: Event) => {\n  emit('update:value', (e.target as HTMLInputElement).value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"textarea\", {\n    class: _normalizeClass([\"textarea\", {\n      'disabled': _ctx.disabled,\n      'resizable': _ctx.resizable,\n    }]),\n    disabled: _ctx.disabled,\n    value: _ctx.value,\n    rows: _ctx.rows,\n    placeholder: _ctx.placeholder,\n    onInput: _cache[0] || (_cache[0] = $event => handleInput($event))\n  }, null, 42, _hoisted_1))\n}\n}\n\n})","<template>\n  <textarea\n    class=\"textarea\" \n    :class=\"{\n      'disabled': disabled,\n      'resizable': resizable,\n    }\"\n    :disabled=\"disabled\"\n    :value=\"value\" \n    :rows=\"rows\"\n    :placeholder=\"placeholder\"\n    @input=\"$event => handleInput($event)\"\n  ></textarea>\n</template>\n\n<script lang=\"ts\" setup>\nwithDefaults(defineProps<{\n  value: string\n  rows?: number\n  disabled?: boolean\n  resizable?: boolean\n  placeholder?: string\n}>(), {\n  rows: 4,\n  disabled: false,\n  resizable: false,\n  placeholder: '',\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: string): void\n}>()\n\nconst handleInput = (e: Event) => {\n  emit('update:value', (e.target as HTMLInputElement).value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.textarea {\n  outline: 0;\n  width: 100%;\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  border-radius: $borderRadius;\n  padding: 10px;\n  transition: border-color .25s;\n  box-sizing: border-box;\n  line-height: 1.675;\n  resize: none;\n  font-family: -apple-system,BlinkMacSystemFont, 'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';\n\n  &:focus {\n    border-color: $themeColor;\n    background-color: #fff;\n  }\n\n  &.resizable {\n    resize: vertical;\n  }\n\n  &.disabled {\n    background-color: #f5f5f5;\n    border-color: #dcdcdc;\n    color: #b7b7b7;\n  }\n\n  &::placeholder {\n    color: #bfbfbf;\n  }\n}\n</style>","import script from \"./TextArea.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextArea.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TextArea.vue?vue&type=style&index=0&id=326ac8a0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-326ac8a0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-54fe141e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"latex-editor\" }\nconst _hoisted_2 = { class: \"container\" }\nconst _hoisted_3 = { class: \"left\" }\nconst _hoisted_4 = { class: \"input-area\" }\nconst _hoisted_5 = { class: \"preview\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"placeholder\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"preview-content\"\n}\nconst _hoisted_8 = { class: \"right\" }\nconst _hoisted_9 = { class: \"content\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"symbol\"\n}\nconst _hoisted_11 = { class: \"symbol-pool\" }\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = {\n  key: 1,\n  class: \"formula\"\n}\nconst _hoisted_14 = { class: \"formula-title\" }\nconst _hoisted_15 = [\"onClick\"]\nconst _hoisted_16 = { class: \"footer\" }\n\nimport { computed, onMounted, ref } from 'vue'\nimport { hfmath } from './hfmath'\nimport { FORMULA_LIST, SYMBOL_LIST } from '@/configs/latex'\nimport message from '@/utils/message'\n\nimport FormulaContent from './FormulaContent.vue'\nimport SymbolContent from './SymbolContent.vue'\nimport Button from '../Button.vue'\nimport TextArea from '../TextArea.vue'\nimport Tabs from '../Tabs.vue'\n\ninterface TabItem {\n  key: 'symbol' | 'formula'\n  label: string\n}\n\ninterface LatexResult {\n  latex: string\n  path: string\n  w: number\n  h: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    value: { default: '' }\n  },\n  emits: [\"update\", \"close\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst tabs: TabItem[] = [\n  { label: 'Common symbols', key: 'symbol' },\n  { label: 'Preset formula', key: 'formula' },\n]\n\nconst props = __props\n\nconst emit = __emit\n\nconst formulaList = FORMULA_LIST\n\nconst symbolTabs = SYMBOL_LIST.map(item => ({\n  label: item.label,\n  key: item.type,\n}))\n\nconst latex = ref('')\nconst toolbarState = ref<'symbol' | 'formula'>('symbol')\nconst textAreaRef = ref<HTMLTextAreaElement>()\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].type)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.type === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nonMounted(() => {\n  if (props.value) latex.value = props.value\n})\n\nconst update = () => {\n  if (!latex.value) return message.error('Formula cannot be empty')\n\n  const eq = new hfmath(latex.value)\n  const pathd = eq.pathd({})\n  const box = eq.box({})\n  \n  emit('update', {\n    latex: latex.value,\n    path: pathd,\n    w: box.w + 32,\n    h: box.h + 32,\n  })\n}\n\nconst insertSymbol = (latex: string) => {\n  if (!textAreaRef.value) return\n  textAreaRef.value.focus()\n  document.execCommand('insertText', false, latex)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(TextArea, {\n            value: latex.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((latex).value = $event)),\n            placeholder: \"Enter LaTeX formula\",\n            ref_key: \"textAreaRef\",\n            ref: textAreaRef\n          }, null, 8, [\"value\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (!latex.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"Formula preview\"))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                _createVNode(FormulaContent, {\n                  width: 518,\n                  height: 138,\n                  latex: latex.value\n                }, null, 8, [\"latex\"])\n              ]))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(Tabs, {\n          tabs: tabs,\n          value: toolbarState.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((toolbarState).value = $event)),\n          card: \"\"\n        }, null, 8, [\"value\"]),\n        _createElementVNode(\"div\", _hoisted_9, [\n          (toolbarState.value === 'symbol')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                _createVNode(Tabs, {\n                  tabs: _unref(symbolTabs),\n                  value: selectedSymbolKey.value,\n                  \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((selectedSymbolKey).value = $event)),\n                  spaceBetween: \"\",\n                  tabsStyle: { margin: '10px 10px 0' }\n                }, null, 8, [\"tabs\", \"value\"]),\n                _createElementVNode(\"div\", _hoisted_11, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(symbolPool.value, (item) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: \"symbol-item\",\n                      key: item.latex,\n                      onClick: ($event: any) => (insertSymbol(item.latex))\n                    }, [\n                      _createVNode(SymbolContent, {\n                        latex: item.latex\n                      }, null, 8, [\"latex\"])\n                    ], 8, _hoisted_12))\n                  }), 128))\n                ])\n              ]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(formulaList), (item) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"formula-item\",\n                    key: item.label\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_14, _toDisplayString(item.label), 1),\n                    _createElementVNode(\"div\", {\n                      class: \"formula-item-content\",\n                      onClick: ($event: any) => (latex.value =item.latex)\n                    }, [\n                      _createVNode(FormulaContent, {\n                        width: 236,\n                        height: 60,\n                        latex: item.latex\n                      }, null, 8, [\"latex\"])\n                    ], 8, _hoisted_15)\n                  ]))\n                }), 128))\n              ]))\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_16, [\n      _createVNode(Button, {\n        class: \"btn\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Cancel\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn\",\n        type: \"primary\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (update()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Sure\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"latex-editor\">\n    <div class=\"container\">\n      <div class=\"left\">\n        <div class=\"input-area\">\n          <TextArea v-model:value=\"latex\" placeholder=\"Enter LaTeX formula\" ref=\"textAreaRef\" />\n        </div>\n        <div class=\"preview\">\n          <div class=\"placeholder\" v-if=\"!latex\">Formula preview</div>\n          <div class=\"preview-content\" v-else>\n            <FormulaContent\n              :width=\"518\"\n              :height=\"138\"\n              :latex=\"latex\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"right\">\n        <Tabs \n          :tabs=\"tabs\" \n          v-model:value=\"toolbarState\" \n          card\n        />\n        <div class=\"content\">\n          <div class=\"symbol\" v-if=\"toolbarState === 'symbol'\">\n            <Tabs \n              :tabs=\"symbolTabs\" \n              v-model:value=\"selectedSymbolKey\" \n              spaceBetween \n              :tabsStyle=\"{ margin: '10px 10px 0' }\" \n            />\n            <div class=\"symbol-pool\">\n              <div class=\"symbol-item\" v-for=\"item in symbolPool\" :key=\"item.latex\" @click=\"insertSymbol(item.latex)\">\n                <SymbolContent :latex=\"item.latex\" />\n              </div>\n            </div>\n          </div>\n          <div class=\"formula\" v-else>\n            <div class=\"formula-item\" v-for=\"item in formulaList\" :key=\"item.label\">\n              <div class=\"formula-title\">{{item.label}}</div>\n              <div class=\"formula-item-content\" @click=\"latex =item.latex\">\n                <FormulaContent\n                  :width=\"236\"\n                  :height=\"60\"\n                  :latex=\"item.latex\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"footer\">\n      <Button class=\"btn\" @click=\"emit('close')\">Cancel</Button>\n      <Button class=\"btn\" type=\"primary\" @click=\"update()\">Sure</Button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\nimport { hfmath } from './hfmath'\nimport { FORMULA_LIST, SYMBOL_LIST } from '@/configs/latex'\nimport message from '@/utils/message'\n\nimport FormulaContent from './FormulaContent.vue'\nimport SymbolContent from './SymbolContent.vue'\nimport Button from '../Button.vue'\nimport TextArea from '../TextArea.vue'\nimport Tabs from '../Tabs.vue'\n\ninterface TabItem {\n  key: 'symbol' | 'formula'\n  label: string\n}\n\nconst tabs: TabItem[] = [\n  { label: 'Common symbols', key: 'symbol' },\n  { label: 'Preset formula', key: 'formula' },\n]\n\ninterface LatexResult {\n  latex: string\n  path: string\n  w: number\n  h: number\n}\n\nconst props = withDefaults(defineProps<{\n  value?: string\n}>(), {\n  value: '',\n})\n\nconst emit = defineEmits<{\n  (event: 'update', payload: LatexResult): void\n  (event: 'close'): void\n}>()\n\nconst formulaList = FORMULA_LIST\n\nconst symbolTabs = SYMBOL_LIST.map(item => ({\n  label: item.label,\n  key: item.type,\n}))\n\nconst latex = ref('')\nconst toolbarState = ref<'symbol' | 'formula'>('symbol')\nconst textAreaRef = ref<HTMLTextAreaElement>()\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].type)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.type === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nonMounted(() => {\n  if (props.value) latex.value = props.value\n})\n\nconst update = () => {\n  if (!latex.value) return message.error('Formula cannot be empty')\n\n  const eq = new hfmath(latex.value)\n  const pathd = eq.pathd({})\n  const box = eq.box({})\n  \n  emit('update', {\n    latex: latex.value,\n    path: pathd,\n    w: box.w + 32,\n    h: box.h + 32,\n  })\n}\n\nconst insertSymbol = (latex: string) => {\n  if (!textAreaRef.value) return\n  textAreaRef.value.focus()\n  document.execCommand('insertText', false, latex)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.latex-editor {\n  height: 560px;\n}\n.container {\n  height: calc(100% - 50px);\n  display: flex;\n}\n.left {\n  width: 540px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n}\n.input-area {\n  flex: 1;\n\n  textarea {\n    height: 100% !important;\n    border-color: $borderColor !important;\n    padding: 10px !important;\n\n    &:focus {\n      box-shadow: none !important;\n    }\n  }\n}\n.preview {\n  height: 160px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  margin-top: 20px;\n  border: 1px solid $borderColor;\n  user-select: none;\n}\n.placeholder {\n  color: #888;\n  font-size: 13px;\n}\n.preview-content {\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.right {\n  width: 280px;\n  height: 100%;\n  margin-left: 20px;\n  border: solid 1px $borderColor;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n}\n.content {\n  height: calc(100% - 40px);\n  font-size: 13px;\n}\n.formula {\n  height: 100%;\n  padding: 12px;\n\n  @include overflow-overlay();\n}\n.formula-item {\n  & + .formula-item {\n    margin-top: 10px;\n  }\n\n  .formula-title {\n    margin-bottom: 5px;\n  }\n  .formula-item-content {\n    height: 60px;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    background-color: $lightGray;\n    cursor: pointer;\n  }\n}\n.symbol {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.symbol-pool {\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1;\n  padding: 12px;\n\n  @include overflow-overlay();\n}\n.symbol-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    background-color: $lightGray;\n    cursor: pointer;\n  }\n}\n.footer {\n  height: 50px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  .btn {\n    margin-left: 10px;\n  }\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=54fe141e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-54fe141e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-64bedb34\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"accept\"]\n\nimport { ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FileInput',\n  props: {\n    accept: { default: 'image/*' }\n  },\n  emits: [\"change\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit\n\nconst inputRef = ref<HTMLInputElement>()\n\nconst handleClick = () => {\n  if (!inputRef.value) return\n  inputRef.value.value = ''\n  inputRef.value.click()\n}\nconst handleChange = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files\n  if (files) emit('change', files)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"file-input\",\n    onClick: _cache[1] || (_cache[1] = ($event: any) => (handleClick()))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\"),\n    _createElementVNode(\"input\", {\n      class: \"input\",\n      type: \"file\",\n      name: \"upload\",\n      ref_key: \"inputRef\",\n      ref: inputRef,\n      accept: _ctx.accept,\n      onChange: _cache[0] || (_cache[0] = $event => handleChange($event))\n    }, null, 40, _hoisted_1)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"file-input\" @click=\"handleClick()\">\n    <slot></slot>\n    <input \n      class=\"input\"\n      type=\"file\" \n      name=\"upload\" \n      ref=\"inputRef\" \n      :accept=\"accept\" \n      @change=\"$event => handleChange($event)\"\n    >\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\n\nwithDefaults(defineProps<{\n  accept?: string\n}>(), {\n  accept: 'image/*',\n})\n\nconst emit = defineEmits<{\n  (event: 'change', payload: FileList): void\n}>()\n\nconst inputRef = ref<HTMLInputElement>()\n\nconst handleClick = () => {\n  if (!inputRef.value) return\n  inputRef.value.value = ''\n  inputRef.value.click()\n}\nconst handleChange = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files\n  if (files) emit('change', files)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.input {\n  display: none;\n}\n</style>","import script from \"./FileInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FileInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FileInput.vue?vue&type=style&index=0&id=64bedb34&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64bedb34\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-04572b52\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"canvas-tool\" }\nconst _hoisted_2 = { class: \"left-handler\" }\nconst _hoisted_3 = { class: \"add-element-handler\" }\nconst _hoisted_4 = { class: \"handler-item group-btn\" }\nconst _hoisted_5 = { class: \"right-handler\" }\nconst _hoisted_6 = { class: \"text\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSnapshotStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport type { ShapePoolItem } from '@/configs/shapes'\nimport type { LinePoolItem } from '@/configs/lines'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nimport ShapePool from './ShapePool.vue'\nimport LinePool from './LinePool.vue'\nimport ChartPool from './ChartPool.vue'\nimport TableGenerator from './TableGenerator.vue'\nimport MediaInput from './MediaInput.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst {\n  creatingElement,\n  creatingCustomShape,\n  showSelectPanel,\n  showSearchPanel,\n} = storeToRefs(mainStore)\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\n\nconst { redo, undo } = useHistorySnapshot()\n\nconst {\n  scaleCanvas,\n  setCanvasScalePercentage,\n  resetCanvas,\n  canvasScalePercentage,\n} = useScaleCanvas()\n\nconst canvasScalePresetList = [200, 150, 100, 80, 50]\nconst canvasScaleVisible = ref(false)\n\nconst applyCanvasPresetScale = (value: number) => {\n  setCanvasScalePercentage(value)\n  canvasScaleVisible.value = false\n}\n\nconst {\n  createImageElement,\n  createChartElement,\n  createTableElement,\n  createLatexElement,\n  createVideoElement,\n  createAudioElement,\n} = useCreateElement()\n\nconst insertImageElement = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => createImageElement(dataURL))\n}\n\nconst shapePoolVisible = ref(false)\nconst linePoolVisible = ref(false)\nconst chartPoolVisible = ref(false)\nconst tableGeneratorVisible = ref(false)\nconst mediaInputVisible = ref(false)\nconst latexEditorVisible = ref(false)\nconst textTypeSelectVisible = ref(false)\n\n// \nconst drawText = (vertical = false) => {\n  mainStore.setCreatingElement({\n    type: 'text',\n    vertical,\n  })\n}\n\n// \nconst drawShape = (shape: ShapePoolItem) => {\n  if (shape.title === 'arbitrary polygon') {\n    mainStore.setCreatingCustomShapeState(true)\n  } else {\n    mainStore.setCreatingElement({\n      type: 'shape',\n      data: shape,\n    })\n  }\n  shapePoolVisible.value = false\n}\n\n// \nconst drawLine = (line: LinePoolItem) => {\n  mainStore.setCreatingElement({\n    type: 'line',\n    data: line,\n  })\n  linePoolVisible.value = false\n}\n\n// \nconst toggleSelectPanel = () => {\n  mainStore.setSelectPanelState(!showSelectPanel.value)\n}\n\n// \nconst toggleSraechPanel = () => {\n  mainStore.setSearchPanelState(!showSearchPanel.value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconBack = _resolveComponent(\"IconBack\")!\n  const _component_IconNext = _resolveComponent(\"IconNext\")!\n  const _component_IconMoveOne = _resolveComponent(\"IconMoveOne\")!\n  const _component_IconSearch = _resolveComponent(\"IconSearch\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconTextRotationNone = _resolveComponent(\"IconTextRotationNone\")!\n  const _component_IconTextRotationDown = _resolveComponent(\"IconTextRotationDown\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconPicture = _resolveComponent(\"IconPicture\")!\n  const _component_IconGraphicDesign = _resolveComponent(\"IconGraphicDesign\")!\n  const _component_IconConnection = _resolveComponent(\"IconConnection\")!\n  const _component_IconChartProportion = _resolveComponent(\"IconChartProportion\")!\n  const _component_IconInsertTable = _resolveComponent(\"IconInsertTable\")!\n  const _component_IconFormula = _resolveComponent(\"IconFormula\")!\n  const _component_IconVideoTwo = _resolveComponent(\"IconVideoTwo\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconFullScreen = _resolveComponent(\"IconFullScreen\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createVNode(_component_IconBack, {\n        class: _normalizeClass([\"handler-item\", { disable: !_unref(canUndo) }]),\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(undo)()))\n      }, null, 8, [\"class\"]), [\n        [_directive_tooltip, 'Undo']\n      ]),\n      _withDirectives(_createVNode(_component_IconNext, {\n        class: _normalizeClass([\"handler-item\", { disable: !_unref(canRedo) }]),\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(redo)()))\n      }, null, 8, [\"class\"]), [\n        [_directive_tooltip, 'Redo']\n      ]),\n      _createVNode(Divider, {\n        type: \"vertical\",\n        style: {\"height\":\"20px\"}\n      }),\n      _withDirectives(_createVNode(_component_IconMoveOne, {\n        class: _normalizeClass([\"handler-item\", { active: _unref(showSelectPanel) }]),\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (toggleSelectPanel()))\n      }, null, 8, [\"class\"]), [\n        [_directive_tooltip, 'SelectPanel']\n      ]),\n      _withDirectives(_createVNode(_component_IconSearch, {\n        class: _normalizeClass([\"handler-item\", { active: _unref(showSearchPanel) }]),\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (toggleSraechPanel()))\n      }, null, 8, [\"class\"]), [\n        [_directive_tooltip, 'Find/Replace']\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n        _createVNode(_component_IconFontSize, {\n          class: _normalizeClass([\"icon\", { active: _unref(creatingElement)?.type === 'text' }]),\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (drawText()))\n        }, null, 8, [\"class\"]),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          value: textTypeSelectVisible.value,\n          \"onUpdate:value\": _cache[7] || (_cache[7] = ($event: any) => ((textTypeSelectVisible).value = $event)),\n          style: {\"height\":\"100%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(PopoverMenuItem, {\n              center: \"\",\n              onClick: _cache[5] || (_cache[5] = \n                () => {\n                  drawText()\n                  textTypeSelectVisible.value = false\n                }\n              )\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextRotationNone),\n                _createTextVNode(\" Horizontal text box\")\n              ]),\n              _: 1\n            }),\n            _createVNode(PopoverMenuItem, {\n              center: \"\",\n              onClick: _cache[6] || (_cache[6] = \n                () => {\n                  drawText(true)\n                  textTypeSelectVisible.value = false\n                }\n              )\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextRotationDown),\n                _createTextVNode(\" vertical text box\")\n              ]),\n              _: 1\n            })\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_IconDown, { class: \"arrow\" })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ])), [\n        [_directive_tooltip, 'Insert Text']\n      ]),\n      _createVNode(FileInput, {\n        onChange: _cache[8] || (_cache[8] = (files) => insertImageElement(files))\n      }, {\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconPicture, { class: \"handler-item\" }, null, 512), [\n            [_directive_tooltip, 'Insert picture']\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: shapePoolVisible.value,\n        \"onUpdate:value\": _cache[10] || (_cache[10] = ($event: any) => ((shapePoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ShapePool, {\n            onSelect: _cache[9] || (_cache[9] = (shape) => drawShape(shape))\n          })\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconGraphicDesign, {\n            class: _normalizeClass([\"handler-item\", {\n            active: _unref(creatingCustomShape) || _unref(creatingElement)?.type === 'shape',\n          }])\n          }, null, 8, [\"class\"]), [\n            [_directive_tooltip, 'Insert shape']\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: linePoolVisible.value,\n        \"onUpdate:value\": _cache[12] || (_cache[12] = ($event: any) => ((linePoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(LinePool, {\n            onSelect: _cache[11] || (_cache[11] = (line) => drawLine(line))\n          })\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconConnection, {\n            class: _normalizeClass([\"handler-item\", { active: _unref(creatingElement)?.type === 'line' }])\n          }, null, 8, [\"class\"]), [\n            [_directive_tooltip, 'Insert line']\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: chartPoolVisible.value,\n        \"onUpdate:value\": _cache[14] || (_cache[14] = ($event: any) => ((chartPoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ChartPool, {\n            onSelect: _cache[13] || (_cache[13] = \n              (chart) => {\n                _unref(createChartElement)(chart)\n                chartPoolVisible.value = false\n              }\n            )\n          })\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconChartProportion, { class: \"handler-item\" }, null, 512), [\n            [_directive_tooltip, 'Insert chart']\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: tableGeneratorVisible.value,\n        \"onUpdate:value\": _cache[17] || (_cache[17] = ($event: any) => ((tableGeneratorVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(TableGenerator, {\n            onClose: _cache[15] || (_cache[15] = ($event: any) => (tableGeneratorVisible.value = false)),\n            onInsert: _cache[16] || (_cache[16] = \n              ({ row, col }) => {\n                _unref(createTableElement)(row, col)\n                tableGeneratorVisible.value = false\n              }\n            )\n          })\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconInsertTable, { class: \"handler-item\" }, null, 512), [\n            [_directive_tooltip, 'Insert table']\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _withDirectives(_createVNode(_component_IconFormula, {\n        class: \"handler-item\",\n        onClick: _cache[18] || (_cache[18] = ($event: any) => (latexEditorVisible.value = true))\n      }, null, 512), [\n        [_directive_tooltip, 'Insert formula']\n      ]),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: mediaInputVisible.value,\n        \"onUpdate:value\": _cache[22] || (_cache[22] = ($event: any) => ((mediaInputVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(MediaInput, {\n            onClose: _cache[19] || (_cache[19] = ($event: any) => (mediaInputVisible.value = false)),\n            onInsertVideo: _cache[20] || (_cache[20] = \n              (src) => {\n                _unref(createVideoElement)(src)\n                mediaInputVisible.value = false\n              }\n            ),\n            onInsertAudio: _cache[21] || (_cache[21] = \n              (src) => {\n                _unref(createAudioElement)(src)\n                mediaInputVisible.value = false\n              }\n            )\n          })\n        ]),\n        default: _withCtx(() => [\n          _withDirectives(_createVNode(_component_IconVideoTwo, { class: \"handler-item\" }, null, 512), [\n            [_directive_tooltip, 'Insert audio and video']\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createVNode(_component_IconMinus, {\n        class: \"handler-item viewport-size\",\n        onClick: _cache[23] || (_cache[23] = ($event: any) => (_unref(scaleCanvas)('-')))\n      }),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        value: canvasScaleVisible.value,\n        \"onUpdate:value\": _cache[24] || (_cache[24] = ($event: any) => ((canvasScaleVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(canvasScalePresetList, (item) => {\n            return _createVNode(PopoverMenuItem, {\n              center: \"\",\n              key: item,\n              onClick: ($event: any) => (applyCanvasPresetScale(item))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item) + \"%\", 1)\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"])\n          }), 64))\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_unref(canvasScalePercentage)), 1)\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createVNode(_component_IconPlus, {\n        class: \"handler-item viewport-size\",\n        onClick: _cache[25] || (_cache[25] = ($event: any) => (_unref(scaleCanvas)('+')))\n      }),\n      _withDirectives(_createVNode(_component_IconFullScreen, {\n        class: \"handler-item viewport-size-adaptation\",\n        onClick: _cache[26] || (_cache[26] = ($event: any) => (_unref(resetCanvas)()))\n      }, null, 512), [\n        [_directive_tooltip, 'Adapt to screen']\n      ])\n    ]),\n    _createVNode(Modal, {\n      visible: latexEditorVisible.value,\n      \"onUpdate:visible\": _cache[29] || (_cache[29] = ($event: any) => ((latexEditorVisible).value = $event)),\n      width: 880\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LaTeXEditor, {\n          onClose: _cache[27] || (_cache[27] = ($event: any) => (latexEditorVisible.value = false)),\n          onUpdate: _cache[28] || (_cache[28] = \n          (data) => {\n            _unref(createLatexElement)(data)\n            latexEditorVisible.value = false\n          }\n        )\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"canvas-tool\">\n    <div class=\"left-handler\">\n      <IconBack\n        class=\"handler-item\"\n        :class=\"{ disable: !canUndo }\"\n        v-tooltip=\"'Undo'\"\n        @click=\"undo()\"\n      />\n      <IconNext\n        class=\"handler-item\"\n        :class=\"{ disable: !canRedo }\"\n        v-tooltip=\"'Redo'\"\n        @click=\"redo()\"\n      />\n      <Divider type=\"vertical\" style=\"height: 20px\" />\n      <IconMoveOne\n        class=\"handler-item\"\n        :class=\"{ active: showSelectPanel }\"\n        v-tooltip=\"'SelectPanel'\"\n        @click=\"toggleSelectPanel()\"\n      />\n      <IconSearch\n        class=\"handler-item\"\n        :class=\"{ active: showSearchPanel }\"\n        v-tooltip=\"'Find/Replace'\"\n        @click=\"toggleSraechPanel()\"\n      />\n    </div>\n\n    <div class=\"add-element-handler\">\n      <div class=\"handler-item group-btn\" v-tooltip=\"'Insert Text'\">\n        <IconFontSize\n          class=\"icon\"\n          :class=\"{ active: creatingElement?.type === 'text' }\"\n          @click=\"drawText()\"\n        />\n\n        <Popover\n          trigger=\"click\"\n          v-model:value=\"textTypeSelectVisible\"\n          style=\"height: 100%\"\n        >\n          <template #content>\n            <PopoverMenuItem\n              center\n              @click=\"\n                () => {\n                  drawText()\n                  textTypeSelectVisible = false\n                }\n              \"\n              ><IconTextRotationNone /> Horizontal text box</PopoverMenuItem\n            >\n            <PopoverMenuItem\n              center\n              @click=\"\n                () => {\n                  drawText(true)\n                  textTypeSelectVisible = false\n                }\n              \"\n              ><IconTextRotationDown /> vertical text box</PopoverMenuItem\n            >\n          </template>\n          <IconDown class=\"arrow\" />\n        </Popover>\n      </div>\n      <FileInput @change=\"(files) => insertImageElement(files)\">\n        <IconPicture class=\"handler-item\" v-tooltip=\"'Insert picture'\" />\n      </FileInput>\n      <Popover trigger=\"click\" v-model:value=\"shapePoolVisible\">\n        <template #content>\n          <ShapePool @select=\"(shape) => drawShape(shape)\" />\n        </template>\n        <IconGraphicDesign\n          class=\"handler-item\"\n          :class=\"{\n            active: creatingCustomShape || creatingElement?.type === 'shape',\n          }\"\n          v-tooltip=\"'Insert shape'\"\n        />\n      </Popover>\n      <Popover trigger=\"click\" v-model:value=\"linePoolVisible\">\n        <template #content>\n          <LinePool @select=\"(line) => drawLine(line)\" />\n        </template>\n        <IconConnection\n          class=\"handler-item\"\n          :class=\"{ active: creatingElement?.type === 'line' }\"\n          v-tooltip=\"'Insert line'\"\n        />\n      </Popover>\n      <Popover trigger=\"click\" v-model:value=\"chartPoolVisible\">\n        <template #content>\n          <ChartPool\n            @select=\"\n              (chart) => {\n                createChartElement(chart)\n                chartPoolVisible = false\n              }\n            \"\n          />\n        </template>\n        <IconChartProportion class=\"handler-item\" v-tooltip=\"'Insert chart'\" />\n      </Popover>\n      <Popover trigger=\"click\" v-model:value=\"tableGeneratorVisible\">\n        <template #content>\n          <TableGenerator\n            @close=\"tableGeneratorVisible = false\"\n            @insert=\"\n              ({ row, col }) => {\n                createTableElement(row, col)\n                tableGeneratorVisible = false\n              }\n            \"\n          />\n        </template>\n        <IconInsertTable class=\"handler-item\" v-tooltip=\"'Insert table'\" />\n      </Popover>\n      <IconFormula\n        class=\"handler-item\"\n        v-tooltip=\"'Insert formula'\"\n        @click=\"latexEditorVisible = true\"\n      />\n      <Popover trigger=\"click\" v-model:value=\"mediaInputVisible\">\n        <template #content>\n          <MediaInput\n            @close=\"mediaInputVisible = false\"\n            @insertVideo=\"\n              (src) => {\n                createVideoElement(src)\n                mediaInputVisible = false\n              }\n            \"\n            @insertAudio=\"\n              (src) => {\n                createAudioElement(src)\n                mediaInputVisible = false\n              }\n            \"\n          />\n        </template>\n        <IconVideoTwo\n          class=\"handler-item\"\n          v-tooltip=\"'Insert audio and video'\"\n        />\n      </Popover>\n    </div>\n\n    <div class=\"right-handler\">\n      <IconMinus class=\"handler-item viewport-size\" @click=\"scaleCanvas('-')\" />\n      <Popover trigger=\"click\" v-model:value=\"canvasScaleVisible\">\n        <template #content>\n          <PopoverMenuItem\n            center\n            v-for=\"item in canvasScalePresetList\"\n            :key=\"item\"\n            @click=\"applyCanvasPresetScale(item)\"\n            >{{ item }}%</PopoverMenuItem\n          >\n        </template>\n        <span class=\"text\">{{ canvasScalePercentage }}</span>\n      </Popover>\n      <IconPlus class=\"handler-item viewport-size\" @click=\"scaleCanvas('+')\" />\n      <IconFullScreen\n        class=\"handler-item viewport-size-adaptation\"\n        v-tooltip=\"'Adapt to screen'\"\n        @click=\"resetCanvas()\"\n      />\n    </div>\n\n    <Modal v-model:visible=\"latexEditorVisible\" :width=\"880\">\n      <LaTeXEditor\n        @close=\"latexEditorVisible = false\"\n        @update=\"\n          (data) => {\n            createLatexElement(data)\n            latexEditorVisible = false\n          }\n        \"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSnapshotStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport type { ShapePoolItem } from '@/configs/shapes'\nimport type { LinePoolItem } from '@/configs/lines'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nimport ShapePool from './ShapePool.vue'\nimport LinePool from './LinePool.vue'\nimport ChartPool from './ChartPool.vue'\nimport TableGenerator from './TableGenerator.vue'\nimport MediaInput from './MediaInput.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\nconst mainStore = useMainStore()\nconst {\n  creatingElement,\n  creatingCustomShape,\n  showSelectPanel,\n  showSearchPanel,\n} = storeToRefs(mainStore)\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\n\nconst { redo, undo } = useHistorySnapshot()\n\nconst {\n  scaleCanvas,\n  setCanvasScalePercentage,\n  resetCanvas,\n  canvasScalePercentage,\n} = useScaleCanvas()\n\nconst canvasScalePresetList = [200, 150, 100, 80, 50]\nconst canvasScaleVisible = ref(false)\n\nconst applyCanvasPresetScale = (value: number) => {\n  setCanvasScalePercentage(value)\n  canvasScaleVisible.value = false\n}\n\nconst {\n  createImageElement,\n  createChartElement,\n  createTableElement,\n  createLatexElement,\n  createVideoElement,\n  createAudioElement,\n} = useCreateElement()\n\nconst insertImageElement = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => createImageElement(dataURL))\n}\n\nconst shapePoolVisible = ref(false)\nconst linePoolVisible = ref(false)\nconst chartPoolVisible = ref(false)\nconst tableGeneratorVisible = ref(false)\nconst mediaInputVisible = ref(false)\nconst latexEditorVisible = ref(false)\nconst textTypeSelectVisible = ref(false)\n\n// \nconst drawText = (vertical = false) => {\n  mainStore.setCreatingElement({\n    type: 'text',\n    vertical,\n  })\n}\n\n// \nconst drawShape = (shape: ShapePoolItem) => {\n  if (shape.title === 'arbitrary polygon') {\n    mainStore.setCreatingCustomShapeState(true)\n  } else {\n    mainStore.setCreatingElement({\n      type: 'shape',\n      data: shape,\n    })\n  }\n  shapePoolVisible.value = false\n}\n\n// \nconst drawLine = (line: LinePoolItem) => {\n  mainStore.setCreatingElement({\n    type: 'line',\n    data: line,\n  })\n  linePoolVisible.value = false\n}\n\n// \nconst toggleSelectPanel = () => {\n  mainStore.setSelectPanelState(!showSelectPanel.value)\n}\n\n// \nconst toggleSraechPanel = () => {\n  mainStore.setSearchPanelState(!showSearchPanel.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.canvas-tool {\n  position: relative;\n  border-bottom: 1px solid $borderColor;\n  background-color: #fff;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 10px;\n  font-size: 13px;\n  user-select: none;\n}\n.left-handler {\n  display: flex;\n  align-items: center;\n}\n.add-element-handler {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n\n  .handler-item {\n    width: 32px;\n\n    &:not(.group-btn):hover {\n      background-color: #f1f1f1;\n    }\n\n    &.active {\n      color: $themeColor;\n    }\n\n    &.group-btn {\n      width: auto;\n      margin-right: 4px;\n\n      &:hover {\n        background-color: #f3f3f3;\n      }\n\n      .icon,\n      .arrow {\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .icon {\n        width: 26px;\n        padding: 0 2px;\n\n        &:hover {\n          background-color: #e9e9e9;\n        }\n        &.active {\n          color: $themeColor;\n        }\n      }\n      .arrow {\n        font-size: 12px;\n\n        &:hover {\n          background-color: #e9e9e9;\n        }\n      }\n    }\n  }\n}\n.handler-item {\n  height: 24px;\n  font-size: 14px;\n  margin: 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: $borderRadius;\n  overflow: hidden;\n  cursor: pointer;\n\n  &.disable {\n    opacity: 0.5;\n  }\n}\n.left-handler,\n.right-handler {\n  .handler-item {\n    padding: 0 8px;\n\n    &.active,\n    &:not(.disable):hover {\n      background-color: #f1f1f1;\n    }\n  }\n}\n.right-handler {\n  display: flex;\n  align-items: center;\n\n  .text {\n    display: inline-block;\n    width: 40px;\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .viewport-size {\n    font-size: 13px;\n  }\n}\n\n@media screen and (width <= 1024px) {\n  .text {\n    display: none;\n  }\n}\n@media screen and (width <= 1000px) {\n  .left-handler,\n  .right-handler {\n    display: none;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=04572b52&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-04572b52\"]])\n\nexport default __exports__","import { ref, onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nexport default () => {\n  const { slides } = storeToRefs(useSlidesStore())\n\n  const timer = ref<number | null>(null)\n  const slidesLoadLimit = ref(50)\n\n  const loadSlide = () => {\n    if (slides.value.length > slidesLoadLimit.value) {\n      timer.value = setTimeout(() => {\n        slidesLoadLimit.value = slidesLoadLimit.value + 20\n        loadSlide()\n      }, 600)\n    }\n    else slidesLoadLimit.value = 9999\n  }\n\n  onMounted(loadSlide)\n\n  onUnmounted(() => {\n    if (timer.value) clearTimeout(timer.value)\n  })\n\n  return {\n    slidesLoadLimit,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8ee3e590\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"layout-pool\" }\nconst _hoisted_2 = [\"onClick\"]\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LayoutPool',\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { layouts } = storeToRefs(useSlidesStore())\n\nconst selectSlideTemplate = (slide: Slide) => {\n  emit('select', slide)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(layouts), (slide) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"layout-item\",\n        key: slide.id,\n        onClick: ($event: any) => (selectSlideTemplate(slide))\n      }, [\n        _createVNode(ThumbnailSlide, {\n          class: \"thumbnail\",\n          slide: slide,\n          size: 180\n        }, null, 8, [\"slide\"])\n      ], 8, _hoisted_2))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"layout-pool\">\n    <div \n      class=\"layout-item\"\n      v-for=\"slide in layouts\" \n      :key=\"slide.id\"\n      @click=\"selectSlideTemplate(slide)\"\n    >\n      <ThumbnailSlide class=\"thumbnail\" :slide=\"slide\" :size=\"180\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\nconst emit = defineEmits<{\n  (event: 'select', payload: Slide): void\n}>()\n\nconst { layouts } = storeToRefs(useSlidesStore())\n\nconst selectSlideTemplate = (slide: Slide) => {\n  emit('select', slide)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.layout-pool {\n  width: 394px;\n  height: 500px;\n  padding: 2px;\n  margin-right: -12px;\n  padding-right: 12px;\n  overflow: auto;\n\n  @include flex-grid-layout();\n}\n.layout-item {\n  @include flex-grid-layout-children(2, 48%);\n\n  &:nth-last-child(2), &:last-child {\n    margin-bottom: 0;\n  }\n\n  .thumbnail {\n    outline: 1px solid $borderColor;\n    cursor: pointer;\n\n    &:hover {\n      outline-color: $themeColor;\n    }\n  }\n}\n</style>","import script from \"./LayoutPool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LayoutPool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LayoutPool.vue?vue&type=style&index=0&id=8ee3e590&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8ee3e590\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27836fe5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-slide\" }\nconst _hoisted_2 = { class: \"select-btn\" }\nconst _hoisted_3 = [\"onMousedown\"]\nconst _hoisted_4 = { class: \"page-number\" }\n\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { fillDigit } from '@/utils/common'\nimport { isElementInViewport } from '@/utils/element'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport LayoutPool from './LayoutPool.vue'\nimport Popover from '@/components/Popover.vue'\nimport Draggable from 'vuedraggable'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst keyboardStore = useKeyboardStore()\nconst { selectedSlidesIndex: _selectedSlidesIndex, thumbnailsFocus } =\n  storeToRefs(mainStore)\nconst { slides, slideIndex } = storeToRefs(slidesStore)\nconst { ctrlKeyState, shiftKeyState } = storeToRefs(keyboardStore)\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst selectedSlidesIndex = computed(() => [\n  ..._selectedSlidesIndex.value,\n  slideIndex.value,\n])\n\nconst presetLayoutPopoverVisible = ref(false)\n\nconst {\n  copySlide,\n  pasteSlide,\n  createSlide,\n  createSlideByTemplate,\n  copyAndPasteSlide,\n  deleteSlide,\n  cutSlide,\n  selectAllSlide,\n  sortSlides,\n} = useSlideHandler()\n\n// \nconst thumbnailsRef = ref<InstanceType<typeof Draggable>>()\nwatch(\n  () => slideIndex.value,\n  () => {\n    // \n    if (selectedSlidesIndex.value.length) {\n      mainStore.updateSelectedSlidesIndex([])\n    }\n\n    // \n    nextTick(() => {\n      const activeThumbnailRef: HTMLElement =\n        thumbnailsRef.value?.$el?.querySelector('.thumbnail-item.active')\n      if (\n        thumbnailsRef.value &&\n        activeThumbnailRef &&\n        !isElementInViewport(activeThumbnailRef, thumbnailsRef.value.$el)\n      ) {\n        setTimeout(() => {\n          activeThumbnailRef.scrollIntoView({ behavior: 'smooth' })\n        }, 100)\n      }\n    })\n  }\n)\n\n// \nconst changeSlideIndex = (index: number) => {\n  mainStore.setActiveElementIdList([])\n\n  if (slideIndex.value === index) return\n  slidesStore.updateSlideIndex(index)\n}\n\n// \nconst handleClickSlideThumbnail = (e: MouseEvent, index: number) => {\n  const isMultiSelected = selectedSlidesIndex.value.length > 1\n\n  if (\n    isMultiSelected &&\n    selectedSlidesIndex.value.includes(index) &&\n    e.button !== 0\n  )\n    return\n\n  // Ctrl\n  // \n  if (ctrlKeyState.value) {\n    if (slideIndex.value === index) {\n      if (!isMultiSelected) return\n\n      const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(\n        (item) => item !== index\n      )\n      mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      changeSlideIndex(selectedSlidesIndex.value[0])\n    } else {\n      if (selectedSlidesIndex.value.includes(index)) {\n        const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(\n          (item) => item !== index\n        )\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      } else {\n        const newSelectedSlidesIndex = [...selectedSlidesIndex.value, index]\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      }\n    }\n  }\n  // Shift\n  else if (shiftKeyState.value) {\n    if (slideIndex.value === index && !isMultiSelected) return\n\n    let minIndex = Math.min(...selectedSlidesIndex.value)\n    let maxIndex = index\n\n    if (index < minIndex) {\n      maxIndex = Math.max(...selectedSlidesIndex.value)\n      minIndex = index\n    }\n\n    const newSelectedSlidesIndex = []\n    for (let i = minIndex; i <= maxIndex; i++) newSelectedSlidesIndex.push(i)\n    mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n  }\n  // \n  else {\n    mainStore.updateSelectedSlidesIndex([])\n    changeSlideIndex(index)\n  }\n}\n\n// \nconst setThumbnailsFocus = (focus: boolean) => {\n  if (thumbnailsFocus.value === focus) return\n  mainStore.setThumbnailsFocus(focus)\n\n  if (!focus) mainStore.updateSelectedSlidesIndex([])\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex)\n    return\n  sortSlides(newIndex, oldIndex)\n}\n\nconst { enterScreening, enterScreeningFromStart } = useScreening()\n\nconst contextmenusThumbnails = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Slide show',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nconst contextmenusThumbnailItem = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Cut',\n      subText: 'Ctrl + X',\n      handler: cutSlide,\n    },\n    {\n      text: 'Copy',\n      subText: 'Ctrl + C',\n      handler: copySlide,\n    },\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    { divider: true },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Copy page',\n      subText: 'Ctrl + D',\n      handler: copyAndPasteSlide,\n    },\n    {\n      text: 'Delete page',\n      subText: 'Delete',\n      handler: () => deleteSlide(),\n    },\n    { divider: true },\n    {\n      text: 'Show from current',\n      subText: 'Shift + F5',\n      handler: enterScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"thumbnails\",\n    onMousedown: _cache[4] || (_cache[4] = () => setThumbnailsFocus(true))\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(createSlide)()))\n      }, [\n        _createVNode(_component_IconPlus, { class: \"icon\" }),\n        _createTextVNode(\"Add slides \")\n      ]),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        placement: \"bottom-start\",\n        value: presetLayoutPopoverVisible.value,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((presetLayoutPopoverVisible).value = $event)),\n        center: \"\"\n      }, {\n        content: _withCtx(() => [\n          _createVNode(LayoutPool, {\n            onSelect: _cache[1] || (_cache[1] = \n              (slide) => {\n                _unref(createSlideByTemplate)(slide)\n                presetLayoutPopoverVisible.value = false\n              }\n            )\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_component_IconDown)\n          ])\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Draggable), {\n      class: \"thumbnail-list\",\n      ref_key: \"thumbnailsRef\",\n      ref: thumbnailsRef,\n      modelValue: _unref(slides),\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      onEnd: handleDragEnd,\n      itemKey: \"id\"\n    }, {\n      item: _withCtx(({ element, index }) => [\n        _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"thumbnail-item\", {\n            active: _unref(slideIndex) === index,\n            selected: selectedSlidesIndex.value.includes(index),\n          }]),\n          onMousedown: ($event) => handleClickSlideThumbnail($event, index),\n          onDblclick: _cache[3] || (_cache[3] = ($event: any) => (_unref(enterScreening)()))\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"label\", { 'offset-left': index >= 99 }])\n          }, _toDisplayString(_unref(fillDigit)(index + 1, 2)), 3),\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: element,\n            size: 120,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 42, _hoisted_3)), [\n          [_directive_contextmenu, contextmenusThumbnailItem]\n        ])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    _createElementVNode(\"div\", _hoisted_4, \" slideshow \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1)\n  ], 32)), [\n    [_directive_click_outside, () => setThumbnailsFocus(false)],\n    [_directive_contextmenu, contextmenusThumbnails]\n  ])\n}\n}\n\n})","<template>\n  <div\n    class=\"thumbnails\"\n    @mousedown=\"() => setThumbnailsFocus(true)\"\n    v-click-outside=\"() => setThumbnailsFocus(false)\"\n    v-contextmenu=\"contextmenusThumbnails\"\n  >\n    <div class=\"add-slide\">\n      <div class=\"btn\" @click=\"createSlide()\">\n        <IconPlus class=\"icon\" />Add slides\n      </div>\n      <Popover\n        trigger=\"click\"\n        placement=\"bottom-start\"\n        v-model:value=\"presetLayoutPopoverVisible\"\n        center\n      >\n        <template #content>\n          <LayoutPool\n            @select=\"\n              (slide) => {\n                createSlideByTemplate(slide)\n                presetLayoutPopoverVisible = false\n              }\n            \"\n          />\n        </template>\n        <div class=\"select-btn\"><IconDown /></div>\n      </Popover>\n    </div>\n\n    <Draggable\n      class=\"thumbnail-list\"\n      ref=\"thumbnailsRef\"\n      :modelValue=\"slides\"\n      :animation=\"200\"\n      :scroll=\"true\"\n      :scrollSensitivity=\"50\"\n      @end=\"handleDragEnd\"\n      itemKey=\"id\"\n    >\n      <template #item=\"{ element, index }\">\n        <div\n          class=\"thumbnail-item\"\n          :class=\"{\n            active: slideIndex === index,\n            selected: selectedSlidesIndex.includes(index),\n          }\"\n          @mousedown=\"($event) => handleClickSlideThumbnail($event, index)\"\n          @dblclick=\"enterScreening()\"\n          v-contextmenu=\"contextmenusThumbnailItem\"\n        >\n          <div class=\"label\" :class=\"{ 'offset-left': index >= 99 }\">\n            {{ fillDigit(index + 1, 2) }}\n          </div>\n          <ThumbnailSlide\n            class=\"thumbnail\"\n            :slide=\"element\"\n            :size=\"120\"\n            :visible=\"index < slidesLoadLimit\"\n          />\n        </div>\n      </template>\n    </Draggable>\n\n    <div class=\"page-number\">\n      slideshow {{ slideIndex + 1 }} / {{ slides.length }}\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { fillDigit } from '@/utils/common'\nimport { isElementInViewport } from '@/utils/element'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport LayoutPool from './LayoutPool.vue'\nimport Popover from '@/components/Popover.vue'\nimport Draggable from 'vuedraggable'\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst keyboardStore = useKeyboardStore()\nconst { selectedSlidesIndex: _selectedSlidesIndex, thumbnailsFocus } =\n  storeToRefs(mainStore)\nconst { slides, slideIndex } = storeToRefs(slidesStore)\nconst { ctrlKeyState, shiftKeyState } = storeToRefs(keyboardStore)\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst selectedSlidesIndex = computed(() => [\n  ..._selectedSlidesIndex.value,\n  slideIndex.value,\n])\n\nconst presetLayoutPopoverVisible = ref(false)\n\nconst {\n  copySlide,\n  pasteSlide,\n  createSlide,\n  createSlideByTemplate,\n  copyAndPasteSlide,\n  deleteSlide,\n  cutSlide,\n  selectAllSlide,\n  sortSlides,\n} = useSlideHandler()\n\n// \nconst thumbnailsRef = ref<InstanceType<typeof Draggable>>()\nwatch(\n  () => slideIndex.value,\n  () => {\n    // \n    if (selectedSlidesIndex.value.length) {\n      mainStore.updateSelectedSlidesIndex([])\n    }\n\n    // \n    nextTick(() => {\n      const activeThumbnailRef: HTMLElement =\n        thumbnailsRef.value?.$el?.querySelector('.thumbnail-item.active')\n      if (\n        thumbnailsRef.value &&\n        activeThumbnailRef &&\n        !isElementInViewport(activeThumbnailRef, thumbnailsRef.value.$el)\n      ) {\n        setTimeout(() => {\n          activeThumbnailRef.scrollIntoView({ behavior: 'smooth' })\n        }, 100)\n      }\n    })\n  }\n)\n\n// \nconst changeSlideIndex = (index: number) => {\n  mainStore.setActiveElementIdList([])\n\n  if (slideIndex.value === index) return\n  slidesStore.updateSlideIndex(index)\n}\n\n// \nconst handleClickSlideThumbnail = (e: MouseEvent, index: number) => {\n  const isMultiSelected = selectedSlidesIndex.value.length > 1\n\n  if (\n    isMultiSelected &&\n    selectedSlidesIndex.value.includes(index) &&\n    e.button !== 0\n  )\n    return\n\n  // Ctrl\n  // \n  if (ctrlKeyState.value) {\n    if (slideIndex.value === index) {\n      if (!isMultiSelected) return\n\n      const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(\n        (item) => item !== index\n      )\n      mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      changeSlideIndex(selectedSlidesIndex.value[0])\n    } else {\n      if (selectedSlidesIndex.value.includes(index)) {\n        const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(\n          (item) => item !== index\n        )\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      } else {\n        const newSelectedSlidesIndex = [...selectedSlidesIndex.value, index]\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      }\n    }\n  }\n  // Shift\n  else if (shiftKeyState.value) {\n    if (slideIndex.value === index && !isMultiSelected) return\n\n    let minIndex = Math.min(...selectedSlidesIndex.value)\n    let maxIndex = index\n\n    if (index < minIndex) {\n      maxIndex = Math.max(...selectedSlidesIndex.value)\n      minIndex = index\n    }\n\n    const newSelectedSlidesIndex = []\n    for (let i = minIndex; i <= maxIndex; i++) newSelectedSlidesIndex.push(i)\n    mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n  }\n  // \n  else {\n    mainStore.updateSelectedSlidesIndex([])\n    changeSlideIndex(index)\n  }\n}\n\n// \nconst setThumbnailsFocus = (focus: boolean) => {\n  if (thumbnailsFocus.value === focus) return\n  mainStore.setThumbnailsFocus(focus)\n\n  if (!focus) mainStore.updateSelectedSlidesIndex([])\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex)\n    return\n  sortSlides(newIndex, oldIndex)\n}\n\nconst { enterScreening, enterScreeningFromStart } = useScreening()\n\nconst contextmenusThumbnails = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Slide show',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nconst contextmenusThumbnailItem = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Cut',\n      subText: 'Ctrl + X',\n      handler: cutSlide,\n    },\n    {\n      text: 'Copy',\n      subText: 'Ctrl + C',\n      handler: copySlide,\n    },\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    { divider: true },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Copy page',\n      subText: 'Ctrl + D',\n      handler: copyAndPasteSlide,\n    },\n    {\n      text: 'Delete page',\n      subText: 'Delete',\n      handler: () => deleteSlide(),\n    },\n    { divider: true },\n    {\n      text: 'Show from current',\n      subText: 'Shift + F5',\n      handler: enterScreening,\n    },\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.thumbnails {\n  border-right: solid 1px $borderColor;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n}\n.add-slide {\n  height: 40px;\n  font-size: 12px;\n  display: flex;\n  flex-shrink: 0;\n  border-bottom: 1px solid $borderColor;\n  cursor: pointer;\n\n  .btn {\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &:hover {\n      background-color: $lightGray;\n    }\n  }\n  .select-btn {\n    width: 30px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid $borderColor;\n\n    &:hover {\n      background-color: $lightGray;\n    }\n  }\n\n  .icon {\n    margin-right: 3px;\n    font-size: 14px;\n  }\n}\n.thumbnail-list {\n  padding: 5px 0;\n  flex: 1;\n  overflow: auto;\n}\n.thumbnail-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 0;\n\n  .thumbnail {\n    outline: 2px solid rgba($color: $themeColor, $alpha: 0.15);\n  }\n\n  &.active {\n    .label {\n      color: $themeColor;\n    }\n    .thumbnail {\n      outline-color: $themeColor;\n    }\n  }\n  &.selected {\n    .thumbnail {\n      outline-color: $themeColor;\n    }\n  }\n}\n.label {\n  font-size: 12px;\n  color: #999;\n  width: 20px;\n  cursor: grab;\n\n  &.offset-left {\n    position: relative;\n    left: -4px;\n  }\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n.page-number {\n  height: 40px;\n  font-size: 12px;\n  border-top: 1px solid $borderColor;\n  line-height: 40px;\n  text-align: center;\n  color: #666;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=27836fe5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-27836fe5\"]])\n\nexport default __exports__","import { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { richTextAttrs, textFormatPainter } = storeToRefs(mainStore)\n\n  const toggleTextFormatPainter = (keep = false) => {\n    if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n    else {\n      mainStore.setTextFormatPainter({\n        keep,\n        bold: richTextAttrs.value.bold,\n        em: richTextAttrs.value.em,\n        underline: richTextAttrs.value.underline,\n        strikethrough: richTextAttrs.value.strikethrough,\n        color: richTextAttrs.value.color,\n        backcolor: richTextAttrs.value.backcolor,\n        fontname: richTextAttrs.value.fontname,\n        fontsize: richTextAttrs.value.fontsize,\n        align: richTextAttrs.value.align,\n      })\n    }\n  }\n\n  return {\n    toggleTextFormatPainter,\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-563bd2a0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"bar\" }\nconst _hoisted_2 = [\"data-tooltip\"]\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = [\"data-tooltip\"]\n\nimport { computed, ref, watch } from 'vue'\nimport NP from 'number-precision'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Slider',\n  props: {\n    value: {},\n    disabled: { type: Boolean, default: false },\n    min: { default: 0 },\n    max: { default: 100 },\n    step: { default: 1 },\n    range: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst props = __props\n\nconst emit = __emit\n\nconst sliderRef = ref<HTMLElement>()\nconst percentage = ref(0)\nconst start = ref(0)\nconst end = ref(0)\nconst handler = ref<'start' | 'end'>('end')\n\nconst getNewValue = (percentage: number) => {\n  let diff = percentage / 100 * (props.max - props.min)\n  if (props.step >= 1) diff = Math.fround(diff)\n  else {\n    const str = props.step.toString()\n    const match = str.match(/^[0.]*([1-9])/)\n\n    if (match) {\n      const targetNumber = match[1]\n      const position = str.indexOf(targetNumber) - 1\n      if (position > 0) {\n        const accuracy = Math.pow(10, position)\n        diff = Math.fround(diff * accuracy) / accuracy\n      }\n    }\n  }\n  return NP.plus(diff, props.min)\n}\n\nconst tooltipValue = computed(() => {\n  return getNewValue(percentage.value)\n})\nconst tooltipRangeStartValue = computed(() => {\n  return getNewValue(start.value)\n})\nconst tooltipRangeEndValue = computed(() => {\n  return getNewValue(end.value)\n})\n\nwatch(() => props.value, () => {\n  if (props.max === props.min) return\n  if (typeof props.value === 'number') {\n    percentage.value = (props.value - props.min) / (props.max - props.min) * 100\n  }\n  else {\n    start.value = (props.value[0] - props.min) / (props.max - props.min) * 100\n    end.value = (props.value[1] - props.min) / (props.max - props.min) * 100\n  }\n}, {\n  immediate: true,\n})\n\nconst getPercentage = (e: MouseEvent | TouchEvent) => {\n  if (!sliderRef.value) return 0\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let progress = (clientX - getBoundingClientRectViewLeft(sliderRef.value)) / sliderRef.value.clientWidth\n  progress = Math.max(progress, 0)\n  progress = Math.min(progress, 1)\n\n  let _percentage = progress * 100\n  const step = props.step / (props.max - props.min) * 100\n  const remainder = _percentage % step\n\n  if (remainder > 0) {\n    if (remainder <= step / 2) _percentage = _percentage - remainder\n    else _percentage = _percentage - remainder + step\n  }\n  return _percentage\n}\n\n// \nconst updateRange = (e: MouseEvent | TouchEvent) => {\n  const value = getPercentage(e)\n\n  if (handler.value === 'start') start.value = value\n  else end.value = value\n}\n\nconst updateRangeEnd = (e: MouseEvent | TouchEvent) => {\n  updatePercentage(e)\n  const newValue = getNewValue(percentage.value)\n  const oldValueArr = props.value as [number, number]\n  const newValueArr: [number, number] = handler.value === 'start' ? [newValue, oldValueArr[1]] : [oldValueArr[0], newValue]\n  if (newValueArr[0] > newValueArr[1]) {\n    [newValueArr[0], newValueArr[1]] = [newValueArr[1], newValueArr[0]]\n  }\n\n  emit('update:value', newValueArr)\n\n  document.removeEventListener('mousemove', updateRange)\n  document.removeEventListener('touchmove', updateRange)\n  document.removeEventListener('mouseup', updateRangeEnd)\n  document.removeEventListener('touchend', updateRangeEnd)\n}\n\n// \nconst updatePercentage = (e: MouseEvent | TouchEvent) => {\n  percentage.value = getPercentage(e)\n}\n\nconst updatePercentageEnd = (e: MouseEvent | TouchEvent) => {\n  updatePercentage(e)\n  const newValue = getNewValue(percentage.value)\n\n  emit('update:value', newValue)\n\n  document.removeEventListener('mousemove', updatePercentage)\n  document.removeEventListener('touchmove', updatePercentage)\n  document.removeEventListener('mouseup', updatePercentageEnd)\n  document.removeEventListener('touchend', updatePercentageEnd)\n}\n\nconst handleMousedown = (e: MouseEvent | TouchEvent) => {\n  if (props.disabled) return\n\n  if (props.range) {\n    const _percentage = getPercentage(e)\n    \n    if (Math.abs(_percentage - start.value) < Math.abs(_percentage - end.value)) {\n      handler.value = 'start'\n    }\n    else handler.value = 'end'\n\n    document.addEventListener('mousemove', updateRange)\n    document.addEventListener('touchmove', updateRange)\n    document.addEventListener('mouseup', updateRangeEnd)\n    document.addEventListener('touchend', updateRangeEnd)\n  }\n  else {\n    document.addEventListener('mousemove', updatePercentage)\n    document.addEventListener('touchmove', updatePercentage)\n    document.addEventListener('mouseup', updatePercentageEnd)\n    document.addEventListener('touchend', updatePercentageEnd)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"slider\", { 'disabled': _ctx.disabled }]),\n    ref_key: \"sliderRef\",\n    ref: sliderRef,\n    onMousedown: _cache[0] || (_cache[0] = $event => handleMousedown($event))\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (!_ctx.range)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createElementVNode(\"div\", {\n              class: \"track\",\n              style: _normalizeStyle({ width: `${percentage.value}%` })\n            }, null, 4),\n            _createElementVNode(\"div\", {\n              class: \"thumb\",\n              style: _normalizeStyle({ left: `${percentage.value}%` }),\n              \"data-tooltip\": tooltipValue.value\n            }, null, 12, _hoisted_2)\n          ], 64))\n        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            _createElementVNode(\"div\", {\n              class: \"track\",\n              style: _normalizeStyle({ width: `${end.value - start.value}%`, left: `${start.value}%` })\n            }, null, 4),\n            _createElementVNode(\"div\", {\n              class: \"thumb\",\n              style: _normalizeStyle({ left: `${start.value}%` }),\n              \"data-tooltip\": tooltipRangeStartValue.value\n            }, null, 12, _hoisted_3),\n            _createElementVNode(\"div\", {\n              class: \"thumb\",\n              style: _normalizeStyle({ left: `${end.value}%` }),\n              \"data-tooltip\": tooltipRangeEndValue.value\n            }, null, 12, _hoisted_4)\n          ], 64))\n    ])\n  ], 34))\n}\n}\n\n})","<template>\n  <div class=\"slider\" :class=\"{ 'disabled': disabled }\" ref=\"sliderRef\" @mousedown=\"$event => handleMousedown($event)\">\n    <div class=\"bar\">\n      <template v-if=\"!range\">\n        <div class=\"track\" :style=\"{ width: `${percentage}%` }\"></div>\n        <div class=\"thumb\" :style=\"{ left: `${percentage}%` }\" :data-tooltip=\"tooltipValue\"></div>\n      </template>\n      <template v-else>\n        <div class=\"track\" :style=\"{ width: `${end - start}%`, left: `${start}%` }\"></div>\n        <div class=\"thumb\" :style=\"{ left: `${start}%` }\" :data-tooltip=\"tooltipRangeStartValue\"></div>\n        <div class=\"thumb\" :style=\"{ left: `${end}%` }\" :data-tooltip=\"tooltipRangeEndValue\"></div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from 'vue'\nimport NP from 'number-precision'\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst props = withDefaults(defineProps<{\n  value: number | [number, number]\n  disabled?: boolean\n  min?: number\n  max?: number\n  step?: number\n  range?: boolean\n}>(), {\n  disabled: false,\n  min: 0,\n  max: 100,\n  step: 1,\n  range: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: number | [number, number]): void\n}>()\n\nconst sliderRef = ref<HTMLElement>()\nconst percentage = ref(0)\nconst start = ref(0)\nconst end = ref(0)\nconst handler = ref<'start' | 'end'>('end')\n\nconst getNewValue = (percentage: number) => {\n  let diff = percentage / 100 * (props.max - props.min)\n  if (props.step >= 1) diff = Math.fround(diff)\n  else {\n    const str = props.step.toString()\n    const match = str.match(/^[0.]*([1-9])/)\n\n    if (match) {\n      const targetNumber = match[1]\n      const position = str.indexOf(targetNumber) - 1\n      if (position > 0) {\n        const accuracy = Math.pow(10, position)\n        diff = Math.fround(diff * accuracy) / accuracy\n      }\n    }\n  }\n  return NP.plus(diff, props.min)\n}\n\nconst tooltipValue = computed(() => {\n  return getNewValue(percentage.value)\n})\nconst tooltipRangeStartValue = computed(() => {\n  return getNewValue(start.value)\n})\nconst tooltipRangeEndValue = computed(() => {\n  return getNewValue(end.value)\n})\n\nwatch(() => props.value, () => {\n  if (props.max === props.min) return\n  if (typeof props.value === 'number') {\n    percentage.value = (props.value - props.min) / (props.max - props.min) * 100\n  }\n  else {\n    start.value = (props.value[0] - props.min) / (props.max - props.min) * 100\n    end.value = (props.value[1] - props.min) / (props.max - props.min) * 100\n  }\n}, {\n  immediate: true,\n})\n\nconst getPercentage = (e: MouseEvent | TouchEvent) => {\n  if (!sliderRef.value) return 0\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let progress = (clientX - getBoundingClientRectViewLeft(sliderRef.value)) / sliderRef.value.clientWidth\n  progress = Math.max(progress, 0)\n  progress = Math.min(progress, 1)\n\n  let _percentage = progress * 100\n  const step = props.step / (props.max - props.min) * 100\n  const remainder = _percentage % step\n\n  if (remainder > 0) {\n    if (remainder <= step / 2) _percentage = _percentage - remainder\n    else _percentage = _percentage - remainder + step\n  }\n  return _percentage\n}\n\n// \nconst updateRange = (e: MouseEvent | TouchEvent) => {\n  const value = getPercentage(e)\n\n  if (handler.value === 'start') start.value = value\n  else end.value = value\n}\n\nconst updateRangeEnd = (e: MouseEvent | TouchEvent) => {\n  updatePercentage(e)\n  const newValue = getNewValue(percentage.value)\n  const oldValueArr = props.value as [number, number]\n  const newValueArr: [number, number] = handler.value === 'start' ? [newValue, oldValueArr[1]] : [oldValueArr[0], newValue]\n  if (newValueArr[0] > newValueArr[1]) {\n    [newValueArr[0], newValueArr[1]] = [newValueArr[1], newValueArr[0]]\n  }\n\n  emit('update:value', newValueArr)\n\n  document.removeEventListener('mousemove', updateRange)\n  document.removeEventListener('touchmove', updateRange)\n  document.removeEventListener('mouseup', updateRangeEnd)\n  document.removeEventListener('touchend', updateRangeEnd)\n}\n\n// \nconst updatePercentage = (e: MouseEvent | TouchEvent) => {\n  percentage.value = getPercentage(e)\n}\n\nconst updatePercentageEnd = (e: MouseEvent | TouchEvent) => {\n  updatePercentage(e)\n  const newValue = getNewValue(percentage.value)\n\n  emit('update:value', newValue)\n\n  document.removeEventListener('mousemove', updatePercentage)\n  document.removeEventListener('touchmove', updatePercentage)\n  document.removeEventListener('mouseup', updatePercentageEnd)\n  document.removeEventListener('touchend', updatePercentageEnd)\n}\n\nconst handleMousedown = (e: MouseEvent | TouchEvent) => {\n  if (props.disabled) return\n\n  if (props.range) {\n    const _percentage = getPercentage(e)\n    \n    if (Math.abs(_percentage - start.value) < Math.abs(_percentage - end.value)) {\n      handler.value = 'start'\n    }\n    else handler.value = 'end'\n\n    document.addEventListener('mousemove', updateRange)\n    document.addEventListener('touchmove', updateRange)\n    document.addEventListener('mouseup', updateRangeEnd)\n    document.addEventListener('touchend', updateRangeEnd)\n  }\n  else {\n    document.addEventListener('mousemove', updatePercentage)\n    document.addEventListener('touchmove', updatePercentage)\n    document.addEventListener('mouseup', updatePercentageEnd)\n    document.addEventListener('touchend', updatePercentageEnd)\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.slider {\n  width: 100%;\n  height: 12px;\n  padding: 4px 0;\n  user-select: none;\n\n  &.disabled {\n    .track {\n      background-color: #b4b4b4;\n    }\n\n    .thumb {\n      outline: 2px solid #b4b4b4;\n    }\n  }\n}\n.slider:not(.disabled) {\n  cursor: pointer;\n\n  .bar {\n    &:hover {\n      background-color: #f0f0f0;\n    }\n  }\n\n  .track {\n    &:hover {\n      background-color: $themeHoverColor;\n    }\n  }\n\n  .thumb {\n    &:hover, &:active {\n      outline: 4px solid $themeColor;\n    }\n  }\n}\n\n.bar {\n  width: calc(100% - 10px);\n  margin-left: 5px;\n  height: 4px;\n  border-radius: 2px;\n  position: relative;\n  background-color: #f5f5f5;\n  user-select: none;\n  transition: background-color .2s;\n}\n\n.track {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background-color: $themeColor;\n  transition: background-color .2s;\n}\n\n.thumb {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 10px;\n  height: 10px;\n  background-color: #fff;\n  outline: 2px solid $themeColor;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  z-index: 100;\n\n  &:hover, &:active {\n    &::before, &::after {\n      display: block;\n    }\n  }\n\n  &::before {\n    content: attr(data-tooltip);\n    min-width: 28px;\n    display: none;\n    position: absolute;\n    left: 50%;\n    bottom: 24px;\n    transform: translateX(-50%);\n    background-color: #262626;\n    text-align: center;\n    color: #fff;\n    border-radius: $borderRadius;\n    padding: 6px 5px;\n    font-size: 12px;\n  }\n  &::after {\n    content: '';\n    display: none;\n    position: absolute;\n    left: 50%;\n    bottom: 15px;\n    transform: translateX(-50%);\n    border: 5px solid transparent;\n    border-top-color: #262626;\n  }\n}\n</style>","import script from \"./Slider.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Slider.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=563bd2a0&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-563bd2a0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-44185c3a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-opacity\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Opacity:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport Slider from '@/components/Slider.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOpacity',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst opacity = ref<number>(1)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    opacity.value =\n      'opacity' in handleElement.value &&\n      handleElement.value.opacity !== undefined\n        ? handleElement.value.opacity\n        : 1\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOpacity = (value: number) => {\n  if (!handleElement.value) return\n  const props = { opacity: value }\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(Slider, {\n        min: 0,\n        max: 1,\n        step: 0.1,\n        value: opacity.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = value => updateOpacity(value as number)),\n        style: {\"width\":\"60%\"}\n      }, null, 8, [\"value\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-opacity\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Opacity:</div>\n      <Slider\n        :min=\"0\"\n        :max=\"1\"\n        :step=\"0.1\"\n        :value=\"opacity\"\n        @update:value=\"value => updateOpacity(value as number)\"\n        style=\"width: 60%\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport Slider from '@/components/Slider.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst opacity = ref<number>(1)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    opacity.value =\n      'opacity' in handleElement.value &&\n      handleElement.value.opacity !== undefined\n        ? handleElement.value.opacity\n        : 1\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOpacity = (value: number) => {\n  if (!handleElement.value) return\n  const props = { opacity: value }\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n</style>\n","import script from \"./ElementOpacity.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOpacity.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOpacity.vue?vue&type=style&index=0&id=44185c3a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-44185c3a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7fa73bdc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"color-block\" }\n\nimport Button from '@/components/Button.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ColorButton',\n  props: {\n    color: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlatte = _resolveComponent(\"IconPlatte\")!\n\n  return (_openBlock(), _createBlock(Button, { class: \"color-btn\" }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"content\",\n          style: _normalizeStyle({ backgroundColor: _ctx.color })\n        }, null, 4)\n      ]),\n      _createVNode(_component_IconPlatte, { class: \"color-btn-icon\" })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ColorButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ColorButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ColorButton.vue?vue&type=style&index=0&id=7fa73bdc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7fa73bdc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\n\ninterface CheckboardCache {\n  [key: string]: string | null\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Checkboard',\n  props: {\n    size: { default: 8 },\n    white: { default: '#fff' },\n    grey: { default: '#e6e6e6' }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst checkboardCache: CheckboardCache = {}\n\nconst renderCheckboard = (white: string, grey: string, size: number) => {\n  const canvas = document.createElement('canvas')\n  canvas.width = canvas.height = size * 2\n  const ctx = canvas.getContext('2d')\n  \n  if (!ctx) return null\n\n  ctx.fillStyle = white\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n  ctx.fillStyle = grey\n  ctx.fillRect(0, 0, size, size)\n  ctx.translate(size, size)\n  ctx.fillRect(0, 0, size, size)\n  return canvas.toDataURL()\n}\n\nconst getCheckboard = (white: string, grey: string, size: number) => {\n  const key = white + ',' + grey + ',' + size\n  if (checkboardCache[key]) return checkboardCache[key]\n  \n  const checkboard = renderCheckboard(white, grey, size)\n  checkboardCache[key] = checkboard\n  return checkboard\n}\n\nconst bgStyle = computed(() => {\n  const checkboard = getCheckboard(props.white, props.grey, props.size)\n  return { backgroundImage: `url(${checkboard})` }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"checkerboard\",\n    style: _normalizeStyle(bgStyle.value)\n  }, null, 4))\n}\n}\n\n})","<template>\n  <div class=\"checkerboard\" :style=\"bgStyle\"></div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\nconst props = withDefaults(defineProps<{\n  size?: number\n  white?: string\n  grey?: string\n}>(), {\n  size: 8,\n  white: '#fff',\n  grey: '#e6e6e6',\n})\n\ninterface CheckboardCache {\n  [key: string]: string | null\n}\nconst checkboardCache: CheckboardCache = {}\n\nconst renderCheckboard = (white: string, grey: string, size: number) => {\n  const canvas = document.createElement('canvas')\n  canvas.width = canvas.height = size * 2\n  const ctx = canvas.getContext('2d')\n  \n  if (!ctx) return null\n\n  ctx.fillStyle = white\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n  ctx.fillStyle = grey\n  ctx.fillRect(0, 0, size, size)\n  ctx.translate(size, size)\n  ctx.fillRect(0, 0, size, size)\n  return canvas.toDataURL()\n}\n\nconst getCheckboard = (white: string, grey: string, size: number) => {\n  const key = white + ',' + grey + ',' + size\n  if (checkboardCache[key]) return checkboardCache[key]\n  \n  const checkboard = renderCheckboard(white, grey, size)\n  checkboardCache[key] = checkboard\n  return checkboard\n}\n\nconst bgStyle = computed(() => {\n  const checkboard = getCheckboard(props.white, props.grey, props.size)\n  return { backgroundImage: `url(${checkboard})` }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.checkerboard {\n  background-size: contain;\n\n  @include absolute-0();\n}\n</style>","import script from \"./Checkboard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Checkboard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Checkboard.vue?vue&type=style&index=0&id=fa191ace&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fa191ace\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-84628bc8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"alpha\" }\nconst _hoisted_2 = { class: \"alpha-checkboard-wrap\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"alpha-picker\" }, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\n\nimport { computed, onUnmounted, ref } from 'vue'\n\nimport Checkboard from './Checkboard.vue'\nimport type { ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Alpha',\n  props: {\n    value: {}\n  },\n  emits: [\"colorChange\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst color = computed(() => props.value)\n    \nconst gradientColor = computed(() => {\n  const rgbaStr = [color.value.r, color.value.g, color.value.b].join(',')\n  return `linear-gradient(to right, rgba(${rgbaStr}, 0) 0%, rgba(${rgbaStr}, 1) 100%)`\n})\n\nconst alphaRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!alphaRef.value) return\n  const containerWidth = alphaRef.value.clientWidth\n  const xOffset = alphaRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let a\n\n  if (left < 0) a = 0\n  else if (left > containerWidth) a = 1\n  else a = Math.round(left * 100 / containerWidth) / 100\n\n  if (color.value.a !== a) {\n    emit('colorChange', {\n      r: color.value.r,\n      g: color.value.g,\n      b: color.value.b,\n      a: a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Checkboard)\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"alpha-gradient\",\n      style: _normalizeStyle({ background: gradientColor.value })\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: \"alpha-container\",\n      ref_key: \"alphaRef\",\n      ref: alphaRef,\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"alpha-pointer\",\n        style: _normalizeStyle({ left: color.value.a * 100 + '%' })\n      }, _hoisted_4, 4)\n    ], 544)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"alpha\">\n    <div class=\"alpha-checkboard-wrap\">\n      <Checkboard />\n    </div>\n    <div class=\"alpha-gradient\" :style=\"{ background: gradientColor }\"></div>\n    <div \n      class=\"alpha-container\" \n      ref=\"alphaRef\"\n      @mousedown=\"$event => handleMouseDown($event)\"\n    >\n      <div class=\"alpha-pointer\" :style=\"{ left: color.a * 100 + '%' }\">\n        <div class=\"alpha-picker\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onUnmounted, ref } from 'vue'\n\nimport Checkboard from './Checkboard.vue'\nimport type { ColorFormats } from 'tinycolor2'\n\nconst props = defineProps<{\n  value: ColorFormats.RGBA\n}>()\n\nconst emit = defineEmits<{\n  (event: 'colorChange', payload: ColorFormats.RGBA): void\n}>()\n\nconst color = computed(() => props.value)\n    \nconst gradientColor = computed(() => {\n  const rgbaStr = [color.value.r, color.value.g, color.value.b].join(',')\n  return `linear-gradient(to right, rgba(${rgbaStr}, 0) 0%, rgba(${rgbaStr}, 1) 100%)`\n})\n\nconst alphaRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!alphaRef.value) return\n  const containerWidth = alphaRef.value.clientWidth\n  const xOffset = alphaRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let a\n\n  if (left < 0) a = 0\n  else if (left > containerWidth) a = 1\n  else a = Math.round(left * 100 / containerWidth) / 100\n\n  if (color.value.a !== a) {\n    emit('colorChange', {\n      r: color.value.r,\n      g: color.value.g,\n      b: color.value.b,\n      a: a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n</script>\n\n<style lang=\"scss\" scoped>\n.alpha {\n  @include absolute-0();\n}\n.alpha-checkboard-wrap {\n  overflow: hidden;\n\n  @include absolute-0();\n}\n.alpha-gradient {\n  @include absolute-0();\n}\n.alpha-container {\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  margin: 0 3px;\n}\n.alpha-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.alpha-picker {\n  cursor: pointer;\n  width: 4px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  margin-top: 1px;\n  transform: translateX(-2px);\n}\n</style>","import script from \"./Alpha.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Alpha.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Alpha.vue?vue&type=style&index=0&id=84628bc8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-84628bc8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5711e710\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"hue\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"hue-picker\" }, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nimport { computed, onUnmounted, ref, watch } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Hue',\n  props: {\n    value: {},\n    hue: {}\n  },\n  emits: [\"colorChange\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst oldHue = ref(0)\nconst pullDirection = ref('')\n\nconst color = computed(() => {\n  const hsla = tinycolor(props.value).toHsl()\n  if (props.hue !== -1) hsla.h = props.hue\n  return hsla\n})\n\nconst pointerLeft = computed(() => {\n  if (color.value.h === 0 && pullDirection.value === 'right') return '100%'\n  return color.value.h * 100 / 360 + '%'\n})\n\nwatch(() => props.value, () => {\n  const hsla = tinycolor(props.value).toHsl()\n  const h = hsla.s === 0 ? props.hue : hsla.h\n  if (h !== 0 && h - oldHue.value > 0) pullDirection.value = 'right'\n  if (h !== 0 && h - oldHue.value < 0) pullDirection.value = 'left'\n  oldHue.value = h\n})\n\nconst hueRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!hueRef.value) return\n\n  const containerWidth = hueRef.value.clientWidth\n  const xOffset = hueRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let h, percent\n  \n  if (left < 0) h = 0\n  else if (left > containerWidth) h = 360\n  else {\n    percent = left * 100 / containerWidth\n    h = 360 * percent / 100\n  }\n  if (props.hue === -1 || color.value.h !== h) {\n    emit('colorChange', {\n      h,\n      l: color.value.l,\n      s: color.value.s,\n      a: color.value.a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"hue-container\",\n      ref_key: \"hueRef\",\n      ref: hueRef,\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"hue-pointer\",\n        style: _normalizeStyle({ left: pointerLeft.value })\n      }, _hoisted_3, 4)\n    ], 544)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"hue\">\n    <div \n      class=\"hue-container\"\n      ref=\"hueRef\"\n      @mousedown=\"$event => handleMouseDown($event)\"\n    >\n      <div \n        class=\"hue-pointer\"\n        :style=\"{ left: pointerLeft }\"\n      >\n        <div class=\"hue-picker\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onUnmounted, ref, watch } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\n\nconst props = defineProps<{\n  value: ColorFormats.RGBA\n  hue: number\n}>()\n\nconst emit = defineEmits<{\n  (event: 'colorChange', payload: ColorFormats.HSLA): void\n}>()\n\nconst oldHue = ref(0)\nconst pullDirection = ref('')\n\nconst color = computed(() => {\n  const hsla = tinycolor(props.value).toHsl()\n  if (props.hue !== -1) hsla.h = props.hue\n  return hsla\n})\n\nconst pointerLeft = computed(() => {\n  if (color.value.h === 0 && pullDirection.value === 'right') return '100%'\n  return color.value.h * 100 / 360 + '%'\n})\n\nwatch(() => props.value, () => {\n  const hsla = tinycolor(props.value).toHsl()\n  const h = hsla.s === 0 ? props.hue : hsla.h\n  if (h !== 0 && h - oldHue.value > 0) pullDirection.value = 'right'\n  if (h !== 0 && h - oldHue.value < 0) pullDirection.value = 'left'\n  oldHue.value = h\n})\n\nconst hueRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!hueRef.value) return\n\n  const containerWidth = hueRef.value.clientWidth\n  const xOffset = hueRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let h, percent\n  \n  if (left < 0) h = 0\n  else if (left > containerWidth) h = 360\n  else {\n    percent = left * 100 / containerWidth\n    h = 360 * percent / 100\n  }\n  if (props.hue === -1 || color.value.h !== h) {\n    emit('colorChange', {\n      h,\n      l: color.value.l,\n      s: color.value.s,\n      a: color.value.a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n</script>\n\n<style lang=\"scss\" scoped>\n.hue {\n  background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n\n  @include absolute-0();\n}\n.hue-container {\n  cursor: pointer;\n  margin: 0 2px;\n  position: relative;\n  height: 100%;\n}\n.hue-pointer {\n  z-index: 2;\n  position: absolute;\n  top: 0;\n}\n.hue-picker {\n  cursor: pointer;\n  margin-top: 1px;\n  width: 4px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  transform: translateX(-2px);\n}\n</style>","import script from \"./Hue.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Hue.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Hue.vue?vue&type=style&index=0&id=5711e710&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5711e710\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c79c0446\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-white\" }, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-black\" }, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-circle\" }, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\n\nimport { computed, onUnmounted, ref } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\nimport { throttle, clamp } from 'lodash'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Saturation',\n  props: {\n    value: {},\n    hue: {}\n  },\n  emits: [\"colorChange\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst color = computed(() => {\n  const hsva = tinycolor(props.value).toHsv()\n  if (props.hue !== -1) hsva.h = props.hue\n  return hsva\n})\n\nconst bgColor = computed(() => `hsl(${color.value.h}, 100%, 50%)`)\nconst pointerTop = computed(() => (-(color.value.v * 100) + 1) + 100 + '%')\nconst pointerLeft = computed(() => color.value.s * 100 + '%')\n\nconst emitChangeEvent = throttle(function(param: ColorFormats.HSVA) {\n  emit('colorChange', param)\n}, 20, { leading: true, trailing: false })\n\nconst saturationRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!saturationRef.value) return\n  \n  const containerWidth = saturationRef.value.clientWidth\n  const containerHeight = saturationRef.value.clientHeight\n  const xOffset = saturationRef.value.getBoundingClientRect().left + window.pageXOffset\n  const yOffset = saturationRef.value.getBoundingClientRect().top + window.pageYOffset\n  const left = clamp(e.pageX - xOffset, 0, containerWidth)\n  const top = clamp(e.pageY - yOffset, 0, containerHeight)\n  const saturation = left / containerWidth\n  const bright = clamp(-(top / containerHeight) + 1, 0, 1)\n\n  emitChangeEvent({\n    h: color.value.h,\n    s: saturation,\n    v: bright,\n    a: color.value.a,\n  })\n}\n\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"saturation\",\n    ref_key: \"saturationRef\",\n    ref: saturationRef,\n    style: _normalizeStyle({ background: bgColor.value }),\n    onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n  }, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"div\", {\n      class: \"saturation-pointer\",\n      style: _normalizeStyle({\n        top: pointerTop.value,\n        left: pointerLeft.value,\n      })\n    }, _hoisted_4, 4)\n  ], 36))\n}\n}\n\n})","<template>\n  <div \n    class=\"saturation\"\n    ref=\"saturationRef\"\n    :style=\"{ background: bgColor }\"\n    @mousedown=\"$event => handleMouseDown($event)\"\n  >\n    <div class=\"saturation-white\"></div>\n    <div class=\"saturation-black\"></div>\n    <div class=\"saturation-pointer\" \n      :style=\"{\n        top: pointerTop,\n        left: pointerLeft,\n      }\"\n    >\n      <div class=\"saturation-circle\"></div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onUnmounted, ref } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\nimport { throttle, clamp } from 'lodash'\n\nconst props = defineProps<{\n  value: ColorFormats.RGBA\n  hue: number\n}>()\n\nconst emit = defineEmits<{\n  (event: 'colorChange', payload: ColorFormats.HSVA): void\n}>()\n\nconst color = computed(() => {\n  const hsva = tinycolor(props.value).toHsv()\n  if (props.hue !== -1) hsva.h = props.hue\n  return hsva\n})\n\nconst bgColor = computed(() => `hsl(${color.value.h}, 100%, 50%)`)\nconst pointerTop = computed(() => (-(color.value.v * 100) + 1) + 100 + '%')\nconst pointerLeft = computed(() => color.value.s * 100 + '%')\n\nconst emitChangeEvent = throttle(function(param: ColorFormats.HSVA) {\n  emit('colorChange', param)\n}, 20, { leading: true, trailing: false })\n\nconst saturationRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!saturationRef.value) return\n  \n  const containerWidth = saturationRef.value.clientWidth\n  const containerHeight = saturationRef.value.clientHeight\n  const xOffset = saturationRef.value.getBoundingClientRect().left + window.pageXOffset\n  const yOffset = saturationRef.value.getBoundingClientRect().top + window.pageYOffset\n  const left = clamp(e.pageX - xOffset, 0, containerWidth)\n  const top = clamp(e.pageY - yOffset, 0, containerHeight)\n  const saturation = left / containerWidth\n  const bright = clamp(-(top / containerHeight) + 1, 0, 1)\n\n  emitChangeEvent({\n    h: color.value.h,\n    s: saturation,\n    v: bright,\n    a: color.value.a,\n  })\n}\n\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n</script>\n\n<style lang=\"scss\" scoped>\n.saturation,\n.saturation-white,\n.saturation-black {\n  @include absolute-0();\n\n  cursor: pointer;\n}\n.saturation-white {\n  background: linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n}\n.saturation-black {\n  background: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n}\n.saturation-pointer {\n  cursor: pointer;\n  position: absolute;\n}\n.saturation-circle {\n  width: 4px;\n  height: 4px;\n  box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0, 0, 0, .3), 0 0 1px 2px rgba(0, 0, 0, .4);\n  border-radius: 50%;\n  transform: translate(-2px, -2px);\n}\n</style>","import script from \"./Saturation.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Saturation.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Saturation.vue?vue&type=style&index=0&id=c79c0446&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c79c0446\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-eb50f8e8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editable-input\" }\nconst _hoisted_2 = [\"value\"]\n\nimport { computed } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableInput',\n  props: {\n    value: {}\n  },\n  emits: [\"colorChange\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst val = computed(() => {\n  let _hex = ''\n  if (props.value.a < 1) _hex = tinycolor(props.value).toHex8String().toUpperCase()\n  else _hex = tinycolor(props.value).toHexString().toUpperCase()\n  return _hex.replace('#', '')\n})\n\nconst handleInput = (e: Event) => {\n  const value = (e.target as HTMLInputElement).value\n  if (value.length >= 6) emit('colorChange', tinycolor(value).toRgb())\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"input\", {\n      class: \"input-content\",\n      value: val.value,\n      onInput: _cache[0] || (_cache[0] = $event => handleInput($event))\n    }, null, 40, _hoisted_2)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"editable-input\">\n    <input\n      class=\"input-content\"\n      :value=\"val\"\n      @input=\"$event => handleInput($event)\"\n    >\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\n\nconst props = defineProps<{\n  value: ColorFormats.RGBA\n}>()\n\nconst emit = defineEmits<{\n  (event: 'colorChange', payload: ColorFormats.RGBA): void\n}>()\n\nconst val = computed(() => {\n  let _hex = ''\n  if (props.value.a < 1) _hex = tinycolor(props.value).toHex8String().toUpperCase()\n  else _hex = tinycolor(props.value).toHexString().toUpperCase()\n  return _hex.replace('#', '')\n})\n\nconst handleInput = (e: Event) => {\n  const value = (e.target as HTMLInputElement).value\n  if (value.length >= 6) emit('colorChange', tinycolor(value).toRgb())\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editable-input {\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  text-align: center;\n  font-size: 14px;\n\n  &::after {\n    content: '#';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #999;\n  }\n}\n.input-content {\n  width: 100%;\n  padding: 3px;\n  border: 0;\n  border-bottom: 1px solid #ddd;\n  outline: none;\n  text-align: center;\n}\n.input-label {\n  text-transform: capitalize;\n}\n</style>\n","import script from \"./EditableInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditableInput.vue?vue&type=style&index=0&id=eb50f8e8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-eb50f8e8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0712bba8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"color-picker\" }\nconst _hoisted_2 = { class: \"picker-saturation-wrap\" }\nconst _hoisted_3 = { class: \"picker-controls\" }\nconst _hoisted_4 = { class: \"picker-color-wrap\" }\nconst _hoisted_5 = { class: \"picker-sliders\" }\nconst _hoisted_6 = { class: \"picker-hue-wrap\" }\nconst _hoisted_7 = { class: \"picker-alpha-wrap\" }\nconst _hoisted_8 = { class: \"picker-field\" }\nconst _hoisted_9 = { class: \"picker-presets\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"picker-gradient-presets\" }\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { class: \"picker-presets\" }\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = {\n  key: 0,\n  class: \"recent-colors-title\"\n}\nconst _hoisted_16 = { class: \"picker-presets\" }\nconst _hoisted_17 = [\"onClick\"]\n\nimport { computed, onMounted, ref, watch } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\nimport { debounce } from 'lodash'\nimport { toCanvas } from 'html-to-image'\nimport message from '@/utils/message'\n\nimport Alpha from './Alpha.vue'\nimport Checkboard from './Checkboard.vue'\nimport Hue from './Hue.vue'\nimport Saturation from './Saturation.vue'\nimport EditableInput from './EditableInput.vue'\n\nconst RECENT_COLORS = 'RECENT_COLORS'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    modelValue: { default: '#e86b99' }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst presetColorConfig = [\n  ['#7f7f7f', '#f2f2f2'],\n  ['#0d0d0d', '#808080'],\n  ['#1c1a10', '#ddd8c3'],\n  ['#0e243d', '#c6d9f0'],\n  ['#233f5e', '#dae5f0'],\n  ['#632623', '#f2dbdb'],\n  ['#4d602c', '#eaf1de'],\n  ['#3f3150', '#e6e0ec'],\n  ['#1e5867', '#d9eef3'],\n  ['#99490f', '#fee9da'],\n]\n\nconst gradient = (startColor: string, endColor: string, step: number) => {\n  const _startColor = tinycolor(startColor).toRgb()\n  const _endColor = tinycolor(endColor).toRgb()\n\n  const rStep = (_endColor.r - _startColor.r) / step\n  const gStep = (_endColor.g - _startColor.g) / step\n  const bStep = (_endColor.b - _startColor.b) / step\n  const gradientColorArr = []\n\n  for (let i = 0; i < step; i++) {\n    const gradientColor = tinycolor({\n      r: _startColor.r + rStep * i,\n      g: _startColor.g + gStep * i,\n      b: _startColor.b + bStep * i,\n    }).toRgbString()\n    gradientColorArr.push(gradientColor)\n  }\n  return gradientColorArr\n}\n\nconst getPresetColors = () => {\n  const presetColors = []\n  for (const color of presetColorConfig) {\n    presetColors.push(gradient(color[1], color[0], 5))\n  }\n  return presetColors\n}\n\nconst themeColors = ['#000000', '#ffffff', '#eeece1', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c']\nconst standardColors = ['#c21401', '#ff1e02', '#ffc12a', '#ffff3a', '#90cf5b', '#00af57', '#00afee', '#0071be', '#00215f', '#72349d']\n\nconst hue = ref(-1)\nconst recentColors = ref<string[]>([])\n\nconst color = computed({\n  get() {\n    return tinycolor(props.modelValue).toRgb()\n  },\n  set(rgba: ColorFormats.RGBA) {\n    const rgbaString = `rgba(${[rgba.r, rgba.g, rgba.b, rgba.a].join(',')})`\n    emit('update:modelValue', rgbaString)\n  },\n})\n\nconst presetColors = getPresetColors()\n\nconst currentColor = computed(() => {\n  return `rgba(${[color.value.r, color.value.g, color.value.b, color.value.a].join(',')})`\n})\n\nconst selectPresetColor = (colorString: string) => {\n  hue.value = tinycolor(colorString).toHsl().h\n  emit('update:modelValue', colorString)\n}\n\n// \nconst updateRecentColorsCache = debounce(function() {\n  const _color = tinycolor(color.value).toRgbString()\n  if (!recentColors.value.includes(_color)) {\n    recentColors.value = [_color, ...recentColors.value]\n\n    const maxLength = 10\n    if (recentColors.value.length > maxLength) {\n      recentColors.value = recentColors.value.slice(0, maxLength)\n    }\n  }\n}, 300, { trailing: true })\n\nonMounted(() => {\n  const recentColorsCache = localStorage.getItem(RECENT_COLORS)\n  if (recentColorsCache) recentColors.value = JSON.parse(recentColorsCache)\n})\n\nwatch(recentColors, () => {\n  const recentColorsCache = JSON.stringify(recentColors.value)\n  localStorage.setItem(RECENT_COLORS, recentColorsCache)\n})\n\nconst changeColor = (value: ColorFormats.RGBA | ColorFormats.HSLA | ColorFormats.HSVA) => {\n  if ('h' in value) {\n    hue.value = value.h\n    color.value = tinycolor(value).toRgb()\n  }\n  else {\n    hue.value = tinycolor(value).toHsl().h\n    color.value = value\n  }\n\n  updateRecentColorsCache()\n}\n\n// \n// \nconst openEyeDropper = () => {\n  const isSupportedEyeDropper = 'EyeDropper' in window\n\n  if (isSupportedEyeDropper) browserEyeDropper()\n  else customEyeDropper()\n}\n\n// \nconst browserEyeDropper = () => {\n  message.success('Press the ESC key to close the color picker')\n\n  // eslint-disable-next-line\n  const eyeDropper = new (window as any).EyeDropper()\n  eyeDropper.open().then((result: { sRGBHex: string }) => {\n    const tColor = tinycolor(result.sRGBHex)\n    hue.value = tColor.toHsl().h\n    color.value = tColor.toRgb()\n\n    updateRecentColorsCache()\n  }).catch(() => {\n    message.success('Close the color picker')\n  })\n}\n\n//  Canvas \nconst customEyeDropper = () => {\n  const targetRef: HTMLElement | null = document.querySelector('.canvas')\n  if (!targetRef) return\n\n  const maskRef = document.createElement('div')\n  maskRef.style.cssText = 'position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;'\n  document.body.appendChild(maskRef)\n\n  const colorBlockRef = document.createElement('div')\n  colorBlockRef.style.cssText = 'position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999'\n  maskRef.appendChild(colorBlockRef)\n\n  const { left, top, width, height } = targetRef.getBoundingClientRect()\n\n  const filter = (node: HTMLElement) => {\n    if (node.tagName && node.tagName.toUpperCase() === 'FOREIGNOBJECT') return false\n    if (node.classList && node.classList.contains('operate')) return false\n    return true\n  }\n\n  toCanvas(targetRef, { filter, fontEmbedCSS: '', width, height, canvasWidth: width, canvasHeight: height, pixelRatio: 1 }).then(canvasRef => {\n    canvasRef.style.cssText = `position: absolute; top: ${top}px; left: ${left}px; cursor: crosshair;`\n    maskRef.style.cursor = 'default'\n    maskRef.appendChild(canvasRef)\n\n    const ctx = canvasRef.getContext('2d')\n    if (!ctx) return\n\n    let currentColor = ''\n    const handleMousemove = (e: MouseEvent) => {\n      const x = e.x\n      const y = e.y\n\n      const mouseX = x - left\n      const mouseY = y - top\n\n      const [r, g, b, a] = ctx.getImageData(mouseX, mouseY, 1, 1).data\n      currentColor = `rgba(${r}, ${g}, ${b}, ${(a / 255).toFixed(2)})`\n\n      colorBlockRef.style.left = x + 10 + 'px'\n      colorBlockRef.style.top = y + 10 + 'px'\n      colorBlockRef.style.backgroundColor = currentColor\n    }\n    const handleMouseleave = () => {\n      currentColor = ''\n      colorBlockRef.style.left = '-100px'\n      colorBlockRef.style.top = '-100px'\n      colorBlockRef.style.backgroundColor = ''\n    }\n    const handleMousedown = (e: MouseEvent) => {\n      if (currentColor && e.button === 0) {\n        const tColor = tinycolor(currentColor)\n        hue.value = tColor.toHsl().h\n        color.value = tColor.toRgb()\n\n        updateRecentColorsCache()\n      }\n      document.body.removeChild(maskRef)\n      \n      canvasRef.removeEventListener('mousemove', handleMousemove)\n      canvasRef.removeEventListener('mouseleave', handleMouseleave)\n      window.removeEventListener('mousedown', handleMousedown)\n    }\n\n    canvasRef.addEventListener('mousemove', handleMousemove)\n    canvasRef.addEventListener('mouseleave', handleMouseleave)\n    window.addEventListener('mousedown', handleMousedown)\n  }).catch(() => {\n    message.error('')\n    document.body.removeChild(maskRef)\n  })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconNeedle = _resolveComponent(\"IconNeedle\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Saturation, {\n        value: color.value,\n        hue: hue.value,\n        onColorChange: _cache[0] || (_cache[0] = value => changeColor(value))\n      }, null, 8, [\"value\", \"hue\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", {\n          class: \"picker-current-color\",\n          style: _normalizeStyle({ background: currentColor.value })\n        }, null, 4),\n        _createVNode(Checkboard)\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createVNode(Hue, {\n            value: color.value,\n            hue: hue.value,\n            onColorChange: _cache[1] || (_cache[1] = value => changeColor(value))\n          }, null, 8, [\"value\", \"hue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createVNode(Alpha, {\n            value: color.value,\n            onColorChange: _cache[2] || (_cache[2] = value => changeColor(value))\n          }, null, 8, [\"value\"])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createVNode(EditableInput, {\n        class: \"input\",\n        value: color.value,\n        onColorChange: _cache[3] || (_cache[3] = value => changeColor(value))\n      }, null, 8, [\"value\"]),\n      _createElementVNode(\"div\", {\n        class: \"straw\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (openEyeDropper()))\n      }, [\n        _createVNode(_component_IconNeedle)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"transparent\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (selectPresetColor('#00000000')))\n      }, [\n        _createVNode(Checkboard)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_9, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(themeColors, (c) => {\n        return _createElementVNode(\"div\", {\n          class: \"picker-presets-color\",\n          key: c,\n          style: _normalizeStyle({ background: c }),\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, null, 12, _hoisted_10)\n      }), 64))\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(presetColors), (col, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"picker-gradient-col\",\n          key: index\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(col, (c) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"picker-gradient-color\",\n              key: c,\n              style: _normalizeStyle({ background: c }),\n              onClick: ($event: any) => (selectPresetColor(c))\n            }, null, 12, _hoisted_12))\n          }), 128))\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_13, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(standardColors, (c) => {\n        return _createElementVNode(\"div\", {\n          key: c,\n          class: \"picker-presets-color\",\n          style: _normalizeStyle({ background: c }),\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, null, 12, _hoisted_14)\n      }), 64))\n    ]),\n    (recentColors.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"\"))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_16, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(recentColors.value, (c) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: c,\n          class: \"picker-presets-color alpha\",\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"picker-presets-color-content\",\n            style: _normalizeStyle({ background: c })\n          }, null, 4)\n        ], 8, _hoisted_17))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"color-picker\">\n    <div class=\"picker-saturation-wrap\">\n      <Saturation :value=\"color\" :hue=\"hue\" @colorChange=\"value => changeColor(value)\" />\n    </div>\n    <div class=\"picker-controls\">\n      <div class=\"picker-color-wrap\">\n        <div class=\"picker-current-color\" :style=\"{ background: currentColor }\"></div>\n        <Checkboard />\n      </div>\n      <div class=\"picker-sliders\">\n        <div class=\"picker-hue-wrap\">\n          <Hue :value=\"color\" :hue=\"hue\" @colorChange=\"value => changeColor(value)\" />\n        </div>\n        <div class=\"picker-alpha-wrap\">\n          <Alpha :value=\"color\" @colorChange=\"value => changeColor(value)\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"picker-field\">\n      <EditableInput class=\"input\" :value=\"color\" @colorChange=\"value => changeColor(value)\" />\n      <div class=\"straw\" @click=\"openEyeDropper()\"><IconNeedle /></div>\n      <div class=\"transparent\" @click=\"selectPresetColor('#00000000')\">\n        <Checkboard />\n      </div>\n    </div>\n\n    <div class=\"picker-presets\">\n      <div\n        class=\"picker-presets-color\"\n        v-for=\"c in themeColors\"\n        :key=\"c\"\n        :style=\"{ background: c }\"\n        @click=\"selectPresetColor(c)\"\n      ></div>\n    </div>\n\n    <div class=\"picker-gradient-presets\">\n      <div\n        class=\"picker-gradient-col\"\n        v-for=\"(col, index) in presetColors\"\n        :key=\"index\"\n      >\n        <div class=\"picker-gradient-color\"\n          v-for=\"c in col\"\n          :key=\"c\"\n          :style=\"{ background: c }\"\n          @click=\"selectPresetColor(c)\"\n        ></div>\n      </div>\n    </div>\n\n    <div class=\"picker-presets\">\n      <div\n        v-for=\"c in standardColors\"\n        :key=\"c\"\n        class=\"picker-presets-color\"\n        :style=\"{ background: c }\"\n        @click=\"selectPresetColor(c)\"\n      ></div>\n    </div>\n\n    <div class=\"recent-colors-title\" v-if=\"recentColors.length\"></div>\n    <div class=\"picker-presets\">\n      <div\n        v-for=\"c in recentColors\"\n        :key=\"c\"\n        class=\"picker-presets-color alpha\"\n        @click=\"selectPresetColor(c)\"\n      >\n        <div class=\"picker-presets-color-content\" :style=\"{ background: c }\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport tinycolor, { type ColorFormats } from 'tinycolor2'\nimport { debounce } from 'lodash'\nimport { toCanvas } from 'html-to-image'\nimport message from '@/utils/message'\n\nimport Alpha from './Alpha.vue'\nimport Checkboard from './Checkboard.vue'\nimport Hue from './Hue.vue'\nimport Saturation from './Saturation.vue'\nimport EditableInput from './EditableInput.vue'\n\nconst props = withDefaults(defineProps<{\n  modelValue?: string\n}>(), {\n  modelValue: '#e86b99',\n})\n\nconst emit = defineEmits<{\n  (event: 'update:modelValue', payload: string): void\n}>()\n\nconst RECENT_COLORS = 'RECENT_COLORS'\n\nconst presetColorConfig = [\n  ['#7f7f7f', '#f2f2f2'],\n  ['#0d0d0d', '#808080'],\n  ['#1c1a10', '#ddd8c3'],\n  ['#0e243d', '#c6d9f0'],\n  ['#233f5e', '#dae5f0'],\n  ['#632623', '#f2dbdb'],\n  ['#4d602c', '#eaf1de'],\n  ['#3f3150', '#e6e0ec'],\n  ['#1e5867', '#d9eef3'],\n  ['#99490f', '#fee9da'],\n]\n\nconst gradient = (startColor: string, endColor: string, step: number) => {\n  const _startColor = tinycolor(startColor).toRgb()\n  const _endColor = tinycolor(endColor).toRgb()\n\n  const rStep = (_endColor.r - _startColor.r) / step\n  const gStep = (_endColor.g - _startColor.g) / step\n  const bStep = (_endColor.b - _startColor.b) / step\n  const gradientColorArr = []\n\n  for (let i = 0; i < step; i++) {\n    const gradientColor = tinycolor({\n      r: _startColor.r + rStep * i,\n      g: _startColor.g + gStep * i,\n      b: _startColor.b + bStep * i,\n    }).toRgbString()\n    gradientColorArr.push(gradientColor)\n  }\n  return gradientColorArr\n}\n\nconst getPresetColors = () => {\n  const presetColors = []\n  for (const color of presetColorConfig) {\n    presetColors.push(gradient(color[1], color[0], 5))\n  }\n  return presetColors\n}\n\nconst themeColors = ['#000000', '#ffffff', '#eeece1', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c']\nconst standardColors = ['#c21401', '#ff1e02', '#ffc12a', '#ffff3a', '#90cf5b', '#00af57', '#00afee', '#0071be', '#00215f', '#72349d']\n\nconst hue = ref(-1)\nconst recentColors = ref<string[]>([])\n\nconst color = computed({\n  get() {\n    return tinycolor(props.modelValue).toRgb()\n  },\n  set(rgba: ColorFormats.RGBA) {\n    const rgbaString = `rgba(${[rgba.r, rgba.g, rgba.b, rgba.a].join(',')})`\n    emit('update:modelValue', rgbaString)\n  },\n})\n\nconst presetColors = getPresetColors()\n\nconst currentColor = computed(() => {\n  return `rgba(${[color.value.r, color.value.g, color.value.b, color.value.a].join(',')})`\n})\n\nconst selectPresetColor = (colorString: string) => {\n  hue.value = tinycolor(colorString).toHsl().h\n  emit('update:modelValue', colorString)\n}\n\n// \nconst updateRecentColorsCache = debounce(function() {\n  const _color = tinycolor(color.value).toRgbString()\n  if (!recentColors.value.includes(_color)) {\n    recentColors.value = [_color, ...recentColors.value]\n\n    const maxLength = 10\n    if (recentColors.value.length > maxLength) {\n      recentColors.value = recentColors.value.slice(0, maxLength)\n    }\n  }\n}, 300, { trailing: true })\n\nonMounted(() => {\n  const recentColorsCache = localStorage.getItem(RECENT_COLORS)\n  if (recentColorsCache) recentColors.value = JSON.parse(recentColorsCache)\n})\n\nwatch(recentColors, () => {\n  const recentColorsCache = JSON.stringify(recentColors.value)\n  localStorage.setItem(RECENT_COLORS, recentColorsCache)\n})\n\nconst changeColor = (value: ColorFormats.RGBA | ColorFormats.HSLA | ColorFormats.HSVA) => {\n  if ('h' in value) {\n    hue.value = value.h\n    color.value = tinycolor(value).toRgb()\n  }\n  else {\n    hue.value = tinycolor(value).toHsl().h\n    color.value = value\n  }\n\n  updateRecentColorsCache()\n}\n\n// \n// \nconst openEyeDropper = () => {\n  const isSupportedEyeDropper = 'EyeDropper' in window\n\n  if (isSupportedEyeDropper) browserEyeDropper()\n  else customEyeDropper()\n}\n\n// \nconst browserEyeDropper = () => {\n  message.success('Press the ESC key to close the color picker')\n\n  // eslint-disable-next-line\n  const eyeDropper = new (window as any).EyeDropper()\n  eyeDropper.open().then((result: { sRGBHex: string }) => {\n    const tColor = tinycolor(result.sRGBHex)\n    hue.value = tColor.toHsl().h\n    color.value = tColor.toRgb()\n\n    updateRecentColorsCache()\n  }).catch(() => {\n    message.success('Close the color picker')\n  })\n}\n\n//  Canvas \nconst customEyeDropper = () => {\n  const targetRef: HTMLElement | null = document.querySelector('.canvas')\n  if (!targetRef) return\n\n  const maskRef = document.createElement('div')\n  maskRef.style.cssText = 'position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;'\n  document.body.appendChild(maskRef)\n\n  const colorBlockRef = document.createElement('div')\n  colorBlockRef.style.cssText = 'position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999'\n  maskRef.appendChild(colorBlockRef)\n\n  const { left, top, width, height } = targetRef.getBoundingClientRect()\n\n  const filter = (node: HTMLElement) => {\n    if (node.tagName && node.tagName.toUpperCase() === 'FOREIGNOBJECT') return false\n    if (node.classList && node.classList.contains('operate')) return false\n    return true\n  }\n\n  toCanvas(targetRef, { filter, fontEmbedCSS: '', width, height, canvasWidth: width, canvasHeight: height, pixelRatio: 1 }).then(canvasRef => {\n    canvasRef.style.cssText = `position: absolute; top: ${top}px; left: ${left}px; cursor: crosshair;`\n    maskRef.style.cursor = 'default'\n    maskRef.appendChild(canvasRef)\n\n    const ctx = canvasRef.getContext('2d')\n    if (!ctx) return\n\n    let currentColor = ''\n    const handleMousemove = (e: MouseEvent) => {\n      const x = e.x\n      const y = e.y\n\n      const mouseX = x - left\n      const mouseY = y - top\n\n      const [r, g, b, a] = ctx.getImageData(mouseX, mouseY, 1, 1).data\n      currentColor = `rgba(${r}, ${g}, ${b}, ${(a / 255).toFixed(2)})`\n\n      colorBlockRef.style.left = x + 10 + 'px'\n      colorBlockRef.style.top = y + 10 + 'px'\n      colorBlockRef.style.backgroundColor = currentColor\n    }\n    const handleMouseleave = () => {\n      currentColor = ''\n      colorBlockRef.style.left = '-100px'\n      colorBlockRef.style.top = '-100px'\n      colorBlockRef.style.backgroundColor = ''\n    }\n    const handleMousedown = (e: MouseEvent) => {\n      if (currentColor && e.button === 0) {\n        const tColor = tinycolor(currentColor)\n        hue.value = tColor.toHsl().h\n        color.value = tColor.toRgb()\n\n        updateRecentColorsCache()\n      }\n      document.body.removeChild(maskRef)\n      \n      canvasRef.removeEventListener('mousemove', handleMousemove)\n      canvasRef.removeEventListener('mouseleave', handleMouseleave)\n      window.removeEventListener('mousedown', handleMousedown)\n    }\n\n    canvasRef.addEventListener('mousemove', handleMousemove)\n    canvasRef.addEventListener('mouseleave', handleMouseleave)\n    window.addEventListener('mousedown', handleMousedown)\n  }).catch(() => {\n    message.error('')\n    document.body.removeChild(maskRef)\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.color-picker {\n  position: relative;\n  width: 240px;\n  background: #fff;\n  user-select: none;\n  margin-bottom: -10px;\n}\n.picker-saturation-wrap {\n  width: 100%;\n  padding-bottom: 50%;\n  position: relative;\n  overflow: hidden;\n}\n.picker-controls {\n  display: flex;\n}\n.picker-sliders {\n  padding: 4px 0;\n  flex: 1;\n}\n.picker-hue-wrap {\n  position: relative;\n  height: 10px;\n}\n.picker-alpha-wrap {\n  position: relative;\n  height: 10px;\n  margin-top: 4px;\n  overflow: hidden;\n}\n.picker-color-wrap {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  margin-top: 4px;\n  margin-right: 4px;\n  outline: 1px dashed rgba($color: #666, $alpha: .12);\n\n  .checkerboard {\n    background-size: auto;\n  }\n}\n.picker-current-color {\n  @include absolute-0();\n\n  z-index: 2;\n}\n\n.picker-field {\n  display: flex;\n  margin-bottom: 8px;\n\n  .transparent {\n    width: 24px;\n    height: 24px;\n    margin-top: 4px;\n    margin-left: 8px;\n    position: relative;\n    cursor: pointer;\n\n    &::after {\n      content: '';\n      width: 26px;\n      height: 2px;\n      position: absolute;\n      top: 11px;\n      left: -1px;\n      transform: rotate(-45deg);\n      background-color: #f00;\n    }\n\n    .checkerboard {\n      background-size: auto;\n    }\n  }\n\n  .straw {\n    width: 24px;\n    height: 24px;\n    margin-top: 4px;\n    margin-left: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 20px;\n    background-color: #f5f5f5;\n    outline: 1px solid #f1f1f1;\n    cursor: pointer;\n  }\n  .input {\n    flex: 1;\n  }\n}\n\n.picker-presets {\n  @include flex-grid-layout();\n}\n.picker-presets-color {\n  @include flex-grid-layout-children(10, 7%);\n\n  height: 0;\n  padding-bottom: 7%;\n  flex-shrink: 0;\n  position: relative;\n  cursor: pointer;\n\n  &.alpha {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADBJREFUOE9jfPbs2X8GPEBSUhKfNAPjqAHDIgz+//+PNx08f/4cfzoYNYCBceiHAQC5flV5JzgrxQAAAABJRU5ErkJggg==);\n  }\n}\n.picker-presets-color-content {\n  @include absolute-0();\n}\n.picker-gradient-presets {\n  @include flex-grid-layout();\n}\n.picker-gradient-col {\n  @include flex-grid-layout-children(10, 7%);\n\n  display: flex;\n  flex-direction: column;\n}\n.picker-gradient-color {\n  width: 100%;\n  height: 16px;\n  position: relative;\n  cursor: pointer;\n}\n\n.recent-colors-title {\n  font-size: 12px;\n  margin-bottom: 4px;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0712bba8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0712bba8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0566b060\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"switch-core\" }, null, -1))\nconst _hoisted_2 = [\n  _hoisted_1\n]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Switch',\n  props: {\n    value: { type: Boolean },\n    disabled: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst handleChange = () => {\n  if (props.disabled) return\n  emit('update:value', !props.value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    class: _normalizeClass([\"switch\", {\n      'active': _ctx.value,\n      'disabled': _ctx.disabled,\n    }]),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (handleChange()))\n  }, _hoisted_2, 2))\n}\n}\n\n})","<template>\n  <span\n    class=\"switch\"\n    :class=\"{\n      'active': value,\n      'disabled': disabled,\n    }\" \n    @click=\"handleChange()\"\n  >\n    <span class=\"switch-core\"></span>\n  </span>\n</template>\n\n<script lang=\"ts\" setup>\nconst props = withDefaults(defineProps<{\n  value: boolean\n  disabled?: boolean\n}>(), {\n  disabled: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: boolean): void\n}>()\n\nconst handleChange = () => {\n  if (props.disabled) return\n  emit('update:value', !props.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.switch {\n  height: 20px;\n  display: inline-block;\n  cursor: pointer;\n\n  &:not(.disabled).active {\n    .switch-core {\n      border-color: $themeColor;\n      background-color: $themeColor;\n\n      &::after {\n        left: 100%;\n        margin-left: -17px;\n      }\n    }\n  }\n\n  &.disabled {\n    cursor: default;\n\n    .switch-core::after {\n      background-color: #f5f5f5;\n    }\n  }\n}\n.switch-core {\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  width: 40px;\n  height: 20px;\n  border: 1px solid #d9d9d9;\n  outline: none;\n  border-radius: 10px;\n  box-sizing: border-box;\n  background: #d9d9d9;\n  transition: border-color .3s, background-color .3s;\n  vertical-align: middle;\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    border-radius: 100%;\n    transition: all .3s;\n    width: 16px;\n    height: 16px;\n    background-color: #fff;\n  }\n}\n</style>","import script from \"./Switch.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Switch.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Switch.vue?vue&type=style&index=0&id=0566b060&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0566b060\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2cc77f4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-outline\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Enable borders:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border style:\", -1))\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border color:\", -1))\nconst _hoisted_9 = { class: \"row\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border thickness:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOutline',\n  props: {\n    fixed: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nconst slidesStore = useSlidesStore()\nconst { theme } = storeToRefs(slidesStore)\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst outline = ref<PPTElementOutline>()\nconst hasOutline = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    outline.value =\n      'outline' in handleElement.value ? handleElement.value.outline : undefined\n    hasOutline.value = !!outline.value\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n  if (!handleElement.value) return\n  const props = { outline: { ...outline.value, ...outlineProps } }\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nconst toggleOutline = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _outline: PPTElementOutline = theme.value.outline\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { outline: _outline },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'outline',\n    })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_ctx.fixed)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(Switch, {\n              value: hasOutline.value,\n              \"onUpdate:value\": _cache[0] || (_cache[0] = (value) => toggleOutline(value))\n            }, null, 8, [\"value\"])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (hasOutline.value && outline.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createVNode(Select, {\n              style: {\"width\":\"60%\"},\n              value: outline.value.style || '',\n              \"onUpdate:value\": _cache[1] || (_cache[1] = value => updateOutline({ style: value as 'dashed' | 'solid' })),\n              options: [\n            { label: 'solid border', value: 'solid' },\n            { label: 'dashed border', value: 'dashed' },\n          ]\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: outline.value.color,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = (value) => updateOutline({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: outline.value.color || '#000'\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _hoisted_10,\n            _createVNode(NumberInput, {\n              value: outline.value.width || 0,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = (value) => updateOutline({ width: value })),\n              style: {\"width\":\"60%\"}\n            }, null, 8, [\"value\"])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-outline\">\n    <div class=\"row\" v-if=\"!fixed\">\n      <div style=\"width: 40%\">Enable borders:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"hasOutline\"\n          @update:value=\"(value) => toggleOutline(value)\"\n        />\n      </div>\n    </div>\n    <template v-if=\"hasOutline && outline\">\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border style:</div>\n        <Select\n          style=\"width: 60%\"\n          :value=\"outline.style || ''\"\n          @update:value=\"value => updateOutline({ style: value as 'dashed' | 'solid' })\"\n          :options=\"[\n            { label: 'solid border', value: 'solid' },\n            { label: 'dashed border', value: 'dashed' },\n          ]\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"outline.color\"\n              @update:modelValue=\"(value) => updateOutline({ color: value })\"\n            />\n          </template>\n          <ColorButton :color=\"outline.color || '#000'\" />\n        </Popover>\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border thickness:</div>\n        <NumberInput\n          :value=\"outline.width || 0\"\n          @update:value=\"(value) => updateOutline({ width: value })\"\n          style=\"width: 60%\"\n        />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementOutline } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\nwithDefaults(\n  defineProps<{\n    fixed?: boolean\n  }>(),\n  {\n    fixed: false,\n  }\n)\n\nconst slidesStore = useSlidesStore()\nconst { theme } = storeToRefs(slidesStore)\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst outline = ref<PPTElementOutline>()\nconst hasOutline = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    outline.value =\n      'outline' in handleElement.value ? handleElement.value.outline : undefined\n    hasOutline.value = !!outline.value\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n  if (!handleElement.value) return\n  const props = { outline: { ...outline.value, ...outlineProps } }\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nconst toggleOutline = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _outline: PPTElementOutline = theme.value.outline\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { outline: _outline },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'outline',\n    })\n  }\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n</style>\n","import script from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOutline.vue?vue&type=style&index=0&id=e2cc77f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e2cc77f4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-28c2ce13\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-shadow\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Enable shadows:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Horizontal shadow:\", -1))\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Vertical shadow:\", -1))\nconst _hoisted_9 = { class: \"row\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Blur Shadow:\", -1))\nconst _hoisted_11 = { class: \"row\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Shadow color:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementShadow } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementShadow',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { theme } = storeToRefs(slidesStore)\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst shadow = ref<PPTElementShadow>()\nconst hasShadow = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    shadow.value =\n      'shadow' in handleElement.value ? handleElement.value.shadow : undefined\n    hasShadow.value = !!shadow.value\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateShadow = (shadowProps: Partial<PPTElementShadow>) => {\n  if (!handleElement.value || !shadow.value) return\n  const _shadow = { ...shadow.value, ...shadowProps }\n  slidesStore.updateElement({\n    id: handleElement.value.id,\n    props: { shadow: _shadow },\n  })\n  addHistorySnapshot()\n}\n\nconst toggleShadow = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _shadow: PPTElementShadow = theme.value.shadow\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { shadow: _shadow },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'shadow',\n    })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(Switch, {\n          value: hasShadow.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = (value) => toggleShadow(value))\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    (hasShadow.value && shadow.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: -10,\n              max: 10,\n              step: 1,\n              value: shadow.value.h,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = value => updateShadow({ h: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: -10,\n              max: 10,\n              step: 1,\n              value: shadow.value.v,\n              \"onUpdate:value\": _cache[2] || (_cache[2] = value => updateShadow({ v: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _hoisted_10,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: 1,\n              max: 20,\n              step: 1,\n              value: shadow.value.blur,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = value => updateShadow({ blur: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_11, [\n            _hoisted_12,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: shadow.value.color,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = (value) => updateShadow({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: shadow.value.color\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-shadow\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Enable shadows:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"hasShadow\"\n          @update:value=\"(value) => toggleShadow(value)\"\n        />\n      </div>\n    </div>\n    <template v-if=\"hasShadow && shadow\">\n      <div class=\"row\">\n        <div style=\"width: 40%\">Horizontal shadow:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"-10\"\n          :max=\"10\"\n          :step=\"1\"\n          :value=\"shadow.h\"\n          @update:value=\"value => updateShadow({ h: value as number })\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Vertical shadow:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"-10\"\n          :max=\"10\"\n          :step=\"1\"\n          :value=\"shadow.v\"\n          @update:value=\"value => updateShadow({ v: value as number })\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Blur Shadow:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"1\"\n          :max=\"20\"\n          :step=\"1\"\n          :value=\"shadow.blur\"\n          @update:value=\"value => updateShadow({ blur: value as number })\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Shadow color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"shadow.color\"\n              @update:modelValue=\"(value) => updateShadow({ color: value })\"\n            />\n          </template>\n          <ColorButton :color=\"shadow.color\" />\n        </Popover>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElementShadow } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst { theme } = storeToRefs(slidesStore)\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst shadow = ref<PPTElementShadow>()\nconst hasShadow = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n    shadow.value =\n      'shadow' in handleElement.value ? handleElement.value.shadow : undefined\n    hasShadow.value = !!shadow.value\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateShadow = (shadowProps: Partial<PPTElementShadow>) => {\n  if (!handleElement.value || !shadow.value) return\n  const _shadow = { ...shadow.value, ...shadowProps }\n  slidesStore.updateElement({\n    id: handleElement.value.id,\n    props: { shadow: _shadow },\n  })\n  addHistorySnapshot()\n}\n\nconst toggleShadow = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _shadow: PPTElementShadow = theme.value.shadow\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { shadow: _shadow },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'shadow',\n    })\n  }\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n</style>\n","import script from \"./ElementShadow.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementShadow.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementShadow.vue?vue&type=style&index=0&id=28c2ce13&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28c2ce13\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-37449800\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"text-color-block\" }\n\nimport Button from '@/components/Button.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TextColorButton',\n  props: {\n    color: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Button, { class: \"text-color-btn\" }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\"),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"text-color-block-content\",\n          style: _normalizeStyle({ backgroundColor: _ctx.color })\n        }, null, 4)\n      ])\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","import script from \"./TextColorButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextColorButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TextColorButton.vue?vue&type=style&index=0&id=37449800&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-37449800\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport Button from './Button.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CheckboxButton',\n  props: {\n    checked: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Button, {\n    checked: _ctx.checked,\n    disabled: _ctx.disabled,\n    type: \"checkbox\"\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 8, [\"checked\", \"disabled\"]))\n}\n}\n\n})","import script from \"./CheckboxButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CheckboxButton.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ButtonGroup',\n  props: {\n    passive: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"button-group\", { 'passive': _ctx.passive }]),\n    ref: \"groupRef\"\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./ButtonGroup.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ButtonGroup.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ButtonGroup.vue?vue&type=style&index=0&id=4db942e2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4db942e2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { inject } from 'vue'\nimport { injectKeyRadioGroupValue, type RadioGroupValue } from '@/types/injectKey'\n\nimport Button from './Button.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RadioButton',\n  props: {\n    value: {},\n    disabled: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\nconst { value: _value, updateValue } = inject(injectKeyRadioGroupValue) as RadioGroupValue\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Button, {\n    checked: !_ctx.disabled && _unref(_value) === _ctx.value,\n    disabled: _ctx.disabled,\n    type: \"radio\",\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (!_ctx.disabled && _unref(updateValue)(_ctx.value)))\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 8, [\"checked\", \"disabled\"]))\n}\n}\n\n})","<template>\n  <Button \n    :checked=\"!disabled && _value === value\"\n    :disabled=\"disabled\"\n    type=\"radio\"\n    @click=\"!disabled && updateValue(value)\"\n  >\n    <slot></slot>\n  </Button>\n</template>\n\n<script lang=\"ts\" setup>\nimport { inject } from 'vue'\nimport { injectKeyRadioGroupValue, type RadioGroupValue } from '@/types/injectKey'\n\nimport Button from './Button.vue'\n\nconst { value: _value, updateValue } = inject(injectKeyRadioGroupValue) as RadioGroupValue\n\nwithDefaults(defineProps<{\n  value: string\n  disabled?: boolean\n}>(), {\n  disabled: false,\n})\n</script>","import script from \"./RadioButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RadioButton.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed, provide } from 'vue'\nimport { injectKeyRadioGroupValue } from '@/types/injectKey'\n\nimport ButtonGroup from './ButtonGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RadioGroup',\n  props: {\n    value: {},\n    disabled: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst updateValue = (value: string) => {\n  if (props.disabled) return\n  emit('update:value', value)\n}\n\nconst value = computed(() => props.value)\n\nprovide(injectKeyRadioGroupValue, {\n  value,\n  updateValue,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(ButtonGroup, { class: \"radio-group\" }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","<template>\n  <ButtonGroup class=\"radio-group\">\n    <slot></slot>\n  </ButtonGroup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, provide } from 'vue'\nimport { injectKeyRadioGroupValue } from '@/types/injectKey'\n\nimport ButtonGroup from './ButtonGroup.vue'\n\nconst props = withDefaults(defineProps<{\n  value: string\n  disabled?: boolean\n}>(), {\n  disabled: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: string): void\n}>()\n\nconst updateValue = (value: string) => {\n  if (props.disabled) return\n  emit('update:value', value)\n}\n\nconst value = computed(() => props.value)\n\nprovide(injectKeyRadioGroupValue, {\n  value,\n  updateValue,\n})\n</script>","import script from \"./RadioGroup.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RadioGroup.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"select-group\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n.select-group {\n  display: flex;\n  align-items: center;\n\n  ::v-deep(.select-wrap) {\n    .select {\n      border-radius: 0;\n      border-left-width: 0;\n      border-right-width: 0;\n    }\n\n    & + .select-wrap {\n      .select {\n        border-left-width: 1px;\n      }\n    }\n\n    &:hover {\n      & + .select-wrap {\n        .select {\n          border-left-color: $themeColor;\n        }\n      }\n    }\n\n    &:first-child {\n      .select {\n        border-top-left-radius: $borderRadius;\n        border-bottom-left-radius: $borderRadius;\n        border-left-width: 1px;\n      }\n    }\n\n    &:last-child {\n      .select {\n        border-top-right-radius: $borderRadius;\n        border-bottom-right-radius: $borderRadius;\n        border-right-width: 1px;\n      }\n    }\n  }\n}\n</style>","import { render } from \"./SelectGroup.vue?vue&type=template&id=d2acb09c&scoped=true\"\nconst script = {}\n\nimport \"./SelectGroup.vue?vue&type=style&index=0&id=d2acb09c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d2acb09c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, resolveComponent as _resolveComponent, withCtx as _withCtx, resolveDirective as _resolveDirective, createBlock as _createBlock, withDirectives as _withDirectives, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-76e7495e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"text-style-panel\" }\nconst _hoisted_2 = { class: \"preset-style\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"link-popover\" }\nconst _hoisted_5 = { class: \"btns\" }\nconst _hoisted_6 = {\n  class: \"row\",\n  passive: \"\"\n}\nconst _hoisted_7 = { class: \"list-wrap\" }\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, null, -1))\nconst _hoisted_10 = [\n  _hoisted_9\n]\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"10px\"} }, null, -1))\nconst _hoisted_12 = { class: \"list-wrap\" }\nconst _hoisted_13 = [\"onClick\"]\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, null, -1))\nconst _hoisted_15 = [\n  _hoisted_14\n]\nconst _hoisted_16 = { class: \"row\" }\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"10px\"} }, null, -1))\nconst _hoisted_18 = { class: \"row\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Line spacing:\", -1))\nconst _hoisted_20 = { class: \"row\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Paragraph spacing:\", -1))\nconst _hoisted_22 = { class: \"row\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Word spacing:\", -1))\nconst _hoisted_24 = { class: \"row\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Text box filling:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTextElement } from '@/types/slides'\nimport emitter, { EmitterEvents, type RichTextAction } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\nimport message from '@/utils/message'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\n// BUG\n// \n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TextStylePanel',\n  setup(__props) {\n\nconst presetStyles = [\n  {\n    label: 'headline',\n    style: {\n      fontSize: '26px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '66px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'subtitle',\n    style: {\n      fontSize: '22px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '40px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'text',\n    style: {\n      fontSize: '20px',\n    },\n    cmd: [{ command: 'clear' }, { command: 'fontsize', value: '20px' }],\n  },\n  {\n    label: 'Text [small]',\n    style: {\n      fontSize: '18px',\n    },\n    cmd: [{ command: 'clear' }, { command: 'fontsize', value: '18px' }],\n  },\n  {\n    label: 'Note 1',\n    style: {\n      fontSize: '16px',\n      fontStyle: 'italic',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'em' },\n    ],\n  },\n  {\n    label: 'Note 2',\n    style: {\n      fontSize: '16px',\n      textDecoration: 'underline',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'underline' },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst {\n  handleElement,\n  handleElementId,\n  richTextAttrs,\n  availableFonts,\n  textFormatPainter,\n} = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleTextFormatPainter } = useTextFormatPainter()\n\nconst updateElement = (props: Partial<PPTTextElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\nconst bulletListPanelVisible = ref(false)\nconst orderedListPanelVisible = ref(false)\nconst indentLeftPanelVisible = ref(false)\nconst indentRightPanelVisible = ref(false)\n\nconst bulletListStyleTypeOption = ref(['disc', 'circle', 'square'])\nconst orderedListStyleTypeOption = ref([\n  'decimal',\n  'lower-roman',\n  'upper-roman',\n  'lower-alpha',\n  'upper-alpha',\n  'lower-greek',\n])\n\nconst fill = ref<string>('#000')\nconst lineHeight = ref<number>()\nconst wordSpace = ref<number>()\nconst paragraphSpace = ref<number>()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'text') return\n\n    fill.value = handleElement.value.fill || '#fff'\n    lineHeight.value = handleElement.value.lineHeight || 1.5\n    wordSpace.value = handleElement.value.wordSpace || 0\n    paragraphSpace.value =\n      handleElement.value.paragraphSpace === undefined\n        ? 5\n        : handleElement.value.paragraphSpace\n  },\n  { deep: true, immediate: true }\n)\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n  '36px',\n  '40px',\n  '44px',\n  '48px',\n  '54px',\n  '60px',\n  '66px',\n  '72px',\n  '76px',\n  '80px',\n  '88px',\n  '96px',\n  '104px',\n  '112px',\n  '120px',\n]\nconst lineHeightOptions = [0.9, 1.0, 1.15, 1.2, 1.4, 1.5, 1.8, 2.0, 2.5, 3.0]\nconst wordSpaceOptions = [0, 1, 2, 3, 4, 5, 6, 8, 10]\nconst paragraphSpaceOptions = [0, 5, 10, 15, 20, 25, 30, 40, 50, 80]\n\n// \nconst updateLineHeight = (value: number) => {\n  updateElement({ lineHeight: value })\n}\n\n// \nconst updateParagraphSpace = (value: number) => {\n  updateElement({ paragraphSpace: value })\n}\n\n// \nconst updateWordSpace = (value: number) => {\n  updateElement({ wordSpace: value })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\n// \nconst emitBatchRichTextCommand = (action: RichTextAction[]) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action })\n}\n\n// \nconst link = ref('')\nconst linkPopoverVisible = ref(false)\n\nwatch(richTextAttrs, () => (linkPopoverVisible.value = false))\n\nconst openLinkPopover = () => {\n  link.value = richTextAttrs.value.link\n}\nconst updateLink = (link?: string) => {\n  const linkRegExp =\n    /^(https?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-.,@?^=%&:\\/~+#]*[\\w\\-@?^=%&\\/~+#])?$/\n  if (!link || !linkRegExp.test(link))\n    return message.error('Incorrect web link address')\n\n  emitRichTextCommand('link', link)\n  linkPopoverVisible.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconCode = _resolveComponent(\"IconCode\")!\n  const _component_IconQuote = _resolveComponent(\"IconQuote\")!\n  const _component_IconFormat = _resolveComponent(\"IconFormat\")!\n  const _component_IconFormatBrush = _resolveComponent(\"IconFormatBrush\")!\n  const _component_IconLinkOne = _resolveComponent(\"IconLinkOne\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconAlignTextBoth = _resolveComponent(\"IconAlignTextBoth\")!\n  const _component_IconList = _resolveComponent(\"IconList\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconOrderedList = _resolveComponent(\"IconOrderedList\")!\n  const _component_IconIndentLeft = _resolveComponent(\"IconIndentLeft\")!\n  const _component_IconIndentRight = _resolveComponent(\"IconIndentRight\")!\n  const _component_IconRowHeight = _resolveComponent(\"IconRowHeight\")!\n  const _component_IconVerticalSpacingBetweenItems = _resolveComponent(\"IconVerticalSpacingBetweenItems\")!\n  const _component_IconFullwidth = _resolveComponent(\"IconFullwidth\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(presetStyles, (item) => {\n        return _createElementVNode(\"div\", {\n          class: \"preset-style-item\",\n          key: item.label,\n          style: _normalizeStyle(item.style),\n          onClick: ($event: any) => (emitBatchRichTextCommand(item.cmd))\n        }, _toDisplayString(item.label), 13, _hoisted_3)\n      }), 64))\n    ]),\n    _createVNode(Divider),\n    _createVNode(SelectGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Select, {\n          class: \"font-select\",\n          style: {\"width\":\"60%\"},\n          value: _unref(richTextAttrs).fontname,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = value => emitRichTextCommand('fontname', value as string)),\n          options: [..._unref(availableFonts), ..._unref(WEB_FONTS)]\n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"]),\n        _createVNode(Select, {\n          style: {\"width\":\"40%\"},\n          value: _unref(richTextAttrs).fontsize,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = value => emitRichTextCommand('fontsize', value as string)),\n          options: \n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"30%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).color,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = (value) => emitRichTextCommand('color', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              first: \"\",\n              color: _unref(richTextAttrs).color\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconText)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'text color']\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"30%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).backcolor,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = \n              (value) => emitRichTextCommand('backcolor', value)\n            )\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              color: _unref(richTextAttrs).backcolor\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconHighLight)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'text highlight']\n            ])\n          ]),\n          _: 1\n        }),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          class: \"font-size-btn\",\n          style: {\"width\":\"20%\"},\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFontSize),\n            _createTextVNode(\"+\")\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Increase font size']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          last: \"\",\n          class: \"font-size-btn\",\n          style: {\"width\":\"20%\"},\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFontSize),\n            _createTextVNode(\"-\")\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Reduce font size']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).bold,\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (emitRichTextCommand('bold')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextBold)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Bold']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).em,\n          onClick: _cache[7] || (_cache[7] = ($event: any) => (emitRichTextCommand('em')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextItalic)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'italics']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).underline,\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (emitRichTextCommand('underline')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextUnderline)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Underline']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).strikethrough,\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (emitRichTextCommand('strikethrough')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconStrikethrough)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'strikethrough']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).superscript,\n          onClick: _cache[10] || (_cache[10] = ($event: any) => (emitRichTextCommand('superscript')))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"A\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'superscript']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).subscript,\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (emitRichTextCommand('subscript')))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"A\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'subscript']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).code,\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (emitRichTextCommand('code')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconCode)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'inline code']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: _unref(richTextAttrs).blockquote,\n          onClick: _cache[13] || (_cache[13] = ($event: any) => (emitRichTextCommand('blockquote')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconQuote)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Quote']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          first: \"\",\n          style: {\"flex\":\"1\"},\n          onClick: _cache[14] || (_cache[14] = ($event: any) => (emitRichTextCommand('clear')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFormat)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'clear format']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: !!_unref(textFormatPainter),\n          onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(toggleTextFormatPainter)())),\n          onDblclick: _cache[16] || (_cache[16] = ($event: any) => (_unref(toggleTextFormatPainter)(true)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFormatBrush)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Format Painter (double-click to use continuously)']\n        ]),\n        _createVNode(Popover, {\n          placement: \"bottom-end\",\n          trigger: \"click\",\n          value: linkPopoverVisible.value,\n          \"onUpdate:value\": _cache[21] || (_cache[21] = ($event: any) => ((linkPopoverVisible).value = $event)),\n          style: {\"width\":\"33.33%\"}\n        }, {\n          content: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createVNode(Input, {\n                value: link.value,\n                \"onUpdate:value\": _cache[17] || (_cache[17] = ($event: any) => ((link).value = $event)),\n                placeholder: \"Please enter hyperlink\"\n              }, null, 8, [\"value\"]),\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(Button, {\n                  size: \"small\",\n                  disabled: !_unref(richTextAttrs).link,\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (updateLink())),\n                  style: {\"margin-right\":\"5px\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Remove\")\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"]),\n                _createVNode(Button, {\n                  size: \"small\",\n                  type: \"primary\",\n                  onClick: _cache[19] || (_cache[19] = ($event: any) => (updateLink(link.value)))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"confirm\")\n                  ]),\n                  _: 1\n                })\n              ])\n            ])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n              last: \"\",\n              style: {\"width\":\"100%\"},\n              checked: !!_unref(richTextAttrs).link,\n              onClick: _cache[20] || (_cache[20] = ($event: any) => (openLinkPopover()))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconLinkOne)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])), [\n              [_directive_tooltip, 'Hyperlink']\n            ])\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    _createVNode(RadioGroup, {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: _unref(richTextAttrs).align,\n      \"onUpdate:value\": _cache[22] || (_cache[22] = (value) => emitRichTextCommand('align', value))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"left\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextLeft)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Left-aligned']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"center\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextCenter)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'center']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"right\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextRight)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'right-aligned']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"justify\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextBoth)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align both ends']\n        ])\n      ]),\n      _: 1\n    }, 8, [\"value\"]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(ButtonGroup, { style: {\"flex\":\"1\"} }, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createBlock(Button, {\n            first: \"\",\n            type: _unref(richTextAttrs).bulletList ? 'primary' : 'default',\n            style: {\"flex\":\"1\"},\n            onClick: _cache[23] || (_cache[23] = ($event: any) => (emitRichTextCommand('bulletList')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconList)\n            ]),\n            _: 1\n          }, 8, [\"type\"])), [\n            [_directive_tooltip, 'Bullets']\n          ]),\n          _createVNode(Popover, {\n            trigger: \"click\",\n            value: bulletListPanelVisible.value,\n            \"onUpdate:value\": _cache[24] || (_cache[24] = ($event: any) => ((bulletListPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_7, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(bulletListStyleTypeOption.value, (item) => {\n                  return (_openBlock(), _createElementBlock(\"ul\", {\n                    class: \"list\",\n                    key: item,\n                    style: _normalizeStyle({ listStyleType: item }),\n                    onClick: ($event: any) => (emitRichTextCommand('bulletList', item))\n                  }, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, (key) => {\n                      return _createElementVNode(\"li\", {\n                        class: \"list-item\",\n                        key: key\n                      }, _hoisted_10)\n                    }), 64))\n                  ], 12, _hoisted_8))\n                }), 128))\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(Button, {\n                last: \"\",\n                class: \"popover-btn\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]),\n        _: 1\n      }),\n      _hoisted_11,\n      _createVNode(ButtonGroup, {\n        style: {\"flex\":\"1\"},\n        passive: \"\"\n      }, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createBlock(Button, {\n            first: \"\",\n            type: _unref(richTextAttrs).orderedList ? 'primary' : 'default',\n            style: {\"flex\":\"1\"},\n            onClick: _cache[25] || (_cache[25] = ($event: any) => (emitRichTextCommand('orderedList')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconOrderedList)\n            ]),\n            _: 1\n          }, 8, [\"type\"])), [\n            [_directive_tooltip, 'Ordered List']\n          ]),\n          _createVNode(Popover, {\n            trigger: \"click\",\n            value: orderedListPanelVisible.value,\n            \"onUpdate:value\": _cache[26] || (_cache[26] = ($event: any) => ((orderedListPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_12, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orderedListStyleTypeOption.value, (item) => {\n                  return (_openBlock(), _createElementBlock(\"ul\", {\n                    class: \"list\",\n                    key: item,\n                    style: _normalizeStyle({ listStyleType: item }),\n                    onClick: ($event: any) => (emitRichTextCommand('orderedList', item))\n                  }, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, (key) => {\n                      return _createElementVNode(\"li\", {\n                        class: \"list-item\",\n                        key: key\n                      }, _hoisted_15)\n                    }), 64))\n                  ], 12, _hoisted_13))\n                }), 128))\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(Button, {\n                last: \"\",\n                class: \"popover-btn\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_16, [\n      _createVNode(ButtonGroup, {\n        style: {\"flex\":\"1\"},\n        passive: \"\"\n      }, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createBlock(Button, {\n            first: \"\",\n            style: {\"flex\":\"1\"},\n            onClick: _cache[27] || (_cache[27] = ($event: any) => (emitRichTextCommand('indent', '-1')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconIndentLeft)\n            ]),\n            _: 1\n          })), [\n            [_directive_tooltip, 'Reduce paragraph indent']\n          ]),\n          _createVNode(Popover, {\n            trigger: \"click\",\n            value: indentLeftPanelVisible.value,\n            \"onUpdate:value\": _cache[29] || (_cache[29] = ($event: any) => ((indentLeftPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createVNode(PopoverMenuItem, {\n                onClick: _cache[28] || (_cache[28] = ($event: any) => (emitRichTextCommand('textIndent', '-1')))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Reduce first line indent\")\n                ]),\n                _: 1\n              })\n            ]),\n            default: _withCtx(() => [\n              _createVNode(Button, {\n                last: \"\",\n                class: \"popover-btn\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]),\n        _: 1\n      }),\n      _hoisted_17,\n      _createVNode(ButtonGroup, {\n        style: {\"flex\":\"1\"},\n        passive: \"\"\n      }, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createBlock(Button, {\n            first: \"\",\n            style: {\"flex\":\"1\"},\n            onClick: _cache[30] || (_cache[30] = ($event: any) => (emitRichTextCommand('indent', '+1')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconIndentRight)\n            ]),\n            _: 1\n          })), [\n            [_directive_tooltip, 'Increase paragraph indent']\n          ]),\n          _createVNode(Popover, {\n            trigger: \"click\",\n            value: indentRightPanelVisible.value,\n            \"onUpdate:value\": _cache[32] || (_cache[32] = ($event: any) => ((indentRightPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createVNode(PopoverMenuItem, {\n                onClick: _cache[31] || (_cache[31] = ($event: any) => (emitRichTextCommand('textIndent', '+1')))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Increase first line indent\")\n                ]),\n                _: 1\n              })\n            ]),\n            default: _withCtx(() => [\n              _createVNode(Button, {\n                last: \"\",\n                class: \"popover-btn\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_18, [\n      _hoisted_19,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: lineHeight.value || 1,\n        \"onUpdate:value\": _cache[33] || (_cache[33] = value => updateLineHeight(value as number)),\n        options: \n          lineHeightOptions.map((item) => ({\n            label: item + '',\n            value: item,\n          }))\n        \n      }, {\n        icon: _withCtx(() => [\n          _createVNode(_component_IconRowHeight)\n        ]),\n        _: 1\n      }, 8, [\"value\", \"options\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _hoisted_21,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: paragraphSpace.value || 0,\n        \"onUpdate:value\": _cache[34] || (_cache[34] = value => updateParagraphSpace(value as number)),\n        options: \n          paragraphSpaceOptions.map((item) => ({\n            label: item + 'px',\n            value: item,\n          }))\n        \n      }, {\n        icon: _withCtx(() => [\n          _createVNode(_component_IconVerticalSpacingBetweenItems)\n        ]),\n        _: 1\n      }, 8, [\"value\", \"options\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_22, [\n      _hoisted_23,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: wordSpace.value || 0,\n        \"onUpdate:value\": _cache[35] || (_cache[35] = value => updateWordSpace(value as number)),\n        options: \n          wordSpaceOptions.map((item) => ({\n            label: item + 'px',\n            value: item,\n          }))\n        \n      }, {\n        icon: _withCtx(() => [\n          _createVNode(_component_IconFullwidth)\n        ]),\n        _: 1\n      }, 8, [\"value\", \"options\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_24, [\n      _hoisted_25,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[36] || (_cache[36] = (value) => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, { color: fill.value }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _createVNode(ElementOutline),\n    _createVNode(Divider),\n    _createVNode(ElementShadow),\n    _createVNode(Divider),\n    _createVNode(ElementOpacity)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"text-style-panel\">\n    <div class=\"preset-style\">\n      <div\n        class=\"preset-style-item\"\n        v-for=\"item in presetStyles\"\n        :key=\"item.label\"\n        :style=\"item.style\"\n        @click=\"emitBatchRichTextCommand(item.cmd)\"\n      >\n        {{ item.label }}\n      </div>\n    </div>\n\n    <Divider />\n\n    <SelectGroup class=\"row\">\n      <Select\n        class=\"font-select\"\n        style=\"width: 60%\"\n        :value=\"richTextAttrs.fontname\"\n        @update:value=\"value => emitRichTextCommand('fontname', value as string)\"\n        :options=\"[...availableFonts, ...WEB_FONTS]\"\n      >\n        <template #icon>\n          <IconFontSize />\n        </template>\n      </Select>\n      <Select\n        style=\"width: 40%\"\n        :value=\"richTextAttrs.fontsize\"\n        @update:value=\"value => emitRichTextCommand('fontsize', value as string)\"\n        :options=\"\n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconAddText />\n        </template>\n      </Select>\n    </SelectGroup>\n\n    <ButtonGroup class=\"row\" passive>\n      <Popover trigger=\"click\" style=\"width: 30%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"richTextAttrs.color\"\n            @update:modelValue=\"(value) => emitRichTextCommand('color', value)\"\n          />\n        </template>\n        <TextColorButton\n          first\n          v-tooltip=\"'text color'\"\n          :color=\"richTextAttrs.color\"\n        >\n          <IconText />\n        </TextColorButton>\n      </Popover>\n      <Popover trigger=\"click\" style=\"width: 30%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"richTextAttrs.backcolor\"\n            @update:modelValue=\"\n              (value) => emitRichTextCommand('backcolor', value)\n            \"\n          />\n        </template>\n        <TextColorButton\n          v-tooltip=\"'text highlight'\"\n          :color=\"richTextAttrs.backcolor\"\n        >\n          <IconHighLight />\n        </TextColorButton>\n      </Popover>\n      <Button\n        class=\"font-size-btn\"\n        style=\"width: 20%\"\n        v-tooltip=\"'Increase font size'\"\n        @click=\"emitRichTextCommand('fontsize-add')\"\n        ><IconFontSize />+</Button\n      >\n      <Button\n        last\n        class=\"font-size-btn\"\n        style=\"width: 20%\"\n        v-tooltip=\"'Reduce font size'\"\n        @click=\"emitRichTextCommand('fontsize-reduce')\"\n        ><IconFontSize />-</Button\n      >\n    </ButtonGroup>\n\n    <ButtonGroup class=\"row\">\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.bold\"\n        v-tooltip=\"'Bold'\"\n        @click=\"emitRichTextCommand('bold')\"\n        ><IconTextBold\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.em\"\n        v-tooltip=\"'italics'\"\n        @click=\"emitRichTextCommand('em')\"\n        ><IconTextItalic\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.underline\"\n        v-tooltip=\"'Underline'\"\n        @click=\"emitRichTextCommand('underline')\"\n        ><IconTextUnderline\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.strikethrough\"\n        v-tooltip=\"'strikethrough'\"\n        @click=\"emitRichTextCommand('strikethrough')\"\n        ><IconStrikethrough\n      /></CheckboxButton>\n    </ButtonGroup>\n\n    <ButtonGroup class=\"row\">\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.superscript\"\n        v-tooltip=\"'superscript'\"\n        @click=\"emitRichTextCommand('superscript')\"\n        >A</CheckboxButton\n      >\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.subscript\"\n        v-tooltip=\"'subscript'\"\n        @click=\"emitRichTextCommand('subscript')\"\n        >A</CheckboxButton\n      >\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.code\"\n        v-tooltip=\"'inline code'\"\n        @click=\"emitRichTextCommand('code')\"\n        ><IconCode\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"richTextAttrs.blockquote\"\n        v-tooltip=\"'Quote'\"\n        @click=\"emitRichTextCommand('blockquote')\"\n        ><IconQuote\n      /></CheckboxButton>\n    </ButtonGroup>\n\n    <ButtonGroup class=\"row\" passive>\n      <CheckboxButton\n        first\n        style=\"flex: 1\"\n        v-tooltip=\"'clear format'\"\n        @click=\"emitRichTextCommand('clear')\"\n        ><IconFormat\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"!!textFormatPainter\"\n        v-tooltip=\"'Format Painter (double-click to use continuously)'\"\n        @click=\"toggleTextFormatPainter()\"\n        @dblclick=\"toggleTextFormatPainter(true)\"\n        ><IconFormatBrush\n      /></CheckboxButton>\n      <Popover\n        placement=\"bottom-end\"\n        trigger=\"click\"\n        v-model:value=\"linkPopoverVisible\"\n        style=\"width: 33.33%\"\n      >\n        <template #content>\n          <div class=\"link-popover\">\n            <Input v-model:value=\"link\" placeholder=\"Please enter hyperlink\" />\n            <div class=\"btns\">\n              <Button\n                size=\"small\"\n                :disabled=\"!richTextAttrs.link\"\n                @click=\"updateLink()\"\n                style=\"margin-right: 5px\"\n                >Remove</Button\n              >\n              <Button size=\"small\" type=\"primary\" @click=\"updateLink(link)\"\n                >confirm</Button\n              >\n            </div>\n          </div>\n        </template>\n        <CheckboxButton\n          last\n          style=\"width: 100%\"\n          :checked=\"!!richTextAttrs.link\"\n          v-tooltip=\"'Hyperlink'\"\n          @click=\"openLinkPopover()\"\n          ><IconLinkOne\n        /></CheckboxButton>\n      </Popover>\n    </ButtonGroup>\n\n    <Divider />\n\n    <RadioGroup\n      class=\"row\"\n      button-style=\"solid\"\n      :value=\"richTextAttrs.align\"\n      @update:value=\"(value) => emitRichTextCommand('align', value)\"\n    >\n      <RadioButton value=\"left\" v-tooltip=\"'Left-aligned'\" style=\"flex: 1\"\n        ><IconAlignTextLeft\n      /></RadioButton>\n      <RadioButton value=\"center\" v-tooltip=\"'center'\" style=\"flex: 1\"\n        ><IconAlignTextCenter\n      /></RadioButton>\n      <RadioButton value=\"right\" v-tooltip=\"'right-aligned'\" style=\"flex: 1\"\n        ><IconAlignTextRight\n      /></RadioButton>\n      <RadioButton value=\"justify\" v-tooltip=\"'Align both ends'\" style=\"flex: 1\"\n        ><IconAlignTextBoth /></RadioButton\n    ></RadioGroup>\n\n    <div class=\"row\" passive>\n      <ButtonGroup style=\"flex: 1\">\n        <Button\n          first\n          :type=\"richTextAttrs.bulletList ? 'primary' : 'default'\"\n          style=\"flex: 1\"\n          v-tooltip=\"'Bullets'\"\n          @click=\"emitRichTextCommand('bulletList')\"\n          ><IconList\n        /></Button>\n        <Popover trigger=\"click\" v-model:value=\"bulletListPanelVisible\">\n          <template #content>\n            <div class=\"list-wrap\">\n              <ul\n                class=\"list\"\n                v-for=\"item in bulletListStyleTypeOption\"\n                :key=\"item\"\n                :style=\"{ listStyleType: item }\"\n                @click=\"emitRichTextCommand('bulletList', item)\"\n              >\n                <li class=\"list-item\" v-for=\"key in 3\" :key=\"key\">\n                  <span></span>\n                </li>\n              </ul>\n            </div>\n          </template>\n          <Button last class=\"popover-btn\"><IconDown /></Button>\n        </Popover>\n      </ButtonGroup>\n      <div style=\"width: 10px\"></div>\n      <ButtonGroup style=\"flex: 1\" passive>\n        <Button\n          first\n          :type=\"richTextAttrs.orderedList ? 'primary' : 'default'\"\n          style=\"flex: 1\"\n          v-tooltip=\"'Ordered List'\"\n          @click=\"emitRichTextCommand('orderedList')\"\n          ><IconOrderedList\n        /></Button>\n        <Popover trigger=\"click\" v-model:value=\"orderedListPanelVisible\">\n          <template #content>\n            <div class=\"list-wrap\">\n              <ul\n                class=\"list\"\n                v-for=\"item in orderedListStyleTypeOption\"\n                :key=\"item\"\n                :style=\"{ listStyleType: item }\"\n                @click=\"emitRichTextCommand('orderedList', item)\"\n              >\n                <li class=\"list-item\" v-for=\"key in 3\" :key=\"key\">\n                  <span></span>\n                </li>\n              </ul>\n            </div>\n          </template>\n          <Button last class=\"popover-btn\"><IconDown /></Button>\n        </Popover>\n      </ButtonGroup>\n    </div>\n\n    <div class=\"row\">\n      <ButtonGroup style=\"flex: 1\" passive>\n        <Button\n          first\n          style=\"flex: 1\"\n          v-tooltip=\"'Reduce paragraph indent'\"\n          @click=\"emitRichTextCommand('indent', '-1')\"\n          ><IconIndentLeft\n        /></Button>\n        <Popover trigger=\"click\" v-model:value=\"indentLeftPanelVisible\">\n          <template #content>\n            <PopoverMenuItem @click=\"emitRichTextCommand('textIndent', '-1')\"\n              >Reduce first line indent</PopoverMenuItem\n            >\n          </template>\n          <Button last class=\"popover-btn\"><IconDown /></Button>\n        </Popover>\n      </ButtonGroup>\n      <div style=\"width: 10px\"></div>\n      <ButtonGroup style=\"flex: 1\" passive>\n        <Button\n          first\n          style=\"flex: 1\"\n          v-tooltip=\"'Increase paragraph indent'\"\n          @click=\"emitRichTextCommand('indent', '+1')\"\n          ><IconIndentRight\n        /></Button>\n        <Popover trigger=\"click\" v-model:value=\"indentRightPanelVisible\">\n          <template #content>\n            <PopoverMenuItem @click=\"emitRichTextCommand('textIndent', '+1')\"\n              >Increase first line indent</PopoverMenuItem\n            >\n          </template>\n          <Button last class=\"popover-btn\"><IconDown /></Button>\n        </Popover>\n      </ButtonGroup>\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Line spacing:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"lineHeight || 1\"\n        @update:value=\"value => updateLineHeight(value as number)\"\n        :options=\"\n          lineHeightOptions.map((item) => ({\n            label: item + '',\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconRowHeight />\n        </template>\n      </Select>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Paragraph spacing:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"paragraphSpace || 0\"\n        @update:value=\"value => updateParagraphSpace(value as number)\"\n        :options=\"\n          paragraphSpaceOptions.map((item) => ({\n            label: item + 'px',\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconVerticalSpacingBetweenItems />\n        </template>\n      </Select>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Word spacing:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"wordSpace || 0\"\n        @update:value=\"value => updateWordSpace(value as number)\"\n        :options=\"\n          wordSpaceOptions.map((item) => ({\n            label: item + 'px',\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconFullwidth />\n        </template>\n      </Select>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Text box filling:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"fill\"\n            @update:modelValue=\"(value) => updateFill(value)\"\n          />\n        </template>\n        <ColorButton :color=\"fill\" />\n      </Popover>\n    </div>\n\n    <Divider />\n    <ElementOutline />\n    <Divider />\n    <ElementShadow />\n    <Divider />\n    <ElementOpacity />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTextElement } from '@/types/slides'\nimport emitter, { EmitterEvents, type RichTextAction } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\nimport message from '@/utils/message'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\nimport PopoverMenuItem from '@/components/PopoverMenuItem.vue'\n\n// BUG\n// \nconst presetStyles = [\n  {\n    label: 'headline',\n    style: {\n      fontSize: '26px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '66px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'subtitle',\n    style: {\n      fontSize: '22px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '40px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'text',\n    style: {\n      fontSize: '20px',\n    },\n    cmd: [{ command: 'clear' }, { command: 'fontsize', value: '20px' }],\n  },\n  {\n    label: 'Text [small]',\n    style: {\n      fontSize: '18px',\n    },\n    cmd: [{ command: 'clear' }, { command: 'fontsize', value: '18px' }],\n  },\n  {\n    label: 'Note 1',\n    style: {\n      fontSize: '16px',\n      fontStyle: 'italic',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'em' },\n    ],\n  },\n  {\n    label: 'Note 2',\n    style: {\n      fontSize: '16px',\n      textDecoration: 'underline',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'underline' },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst {\n  handleElement,\n  handleElementId,\n  richTextAttrs,\n  availableFonts,\n  textFormatPainter,\n} = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleTextFormatPainter } = useTextFormatPainter()\n\nconst updateElement = (props: Partial<PPTTextElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\nconst bulletListPanelVisible = ref(false)\nconst orderedListPanelVisible = ref(false)\nconst indentLeftPanelVisible = ref(false)\nconst indentRightPanelVisible = ref(false)\n\nconst bulletListStyleTypeOption = ref(['disc', 'circle', 'square'])\nconst orderedListStyleTypeOption = ref([\n  'decimal',\n  'lower-roman',\n  'upper-roman',\n  'lower-alpha',\n  'upper-alpha',\n  'lower-greek',\n])\n\nconst fill = ref<string>('#000')\nconst lineHeight = ref<number>()\nconst wordSpace = ref<number>()\nconst paragraphSpace = ref<number>()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'text') return\n\n    fill.value = handleElement.value.fill || '#fff'\n    lineHeight.value = handleElement.value.lineHeight || 1.5\n    wordSpace.value = handleElement.value.wordSpace || 0\n    paragraphSpace.value =\n      handleElement.value.paragraphSpace === undefined\n        ? 5\n        : handleElement.value.paragraphSpace\n  },\n  { deep: true, immediate: true }\n)\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n  '36px',\n  '40px',\n  '44px',\n  '48px',\n  '54px',\n  '60px',\n  '66px',\n  '72px',\n  '76px',\n  '80px',\n  '88px',\n  '96px',\n  '104px',\n  '112px',\n  '120px',\n]\nconst lineHeightOptions = [0.9, 1.0, 1.15, 1.2, 1.4, 1.5, 1.8, 2.0, 2.5, 3.0]\nconst wordSpaceOptions = [0, 1, 2, 3, 4, 5, 6, 8, 10]\nconst paragraphSpaceOptions = [0, 5, 10, 15, 20, 25, 30, 40, 50, 80]\n\n// \nconst updateLineHeight = (value: number) => {\n  updateElement({ lineHeight: value })\n}\n\n// \nconst updateParagraphSpace = (value: number) => {\n  updateElement({ paragraphSpace: value })\n}\n\n// \nconst updateWordSpace = (value: number) => {\n  updateElement({ wordSpace: value })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\n// \nconst emitBatchRichTextCommand = (action: RichTextAction[]) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action })\n}\n\n// \nconst link = ref('')\nconst linkPopoverVisible = ref(false)\n\nwatch(richTextAttrs, () => (linkPopoverVisible.value = false))\n\nconst openLinkPopover = () => {\n  link.value = richTextAttrs.value.link\n}\nconst updateLink = (link?: string) => {\n  const linkRegExp =\n    /^(https?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-.,@?^=%&:\\/~+#]*[\\w\\-@?^=%&\\/~+#])?$/\n  if (!link || !linkRegExp.test(link))\n    return message.error('Incorrect web link address')\n\n  emitRichTextCommand('link', link)\n  linkPopoverVisible.value = false\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.text-style-panel {\n  user-select: none;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.preset-style {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 10px;\n}\n.preset-style-item {\n  width: 50%;\n  height: 50px;\n  border: solid 1px #d6d6d6;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  transition: all $transitionDelay;\n\n  &:hover {\n    border-color: $themeColor;\n    color: $themeColor;\n    z-index: 1;\n  }\n\n  &:nth-child(2n) {\n    margin-left: -1px;\n  }\n  &:nth-child(n + 3) {\n    margin-top: -1px;\n  }\n}\n.font-size-btn {\n  padding: 0;\n}\n.link-popover {\n  width: 240px;\n\n  .btns {\n    margin-top: 10px;\n    text-align: right;\n  }\n}\n\n.list-wrap {\n  width: 176px;\n  color: #666;\n  padding: 8px;\n  margin: -12px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n}\n.list {\n  background-color: $lightGray;\n  padding: 4px 4px 4px 20px;\n  cursor: pointer;\n\n  &:not(:nth-child(3n)) {\n    margin-right: 8px;\n  }\n\n  &:nth-child(4),\n  &:nth-child(5),\n  &:nth-child(6) {\n    margin-top: 8px;\n  }\n\n  &:hover {\n    color: $themeColor;\n\n    span {\n      background-color: $themeColor;\n    }\n  }\n}\n.list-item {\n  width: 24px;\n  height: 12px;\n  position: relative;\n  font-size: 12px;\n  top: -5px;\n\n  span {\n    width: 100%;\n    height: 2px;\n    display: inline-block;\n    position: absolute;\n    top: 10px;\n    background-color: #666;\n  }\n}\n.popover-btn {\n  padding: 0 3px;\n}\n</style>\n","import script from \"./TextStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TextStylePanel.vue?vue&type=style&index=0&id=76e7495e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76e7495e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d6d86f2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-flip\" }\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageOrShapeFlip } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementFlip',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst flipH = ref(false)\nconst flipV = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (\n      handleElement.value &&\n      (handleElement.value.type === 'image' ||\n        handleElement.value.type === 'shape')\n    ) {\n      flipH.value = !!handleElement.value.flipH\n      flipV.value = !!handleElement.value.flipV\n    }\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateFlip = (flipProps: ImageOrShapeFlip) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props: flipProps })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFlipVertically = _resolveComponent(\"IconFlipVertically\")!\n  const _component_IconFlipHorizontally = _resolveComponent(\"IconFlipHorizontally\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: flipV.value,\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (updateFlip({ flipV: !flipV.value })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFlipVertically),\n            _createTextVNode(\" flip vertically\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"]),\n        _createVNode(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: flipH.value,\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (updateFlip({ flipH: !flipH.value })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFlipHorizontally),\n            _createTextVNode(\" horizontal flip\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-flip\">\n    <ButtonGroup class=\"row\">\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"flipV\"\n        @click=\"updateFlip({ flipV: !flipV })\"\n        ><IconFlipVertically /> flip vertically</CheckboxButton\n      >\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"flipH\"\n        @click=\"updateFlip({ flipH: !flipH })\"\n        ><IconFlipHorizontally /> horizontal flip</CheckboxButton\n      >\n    </ButtonGroup>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageOrShapeFlip } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst flipH = ref(false)\nconst flipV = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (\n      handleElement.value &&\n      (handleElement.value.type === 'image' ||\n        handleElement.value.type === 'shape')\n    ) {\n      flipH.value = !!handleElement.value.flipH\n      flipV.value = !!handleElement.value.flipV\n    }\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateFlip = (flipProps: ImageOrShapeFlip) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props: flipProps })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n</style>\n","import script from \"./ElementFlip.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementFlip.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementFlip.vue?vue&type=style&index=0&id=3d6d86f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d6d86f2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1d548436\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-filter\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Enable filters:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"filter\"\n}\nconst _hoisted_6 = { class: \"name\" }\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageElementFilterKeys, PPTImageElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\n\ninterface FilterOption {\n  label: string\n  key: ImageElementFilterKeys\n  default: number\n  value: number\n  unit: string\n  max: number\n  step: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementFilter',\n  setup(__props) {\n\nconst defaultFilters: FilterOption[] = [\n  {\n    label: 'blur',\n    key: 'blur',\n    default: 0,\n    value: 0,\n    unit: 'px',\n    max: 10,\n    step: 1,\n  },\n  {\n    label: 'brightness',\n    key: 'brightness',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'contrast',\n    key: 'contrast',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'Grayscale',\n    key: 'grayscale',\n    default: 0,\n    value: 0,\n    unit: '%',\n    max: 100,\n    step: 5,\n  },\n  {\n    label: 'saturate',\n    key: 'saturate',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'hue',\n    key: 'hue-rotate',\n    default: 0,\n    value: 0,\n    unit: 'deg',\n    max: 360,\n    step: 10,\n  },\n  {\n    label: 'opacity',\n    key: 'opacity',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 100,\n    step: 5,\n  },\n]\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst filterOptions = ref<FilterOption[]>(\n  JSON.parse(JSON.stringify(defaultFilters))\n)\nconst hasFilters = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'image') return\n\n    const filters = handleElement.value.filters\n    if (filters) {\n      filterOptions.value = defaultFilters.map((item) => {\n        const filterItem = filters[item.key]\n        if (filterItem) return { ...item, value: parseInt(filterItem) }\n        return item\n      })\n      hasFilters.value = true\n    } else {\n      filterOptions.value = JSON.parse(JSON.stringify(defaultFilters))\n      hasFilters.value = false\n    }\n  },\n  { deep: true, immediate: true }\n)\n\n// \nconst updateFilter = (filter: FilterOption, value: number) => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const originFilters = _handleElement.filters || {}\n  const filters = { ...originFilters, [filter.key]: `${value}${filter.unit}` }\n  slidesStore.updateElement({ id: handleElementId.value, props: { filters } })\n  addHistorySnapshot()\n}\n\nconst toggleFilters = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { filters: {} },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'filters',\n    })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(Switch, {\n          value: hasFilters.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = (value) => toggleFilters(value))\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    (hasFilters.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filterOptions.value, (filter) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"filter-item\",\n              key: filter.key\n            }, [\n              _createElementVNode(\"div\", _hoisted_6, _toDisplayString(filter.label), 1),\n              _createVNode(Slider, {\n                class: \"filter-slider\",\n                max: filter.max,\n                min: 0,\n                step: filter.step,\n                value: filter.value,\n                \"onUpdate:value\": value => updateFilter(filter, value as number)\n              }, null, 8, [\"max\", \"step\", \"value\", \"onUpdate:value\"])\n            ]))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-filter\">\n    <div class=\"row\">\n      <div style=\"flex: 2\">Enable filters:</div>\n      <div class=\"switch-wrapper\" style=\"flex: 3\">\n        <Switch\n          :value=\"hasFilters\"\n          @update:value=\"(value) => toggleFilters(value)\"\n        />\n      </div>\n    </div>\n    <div class=\"filter\" v-if=\"hasFilters\">\n      <div\n        class=\"filter-item\"\n        v-for=\"filter in filterOptions\"\n        :key=\"filter.key\"\n      >\n        <div class=\"name\">{{ filter.label }}</div>\n        <Slider\n          class=\"filter-slider\"\n          :max=\"filter.max\"\n          :min=\"0\"\n          :step=\"filter.step\"\n          :value=\"filter.value\"\n          @update:value=\"value => updateFilter(filter, value as number)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ImageElementFilterKeys, PPTImageElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\n\ninterface FilterOption {\n  label: string\n  key: ImageElementFilterKeys\n  default: number\n  value: number\n  unit: string\n  max: number\n  step: number\n}\n\nconst defaultFilters: FilterOption[] = [\n  {\n    label: 'blur',\n    key: 'blur',\n    default: 0,\n    value: 0,\n    unit: 'px',\n    max: 10,\n    step: 1,\n  },\n  {\n    label: 'brightness',\n    key: 'brightness',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'contrast',\n    key: 'contrast',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'Grayscale',\n    key: 'grayscale',\n    default: 0,\n    value: 0,\n    unit: '%',\n    max: 100,\n    step: 5,\n  },\n  {\n    label: 'saturate',\n    key: 'saturate',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 200,\n    step: 5,\n  },\n  {\n    label: 'hue',\n    key: 'hue-rotate',\n    default: 0,\n    value: 0,\n    unit: 'deg',\n    max: 360,\n    step: 10,\n  },\n  {\n    label: 'opacity',\n    key: 'opacity',\n    default: 100,\n    value: 100,\n    unit: '%',\n    max: 100,\n    step: 5,\n  },\n]\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst filterOptions = ref<FilterOption[]>(\n  JSON.parse(JSON.stringify(defaultFilters))\n)\nconst hasFilters = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'image') return\n\n    const filters = handleElement.value.filters\n    if (filters) {\n      filterOptions.value = defaultFilters.map((item) => {\n        const filterItem = filters[item.key]\n        if (filterItem) return { ...item, value: parseInt(filterItem) }\n        return item\n      })\n      hasFilters.value = true\n    } else {\n      filterOptions.value = JSON.parse(JSON.stringify(defaultFilters))\n      hasFilters.value = false\n    }\n  },\n  { deep: true, immediate: true }\n)\n\n// \nconst updateFilter = (filter: FilterOption, value: number) => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const originFilters = _handleElement.filters || {}\n  const filters = { ...originFilters, [filter.key]: `${value}${filter.unit}` }\n  slidesStore.updateElement({ id: handleElementId.value, props: { filters } })\n  addHistorySnapshot()\n}\n\nconst toggleFilters = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { filters: {} },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'filters',\n    })\n  }\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n.filter {\n  font-size: 12px;\n}\n.filter-item {\n  padding: 6px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .name {\n    width: 60px;\n  }\n  .filter-slider {\n    flex: 1;\n    margin: 0 6px;\n  }\n}\n</style>\n","import script from \"./ElementFilter.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementFilter.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementFilter.vue?vue&type=style&index=0&id=1d548436&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1d548436\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0f5fa619\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-color-mask\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Shading (mask)\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"row\",\n  style: {\"margin-top\":\"15px\"}\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Mask color:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst defaultColorMask = 'rgba(226, 83, 77, 0.5)'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementColorMask',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst colorMask = ref(defaultColorMask)\nconst hasColorMask = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'image') return\n\n    if (handleElement.value.colorMask) {\n      colorMask.value = handleElement.value.colorMask\n      hasColorMask.value = true\n    } else hasColorMask.value = false\n  },\n  { deep: true, immediate: true }\n)\n\nconst toggleColorMask = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { colorMask: defaultColorMask },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'colorMask',\n    })\n  }\n  addHistorySnapshot()\n}\n\nconst updateColorMask = (colorMask: string) => {\n  slidesStore.updateElement({ id: handleElementId.value, props: { colorMask } })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(Switch, {\n          value: hasColorMask.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = (value) => toggleColorMask(value))\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    (hasColorMask.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _hoisted_6,\n          _createVNode(Popover, {\n            trigger: \"click\",\n            style: {\"width\":\"60%\"}\n          }, {\n            content: _withCtx(() => [\n              _createVNode(ColorPicker, {\n                modelValue: colorMask.value,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = (value) => updateColorMask(value))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(ColorButton, { color: colorMask.value }, null, 8, [\"color\"])\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-color-mask\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Shading (mask)</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"hasColorMask\"\n          @update:value=\"(value) => toggleColorMask(value)\"\n        />\n      </div>\n    </div>\n    <template v-if=\"hasColorMask\">\n      <div class=\"row\" style=\"margin-top: 15px\">\n        <div style=\"width: 40%\">Mask color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"colorMask\"\n              @update:modelValue=\"(value) => updateColorMask(value)\"\n            />\n          </template>\n          <ColorButton :color=\"colorMask\" />\n        </Popover>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst defaultColorMask = 'rgba(226, 83, 77, 0.5)'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst colorMask = ref(defaultColorMask)\nconst hasColorMask = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'image') return\n\n    if (handleElement.value.colorMask) {\n      colorMask.value = handleElement.value.colorMask\n      hasColorMask.value = true\n    } else hasColorMask.value = false\n  },\n  { deep: true, immediate: true }\n)\n\nconst toggleColorMask = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    slidesStore.updateElement({\n      id: handleElement.value.id,\n      props: { colorMask: defaultColorMask },\n    })\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElement.value.id,\n      propName: 'colorMask',\n    })\n  }\n  addHistorySnapshot()\n}\n\nconst updateColorMask = (colorMask: string) => {\n  slidesStore.updateElement({ id: handleElementId.value, props: { colorMask } })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n</style>\n","import script from \"./ElementColorMask.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementColorMask.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementColorMask.vue?vue&type=style&index=0&id=0f5fa619&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0f5fa619\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-be4f0848\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"image-style-panel\" }\nconst _hoisted_2 = { class: \"clip\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"By shape:\", -1))\nconst _hoisted_4 = { class: \"shape-clip\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = {\n  key: 0,\n  class: \"title\"\n}\n\nimport { type Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTImageElement, SlideBackground } from '@/types/slides'\nimport { CLIPPATHS } from '@/configs/imageClip'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ElementFilter from '../common/ElementFilter.vue'\nimport ElementColorMask from '../common/ElementColorMask.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageStylePanel',\n  setup(__props) {\n\nconst shapeClipPathOptions = CLIPPATHS\nconst ratioClipOptions = [\n  {\n    label: 'aspect ratio (square)',\n    children: [{ key: '1:1', ratio: 1 / 1 }],\n  },\n  {\n    label: 'aspect ratio (vertical)',\n    children: [\n      { key: '2:3', ratio: 3 / 2 },\n      { key: '3:4', ratio: 4 / 3 },\n      { key: '3:5', ratio: 5 / 3 },\n      { key: '4:5', ratio: 5 / 4 },\n    ],\n  },\n  {\n    label: 'aspect ratio (horizontal)',\n    children: [\n      { key: '3:2', ratio: 2 / 3 },\n      { key: '4:3', ratio: 3 / 4 },\n      { key: '5:3', ratio: 3 / 5 },\n      { key: '5:4', ratio: 4 / 5 },\n    ],\n  },\n  {\n    children: [\n      { key: '16:9', ratio: 9 / 16 },\n      { key: '16:10', ratio: 10 / 16 },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst handleImageElement = handleElement as Ref<PPTImageElement>\n\nconst clipPanelVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst clipImage = () => {\n  mainStore.setClipingImageElementId(handleElementId.value)\n  clipPanelVisible.value = false\n}\n\n// \nconst getImageElementDataBeforeClip = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  // \n  const imgWidth = _handleElement.width\n  const imgHeight = _handleElement.height\n  const imgLeft = _handleElement.left\n  const imgTop = _handleElement.top\n  const originClipRange: [[number, number], [number, number]] =\n    _handleElement.clip\n      ? _handleElement.clip.range\n      : [\n          [0, 0],\n          [100, 100],\n        ]\n\n  const originWidth =\n    imgWidth / ((originClipRange[1][0] - originClipRange[0][0]) / 100)\n  const originHeight =\n    imgHeight / ((originClipRange[1][1] - originClipRange[0][1]) / 100)\n  const originLeft = imgLeft - originWidth * (originClipRange[0][0] / 100)\n  const originTop = imgTop - originHeight * (originClipRange[0][1] / 100)\n\n  return {\n    originClipRange,\n    originWidth,\n    originHeight,\n    originLeft,\n    originTop,\n  }\n}\n\n// \nconst presetImageClip = (shape: string, ratio = 0) => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const { originClipRange, originWidth, originHeight, originLeft, originTop } =\n    getImageElementDataBeforeClip()\n\n  // \n  if (ratio) {\n    const imageRatio = originHeight / originWidth\n\n    const min = 0\n    const max = 100\n    let range: [[number, number], [number, number]]\n\n    if (imageRatio > ratio) {\n      const distance = ((1 - ratio / imageRatio) / 2) * 100\n      range = [\n        [min, distance],\n        [max, max - distance],\n      ]\n    } else {\n      const distance = ((1 - imageRatio / ratio) / 2) * 100\n      range = [\n        [distance, min],\n        [max - distance, max],\n      ]\n    }\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range },\n        left: originLeft + originWidth * (range[0][0] / 100),\n        top: originTop + originHeight * (range[0][1] / 100),\n        width: (originWidth * (range[1][0] - range[0][0])) / 100,\n        height: (originHeight * (range[1][1] - range[0][1])) / 100,\n      },\n    })\n  }\n  // \n  else {\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range: originClipRange },\n      },\n    })\n  }\n  clipImage()\n  addHistorySnapshot()\n}\n\n// \nconst replaceImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => {\n    const props = { src: dataURL }\n    slidesStore.updateElement({ id: handleElementId.value, props })\n  })\n  addHistorySnapshot()\n}\n\n// \nconst resetImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  if (_handleElement.clip) {\n    const { originWidth, originHeight, originLeft, originTop } =\n      getImageElementDataBeforeClip()\n\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        left: originLeft,\n        top: originTop,\n        width: originWidth,\n        height: originHeight,\n      },\n    })\n  }\n\n  slidesStore.removeElementProps({\n    id: handleElementId.value,\n    propName: ['clip', 'outline', 'flip', 'shadow', 'filters', 'colorMask'],\n  })\n  addHistorySnapshot()\n}\n\n// \nconst setBackgroundImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const background: SlideBackground = {\n    ...currentSlide.value.background,\n    type: 'image',\n    image: _handleElement.src,\n    imageSize: 'cover',\n  }\n  slidesStore.updateSlide({ background })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconTailoring = _resolveComponent(\"IconTailoring\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconTransform = _resolveComponent(\"IconTransform\")!\n  const _component_IconUndo = _resolveComponent(\"IconUndo\")!\n  const _component_IconTheme = _resolveComponent(\"IconTheme\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"origin-image\",\n      style: _normalizeStyle({ backgroundImage: `url(${_unref(handleImageElement).src})` })\n    }, null, 4),\n    _createVNode(ElementFlip),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Button, {\n          first: \"\",\n          style: {\"width\":\"calc(100% / 6 * 5)\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (clipImage()))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTailoring, { class: \"btn-icon\" }),\n            _createTextVNode(\" \")\n          ]),\n          _: 1\n        }),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          value: clipPanelVisible.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((clipPanelVisible).value = $event)),\n          style: {\"width\":\"calc(100% / 6)\"}\n        }, {\n          content: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, [\n              _hoisted_3,\n              _createElementVNode(\"div\", _hoisted_4, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(shapeClipPathOptions), (item, key) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"shape-clip-item\",\n                    key: key,\n                    onClick: ($event: any) => (presetImageClip(key as string))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"shape\",\n                      style: _normalizeStyle({ clipPath: item.style })\n                    }, null, 4)\n                  ], 8, _hoisted_5))\n                }), 128))\n              ]),\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(ratioClipOptions, (typeItem) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: typeItem.label\n                }, [\n                  (typeItem.label)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Press \" + _toDisplayString(typeItem.label) + \" \", 1))\n                    : _createCommentVNode(\"\", true),\n                  _createVNode(ButtonGroup, { class: \"row\" }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(typeItem.children, (item) => {\n                        return (_openBlock(), _createBlock(Button, {\n                          style: {\"flex\":\"1\"},\n                          key: item.key,\n                          onClick: ($event: any) => (presetImageClip('rect', item.ratio))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(item.key), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"onClick\"]))\n                      }), 128))\n                    ]),\n                    _: 2\n                  }, 1024)\n                ], 64))\n              }), 64))\n            ])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(Button, {\n              last: \"\",\n              class: \"popover-btn\",\n              style: {\"width\":\"100%\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconDown)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    _createVNode(ElementColorMask),\n    _createVNode(Divider),\n    _createVNode(ElementFilter),\n    _createVNode(Divider),\n    _createVNode(ElementOutline),\n    _createVNode(Divider),\n    _createVNode(ElementShadow),\n    _createVNode(Divider),\n    _createVNode(FileInput, {\n      onChange: _cache[2] || (_cache[2] = (files) => replaceImage(files))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Button, { class: \"full-width-btn\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTransform, { class: \"btn-icon\" }),\n            _createTextVNode(\" \")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(Button, {\n      class: \"full-width-btn\",\n      onClick: _cache[3] || (_cache[3] = ($event: any) => (resetImage()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconUndo, { class: \"btn-icon\" }),\n        _createTextVNode(\" \")\n      ]),\n      _: 1\n    }),\n    _createVNode(Button, {\n      class: \"full-width-btn\",\n      onClick: _cache[4] || (_cache[4] = ($event: any) => (setBackgroundImage()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconTheme, { class: \"btn-icon\" }),\n        _createTextVNode(\" \")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","// eslint-disable indent\n<template>\n  <div class=\"image-style-panel\">\n    <div\n      class=\"origin-image\"\n      :style=\"{ backgroundImage: `url(${handleImageElement.src})` }\"\n    ></div>\n\n    <ElementFlip />\n\n    <ButtonGroup class=\"row\" passive>\n      <Button first style=\"width: calc(100% / 6 * 5)\" @click=\"clipImage()\"\n        ><IconTailoring class=\"btn-icon\" /> </Button\n      >\n      <Popover\n        trigger=\"click\"\n        v-model:value=\"clipPanelVisible\"\n        style=\"width: calc(100% / 6)\"\n      >\n        <template #content>\n          <div class=\"clip\">\n            <div class=\"title\">By shape:</div>\n            <div class=\"shape-clip\">\n              <div\n                class=\"shape-clip-item\"\n                v-for=\"(item, key) in shapeClipPathOptions\"\n                :key=\"key\"\n                @click=\"presetImageClip(key as string)\"\n              >\n                <div class=\"shape\" :style=\"{ clipPath: item.style }\"></div>\n              </div>\n            </div>\n\n            <template\n              v-for=\"typeItem in ratioClipOptions\"\n              :key=\"typeItem.label\"\n            >\n              <div class=\"title\" v-if=\"typeItem.label\">\n                Press {{ typeItem.label }}\n              </div>\n              <ButtonGroup class=\"row\">\n                <Button\n                  style=\"flex: 1\"\n                  v-for=\"item in typeItem.children\"\n                  :key=\"item.key\"\n                  @click=\"presetImageClip('rect', item.ratio)\"\n                  >{{ item.key }}</Button\n                >\n              </ButtonGroup>\n            </template>\n          </div>\n        </template>\n        <Button last class=\"popover-btn\" style=\"width: 100%\"\n          ><IconDown\n        /></Button>\n      </Popover>\n    </ButtonGroup>\n\n    <Divider />\n    <ElementColorMask />\n    <Divider />\n    <ElementFilter />\n    <Divider />\n    <ElementOutline />\n    <Divider />\n    <ElementShadow />\n    <Divider />\n\n    <FileInput @change=\"(files) => replaceImage(files)\">\n      <Button class=\"full-width-btn\"\n        ><IconTransform class=\"btn-icon\" /> </Button\n      >\n    </FileInput>\n    <Button class=\"full-width-btn\" @click=\"resetImage()\"\n      ><IconUndo class=\"btn-icon\" /> </Button\n    >\n    <Button class=\"full-width-btn\" @click=\"setBackgroundImage()\"\n      ><IconTheme class=\"btn-icon\" /> </Button\n    >\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { type Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTImageElement, SlideBackground } from '@/types/slides'\nimport { CLIPPATHS } from '@/configs/imageClip'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ElementFilter from '../common/ElementFilter.vue'\nimport ElementColorMask from '../common/ElementColorMask.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst shapeClipPathOptions = CLIPPATHS\nconst ratioClipOptions = [\n  {\n    label: 'aspect ratio (square)',\n    children: [{ key: '1:1', ratio: 1 / 1 }],\n  },\n  {\n    label: 'aspect ratio (vertical)',\n    children: [\n      { key: '2:3', ratio: 3 / 2 },\n      { key: '3:4', ratio: 4 / 3 },\n      { key: '3:5', ratio: 5 / 3 },\n      { key: '4:5', ratio: 5 / 4 },\n    ],\n  },\n  {\n    label: 'aspect ratio (horizontal)',\n    children: [\n      { key: '3:2', ratio: 2 / 3 },\n      { key: '4:3', ratio: 3 / 4 },\n      { key: '5:3', ratio: 3 / 5 },\n      { key: '5:4', ratio: 4 / 5 },\n    ],\n  },\n  {\n    children: [\n      { key: '16:9', ratio: 9 / 16 },\n      { key: '16:10', ratio: 10 / 16 },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst handleImageElement = handleElement as Ref<PPTImageElement>\n\nconst clipPanelVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst clipImage = () => {\n  mainStore.setClipingImageElementId(handleElementId.value)\n  clipPanelVisible.value = false\n}\n\n// \nconst getImageElementDataBeforeClip = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  // \n  const imgWidth = _handleElement.width\n  const imgHeight = _handleElement.height\n  const imgLeft = _handleElement.left\n  const imgTop = _handleElement.top\n  const originClipRange: [[number, number], [number, number]] =\n    _handleElement.clip\n      ? _handleElement.clip.range\n      : [\n          [0, 0],\n          [100, 100],\n        ]\n\n  const originWidth =\n    imgWidth / ((originClipRange[1][0] - originClipRange[0][0]) / 100)\n  const originHeight =\n    imgHeight / ((originClipRange[1][1] - originClipRange[0][1]) / 100)\n  const originLeft = imgLeft - originWidth * (originClipRange[0][0] / 100)\n  const originTop = imgTop - originHeight * (originClipRange[0][1] / 100)\n\n  return {\n    originClipRange,\n    originWidth,\n    originHeight,\n    originLeft,\n    originTop,\n  }\n}\n\n// \nconst presetImageClip = (shape: string, ratio = 0) => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const { originClipRange, originWidth, originHeight, originLeft, originTop } =\n    getImageElementDataBeforeClip()\n\n  // \n  if (ratio) {\n    const imageRatio = originHeight / originWidth\n\n    const min = 0\n    const max = 100\n    let range: [[number, number], [number, number]]\n\n    if (imageRatio > ratio) {\n      const distance = ((1 - ratio / imageRatio) / 2) * 100\n      range = [\n        [min, distance],\n        [max, max - distance],\n      ]\n    } else {\n      const distance = ((1 - imageRatio / ratio) / 2) * 100\n      range = [\n        [distance, min],\n        [max - distance, max],\n      ]\n    }\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range },\n        left: originLeft + originWidth * (range[0][0] / 100),\n        top: originTop + originHeight * (range[0][1] / 100),\n        width: (originWidth * (range[1][0] - range[0][0])) / 100,\n        height: (originHeight * (range[1][1] - range[0][1])) / 100,\n      },\n    })\n  }\n  // \n  else {\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range: originClipRange },\n      },\n    })\n  }\n  clipImage()\n  addHistorySnapshot()\n}\n\n// \nconst replaceImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => {\n    const props = { src: dataURL }\n    slidesStore.updateElement({ id: handleElementId.value, props })\n  })\n  addHistorySnapshot()\n}\n\n// \nconst resetImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  if (_handleElement.clip) {\n    const { originWidth, originHeight, originLeft, originTop } =\n      getImageElementDataBeforeClip()\n\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        left: originLeft,\n        top: originTop,\n        width: originWidth,\n        height: originHeight,\n      },\n    })\n  }\n\n  slidesStore.removeElementProps({\n    id: handleElementId.value,\n    propName: ['clip', 'outline', 'flip', 'shadow', 'filters', 'colorMask'],\n  })\n  addHistorySnapshot()\n}\n\n// \nconst setBackgroundImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const background: SlideBackground = {\n    ...currentSlide.value.background,\n    type: 'image',\n    image: _handleElement.src,\n    imageSize: 'cover',\n  }\n  slidesStore.updateSlide({ background })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n.origin-image {\n  height: 100px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: $lightGray;\n  margin-bottom: 10px;\n}\n.full-width-btn {\n  width: 100%;\n  margin-bottom: 10px;\n}\n.btn-icon {\n  margin-right: 3px;\n}\n\n.clip {\n  width: 260px;\n  font-size: 12px;\n\n  .title {\n    margin-bottom: 5px;\n  }\n}\n.shape-clip {\n  margin-bottom: 10px;\n\n  @include flex-grid-layout();\n}\n.shape-clip-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  @include flex-grid-layout-children(5, 16%);\n\n  &:hover .shape {\n    background-color: #ccc;\n  }\n\n  .shape {\n    width: 40px;\n    height: 40px;\n    background-color: #e1e1e1;\n  }\n}\n.popover-btn {\n  padding: 0 3px;\n}\n</style>\n","import script from \"./ImageStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageStylePanel.vue?vue&type=style&index=0&id=be4f0848&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-be4f0848\"]])\n\nexport default __exports__","import { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { PPTShapeElement } from '@/types/slides'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { shapeFormatPainter, handleElement } = storeToRefs(mainStore)\n\n  const toggleShapeFormatPainter = (keep = false) => {\n    const _handleElement = handleElement.value as PPTShapeElement\n\n    if (shapeFormatPainter.value) mainStore.setShapeFormatPainter(null)\n    else {\n      mainStore.setShapeFormatPainter({\n        keep,\n        fill: _handleElement.fill,\n        gradient: _handleElement.gradient,\n        outline: _handleElement.outline,\n        opacity: _handleElement.opacity,\n        shadow: _handleElement.shadow,\n      })\n    }\n  }\n\n  return {\n    toggleShapeFormatPainter,\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-67ef791e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-style-panel\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Click to replace shape\", -1))\nconst _hoisted_4 = { class: \"shape-pool\" }\nconst _hoisted_5 = { class: \"shape-list\" }\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"10px\"} }, null, -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Starting point color: \", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"End color: \", -1))\nconst _hoisted_12 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Gradient angle:\", -1))\nconst _hoisted_14 = { class: \"row\" }\n\nimport { type Ref, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTShapeElement, ShapeGradient, ShapeText } from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport { type ShapePoolItem, SHAPE_LIST, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\nimport useShapeFormatPainter from '@/hooks/useShapeFormatPainter'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport ShapeItemThumbnail from '@/views/Editor/CanvasTool/ShapeItemThumbnail.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapeStylePanel',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs, availableFonts, textFormatPainter, shapeFormatPainter } = storeToRefs(mainStore)\n\nconst handleShapeElement = handleElement as Ref<PPTShapeElement>\n\nconst fill = ref<string>('#000')\nconst gradient = ref<ShapeGradient>({\n  type: 'linear', \n  rotate: 0,\n  color: ['#fff', '#fff'],\n})\nconst fillType = ref('fill')\nconst textAlign = ref('middle')\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'shape') return\n\n  fill.value = handleElement.value.fill || '#fff'\n  gradient.value = handleElement.value.gradient || { type: 'linear', rotate: 0, color: [fill.value, '#fff'] }\n  fillType.value = handleElement.value.gradient ? 'gradient' : 'fill'\n  textAlign.value = handleElement.value?.text?.align || 'middle'\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleTextFormatPainter } = useTextFormatPainter()\nconst { toggleShapeFormatPainter } = useShapeFormatPainter()\n\nconst updateElement = (props: Partial<PPTShapeElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateFillType = (type: 'gradient' | 'fill') => {\n  if (type === 'fill') {\n    slidesStore.removeElementProps({ id: handleElementId.value, propName: 'gradient' })\n    addHistorySnapshot()\n  }\n  else updateElement({ gradient: gradient.value })\n}\n\n// \nconst updateGradient = (gradientProps: Partial<ShapeGradient>) => {\n  if (!gradient.value) return\n  const _gradient: ShapeGradient = { ...gradient.value, ...gradientProps }\n  updateElement({ gradient: _gradient })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst changeShape = (shape: ShapePoolItem) => {\n  const { width, height } = handleElement.value as PPTShapeElement\n  const props: Partial<PPTShapeElement> = {\n    viewBox: shape.viewBox,\n    path: shape.path,\n    special: shape.special,\n  }\n  if (shape.pathFormula) {\n    props.pathFormula = shape.pathFormula\n    props.viewBox = [width, height]\n\n    const pathFormula = SHAPE_PATH_FORMULAS[shape.pathFormula]\n    if ('editable' in pathFormula) {\n      props.path = pathFormula.formula(width, height, pathFormula.defaultValue)\n      props.keypoint = pathFormula.defaultValue\n    }\n    else props.path = pathFormula.formula(width, height)\n  }\n  else {\n    props.pathFormula = undefined\n    props.keypoint = undefined\n  }\n  updateElement(props)\n}\n\nconst updateTextAlign = (align: 'top' | 'middle' | 'bottom') => {\n  const _handleElement = handleElement.value as PPTShapeElement\n  \n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  const _text = _handleElement.text || defaultText\n  updateElement({ text: { ..._text, align } })\n}\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n  '36px', '40px', '44px', '48px', '54px', '60px', '66px', '72px', '76px',\n  '80px', '88px', '96px', '104px', '112px', '120px',\n]\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconFormat = _resolveComponent(\"IconFormat\")!\n  const _component_IconFormatBrush = _resolveComponent(\"IconFormatBrush\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconAlignTextTopOne = _resolveComponent(\"IconAlignTextTopOne\")!\n  const _component_IconAlignTextMiddleOne = _resolveComponent(\"IconAlignTextMiddleOne\")!\n  const _component_IconAlignTextBottomOne = _resolveComponent(\"IconAlignTextBottomOne\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_component_IconDown)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(SHAPE_LIST), (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"category\",\n          key: item.type\n        }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (shape, index) => {\n              return (_openBlock(), _createElementBlock(_Fragment, null, [\n                (shape.title !== 'arbitrary polygon')\n                  ? (_openBlock(), _createBlock(ShapeItemThumbnail, {\n                      class: \"shape-item\",\n                      key: index,\n                      shape: shape,\n                      onClick: ($event: any) => (changeShape(shape))\n                    }, null, 8, [\"shape\", \"onClick\"]))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            }), 256))\n          ])\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(Select, {\n        style: {\"flex\":\"1\"},\n        value: fillType.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = value => updateFillType(value as 'fill' | 'gradient')),\n        options: [\n        { label: 'Solid color fill', value: 'fill' },\n           { label: 'gradient fill', value: 'gradient' },\n        ]\n      }, null, 8, [\"value\"]),\n      _hoisted_7,\n      (fillType.value === 'fill')\n        ? (_openBlock(), _createBlock(Popover, {\n            key: 0,\n            trigger: \"click\",\n            style: {\"flex\":\"1\"}\n          }, {\n            content: _withCtx(() => [\n              _createVNode(ColorPicker, {\n                modelValue: fill.value,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = value => updateFill(value))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(ColorButton, { color: fill.value }, null, 8, [\"color\"])\n            ]),\n            _: 1\n          }))\n        : (_openBlock(), _createBlock(Select, {\n            key: 1,\n            style: {\"flex\":\"1\"},\n            value: gradient.value.type,\n            \"onUpdate:value\": _cache[2] || (_cache[2] = value => updateGradient({ type: value as 'linear' | 'radial' })),\n            options: [\n         { label: 'linear gradient', value: 'linear' },\n           { label: 'radial gradient', value: 'radial' },\n        ]\n          }, null, 8, [\"value\"]))\n    ]),\n    (fillType.value === 'gradient')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: gradient.value.color[0],\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = value => updateGradient({ color: [value, gradient.value.color[1]] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: gradient.value.color[0]\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: gradient.value.color[1],\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = value => updateGradient({ color: [gradient.value.color[0], value] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: gradient.value.color[1]\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          (gradient.value.type === 'linear')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _hoisted_13,\n                _createVNode(Slider, {\n                  style: {\"width\":\"60%\"},\n                  min: 0,\n                  max: 360,\n                  step: 15,\n                  value: gradient.value.rotate,\n                  \"onUpdate:value\": _cache[5] || (_cache[5] = value => updateGradient({ rotate: value as number }))\n                }, null, 8, [\"value\"])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ElementFlip),\n    _createVNode(Divider),\n    (_unref(handleShapeElement).text?.content)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(SelectGroup, { class: \"row\" }, {\n            default: _withCtx(() => [\n              _createVNode(Select, {\n                class: \"font-select\",\n                style: {\"width\":\"60%\"},\n                value: _unref(richTextAttrs).fontname,\n                \"onUpdate:value\": _cache[6] || (_cache[6] = value => emitRichTextCommand('fontname', value as string)),\n                options: [\n            ..._unref(availableFonts),\n            ..._unref(WEB_FONTS)\n          ]\n              }, {\n                icon: _withCtx(() => [\n                  _createVNode(_component_IconFontSize)\n                ]),\n                _: 1\n              }, 8, [\"value\", \"options\"]),\n              _createVNode(Select, {\n                style: {\"width\":\"40%\"},\n                value: _unref(richTextAttrs).fontsize,\n                \"onUpdate:value\": _cache[7] || (_cache[7] = value => emitRichTextCommand('fontsize', value as string)),\n                options: fontSizeOptions.map(item => ({\n            label: item, value: item\n          }))\n              }, {\n                icon: _withCtx(() => [\n                  _createVNode(_component_IconAddText)\n                ]),\n                _: 1\n              }, 8, [\"value\", \"options\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(ButtonGroup, {\n            class: \"row\",\n            passive: \"\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(Popover, {\n                trigger: \"click\",\n                style: {\"width\":\"30%\"}\n              }, {\n                content: _withCtx(() => [\n                  _createVNode(ColorPicker, {\n                    modelValue: _unref(richTextAttrs).color,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = value => emitRichTextCommand('color', value))\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                default: _withCtx(() => [\n                  _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n                    first: \"\",\n                    color: _unref(richTextAttrs).color\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconText)\n                    ]),\n                    _: 1\n                  }, 8, [\"color\"])), [\n                    [_directive_tooltip, 'text color']\n                  ])\n                ]),\n                _: 1\n              }),\n              _createVNode(Popover, {\n                trigger: \"click\",\n                style: {\"width\":\"30%\"}\n              }, {\n                content: _withCtx(() => [\n                  _createVNode(ColorPicker, {\n                    modelValue: _unref(richTextAttrs).backcolor,\n                    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = value => emitRichTextCommand('backcolor', value))\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                default: _withCtx(() => [\n                  _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n                    color: _unref(richTextAttrs).backcolor\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconHighLight)\n                    ]),\n                    _: 1\n                  }, 8, [\"color\"])), [\n                    [_directive_tooltip, 'text highlight']\n                  ])\n                ]),\n                _: 1\n              }),\n              _withDirectives((_openBlock(), _createBlock(Button, {\n                class: \"font-size-btn\",\n                style: {\"width\":\"20%\"},\n                onClick: _cache[10] || (_cache[10] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconFontSize),\n                  _createTextVNode(\"+\")\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'Increase font size']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(Button, {\n                last: \"\",\n                class: \"font-size-btn\",\n                style: {\"width\":\"20%\"},\n                onClick: _cache[11] || (_cache[11] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconFontSize),\n                  _createTextVNode(\"-\")\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'Reduce font size']\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(ButtonGroup, { class: \"row\" }, {\n            default: _withCtx(() => [\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                checked: _unref(richTextAttrs).bold,\n                onClick: _cache[12] || (_cache[12] = ($event: any) => (emitRichTextCommand('bold')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconTextBold)\n                ]),\n                _: 1\n              }, 8, [\"checked\"])), [\n                [_directive_tooltip, 'Bold']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                checked: _unref(richTextAttrs).em,\n                onClick: _cache[13] || (_cache[13] = ($event: any) => (emitRichTextCommand('em')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconTextItalic)\n                ]),\n                _: 1\n              }, 8, [\"checked\"])), [\n                [_directive_tooltip, 'italics']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                checked: _unref(richTextAttrs).underline,\n                onClick: _cache[14] || (_cache[14] = ($event: any) => (emitRichTextCommand('underline')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconTextUnderline)\n                ]),\n                _: 1\n              }, 8, [\"checked\"])), [\n                [_directive_tooltip, 'Underline']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                checked: _unref(richTextAttrs).strikethrough,\n                onClick: _cache[15] || (_cache[15] = ($event: any) => (emitRichTextCommand('strikethrough')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconStrikethrough)\n                ]),\n                _: 1\n              }, 8, [\"checked\"])), [\n                [_directive_tooltip, 'strikethrough']\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(ButtonGroup, { class: \"row\" }, {\n            default: _withCtx(() => [\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                onClick: _cache[16] || (_cache[16] = ($event: any) => (emitRichTextCommand('clear')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconFormat)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'clear format']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n                style: {\"flex\":\"1\"},\n                checked: !!_unref(textFormatPainter),\n                onClick: _cache[17] || (_cache[17] = ($event: any) => (_unref(toggleTextFormatPainter)())),\n                onDblclick: _cache[18] || (_cache[18] = ($event: any) => (_unref(toggleTextFormatPainter)(true)))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconFormatBrush)\n                ]),\n                _: 1\n              }, 8, [\"checked\"])), [\n                [_directive_tooltip, 'Format Painter (double-click to use continuously)']\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(Divider),\n          _createVNode(RadioGroup, {\n            class: \"row\",\n            \"button-style\": \"solid\",\n            value: _unref(richTextAttrs).align,\n            \"onUpdate:value\": _cache[19] || (_cache[19] = value => emitRichTextCommand('align', value))\n          }, {\n            default: _withCtx(() => [\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"left\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextLeft)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'Left-aligned']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"center\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextCenter)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'center']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"right\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextRight)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'right-aligned']\n              ])\n            ]),\n            _: 1\n          }, 8, [\"value\"]),\n          _createVNode(RadioGroup, {\n            class: \"row\",\n            \"button-style\": \"solid\",\n            value: textAlign.value,\n            \"onUpdate:value\": _cache[20] || (_cache[20] = value => updateTextAlign(value as 'top' | 'middle' | 'bottom'))\n          }, {\n            default: _withCtx(() => [\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"top\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextTopOne)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'Top alignment']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"middle\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextMiddleOne)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'center']\n              ]),\n              _withDirectives((_openBlock(), _createBlock(RadioButton, {\n                value: \"bottom\",\n                style: {\"flex\":\"1\"}\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconAlignTextBottomOne)\n                ]),\n                _: 1\n              })), [\n                [_directive_tooltip, 'bottom-aligned']\n              ])\n            ]),\n            _: 1\n          }, 8, [\"value\"]),\n          _createVNode(Divider)\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ElementOutline),\n    _createVNode(Divider),\n    _createVNode(ElementShadow),\n    _createVNode(Divider),\n    _createVNode(ElementOpacity),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n        style: {\"flex\":\"1\"},\n        checked: !!_unref(shapeFormatPainter),\n        onClick: _cache[21] || (_cache[21] = ($event: any) => (_unref(toggleShapeFormatPainter)())),\n        onDblclick: _cache[22] || (_cache[22] = ($event: any) => (_unref(toggleShapeFormatPainter)(true)))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_IconFormatBrush),\n          _createTextVNode(\" Shape Format Painter\")\n        ]),\n        _: 1\n      }, 8, [\"checked\"])), [\n        [_directive_tooltip, 'Double click to use continuously']\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"shape-style-panel\">\n    <div class=\"title\">\n      <span>Click to replace shape</span>\n      <IconDown />\n    </div>\n    <div class=\"shape-pool\">\n      <div class=\"category\" v-for=\"item in SHAPE_LIST\" :key=\"item.type\">\n        <div class=\"shape-list\">\n          <template v-for=\"(shape, index) in item.children\">\n            <ShapeItemThumbnail \n              class=\"shape-item\"\n              :key=\"index\"\n              :shape=\"shape\"\n              @click=\"changeShape(shape)\"\n              v-if=\"shape.title !== 'arbitrary polygon'\"\n            />\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <Select \n        style=\"flex: 1;\" \n        :value=\"fillType\" \n        @update:value=\"value => updateFillType(value as 'fill' | 'gradient')\"\n        :options=\"[\n        { label: 'Solid color fill', value: 'fill' },\n           { label: 'gradient fill', value: 'gradient' },\n        ]\"\n      />\n      <div style=\"width: 10px;\"></div>\n      <Popover trigger=\"click\" v-if=\"fillType === 'fill'\" style=\"flex: 1;\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"fill\"\n            @update:modelValue=\"value => updateFill(value)\"\n          />\n        </template>\n        <ColorButton :color=\"fill\" />\n      </Popover>\n      <Select \n        style=\"flex: 1;\" \n        :value=\"gradient.type\" \n        @update:value=\"value => updateGradient({ type: value as 'linear' | 'radial' })\"\n        v-else\n        :options=\"[\n         { label: 'linear gradient', value: 'linear' },\n           { label: 'radial gradient', value: 'radial' },\n        ]\"\n      />\n    </div>\n    \n    <template v-if=\"fillType === 'gradient'\">\n      <div class=\"row\">\n        <div style=\"width: 40%;\">Starting point color: </div>\n        <Popover trigger=\"click\" style=\"width: 60%;\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"gradient.color[0]\"\n              @update:modelValue=\"value => updateGradient({ color: [value, gradient.color[1]] })\"\n            />\n          </template>\n          <ColorButton :color=\"gradient.color[0]\" />\n        </Popover>\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%;\">End color: </div>\n        <Popover trigger=\"click\" style=\"width: 60%;\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"gradient.color[1]\"\n              @update:modelValue=\"value => updateGradient({ color: [gradient.color[0], value] })\"\n            />\n          </template>\n          <ColorButton :color=\"gradient.color[1]\" />\n        </Popover>\n      </div>\n      <div class=\"row\" v-if=\"gradient.type === 'linear'\">\n        <div style=\"width: 40%;\">Gradient angle:</div>\n        <Slider\n          style=\"width: 60%;\"\n          :min=\"0\"\n          :max=\"360\"\n          :step=\"15\"\n          :value=\"gradient.rotate\"\n          @update:value=\"value => updateGradient({ rotate: value as number })\" \n        />\n      </div>\n    </template>\n\n    <ElementFlip />\n\n    <Divider />\n\n    <template v-if=\"handleShapeElement.text?.content\">\n      <SelectGroup class=\"row\">\n        <Select\n          class=\"font-select\"\n          style=\"width: 60%;\"\n          :value=\"richTextAttrs.fontname\"\n          @update:value=\"value => emitRichTextCommand('fontname', value as string)\"\n          :options=\"[\n            ...availableFonts,\n            ...WEB_FONTS\n          ]\"\n        >\n          <template #icon>\n            <IconFontSize />\n          </template>\n        </Select>\n        <Select\n          style=\"width: 40%;\"\n          :value=\"richTextAttrs.fontsize\"\n          @update:value=\"value => emitRichTextCommand('fontsize', value as string)\"\n          :options=\"fontSizeOptions.map(item => ({\n            label: item, value: item\n          }))\"\n        >\n          <template #icon>\n            <IconAddText />\n          </template>\n        </Select>\n      </SelectGroup>\n\n      <ButtonGroup class=\"row\" passive>\n        <Popover trigger=\"click\" style=\"width: 30%;\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"richTextAttrs.color\"\n              @update:modelValue=\"value => emitRichTextCommand('color', value)\"\n            />\n          </template>\n          <TextColorButton first v-tooltip=\"'text color'\" :color=\"richTextAttrs.color\">\n            <IconText />\n          </TextColorButton>\n        </Popover>\n        <Popover trigger=\"click\" style=\"width: 30%;\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"richTextAttrs.backcolor\"\n              @update:modelValue=\"value => emitRichTextCommand('backcolor', value)\"\n            />\n          </template>\n          <TextColorButton v-tooltip=\"'text highlight'\" :color=\"richTextAttrs.backcolor\">\n            <IconHighLight />\n          </TextColorButton>\n        </Popover>\n        <Button \n          class=\"font-size-btn\"\n          style=\"width: 20%;\"\n          v-tooltip=\"'Increase font size'\"\n          @click=\"emitRichTextCommand('fontsize-add')\"\n        ><IconFontSize />+</Button>\n        <Button\n          last\n          class=\"font-size-btn\"\n          style=\"width: 20%;\"\n          v-tooltip=\"'Reduce font size'\"\n          @click=\"emitRichTextCommand('fontsize-reduce')\"\n        ><IconFontSize />-</Button>\n      </ButtonGroup>\n\n      <ButtonGroup class=\"row\">\n        <CheckboxButton \n          style=\"flex: 1;\"\n          :checked=\"richTextAttrs.bold\"\n          v-tooltip=\"'Bold'\"\n          @click=\"emitRichTextCommand('bold')\"\n        ><IconTextBold /></CheckboxButton>\n        <CheckboxButton \n          style=\"flex: 1;\"\n          :checked=\"richTextAttrs.em\"\n          v-tooltip=\"'italics'\"\n          @click=\"emitRichTextCommand('em')\"\n        ><IconTextItalic /></CheckboxButton>\n        <CheckboxButton \n          style=\"flex: 1;\"\n          :checked=\"richTextAttrs.underline\"\n          v-tooltip=\"'Underline'\"\n          @click=\"emitRichTextCommand('underline')\"\n        ><IconTextUnderline /></CheckboxButton>\n        <CheckboxButton \n          style=\"flex: 1;\"\n          :checked=\"richTextAttrs.strikethrough\"\n          v-tooltip=\"'strikethrough'\"\n          @click=\"emitRichTextCommand('strikethrough')\"\n        ><IconStrikethrough /></CheckboxButton>\n      </ButtonGroup>\n\n      <ButtonGroup class=\"row\">\n        <CheckboxButton\n          style=\"flex: 1;\"\n          v-tooltip=\"'clear format'\"\n          @click=\"emitRichTextCommand('clear')\"\n        ><IconFormat /></CheckboxButton>\n        <CheckboxButton\n          style=\"flex: 1;\"\n          :checked=\"!!textFormatPainter\"\n          v-tooltip=\"'Format Painter (double-click to use continuously)'\"\n          @click=\"toggleTextFormatPainter()\"\n          @dblclick=\"toggleTextFormatPainter(true)\"\n        ><IconFormatBrush /></CheckboxButton>\n      </ButtonGroup>\n\n      <Divider  />\n\n      <RadioGroup \n        class=\"row\" \n        button-style=\"solid\" \n        :value=\"richTextAttrs.align\"\n        @update:value=\"value => emitRichTextCommand('align', value)\"\n      >\n        <RadioButton value=\"left\" v-tooltip=\"'Left-aligned'\" style=\"flex: 1;\"><IconAlignTextLeft /></RadioButton>\n         <RadioButton value=\"center\" v-tooltip=\"'center'\" style=\"flex: 1;\"><IconAlignTextCenter /></RadioButton>\n         <RadioButton value=\"right\" v-tooltip=\"'right-aligned'\" style=\"flex: 1;\"><IconAlignTextRight /></RadioButton>  </RadioGroup>\n\n      <RadioGroup \n        class=\"row\" \n        button-style=\"solid\" \n        :value=\"textAlign\"\n        @update:value=\"value => updateTextAlign(value as 'top' | 'middle' | 'bottom')\"\n      >\n     <RadioButton value=\"top\" v-tooltip=\"'Top alignment'\" style=\"flex: 1;\"><IconAlignTextTopOne /></RadioButton>\n         <RadioButton value=\"middle\" v-tooltip=\"'center'\" style=\"flex: 1;\"><IconAlignTextMiddleOne /></RadioButton>\n         <RadioButton value=\"bottom\" v-tooltip=\"'bottom-aligned'\" style=\"flex: 1;\"><IconAlignTextBottomOne /></RadioButton>  </RadioGroup>\n\n      <Divider  />\n    </template>\n\n    <ElementOutline />\n    <Divider />\n    <ElementShadow />\n    <Divider />\n    <ElementOpacity />\n    <Divider />\n\n    <div class=\"row\">\n      <CheckboxButton\n        v-tooltip=\"'Double click to use continuously'\"\n        style=\"flex: 1;\"\n        :checked=\"!!shapeFormatPainter\"\n        @click=\"toggleShapeFormatPainter()\"\n        @dblclick=\"toggleShapeFormatPainter(true)\"\n      ><IconFormatBrush /> Shape Format Painter</CheckboxButton>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { type Ref, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTShapeElement, ShapeGradient, ShapeText } from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport { type ShapePoolItem, SHAPE_LIST, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\nimport useShapeFormatPainter from '@/hooks/useShapeFormatPainter'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport ShapeItemThumbnail from '@/views/Editor/CanvasTool/ShapeItemThumbnail.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs, availableFonts, textFormatPainter, shapeFormatPainter } = storeToRefs(mainStore)\n\nconst handleShapeElement = handleElement as Ref<PPTShapeElement>\n\nconst fill = ref<string>('#000')\nconst gradient = ref<ShapeGradient>({\n  type: 'linear', \n  rotate: 0,\n  color: ['#fff', '#fff'],\n})\nconst fillType = ref('fill')\nconst textAlign = ref('middle')\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'shape') return\n\n  fill.value = handleElement.value.fill || '#fff'\n  gradient.value = handleElement.value.gradient || { type: 'linear', rotate: 0, color: [fill.value, '#fff'] }\n  fillType.value = handleElement.value.gradient ? 'gradient' : 'fill'\n  textAlign.value = handleElement.value?.text?.align || 'middle'\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleTextFormatPainter } = useTextFormatPainter()\nconst { toggleShapeFormatPainter } = useShapeFormatPainter()\n\nconst updateElement = (props: Partial<PPTShapeElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateFillType = (type: 'gradient' | 'fill') => {\n  if (type === 'fill') {\n    slidesStore.removeElementProps({ id: handleElementId.value, propName: 'gradient' })\n    addHistorySnapshot()\n  }\n  else updateElement({ gradient: gradient.value })\n}\n\n// \nconst updateGradient = (gradientProps: Partial<ShapeGradient>) => {\n  if (!gradient.value) return\n  const _gradient: ShapeGradient = { ...gradient.value, ...gradientProps }\n  updateElement({ gradient: _gradient })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst changeShape = (shape: ShapePoolItem) => {\n  const { width, height } = handleElement.value as PPTShapeElement\n  const props: Partial<PPTShapeElement> = {\n    viewBox: shape.viewBox,\n    path: shape.path,\n    special: shape.special,\n  }\n  if (shape.pathFormula) {\n    props.pathFormula = shape.pathFormula\n    props.viewBox = [width, height]\n\n    const pathFormula = SHAPE_PATH_FORMULAS[shape.pathFormula]\n    if ('editable' in pathFormula) {\n      props.path = pathFormula.formula(width, height, pathFormula.defaultValue)\n      props.keypoint = pathFormula.defaultValue\n    }\n    else props.path = pathFormula.formula(width, height)\n  }\n  else {\n    props.pathFormula = undefined\n    props.keypoint = undefined\n  }\n  updateElement(props)\n}\n\nconst updateTextAlign = (align: 'top' | 'middle' | 'bottom') => {\n  const _handleElement = handleElement.value as PPTShapeElement\n  \n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  const _text = _handleElement.text || defaultText\n  updateElement({ text: { ..._text, align } })\n}\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n  '36px', '40px', '44px', '48px', '54px', '60px', '66px', '72px', '76px',\n  '80px', '88px', '96px', '104px', '112px', '120px',\n]\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.shape-style-panel {\n  user-select: none;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.font-size-btn {\n  padding: 0;\n}\n.title {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n.shape-pool {\n  width: 235px;\n  height: 150px;\n  overflow: auto;\n  padding: 5px;\n  padding-right: 10px;\n  border: 1px solid $borderColor;\n  margin-bottom: 20px;\n}\n.shape-list {\n  @include flex-grid-layout();\n}\n.shape-item {\n  @include flex-grid-layout-children(6, 14%);\n\n  height: 0;\n  padding-bottom: 14%;\n  flex-shrink: 0;\n}\n</style>","import script from \"./ShapeStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeStylePanel.vue?vue&type=style&index=0&id=67ef791e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67ef791e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35f3f4ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Line style:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Line color:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Line width:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Starting point style:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"End point style:\", -1))\n\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTLineElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LineStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLineElement = handleElement as Ref<PPTLineElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLine = (props: Partial<PPTLineElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: _unref(handleLineElement).style,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = value => updateLine({ style: value as 'solid' | 'dashed' })),\n        options: [\n          { label: 'solid', value: 'solid' },\n          { label: 'dashed', value: 'dashed' },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleLineElement).color,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = (value) => updateLine({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleLineElement).color\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(NumberInput, {\n        value: _unref(handleLineElement).width,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = (value) => updateLine({ width: value })),\n        style: {\"width\":\"60%\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: _unref(handleLineElement).points[0],\n        \"onUpdate:value\": _cache[3] || (_cache[3] = value => updateLine({ points: [value as 'arrow' | 'dot', _unref(handleLineElement).points[1]] })),\n        options: [\n          { label: 'None', value: '' },\n          { label: 'arrow', value: 'arrow' },\n          { label: 'dot', value: 'dot' },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: _unref(handleLineElement).points[1],\n        \"onUpdate:value\": _cache[4] || (_cache[4] = value => updateLine({ points: [_unref(handleLineElement).points[0], value as 'arrow' | 'dot'] })),\n        options: [\n          { label: 'None', value: '' },\n          { label: 'arrow', value: 'arrow' },\n          { label: 'dot', value: 'dot' },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(Divider),\n    _createVNode(ElementShadow)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"line-style-panel\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Line style:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"handleLineElement.style\"\n        @update:value=\"value => updateLine({ style: value as 'solid' | 'dashed' })\"\n        :options=\"[\n          { label: 'solid', value: 'solid' },\n          { label: 'dashed', value: 'dashed' },\n        ]\"\n      />\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Line color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"handleLineElement.color\"\n            @update:modelValue=\"(value) => updateLine({ color: value })\"\n          />\n        </template>\n        <ColorButton :color=\"handleLineElement.color\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Line width:</div>\n      <NumberInput\n        :value=\"handleLineElement.width\"\n        @update:value=\"(value) => updateLine({ width: value })\"\n        style=\"width: 60%\"\n      />\n    </div>\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Starting point style:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"handleLineElement.points[0]\"\n        @update:value=\"value => updateLine({ points: [value as 'arrow' | 'dot', handleLineElement.points[1]] })\"\n        :options=\"[\n          { label: 'None', value: '' },\n          { label: 'arrow', value: 'arrow' },\n          { label: 'dot', value: 'dot' },\n        ]\"\n      />\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">End point style:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"handleLineElement.points[1]\"\n        @update:value=\"value => updateLine({ points: [handleLineElement.points[0], value as 'arrow' | 'dot'] })\"\n        :options=\"[\n          { label: 'None', value: '' },\n          { label: 'arrow', value: 'arrow' },\n          { label: 'dot', value: 'dot' },\n        ]\"\n      />\n    </div>\n\n    <Divider />\n    <ElementShadow />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTLineElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLineElement = handleElement as Ref<PPTLineElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLine = (props: Partial<PPTLineElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.line-btn {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 !important;\n\n  .line-wrapper {\n    margin-left: 8px;\n  }\n}\n.line-wrapper {\n  overflow: visible;\n}\n.line-btn-icon {\n  width: 30px;\n  font-size: 12px;\n  margin-top: 2px;\n  color: #bfbfbf;\n}\n.preset-point-style {\n  padding: 0 10px;\n\n  & + .preset-point-style {\n    margin-top: 10px;\n  }\n}\n</style>\n","import script from \"./LineStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LineStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LineStylePanel.vue?vue&type=style&index=0&id=35f3f4ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35f3f4ee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-72084078\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-data-editor\" }\nconst _hoisted_2 = { class: \"editor-content\" }\nconst _hoisted_3 = { class: \"range-box\" }\nconst _hoisted_4 = [\"id\", \"onFocus\", \"onPaste\"]\nconst _hoisted_5 = { class: \"btns\" }\nconst _hoisted_6 = { class: \"left\" }\nconst _hoisted_7 = { class: \"right\" }\n\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport type { ChartData } from '@/types/slides'\nimport { KEYS } from '@/configs/hotkey'\nimport {\n  pasteCustomClipboardString,\n  pasteExcelClipboardString,\n} from '@/utils/clipboard'\nimport Button from '@/components/Button.vue'\n\nconst CELL_WIDTH = 100\nconst CELL_HEIGHT = 32\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChartDataEditor',\n  props: {\n    data: {}\n  },\n  emits: [\"save\", \"close\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst selectedRange = ref([0, 0])\nconst tempRangeSize = ref({ width: 0, height: 0 })\nconst focusCell = ref<[number, number] | null>(null)\n\n// \nconst rangeLines = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return [\n    { type: 't', style: { width: width + 'px' } },\n    { type: 'b', style: { top: height + 'px', width: width + 'px' } },\n    { type: 'l', style: { height: height + 'px' } },\n    { type: 'r', style: { left: width + 'px', height: height + 'px' } },\n  ]\n})\n\n// \nconst resizablePointStyle = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return { left: width + 'px', top: height + 'px' }\n})\n\n// DOM\nconst initData = () => {\n  const _data: string[][] = []\n\n  const { labels, legends, series } = props.data\n  const rowCount = labels.length\n  const colCount = series.length\n\n  _data.push(['', ...legends])\n  for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n    const row = [labels[rowIndex]]\n    for (let colIndex = 0; colIndex < colCount; colIndex++) {\n      row.push(series[colIndex][rowIndex] + '')\n    }\n    _data.push(row)\n  }\n\n  for (let rowIndex = 0; rowIndex < rowCount + 1; rowIndex++) {\n    for (let colIndex = 0; colIndex < colCount + 1; colIndex++) {\n      const inputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = _data[rowIndex][colIndex] + ''\n    }\n  }\n\n  selectedRange.value = [colCount + 1, rowCount + 1]\n}\n\nonMounted(initData)\n\n// \nconst moveNextRow = () => {\n  if (!focusCell.value) return\n\n  const [rowIndex, colIndex] = focusCell.value\n  const inputRef = document.querySelector(\n    `#cell-${rowIndex + 1}-${colIndex}`\n  ) as HTMLInputElement\n  inputRef && inputRef.focus()\n}\n\nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) moveNextRow()\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// DOM\nconst getTableData = () => {\n  const [col, row] = selectedRange.value\n\n  const labels: string[] = []\n  const legends: string[] = []\n  const series: number[][] = []\n\n  // \n  for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n    let labelsItem = `category${rowIndex}`\n    const labelInputRef = document.querySelector(\n      `#cell-${rowIndex}-0`\n    ) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) labelsItem = labelInputRef.value\n    labels.push(labelsItem)\n  }\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    let legendsItem = `series${colIndex}`\n    const labelInputRef = document.querySelector(\n      `#cell-0-${colIndex}`\n    ) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) legendsItem = labelInputRef.value\n    legends.push(legendsItem)\n  }\n\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    const seriesItem = []\n    for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n      const valueInputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      let value = 0\n      if (valueInputRef && valueInputRef.value && !!+valueInputRef.value) {\n        value = +valueInputRef.value\n      }\n      seriesItem.push(value)\n    }\n    series.push(seriesItem)\n  }\n\n  emit('save', { labels, legends, series })\n}\n\n// \nconst clear = () => {\n  for (let rowIndex = 1; rowIndex < 31; rowIndex++) {\n    for (let colIndex = 1; colIndex < 7; colIndex++) {\n      const inputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = ''\n    }\n  }\n}\n\n// \nconst handlePaste = (e: ClipboardEvent, rowIndex: number, colIndex: number) => {\n  e.preventDefault()\n\n  if (!e.clipboardData) return\n\n  const clipboardDataFirstItem = e.clipboardData.items[0]\n\n  if (\n    clipboardDataFirstItem &&\n    clipboardDataFirstItem.kind === 'string' &&\n    clipboardDataFirstItem.type === 'text/plain'\n  ) {\n    clipboardDataFirstItem.getAsString((text) => {\n      const clipboardData = pasteCustomClipboardString(text)\n      if (typeof clipboardData === 'object') return\n\n      const excelData = pasteExcelClipboardString(text)\n      if (excelData) {\n        const maxRow = rowIndex + excelData.length\n        const maxCol = colIndex + excelData[0].length\n        for (let i = rowIndex; i < maxRow; i++) {\n          for (let j = colIndex; j < maxCol; j++) {\n            const inputRef = document.querySelector(\n              `#cell-${i}-${j}`\n            ) as HTMLInputElement\n            if (!inputRef) continue\n            inputRef.value = excelData[i - rowIndex][j - colIndex]\n          }\n        }\n      }\n    })\n  }\n}\n\n// \nconst closeEditor = () => emit('close')\n\n// \nconst changeSelectRange = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originWidth = selectedRange.value[0] * CELL_WIDTH\n  const originHeight = selectedRange.value[1] * CELL_HEIGHT\n\n  document.onmousemove = (e) => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    const x = currentPageX - startPageX\n    const y = currentPageY - startPageY\n\n    const width = originWidth + x\n    const height = originHeight + y\n\n    tempRangeSize.value = { width, height }\n  }\n\n  document.onmouseup = (e) => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    if (startPageX === endPageX && startPageY === endPageY) return\n\n    // \n    let width = tempRangeSize.value.width\n    let height = tempRangeSize.value.height\n    if (width % CELL_WIDTH > CELL_WIDTH * 0.5)\n      width = width + (CELL_WIDTH - (width % CELL_WIDTH))\n    if (height % CELL_HEIGHT > CELL_HEIGHT * 0.5)\n      height = height + (CELL_HEIGHT - (height % CELL_HEIGHT))\n\n    let row = Math.round(height / CELL_HEIGHT)\n    let col = Math.round(width / CELL_WIDTH)\n\n    if (row < 3) row = 3\n    if (col < 2) col = 2\n\n    selectedRange.value = [col, row]\n    tempRangeSize.value = { width: 0, height: 0 }\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", {\n          class: \"temp-range\",\n          style: _normalizeStyle({\n            width: tempRangeSize.value.width + 'px',\n            height: tempRangeSize.value.height + 'px',\n          })\n        }, null, 4),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rangeLines.value, (line) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: _normalizeClass(['range-line', line.type]),\n            key: line.type,\n            style: _normalizeStyle(line.style)\n          }, null, 6))\n        }), 128)),\n        _createElementVNode(\"div\", {\n          class: \"resizable\",\n          style: _normalizeStyle(resizablePointStyle.value),\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (changeSelectRange($event)), [\"stop\"]))\n        }, null, 36)\n      ]),\n      _createElementVNode(\"table\", null, [\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(31, (rowIndex) => {\n            return _createElementVNode(\"tr\", { key: rowIndex }, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(7, (colIndex) => {\n                return _createElementVNode(\"td\", {\n                  key: colIndex,\n                  class: _normalizeClass({\n                head:\n                  (colIndex === 1 && rowIndex <= selectedRange.value[1]) ||\n                  (rowIndex === 1 && colIndex <= selectedRange.value[0]),\n              })\n                }, [\n                  _createElementVNode(\"input\", {\n                    class: _normalizeClass([\n                  'item',\n                  {\n                    selected:\n                      rowIndex <= selectedRange.value[1] &&\n                      colIndex <= selectedRange.value[0],\n                  },\n                ]),\n                    id: `cell-${rowIndex - 1}-${colIndex - 1}`,\n                    autocomplete: \"off\",\n                    onFocus: ($event: any) => (focusCell.value = [rowIndex - 1, colIndex - 1]),\n                    onPaste: \n                  ($event) => handlePaste($event, rowIndex - 1, colIndex - 1)\n                \n                  }, null, 42, _hoisted_4)\n                ], 2)\n              }), 64))\n            ])\n          }), 64))\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(Button, {\n          class: \"btn\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (clear()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Clear\")\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(Button, {\n          class: \"btn\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (closeEditor()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Close\")\n          ]),\n          _: 1\n        }),\n        _createVNode(Button, {\n          type: \"primary\",\n          class: \"btn\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (getTableData())),\n          style: {\"margin-left\":\"10px\"}\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"\")\n          ]),\n          _: 1\n        })\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"chart-data-editor\">\n    <div class=\"editor-content\">\n      <div class=\"range-box\">\n        <div\n          class=\"temp-range\"\n          :style=\"{\n            width: tempRangeSize.width + 'px',\n            height: tempRangeSize.height + 'px',\n          }\"\n        ></div>\n        <div\n          :class=\"['range-line', line.type]\"\n          v-for=\"line in rangeLines\"\n          :key=\"line.type\"\n          :style=\"line.style\"\n        ></div>\n        <div\n          class=\"resizable\"\n          :style=\"resizablePointStyle\"\n          @mousedown.stop=\"changeSelectRange($event)\"\n        ></div>\n      </div>\n      <table>\n        <tbody>\n          <tr v-for=\"rowIndex in 31\" :key=\"rowIndex\">\n            <td\n              v-for=\"colIndex in 7\"\n              :key=\"colIndex\"\n              :class=\"{\n                head:\n                  (colIndex === 1 && rowIndex <= selectedRange[1]) ||\n                  (rowIndex === 1 && colIndex <= selectedRange[0]),\n              }\"\n            >\n              <input\n                :class=\"[\n                  'item',\n                  {\n                    selected:\n                      rowIndex <= selectedRange[1] &&\n                      colIndex <= selectedRange[0],\n                  },\n                ]\"\n                :id=\"`cell-${rowIndex - 1}-${colIndex - 1}`\"\n                autocomplete=\"off\"\n                @focus=\"focusCell = [rowIndex - 1, colIndex - 1]\"\n                @paste=\"\n                  ($event) => handlePaste($event, rowIndex - 1, colIndex - 1)\n                \"\n              />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class=\"btns\">\n      <div class=\"left\">\n        <Button class=\"btn\" @click=\"clear()\">Clear</Button>\n      </div>\n      <div class=\"right\">\n        <Button class=\"btn\" @click=\"closeEditor()\">Close</Button>\n        <Button\n          type=\"primary\"\n          class=\"btn\"\n          @click=\"getTableData()\"\n          style=\"margin-left: 10px\"\n          ></Button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport type { ChartData } from '@/types/slides'\nimport { KEYS } from '@/configs/hotkey'\nimport {\n  pasteCustomClipboardString,\n  pasteExcelClipboardString,\n} from '@/utils/clipboard'\nimport Button from '@/components/Button.vue'\n\nconst props = defineProps<{\n  data: ChartData\n}>()\n\nconst emit = defineEmits<{\n  (event: 'save', payload: ChartData): void\n  (event: 'close'): void\n}>()\n\nconst CELL_WIDTH = 100\nconst CELL_HEIGHT = 32\n\nconst selectedRange = ref([0, 0])\nconst tempRangeSize = ref({ width: 0, height: 0 })\nconst focusCell = ref<[number, number] | null>(null)\n\n// \nconst rangeLines = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return [\n    { type: 't', style: { width: width + 'px' } },\n    { type: 'b', style: { top: height + 'px', width: width + 'px' } },\n    { type: 'l', style: { height: height + 'px' } },\n    { type: 'r', style: { left: width + 'px', height: height + 'px' } },\n  ]\n})\n\n// \nconst resizablePointStyle = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return { left: width + 'px', top: height + 'px' }\n})\n\n// DOM\nconst initData = () => {\n  const _data: string[][] = []\n\n  const { labels, legends, series } = props.data\n  const rowCount = labels.length\n  const colCount = series.length\n\n  _data.push(['', ...legends])\n  for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n    const row = [labels[rowIndex]]\n    for (let colIndex = 0; colIndex < colCount; colIndex++) {\n      row.push(series[colIndex][rowIndex] + '')\n    }\n    _data.push(row)\n  }\n\n  for (let rowIndex = 0; rowIndex < rowCount + 1; rowIndex++) {\n    for (let colIndex = 0; colIndex < colCount + 1; colIndex++) {\n      const inputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = _data[rowIndex][colIndex] + ''\n    }\n  }\n\n  selectedRange.value = [colCount + 1, rowCount + 1]\n}\n\nonMounted(initData)\n\n// \nconst moveNextRow = () => {\n  if (!focusCell.value) return\n\n  const [rowIndex, colIndex] = focusCell.value\n  const inputRef = document.querySelector(\n    `#cell-${rowIndex + 1}-${colIndex}`\n  ) as HTMLInputElement\n  inputRef && inputRef.focus()\n}\n\nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) moveNextRow()\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// DOM\nconst getTableData = () => {\n  const [col, row] = selectedRange.value\n\n  const labels: string[] = []\n  const legends: string[] = []\n  const series: number[][] = []\n\n  // \n  for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n    let labelsItem = `category${rowIndex}`\n    const labelInputRef = document.querySelector(\n      `#cell-${rowIndex}-0`\n    ) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) labelsItem = labelInputRef.value\n    labels.push(labelsItem)\n  }\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    let legendsItem = `series${colIndex}`\n    const labelInputRef = document.querySelector(\n      `#cell-0-${colIndex}`\n    ) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) legendsItem = labelInputRef.value\n    legends.push(legendsItem)\n  }\n\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    const seriesItem = []\n    for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n      const valueInputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      let value = 0\n      if (valueInputRef && valueInputRef.value && !!+valueInputRef.value) {\n        value = +valueInputRef.value\n      }\n      seriesItem.push(value)\n    }\n    series.push(seriesItem)\n  }\n\n  emit('save', { labels, legends, series })\n}\n\n// \nconst clear = () => {\n  for (let rowIndex = 1; rowIndex < 31; rowIndex++) {\n    for (let colIndex = 1; colIndex < 7; colIndex++) {\n      const inputRef = document.querySelector(\n        `#cell-${rowIndex}-${colIndex}`\n      ) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = ''\n    }\n  }\n}\n\n// \nconst handlePaste = (e: ClipboardEvent, rowIndex: number, colIndex: number) => {\n  e.preventDefault()\n\n  if (!e.clipboardData) return\n\n  const clipboardDataFirstItem = e.clipboardData.items[0]\n\n  if (\n    clipboardDataFirstItem &&\n    clipboardDataFirstItem.kind === 'string' &&\n    clipboardDataFirstItem.type === 'text/plain'\n  ) {\n    clipboardDataFirstItem.getAsString((text) => {\n      const clipboardData = pasteCustomClipboardString(text)\n      if (typeof clipboardData === 'object') return\n\n      const excelData = pasteExcelClipboardString(text)\n      if (excelData) {\n        const maxRow = rowIndex + excelData.length\n        const maxCol = colIndex + excelData[0].length\n        for (let i = rowIndex; i < maxRow; i++) {\n          for (let j = colIndex; j < maxCol; j++) {\n            const inputRef = document.querySelector(\n              `#cell-${i}-${j}`\n            ) as HTMLInputElement\n            if (!inputRef) continue\n            inputRef.value = excelData[i - rowIndex][j - colIndex]\n          }\n        }\n      }\n    })\n  }\n}\n\n// \nconst closeEditor = () => emit('close')\n\n// \nconst changeSelectRange = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originWidth = selectedRange.value[0] * CELL_WIDTH\n  const originHeight = selectedRange.value[1] * CELL_HEIGHT\n\n  document.onmousemove = (e) => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    const x = currentPageX - startPageX\n    const y = currentPageY - startPageY\n\n    const width = originWidth + x\n    const height = originHeight + y\n\n    tempRangeSize.value = { width, height }\n  }\n\n  document.onmouseup = (e) => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    if (startPageX === endPageX && startPageY === endPageY) return\n\n    // \n    let width = tempRangeSize.value.width\n    let height = tempRangeSize.value.height\n    if (width % CELL_WIDTH > CELL_WIDTH * 0.5)\n      width = width + (CELL_WIDTH - (width % CELL_WIDTH))\n    if (height % CELL_HEIGHT > CELL_HEIGHT * 0.5)\n      height = height + (CELL_HEIGHT - (height % CELL_HEIGHT))\n\n    let row = Math.round(height / CELL_HEIGHT)\n    let col = Math.round(width / CELL_WIDTH)\n\n    if (row < 3) row = 3\n    if (col < 2) col = 2\n\n    selectedRange.value = [col, row]\n    tempRangeSize.value = { width: 0, height: 0 }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.chart-data-editor {\n  width: 600px;\n  position: relative;\n}\n.editor-content {\n  width: 100%;\n  height: 360px;\n  position: relative;\n  border-right: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n\n  @include overflow-overlay();\n}\n.range-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  user-select: none;\n}\n.temp-range {\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgba($color: #888, $alpha: 0.3);\n}\n.range-line {\n  width: 0;\n  height: 0;\n  position: absolute;\n  left: 0;\n  top: 0;\n  border: 0 solid $themeColor;\n\n  &.t {\n    border-top-width: 1px;\n  }\n  &.b {\n    border-bottom-width: 1px;\n  }\n  &.l {\n    border-left-width: 1px;\n  }\n  &.r {\n    border-right-width: 1px;\n  }\n}\n.resizable {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  left: 0;\n  top: 0;\n  margin: -9px 0 0 -9px;\n  cursor: nwse-resize;\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 4px;\n    height: 12px;\n    right: 0;\n    top: 0;\n    background-color: $themeColor;\n  }\n  &::before {\n    content: '';\n    position: absolute;\n    width: 12px;\n    height: 4px;\n    right: 0;\n    bottom: 0;\n    background-color: $themeColor;\n  }\n}\ntable {\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  table-layout: fixed;\n\n  td {\n    text-align: center;\n    border: 1px solid #ccc;\n    vertical-align: middle;\n    width: 100px;\n    height: 32px;\n\n    &.head {\n      background-color: rgba($color: $themeColor, $alpha: 0.1);\n    }\n  }\n  .item {\n    width: 100%;\n    height: 100%;\n    border: 0;\n    outline: 0;\n    font-size: 13px;\n    text-align: center;\n    background-color: transparent;\n\n    &.selected {\n      background-color: rgba($color: $themeColor, $alpha: 0.02);\n    }\n  }\n}\n.btns {\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n","import script from \"./ChartDataEditor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ChartDataEditor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ChartDataEditor.vue?vue&type=style&index=0&id=72084078&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72084078\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26bf4835\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"checkbox-input\" }, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"checkbox-original\",\n  type: \"checkbox\"\n}, null, -1))\nconst _hoisted_3 = { class: \"checkbox-label\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Checkbox',\n  props: {\n    value: { type: Boolean },\n    disabled: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst handleChange = (e: Event) => {\n  if (props.disabled) return\n  emit('update:value', (e.target as HTMLInputElement).checked)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"label\", {\n    class: _normalizeClass([\"checkbox\", {\n      'checked': _ctx.value,\n      'disabled': _ctx.disabled,\n    }]),\n    onChange: _cache[0] || (_cache[0] = $event => handleChange($event))\n  }, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"span\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ])\n  ], 34))\n}\n}\n\n})","<template>\n  <label \n    class=\"checkbox\"\n    :class=\"{\n      'checked': value,\n      'disabled': disabled,\n    }\"\n    @change=\"$event => handleChange($event)\"\n  >\n    <span class=\"checkbox-input\"></span>\n    <input class=\"checkbox-original\" type=\"checkbox\">\n    <span class=\"checkbox-label\">\n      <slot></slot>\n    </span>\n  </label>\n</template>\n\n<script lang=\"ts\" setup>\nconst props = withDefaults(defineProps<{\n  value: boolean\n  disabled?: boolean\n}>(), {\n  disabled: false,\n})\n\nconst emit = defineEmits<{\n  (event: 'update:value', payload: boolean): void\n}>()\n\nconst handleChange = (e: Event) => {\n  if (props.disabled) return\n  emit('update:value', (e.target as HTMLInputElement).checked)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.checkbox {\n  height: 20px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n\n  &:not(.disabled).checked {\n    .checkbox-input {\n      background-color: $themeColor;\n      border-color: $themeColor;\n    }\n    .checkbox-input::after {\n      transform: rotate(45deg) scaleY(1);\n    }\n\n    .checkbox-label {\n      color: $themeColor;\n    }\n  }\n\n  &.disabled {\n    color: #b7b7b7;\n    cursor: default;\n\n    .checkbox-input {\n      background-color: #f5f5f5;\n    }\n  }\n}\n\n.checkbox-input {\n  display: inline-block;\n  position: relative;\n  border: 1px solid #d9d9d9;\n  border-radius: $borderRadius;\n  width: 16px;\n  height: 16px;\n  background-color: #fff;\n  vertical-align: middle;\n  transition: border-color .15s cubic-bezier(.71, -.46, .29, 1.46), background-color .15s cubic-bezier(.71, -.46, .29, 1.46);\n  z-index: 1;\n\n  &::after {\n    content: '';\n    border: 2px solid #fff;\n    border-left: 0;\n    border-top: 0;\n    height: 9px;\n    left: 4px;\n    position: absolute;\n    top: 1px;\n    transform: rotate(45deg) scaleY(0);\n    width: 6px;\n    transition: transform .15s ease-in .05s;\n    transform-origin: center;\n  }\n}\n.checkbox-original {\n  opacity: 0;\n  outline: 0;\n  position: absolute;\n  margin: 0;\n  width: 0;\n  height: 0;\n  z-index: -1;\n}\n.checkbox-label {\n  margin-left: 5px;\n  line-height: 20px;\n  font-size: 13px;\n  user-select: none;\n}\n</style>","import script from \"./Checkbox.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Checkbox.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Checkbox.vue?vue&type=style&index=0&id=26bf4835&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26bf4835\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, unref as _unref, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, toDisplayString as _toDisplayString, withModifiers as _withModifiers, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-301c29c5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"row\"\n}\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"legend:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Background fill:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Grid color:\", -1))\nconst _hoisted_12 = { style: {\"width\":\"40%\"} }\nconst _hoisted_13 = {\n  class: \"color-btn-wrap\",\n  style: {\"width\":\"100%\"}\n}\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = { class: \"preset-themes\" }\nconst _hoisted_16 = [\"onClick\", \"onMouseenter\"]\n\nimport { onUnmounted, ref, watch, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ChartData, ChartOptions, PPTChartElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../../common/ElementOutline.vue'\nimport ColorButton from '../../common/ColorButton.vue'\nimport ChartDataEditor from './ChartDataEditor.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Checkbox from '@/components/Checkbox.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst presetChartThemes = [\n  ['#d87c7c', '#919e8b', '#d7ab82', '#6e7074', '#61a0a8', '#efa18d'],\n  ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78'],\n  ['#516b91', '#59c4e6', '#edafda', '#93b7e3', '#a5e7f0', '#cbb0e3'],\n  ['#893448', '#d95850', '#eb8146', '#ffb248', '#f2d643', '#ebdba4'],\n  ['#4ea397', '#22c3aa', '#7bd9a5', '#d0648a', '#f58db2', '#f2b3c9'],\n  ['#3fb1e3', '#6be6c1', '#626c91', '#a0a7e6', '#c4ebad', '#96dee8'],\n  ['#fc97af', '#87f7cf', '#f7f494', '#72ccff', '#f7c5a0', '#d4a4eb'],\n  ['#c1232b', '#27727b', '#fcce10', '#e87c25', '#b5c334', '#fe8463'],\n  ['#2ec7c9', '#b6a2de', '#5ab1ef', '#ffb980', '#d87a80', '#8d98b3'],\n  ['#e01f54', '#001852', '#f5e8c8', '#b8d2c7', '#c6b38e', '#a4d8c2'],\n  ['#c12e34', '#e6b600', '#0098d9', '#2b821d', '#005eaa', '#339ca8'],\n  ['#8a7ca8', '#e098c7', '#8fd3e8', '#71669e', '#cc70af', '#7cb4cc'],\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { theme } = storeToRefs(slidesStore)\n\nconst handleChartElement = handleElement as Ref<PPTChartElement>\n\nconst chartDataEditorVisible = ref(false)\nconst presetThemesVisible = ref(false)\nconst presetThemeColorHoverIndex = ref<[number, number]>([-1, -1])\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst fill = ref<string>('#000')\n\nconst themeColor = ref<string[]>([])\nconst gridColor = ref('')\nconst legend = ref('')\n\nconst lineSmooth = ref(true)\nconst showLine = ref(true)\nconst showArea = ref(false)\nconst horizontalBars = ref(false)\nconst donut = ref(false)\nconst stackBars = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'chart') return\n    fill.value = handleElement.value.fill || '#fff'\n\n    if (handleElement.value.options) {\n      const {\n        lineSmooth: _lineSmooth,\n        showLine: _showLine,\n        showArea: _showArea,\n        horizontalBars: _horizontalBars,\n        donut: _donut,\n        stackBars: _stackBars,\n      } = handleElement.value.options\n\n      lineSmooth.value = !!_lineSmooth\n      showLine.value = !!_showLine\n      showArea.value = !!_showArea\n      horizontalBars.value = !!_horizontalBars\n      donut.value = !!_donut\n      stackBars.value = !!_stackBars\n    }\n\n    themeColor.value = handleElement.value.themeColor\n    gridColor.value = handleElement.value.gridColor || '#333'\n    legend.value = handleElement.value.legend || ''\n  },\n  { deep: true, immediate: true }\n)\n\nconst updateElement = (props: Partial<PPTChartElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateData = (data: ChartData) => {\n  chartDataEditorVisible.value = false\n  updateElement({ data })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst updateOptions = (optionProps: ChartOptions) => {\n  const _handleElement = handleElement.value as PPTChartElement\n\n  const newOptions = { ..._handleElement.options, ...optionProps }\n  updateElement({ options: newOptions })\n}\n\n// \nconst updateTheme = (color: string, index: number) => {\n  const props = {\n    themeColor: themeColor.value.map((c, i) => (i === index ? color : c)),\n  }\n  updateElement(props)\n}\n\n// \nconst addThemeColor = () => {\n  const props = {\n    themeColor: [...themeColor.value, theme.value.themeColor],\n  }\n  updateElement(props)\n}\n\n// \nconst applyPresetTheme = (colors: string[], index: number) => {\n  const themeColor = colors.slice(0, index + 1)\n  updateElement({ themeColor })\n  presetThemesVisible.value = false\n}\n\n// \nconst deleteThemeColor = (index: number) => {\n  const props = {\n    themeColor: themeColor.value.filter((c, i) => i !== index),\n  }\n  updateElement(props)\n}\n\n// \nconst updateGridColor = (gridColor: string) => {\n  updateElement({ gridColor })\n}\n\n// /\nconst updateLegend = (legend: '' | 'top' | 'bottom') => {\n  updateElement({ legend })\n}\n\nconst openDataEditor = () => (chartDataEditorVisible.value = true)\n\nemitter.on(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEdit = _resolveComponent(\"IconEdit\")!\n  const _component_IconCloseSmall = _resolveComponent(\"IconCloseSmall\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Button, {\n      class: \"full-width-btn\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (chartDataEditorVisible.value = true))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconEdit, { class: \"btn-icon\" }),\n        _createTextVNode(\" Edit chart data \")\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    (_unref(handleChartElement).chartType === 'line')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[1] || (_cache[1] = (value) => updateOptions({ showArea: value })),\n              value: showArea.value,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Area Chart Style\")\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[2] || (_cache[2] = (value) => updateOptions({ showLine: value })),\n              value: !showLine.value,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Scatter plot style\")\n              ]),\n              _: 1\n            }, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[3] || (_cache[3] = (value) => updateOptions({ lineSmooth: value })),\n              value: lineSmooth.value\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Use smooth curves\")\n              ]),\n              _: 1\n            }, 8, [\"value\"])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_unref(handleChartElement).chartType === 'bar')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createVNode(Checkbox, {\n            \"onUpdate:value\": _cache[4] || (_cache[4] = (value) => updateOptions({ horizontalBars: value })),\n            value: horizontalBars.value,\n            style: {\"flex\":\"1\"}\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"bar chart style\")\n            ]),\n            _: 1\n          }, 8, [\"value\"]),\n          _createVNode(Checkbox, {\n            \"onUpdate:value\": _cache[5] || (_cache[5] = (value) => updateOptions({ stackBars: value })),\n            value: stackBars.value,\n            style: {\"flex\":\"1\"}\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"stacked style\")\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_unref(handleChartElement).chartType === 'pie')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createVNode(Checkbox, {\n            \"onUpdate:value\": _cache[6] || (_cache[6] = (value) => updateOptions({ donut: value })),\n            value: donut.value\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"donut chart style\")\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: legend.value,\n        \"onUpdate:value\": _cache[7] || (_cache[7] = value => updateLegend(value as '' | 'top' | 'bottom')),\n        options: [\n          { label: 'Do not display', value: '' },\n          { label: 'display above', value: 'top' },\n          { label: 'Show below', value: 'bottom' },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = (value) => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, { color: fill.value }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: gridColor.value,\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = (value) => updateGridColor(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, { color: gridColor.value }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(themeColor.value, (color, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"row\",\n        key: index\n      }, [\n        _createElementVNode(\"div\", _hoisted_12, _toDisplayString(index === 0 ? 'Theme color: ' : ''), 1),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"60%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: color,\n              \"onUpdate:modelValue\": (value) => updateTheme(value, index)\n            }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createVNode(ColorButton, { color: color }, null, 8, [\"color\"]),\n              (index !== 0)\n                ? _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"delete-color-btn\",\n                    onClick: _withModifiers(($event: any) => (deleteThemeColor(index)), [\"stop\"])\n                  }, [\n                    _createVNode(_component_IconCloseSmall)\n                  ], 8, _hoisted_14)), [\n                    [_directive_tooltip, 'Delete']\n                  ])\n                : _createCommentVNode(\"\", true)\n            ])\n          ]),\n          _: 2\n        }, 1024)\n      ]))\n    }), 128)),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Popover, {\n          trigger: \"click\",\n          open: presetThemesVisible.value,\n          \"onUpdate:open\": _cache[11] || (_cache[11] = ($event: any) => ((presetThemesVisible).value = $event)),\n          style: {\"width\":\"40%\"}\n        }, {\n          content: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_15, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(presetChartThemes, (item, index) => {\n                return _createElementVNode(\"div\", {\n                  class: \"preset-theme\",\n                  key: index\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item, (color, itemIndex) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: _normalizeClass([\"preset-theme-color\", {\n                  select:\n                    presetThemeColorHoverIndex.value[0] === index &&\n                    itemIndex <= presetThemeColorHoverIndex.value[1],\n                }]),\n                      key: color,\n                      style: _normalizeStyle({ backgroundColor: color }),\n                      onClick: ($event: any) => (applyPresetTheme(item, itemIndex)),\n                      onMouseenter: ($event: any) => (presetThemeColorHoverIndex.value = [index, itemIndex]),\n                      onMouseleave: _cache[10] || (_cache[10] = ($event: any) => (presetThemeColorHoverIndex.value = [-1, -1]))\n                    }, null, 46, _hoisted_16))\n                  }), 128))\n                ])\n              }), 64))\n            ])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(Button, {\n              first: \"\",\n              style: {\"width\":\"100%\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Recommended topics\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"open\"]),\n        _createVNode(Button, {\n          last: \"\",\n          disabled: themeColor.value.length >= 10,\n          style: {\"width\":\"60%\"},\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (addThemeColor()))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus, { class: \"btn-icon\" }),\n            _createTextVNode(\" Add theme color \")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    _createVNode(ElementOutline),\n    _createVNode(Modal, {\n      visible: chartDataEditorVisible.value,\n      \"onUpdate:visible\": _cache[15] || (_cache[15] = ($event: any) => ((chartDataEditorVisible).value = $event)),\n      width: 640\n    }, {\n      default: _withCtx(() => [\n        _createVNode(ChartDataEditor, {\n          data: _unref(handleChartElement).data,\n          onClose: _cache[13] || (_cache[13] = ($event: any) => (chartDataEditorVisible.value = false)),\n          onSave: _cache[14] || (_cache[14] = (value) => updateData(value))\n        }, null, 8, [\"data\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"chart-style-panel\">\n    <Button class=\"full-width-btn\" @click=\"chartDataEditorVisible = true\">\n      <IconEdit class=\"btn-icon\" /> Edit chart data\n    </Button>\n\n    <Divider />\n\n    <template v-if=\"handleChartElement.chartType === 'line'\">\n      <div class=\"row\">\n        <Checkbox\n          @update:value=\"(value) => updateOptions({ showArea: value })\"\n          :value=\"showArea\"\n          style=\"flex: 1\"\n          >Area Chart Style</Checkbox\n        >\n        <Checkbox\n          @update:value=\"(value) => updateOptions({ showLine: value })\"\n          :value=\"!showLine\"\n          style=\"flex: 1\"\n          >Scatter plot style</Checkbox\n        >\n      </div>\n      <div class=\"row\">\n        <Checkbox\n          @update:value=\"(value) => updateOptions({ lineSmooth: value })\"\n          :value=\"lineSmooth\"\n          >Use smooth curves</Checkbox\n        >\n      </div>\n    </template>\n    <div class=\"row\" v-if=\"handleChartElement.chartType === 'bar'\">\n      <Checkbox\n        @update:value=\"(value) => updateOptions({ horizontalBars: value })\"\n        :value=\"horizontalBars\"\n        style=\"flex: 1\"\n        >bar chart style</Checkbox\n      >\n      <Checkbox\n        @update:value=\"(value) => updateOptions({ stackBars: value })\"\n        :value=\"stackBars\"\n        style=\"flex: 1\"\n        >stacked style</Checkbox\n      >\n    </div>\n    <div class=\"row\" v-if=\"handleChartElement.chartType === 'pie'\">\n      <Checkbox\n        @update:value=\"(value) => updateOptions({ donut: value })\"\n        :value=\"donut\"\n        >donut chart style</Checkbox\n      >\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">legend:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"legend\"\n        @update:value=\"value => updateLegend(value as '' | 'top' | 'bottom')\"\n        :options=\"[\n          { label: 'Do not display', value: '' },\n          { label: 'display above', value: 'top' },\n          { label: 'Show below', value: 'bottom' },\n        ]\"\n      />\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Background fill:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"fill\"\n            @update:modelValue=\"(value) => updateFill(value)\"\n          />\n        </template>\n        <ColorButton :color=\"fill\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Grid color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"gridColor\"\n            @update:modelValue=\"(value) => updateGridColor(value)\"\n          />\n        </template>\n        <ColorButton :color=\"gridColor\" />\n      </Popover>\n    </div>\n\n    <Divider />\n\n    <div class=\"row\" v-for=\"(color, index) in themeColor\" :key=\"index\">\n      <div style=\"width: 40%\">{{ index === 0 ? 'Theme color: ' : '' }}</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"color\"\n            @update:modelValue=\"(value) => updateTheme(value, index)\"\n          />\n        </template>\n        <div class=\"color-btn-wrap\" style=\"width: 100%\">\n          <ColorButton :color=\"color\" />\n          <div\n            class=\"delete-color-btn\"\n            v-tooltip=\"'Delete'\"\n            @click.stop=\"deleteThemeColor(index)\"\n            v-if=\"index !== 0\"\n          >\n            <IconCloseSmall />\n          </div>\n        </div>\n      </Popover>\n    </div>\n    <ButtonGroup class=\"row\" passive>\n      <Popover\n        trigger=\"click\"\n        v-model:open=\"presetThemesVisible\"\n        style=\"width: 40%\"\n      >\n        <template #content>\n          <div class=\"preset-themes\">\n            <div\n              class=\"preset-theme\"\n              v-for=\"(item, index) in presetChartThemes\"\n              :key=\"index\"\n            >\n              <div\n                class=\"preset-theme-color\"\n                :class=\"{\n                  select:\n                    presetThemeColorHoverIndex[0] === index &&\n                    itemIndex <= presetThemeColorHoverIndex[1],\n                }\"\n                v-for=\"(color, itemIndex) in item\"\n                :key=\"color\"\n                :style=\"{ backgroundColor: color }\"\n                @click=\"applyPresetTheme(item, itemIndex)\"\n                @mouseenter=\"presetThemeColorHoverIndex = [index, itemIndex]\"\n                @mouseleave=\"presetThemeColorHoverIndex = [-1, -1]\"\n              ></div>\n            </div>\n          </div>\n        </template>\n        <Button first style=\"width: 100%\">Recommended topics</Button>\n      </Popover>\n      <Button\n        last\n        :disabled=\"themeColor.length >= 10\"\n        style=\"width: 60%\"\n        @click=\"addThemeColor()\"\n      >\n        <IconPlus class=\"btn-icon\" /> Add theme color\n      </Button>\n    </ButtonGroup>\n\n    <Divider />\n\n    <ElementOutline />\n\n    <Modal v-model:visible=\"chartDataEditorVisible\" :width=\"640\">\n      <ChartDataEditor\n        :data=\"handleChartElement.data\"\n        @close=\"chartDataEditorVisible = false\"\n        @save=\"(value) => updateData(value)\"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onUnmounted, ref, watch, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { ChartData, ChartOptions, PPTChartElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../../common/ElementOutline.vue'\nimport ColorButton from '../../common/ColorButton.vue'\nimport ChartDataEditor from './ChartDataEditor.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Checkbox from '@/components/Checkbox.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst presetChartThemes = [\n  ['#d87c7c', '#919e8b', '#d7ab82', '#6e7074', '#61a0a8', '#efa18d'],\n  ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78'],\n  ['#516b91', '#59c4e6', '#edafda', '#93b7e3', '#a5e7f0', '#cbb0e3'],\n  ['#893448', '#d95850', '#eb8146', '#ffb248', '#f2d643', '#ebdba4'],\n  ['#4ea397', '#22c3aa', '#7bd9a5', '#d0648a', '#f58db2', '#f2b3c9'],\n  ['#3fb1e3', '#6be6c1', '#626c91', '#a0a7e6', '#c4ebad', '#96dee8'],\n  ['#fc97af', '#87f7cf', '#f7f494', '#72ccff', '#f7c5a0', '#d4a4eb'],\n  ['#c1232b', '#27727b', '#fcce10', '#e87c25', '#b5c334', '#fe8463'],\n  ['#2ec7c9', '#b6a2de', '#5ab1ef', '#ffb980', '#d87a80', '#8d98b3'],\n  ['#e01f54', '#001852', '#f5e8c8', '#b8d2c7', '#c6b38e', '#a4d8c2'],\n  ['#c12e34', '#e6b600', '#0098d9', '#2b821d', '#005eaa', '#339ca8'],\n  ['#8a7ca8', '#e098c7', '#8fd3e8', '#71669e', '#cc70af', '#7cb4cc'],\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { theme } = storeToRefs(slidesStore)\n\nconst handleChartElement = handleElement as Ref<PPTChartElement>\n\nconst chartDataEditorVisible = ref(false)\nconst presetThemesVisible = ref(false)\nconst presetThemeColorHoverIndex = ref<[number, number]>([-1, -1])\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst fill = ref<string>('#000')\n\nconst themeColor = ref<string[]>([])\nconst gridColor = ref('')\nconst legend = ref('')\n\nconst lineSmooth = ref(true)\nconst showLine = ref(true)\nconst showArea = ref(false)\nconst horizontalBars = ref(false)\nconst donut = ref(false)\nconst stackBars = ref(false)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'chart') return\n    fill.value = handleElement.value.fill || '#fff'\n\n    if (handleElement.value.options) {\n      const {\n        lineSmooth: _lineSmooth,\n        showLine: _showLine,\n        showArea: _showArea,\n        horizontalBars: _horizontalBars,\n        donut: _donut,\n        stackBars: _stackBars,\n      } = handleElement.value.options\n\n      lineSmooth.value = !!_lineSmooth\n      showLine.value = !!_showLine\n      showArea.value = !!_showArea\n      horizontalBars.value = !!_horizontalBars\n      donut.value = !!_donut\n      stackBars.value = !!_stackBars\n    }\n\n    themeColor.value = handleElement.value.themeColor\n    gridColor.value = handleElement.value.gridColor || '#333'\n    legend.value = handleElement.value.legend || ''\n  },\n  { deep: true, immediate: true }\n)\n\nconst updateElement = (props: Partial<PPTChartElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateData = (data: ChartData) => {\n  chartDataEditorVisible.value = false\n  updateElement({ data })\n}\n\n// \nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// \nconst updateOptions = (optionProps: ChartOptions) => {\n  const _handleElement = handleElement.value as PPTChartElement\n\n  const newOptions = { ..._handleElement.options, ...optionProps }\n  updateElement({ options: newOptions })\n}\n\n// \nconst updateTheme = (color: string, index: number) => {\n  const props = {\n    themeColor: themeColor.value.map((c, i) => (i === index ? color : c)),\n  }\n  updateElement(props)\n}\n\n// \nconst addThemeColor = () => {\n  const props = {\n    themeColor: [...themeColor.value, theme.value.themeColor],\n  }\n  updateElement(props)\n}\n\n// \nconst applyPresetTheme = (colors: string[], index: number) => {\n  const themeColor = colors.slice(0, index + 1)\n  updateElement({ themeColor })\n  presetThemesVisible.value = false\n}\n\n// \nconst deleteThemeColor = (index: number) => {\n  const props = {\n    themeColor: themeColor.value.filter((c, i) => i !== index),\n  }\n  updateElement(props)\n}\n\n// \nconst updateGridColor = (gridColor: string) => {\n  updateElement({ gridColor })\n}\n\n// /\nconst updateLegend = (legend: '' | 'top' | 'bottom') => {\n  updateElement({ legend })\n}\n\nconst openDataEditor = () => (chartDataEditorVisible.value = true)\n\nemitter.on(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.chart-style-panel {\n  user-select: none;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.full-width-btn {\n  width: 100%;\n}\n.btn-icon {\n  margin-right: 3px;\n}\n.color-btn-wrap {\n  position: relative;\n}\n.delete-color-btn {\n  position: absolute;\n  width: 30px;\n  right: 2px;\n  top: 2px;\n  bottom: 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n  cursor: pointer;\n}\n.preset-themes {\n  width: 250px;\n  display: flex;\n  margin-bottom: -10px;\n\n  @include flex-grid-layout();\n}\n.preset-theme {\n  display: flex;\n  cursor: pointer;\n\n  @include flex-grid-layout-children(2, 48%);\n}\n.preset-theme-color {\n  width: 20px;\n  height: 20px;\n\n  &.select {\n    transform: scale(1.2);\n    transition: transform $transitionDelayFast;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=301c29c5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-301c29c5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-161b7c70\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"table-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Rows:\", -1))\nconst _hoisted_4 = {\n  class: \"set-count\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_5 = { class: \"count-text\" }\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Columns:\", -1))\nconst _hoisted_8 = {\n  class: \"set-count\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_9 = { class: \"count-text\" }\nconst _hoisted_10 = { class: \"row theme-switch\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Enable topic table:\", -1))\nconst _hoisted_12 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_13 = { class: \"row\" }\nconst _hoisted_14 = { class: \"row\" }\nconst _hoisted_15 = { class: \"row\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Theme color:\", -1))\n\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type {\n  PPTTableElement,\n  TableCell,\n  TableCellStyle,\n  TableTheme,\n} from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Switch from '@/components/Switch.vue'\nimport Checkbox from '@/components/Checkbox.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TableStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst {\n  handleElement,\n  handleElementId,\n  selectedTableCells: selectedCells,\n  availableFonts,\n} = storeToRefs(useMainStore())\nconst themeColor = computed(() => slidesStore.theme.themeColor)\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n]\n\nconst textAttrs = ref({\n  bold: false,\n  em: false,\n  underline: false,\n  strikethrough: false,\n  color: '#000',\n  backcolor: '',\n  fontsize: '12px',\n  fontname: 'Microsoft Yahei',\n  align: 'left',\n})\n\nconst theme = ref<TableTheme>()\nconst hasTheme = ref(false)\nconst rowCount = ref(0)\nconst colCount = ref(0)\nconst minRowCount = ref(0)\nconst minColCount = ref(0)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'table') return\n\n    theme.value = handleElement.value.theme\n    hasTheme.value = !!theme.value\n\n    rowCount.value = handleElement.value.data.length\n    colCount.value = handleElement.value.data[0].length\n\n    minRowCount.value = handleElement.value.data.length\n    minColCount.value = handleElement.value.data[0].length\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateTextAttrState = () => {\n  if (!handleElement.value || handleElement.value.type !== 'table') return\n\n  let rowIndex = 0\n  let colIndex = 0\n  if (selectedCells.value.length) {\n    const selectedCell = selectedCells.value[0]\n    rowIndex = +selectedCell.split('_')[0]\n    colIndex = +selectedCell.split('_')[1]\n  }\n  const style = handleElement.value.data[rowIndex][colIndex].style\n\n  if (!style) {\n    textAttrs.value = {\n      bold: false,\n      em: false,\n      underline: false,\n      strikethrough: false,\n      color: '#000',\n      backcolor: '',\n      fontsize: '12px',\n      fontname: 'Microsoft Yahei',\n      align: 'left',\n    }\n  } else {\n    textAttrs.value = {\n      bold: !!style.bold,\n      em: !!style.em,\n      underline: !!style.underline,\n      strikethrough: !!style.strikethrough,\n      color: style.color || '#000',\n      backcolor: style.backcolor || '',\n      fontsize: style.fontsize || '12px',\n      fontname: style.fontname || 'Microsoft Yahei',\n      align: style.align || 'left',\n    }\n  }\n}\n\nonMounted(() => {\n  if (selectedCells.value.length) updateTextAttrState()\n})\n\nwatch(selectedCells, updateTextAttrState)\n\nconst updateElement = (props: Partial<PPTTableElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateTextAttrs = (textAttrProp: Partial<TableCellStyle>) => {\n  const _handleElement = handleElement.value as PPTTableElement\n\n  const data: TableCell[][] = JSON.parse(JSON.stringify(_handleElement.data))\n\n  for (let i = 0; i < data.length; i++) {\n    for (let j = 0; j < data[i].length; j++) {\n      if (\n        !selectedCells.value.length ||\n        selectedCells.value.includes(`${i}_${j}`)\n      ) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, ...textAttrProp }\n      }\n    }\n  }\n  updateElement({ data })\n  updateTextAttrState()\n}\n\n// \nconst updateTheme = (themeProp: Partial<TableTheme>) => {\n  if (!theme.value) return\n  const _theme = { ...theme.value, ...themeProp }\n  updateElement({ theme: _theme })\n}\n\n// /\nconst toggleTheme = (checked: boolean) => {\n  if (checked) {\n    const props = {\n      theme: {\n        color: themeColor.value,\n        rowHeader: true,\n        rowFooter: false,\n        colHeader: false,\n        colFooter: false,\n      },\n    }\n    updateElement(props)\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElementId.value,\n      propName: 'theme',\n    })\n    addHistorySnapshot()\n  }\n}\n\n// \nconst setTableRow = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const rowCount = _handleElement.data.length\n\n  if (value > rowCount) {\n    const rowCells: TableCell[] = new Array(colCount.value).fill({\n      id: nanoid(10),\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n    })\n    const newTableCells: TableCell[][] = new Array(value - rowCount).fill(\n      rowCells\n    )\n\n    const tableCells: TableCell[][] = JSON.parse(\n      JSON.stringify(_handleElement.data)\n    )\n    tableCells.push(...newTableCells)\n\n    updateElement({ data: tableCells })\n  } else {\n    const tableCells: TableCell[][] = _handleElement.data.slice(0, value)\n    updateElement({ data: tableCells })\n  }\n}\n\n// \nconst setTableCol = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const colCount = _handleElement.data[0].length\n\n  let tableCells = _handleElement.data\n  let colSizeList = _handleElement.colWidths.map(\n    (item) => item * _handleElement.width\n  )\n\n  if (value > colCount) {\n    tableCells = tableCells.map((item) => {\n      const cells: TableCell[] = new Array(value - colCount).fill({\n        id: nanoid(10),\n        colspan: 1,\n        rowspan: 1,\n        text: '',\n      })\n      item.push(...cells)\n      return item\n    })\n\n    const newColSizeList: number[] = new Array(value - colCount).fill(100)\n    colSizeList.push(...newColSizeList)\n  } else {\n    tableCells = tableCells.map((item) => item.slice(0, value))\n    colSizeList = colSizeList.slice(0, value)\n  }\n\n  const width = colSizeList.reduce((a, b) => a + b)\n  const colWidths = colSizeList.map((item) => item / width)\n\n  const props = {\n    width,\n    data: tableCells,\n    colWidths,\n  }\n  updateElement(props)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconFill = _resolveComponent(\"IconFill\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(SelectGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Select, {\n          style: {\"width\":\"50%\"},\n          value: textAttrs.value.fontname,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = value => updateTextAttrs({ fontname: value as string })),\n          options: [..._unref(availableFonts), ..._unref(WEB_FONTS)]\n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"]),\n        _createVNode(Select, {\n          style: {\"width\":\"50%\"},\n          value: textAttrs.value.fontsize,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = value => updateTextAttrs({ fontsize: value as string })),\n          options: \n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"50%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: textAttrs.value.color,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = (value) => updateTextAttrs({ color: value }))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              first: \"\",\n              color: textAttrs.value.color\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconText)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'text color']\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"50%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: textAttrs.value.backcolor,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = \n              (value) => updateTextAttrs({ backcolor: value })\n            )\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              last: \"\",\n              color: textAttrs.value.backcolor\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFill)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'cell fill']\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: textAttrs.value.bold,\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (updateTextAttrs({ bold: !textAttrs.value.bold })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextBold)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Bold']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: textAttrs.value.em,\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (updateTextAttrs({ em: !textAttrs.value.em })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextItalic)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'italics']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: textAttrs.value.underline,\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (updateTextAttrs({ underline: !textAttrs.value.underline })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTextUnderline)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'Underline']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: textAttrs.value.strikethrough,\n          onClick: _cache[7] || (_cache[7] = ($event: any) => (updateTextAttrs({ strikethrough: !textAttrs.value.strikethrough })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconStrikethrough)\n          ]),\n          _: 1\n        }, 8, [\"checked\"])), [\n          [_directive_tooltip, 'strikethrough']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(RadioGroup, {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: textAttrs.value.align,\n      \"onUpdate:value\": _cache[8] || (_cache[8] = value => updateTextAttrs({ align: value as 'left' | 'center' | 'right' }))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"left\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextLeft)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Left-aligned']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"center\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextCenter)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'center']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"right\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextRight)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'right-aligned']\n        ])\n      ]),\n      _: 1\n    }, 8, [\"value\"]),\n    _createVNode(Divider),\n    _createVNode(ElementOutline, { fixed: true }),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(Button, {\n          class: \"btn\",\n          disabled: rowCount.value <= 1,\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (setTableRow(rowCount.value - 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconMinus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createElementVNode(\"div\", _hoisted_5, _toDisplayString(rowCount.value), 1),\n        _createVNode(Button, {\n          class: \"btn\",\n          disabled: rowCount.value >= 30,\n          onClick: _cache[10] || (_cache[10] = ($event: any) => (setTableRow(rowCount.value + 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(Button, {\n          class: \"btn\",\n          disabled: colCount.value <= 1,\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (setTableCol(colCount.value - 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconMinus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createElementVNode(\"div\", _hoisted_9, _toDisplayString(colCount.value), 1),\n        _createVNode(Button, {\n          class: \"btn\",\n          disabled: colCount.value >= 30,\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (setTableCol(colCount.value + 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createElementVNode(\"div\", _hoisted_12, [\n        _createVNode(Switch, {\n          value: hasTheme.value,\n          \"onUpdate:value\": _cache[13] || (_cache[13] = (value) => toggleTheme(value))\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    (theme.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[14] || (_cache[14] = (value) => updateTheme({ rowHeader: value })),\n              value: theme.value.rowHeader,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"title line\")\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[15] || (_cache[15] = (value) => updateTheme({ rowFooter: value })),\n              value: theme.value.rowFooter,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"summary row\")\n              ]),\n              _: 1\n            }, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_14, [\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[16] || (_cache[16] = (value) => updateTheme({ colHeader: value })),\n              value: theme.value.colHeader,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"first row\")\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Checkbox, {\n              \"onUpdate:value\": _cache[17] || (_cache[17] = (value) => updateTheme({ colFooter: value })),\n              value: theme.value.colFooter,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"last row\")\n              ]),\n              _: 1\n            }, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _hoisted_16,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: theme.value.color,\n                  \"onUpdate:modelValue\": _cache[18] || (_cache[18] = (value) => updateTheme({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: theme.value.color\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"table-style-panel\">\n    <SelectGroup class=\"row\">\n      <Select\n        style=\"width: 50%\"\n        :value=\"textAttrs.fontname\"\n        @update:value=\"value => updateTextAttrs({ fontname: value as string })\"\n        :options=\"[...availableFonts, ...WEB_FONTS]\"\n      >\n        <template #icon>\n          <IconFontSize />\n        </template>\n      </Select>\n      <Select\n        style=\"width: 50%\"\n        :value=\"textAttrs.fontsize\"\n        @update:value=\"value => updateTextAttrs({ fontsize: value as string })\"\n        :options=\"\n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconAddText />\n        </template>\n      </Select>\n    </SelectGroup>\n\n    <ButtonGroup class=\"row\" passive>\n      <Popover trigger=\"click\" style=\"width: 50%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"textAttrs.color\"\n            @update:modelValue=\"(value) => updateTextAttrs({ color: value })\"\n          />\n        </template>\n        <TextColorButton\n          first\n          v-tooltip=\"'text color'\"\n          :color=\"textAttrs.color\"\n        >\n          <IconText />\n        </TextColorButton>\n      </Popover>\n      <Popover trigger=\"click\" style=\"width: 50%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"textAttrs.backcolor\"\n            @update:modelValue=\"\n              (value) => updateTextAttrs({ backcolor: value })\n            \"\n          />\n        </template>\n        <TextColorButton\n          last\n          v-tooltip=\"'cell fill'\"\n          :color=\"textAttrs.backcolor\"\n        >\n          <IconFill />\n        </TextColorButton>\n      </Popover>\n    </ButtonGroup>\n\n    <ButtonGroup class=\"row\">\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"textAttrs.bold\"\n        v-tooltip=\"'Bold'\"\n        @click=\"updateTextAttrs({ bold: !textAttrs.bold })\"\n        ><IconTextBold\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"textAttrs.em\"\n        v-tooltip=\"'italics'\"\n        @click=\"updateTextAttrs({ em: !textAttrs.em })\"\n        ><IconTextItalic\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"textAttrs.underline\"\n        v-tooltip=\"'Underline'\"\n        @click=\"updateTextAttrs({ underline: !textAttrs.underline })\"\n        ><IconTextUnderline\n      /></CheckboxButton>\n      <CheckboxButton\n        style=\"flex: 1\"\n        :checked=\"textAttrs.strikethrough\"\n        v-tooltip=\"'strikethrough'\"\n        @click=\"updateTextAttrs({ strikethrough: !textAttrs.strikethrough })\"\n        ><IconStrikethrough\n      /></CheckboxButton>\n    </ButtonGroup>\n\n    <RadioGroup\n      class=\"row\"\n      button-style=\"solid\"\n      :value=\"textAttrs.align\"\n      @update:value=\"value => updateTextAttrs({ align: value as 'left' | 'center' | 'right' })\"\n    >\n      <RadioButton value=\"left\" v-tooltip=\"'Left-aligned'\" style=\"flex: 1\"\n        ><IconAlignTextLeft\n      /></RadioButton>\n      <RadioButton value=\"center\" v-tooltip=\"'center'\" style=\"flex: 1\"\n        ><IconAlignTextCenter\n      /></RadioButton>\n      <RadioButton value=\"right\" v-tooltip=\"'right-aligned'\" style=\"flex: 1\"\n        ><IconAlignTextRight\n      /></RadioButton>\n    </RadioGroup>\n\n    <Divider />\n\n    <ElementOutline :fixed=\"true\" />\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Rows:</div>\n      <div class=\"set-count\" style=\"width: 60%\">\n        <Button\n          class=\"btn\"\n          :disabled=\"rowCount <= 1\"\n          @click=\"setTableRow(rowCount - 1)\"\n          ><IconMinus\n        /></Button>\n        <div class=\"count-text\">{{ rowCount }}</div>\n        <Button\n          class=\"btn\"\n          :disabled=\"rowCount >= 30\"\n          @click=\"setTableRow(rowCount + 1)\"\n          ><IconPlus\n        /></Button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Columns:</div>\n      <div class=\"set-count\" style=\"width: 60%\">\n        <Button\n          class=\"btn\"\n          :disabled=\"colCount <= 1\"\n          @click=\"setTableCol(colCount - 1)\"\n          ><IconMinus\n        /></Button>\n        <div class=\"count-text\">{{ colCount }}</div>\n        <Button\n          class=\"btn\"\n          :disabled=\"colCount >= 30\"\n          @click=\"setTableCol(colCount + 1)\"\n          ><IconPlus\n        /></Button>\n      </div>\n    </div>\n\n    <Divider />\n\n    <div class=\"row theme-switch\">\n      <div style=\"width: 40%\">Enable topic table:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"hasTheme\"\n          @update:value=\"(value) => toggleTheme(value)\"\n        />\n      </div>\n    </div>\n\n    <template v-if=\"theme\">\n      <div class=\"row\">\n        <Checkbox\n          @update:value=\"(value) => updateTheme({ rowHeader: value })\"\n          :value=\"theme.rowHeader\"\n          style=\"flex: 1\"\n          >title line</Checkbox\n        >\n        <Checkbox\n          @update:value=\"(value) => updateTheme({ rowFooter: value })\"\n          :value=\"theme.rowFooter\"\n          style=\"flex: 1\"\n          >summary row</Checkbox\n        >\n      </div>\n      <div class=\"row\">\n        <Checkbox\n          @update:value=\"(value) => updateTheme({ colHeader: value })\"\n          :value=\"theme.colHeader\"\n          style=\"flex: 1\"\n          >first row</Checkbox\n        >\n        <Checkbox\n          @update:value=\"(value) => updateTheme({ colFooter: value })\"\n          :value=\"theme.colFooter\"\n          style=\"flex: 1\"\n          >last row</Checkbox\n        >\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Theme color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"theme.color\"\n              @update:modelValue=\"(value) => updateTheme({ color: value })\"\n            />\n          </template>\n          <ColorButton :color=\"theme.color\" />\n        </Popover>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type {\n  PPTTableElement,\n  TableCell,\n  TableCellStyle,\n  TableTheme,\n} from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Switch from '@/components/Switch.vue'\nimport Checkbox from '@/components/Checkbox.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst {\n  handleElement,\n  handleElementId,\n  selectedTableCells: selectedCells,\n  availableFonts,\n} = storeToRefs(useMainStore())\nconst themeColor = computed(() => slidesStore.theme.themeColor)\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n]\n\nconst textAttrs = ref({\n  bold: false,\n  em: false,\n  underline: false,\n  strikethrough: false,\n  color: '#000',\n  backcolor: '',\n  fontsize: '12px',\n  fontname: 'Microsoft Yahei',\n  align: 'left',\n})\n\nconst theme = ref<TableTheme>()\nconst hasTheme = ref(false)\nconst rowCount = ref(0)\nconst colCount = ref(0)\nconst minRowCount = ref(0)\nconst minColCount = ref(0)\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value || handleElement.value.type !== 'table') return\n\n    theme.value = handleElement.value.theme\n    hasTheme.value = !!theme.value\n\n    rowCount.value = handleElement.value.data.length\n    colCount.value = handleElement.value.data[0].length\n\n    minRowCount.value = handleElement.value.data.length\n    minColCount.value = handleElement.value.data[0].length\n  },\n  { deep: true, immediate: true }\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateTextAttrState = () => {\n  if (!handleElement.value || handleElement.value.type !== 'table') return\n\n  let rowIndex = 0\n  let colIndex = 0\n  if (selectedCells.value.length) {\n    const selectedCell = selectedCells.value[0]\n    rowIndex = +selectedCell.split('_')[0]\n    colIndex = +selectedCell.split('_')[1]\n  }\n  const style = handleElement.value.data[rowIndex][colIndex].style\n\n  if (!style) {\n    textAttrs.value = {\n      bold: false,\n      em: false,\n      underline: false,\n      strikethrough: false,\n      color: '#000',\n      backcolor: '',\n      fontsize: '12px',\n      fontname: 'Microsoft Yahei',\n      align: 'left',\n    }\n  } else {\n    textAttrs.value = {\n      bold: !!style.bold,\n      em: !!style.em,\n      underline: !!style.underline,\n      strikethrough: !!style.strikethrough,\n      color: style.color || '#000',\n      backcolor: style.backcolor || '',\n      fontsize: style.fontsize || '12px',\n      fontname: style.fontname || 'Microsoft Yahei',\n      align: style.align || 'left',\n    }\n  }\n}\n\nonMounted(() => {\n  if (selectedCells.value.length) updateTextAttrState()\n})\n\nwatch(selectedCells, updateTextAttrState)\n\nconst updateElement = (props: Partial<PPTTableElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateTextAttrs = (textAttrProp: Partial<TableCellStyle>) => {\n  const _handleElement = handleElement.value as PPTTableElement\n\n  const data: TableCell[][] = JSON.parse(JSON.stringify(_handleElement.data))\n\n  for (let i = 0; i < data.length; i++) {\n    for (let j = 0; j < data[i].length; j++) {\n      if (\n        !selectedCells.value.length ||\n        selectedCells.value.includes(`${i}_${j}`)\n      ) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, ...textAttrProp }\n      }\n    }\n  }\n  updateElement({ data })\n  updateTextAttrState()\n}\n\n// \nconst updateTheme = (themeProp: Partial<TableTheme>) => {\n  if (!theme.value) return\n  const _theme = { ...theme.value, ...themeProp }\n  updateElement({ theme: _theme })\n}\n\n// /\nconst toggleTheme = (checked: boolean) => {\n  if (checked) {\n    const props = {\n      theme: {\n        color: themeColor.value,\n        rowHeader: true,\n        rowFooter: false,\n        colHeader: false,\n        colFooter: false,\n      },\n    }\n    updateElement(props)\n  } else {\n    slidesStore.removeElementProps({\n      id: handleElementId.value,\n      propName: 'theme',\n    })\n    addHistorySnapshot()\n  }\n}\n\n// \nconst setTableRow = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const rowCount = _handleElement.data.length\n\n  if (value > rowCount) {\n    const rowCells: TableCell[] = new Array(colCount.value).fill({\n      id: nanoid(10),\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n    })\n    const newTableCells: TableCell[][] = new Array(value - rowCount).fill(\n      rowCells\n    )\n\n    const tableCells: TableCell[][] = JSON.parse(\n      JSON.stringify(_handleElement.data)\n    )\n    tableCells.push(...newTableCells)\n\n    updateElement({ data: tableCells })\n  } else {\n    const tableCells: TableCell[][] = _handleElement.data.slice(0, value)\n    updateElement({ data: tableCells })\n  }\n}\n\n// \nconst setTableCol = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const colCount = _handleElement.data[0].length\n\n  let tableCells = _handleElement.data\n  let colSizeList = _handleElement.colWidths.map(\n    (item) => item * _handleElement.width\n  )\n\n  if (value > colCount) {\n    tableCells = tableCells.map((item) => {\n      const cells: TableCell[] = new Array(value - colCount).fill({\n        id: nanoid(10),\n        colspan: 1,\n        rowspan: 1,\n        text: '',\n      })\n      item.push(...cells)\n      return item\n    })\n\n    const newColSizeList: number[] = new Array(value - colCount).fill(100)\n    colSizeList.push(...newColSizeList)\n  } else {\n    tableCells = tableCells.map((item) => item.slice(0, value))\n    colSizeList = colSizeList.slice(0, value)\n  }\n\n  const width = colSizeList.reduce((a, b) => a + b)\n  const colWidths = colSizeList.map((item) => item / width)\n\n  const props = {\n    width,\n    data: tableCells,\n    colWidths,\n  }\n  updateElement(props)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.theme-switch {\n  margin-bottom: 18px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n.set-count {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .btn {\n    padding: 0 8px;\n  }\n\n  .count-text {\n    flex: 1;\n    text-align: center;\n    margin: 0 8px;\n  }\n}\n</style>\n","import script from \"./TableStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TableStylePanel.vue?vue&type=style&index=0&id=161b7c70&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-161b7c70\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4dbada7f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"latex-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Color:\", -1))\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Thickness:\", -1))\n\nimport { onUnmounted, ref, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTLatexElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LatexStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLatexElement = handleElement as Ref<PPTLatexElement>\n\nconst latexEditorVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLatex = (props: Partial<PPTLatexElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nconst updateLatexData = (data: {\n  path: string\n  latex: string\n  w: number\n  h: number\n}) => {\n  updateLatex({\n    path: data.path,\n    latex: data.latex,\n    width: data.w,\n    height: data.h,\n    viewBox: [data.w, data.h],\n  })\n}\n\nconst openLatexEditor = () => (latexEditorVisible.value = true)\n\nemitter.on(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Button, {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (latexEditorVisible.value = true))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Edit LaTeX\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleLatexElement).color,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = (value) => updateLatex({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleLatexElement).color\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _hoisted_6,\n      _createVNode(NumberInput, {\n        min: 1,\n        max: 3,\n        value: _unref(handleLatexElement).strokeWidth,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = (value) => updateLatex({ strokeWidth: value })),\n        style: {\"width\":\"60%\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(Modal, {\n      visible: latexEditorVisible.value,\n      \"onUpdate:visible\": _cache[5] || (_cache[5] = ($event: any) => ((latexEditorVisible).value = $event)),\n      width: 880\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LaTeXEditor, {\n          value: _unref(handleLatexElement).latex,\n          onClose: _cache[3] || (_cache[3] = ($event: any) => (latexEditorVisible.value = false)),\n          onUpdate: _cache[4] || (_cache[4] = \n          (data) => {\n            updateLatexData(data)\n            latexEditorVisible.value = false\n          }\n        )\n        }, null, 8, [\"value\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"latex-style-panel\">\n    <div class=\"row\">\n      <Button style=\"flex: 1\" @click=\"latexEditorVisible = true\"\n        >Edit LaTeX</Button\n      >\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"handleLatexElement.color\"\n            @update:modelValue=\"(value) => updateLatex({ color: value })\"\n          />\n        </template>\n        <ColorButton :color=\"handleLatexElement.color\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Thickness:</div>\n      <NumberInput\n        :min=\"1\"\n        :max=\"3\"\n        :value=\"handleLatexElement.strokeWidth\"\n        @update:value=\"(value) => updateLatex({ strokeWidth: value })\"\n        style=\"width: 60%\"\n      />\n    </div>\n\n    <Modal v-model:visible=\"latexEditorVisible\" :width=\"880\">\n      <LaTeXEditor\n        :value=\"handleLatexElement.latex\"\n        @close=\"latexEditorVisible = false\"\n        @update=\"\n          (data) => {\n            updateLatexData(data)\n            latexEditorVisible = false\n          }\n        \"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onUnmounted, ref, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTLatexElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Modal from '@/components/Modal.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLatexElement = handleElement as Ref<PPTLatexElement>\n\nconst latexEditorVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLatex = (props: Partial<PPTLatexElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nconst updateLatexData = (data: {\n  path: string\n  latex: string\n  w: number\n  h: number\n}) => {\n  updateLatex({\n    path: data.path,\n    latex: data.latex,\n    width: data.w,\n    height: data.h,\n    viewBox: [data.w, data.h],\n  })\n}\n\nconst openLatexEditor = () => (latexEditorVisible.value = true)\n\nemitter.on(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n</style>\n","import script from \"./LatexStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LatexStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LatexStylePanel.vue?vue&type=style&index=0&id=4dbada7f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4dbada7f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7b05f38c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"video-style-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Video preview\", -1))\nconst _hoisted_3 = { class: \"background-image-wrapper\" }\nconst _hoisted_4 = { class: \"background-image\" }\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = { class: \"row switch-row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Autoplay:\", -1))\nconst _hoisted_8 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\n\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport FileInput from '@/components/FileInput.vue'\nimport Button from '@/components/Button.vue'\nimport Switch from '@/components/Switch.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'VideoStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleVideoElement = handleElement as Ref<PPTVideoElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateVideo = (props: Partial<PPTVideoElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\n// \nconst setVideoPoster = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => updateVideo({ poster: dataURL }))\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(FileInput, {\n        onChange: _cache[0] || (_cache[0] = (files) => setVideoPoster(files))\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"div\", {\n              class: \"content\",\n              style: _normalizeStyle({\n              backgroundImage: _unref(handleVideoElement).poster\n                ? `url(${_unref(handleVideoElement).poster})`\n                : '',\n            })\n            }, [\n              _createVNode(_component_IconPlus)\n            ], 4)\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createVNode(Button, {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (updateVideo({ poster: '' })))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Reset\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(Switch, {\n          value: _unref(handleVideoElement).autoplay,\n          \"onUpdate:value\": _cache[2] || (_cache[2] = (value) => updateVideo({ autoplay: value }))\n        }, null, 8, [\"value\"])\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"video-style-panel\">\n    <div class=\"title\">Video preview</div>\n    <div class=\"background-image-wrapper\">\n      <FileInput @change=\"(files) => setVideoPoster(files)\">\n        <div class=\"background-image\">\n          <div\n            class=\"content\"\n            :style=\"{\n              backgroundImage: handleVideoElement.poster\n                ? `url(${handleVideoElement.poster})`\n                : '',\n            }\"\n          >\n            <IconPlus />\n          </div>\n        </div>\n      </FileInput>\n    </div>\n    <div class=\"row\">\n      <Button style=\"flex: 1\" @click=\"updateVideo({ poster: '' })\"\n        >Reset</Button\n      >\n    </div>\n\n    <div class=\"row switch-row\">\n      <div style=\"width: 40%\">Autoplay:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"handleVideoElement.autoplay\"\n          @update:value=\"(value) => updateVideo({ autoplay: value })\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport FileInput from '@/components/FileInput.vue'\nimport Button from '@/components/Button.vue'\nimport Switch from '@/components/Switch.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleVideoElement = handleElement as Ref<PPTVideoElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateVideo = (props: Partial<PPTVideoElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\n// \nconst setVideoPoster = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) => updateVideo({ poster: dataURL }))\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.title {\n  margin-bottom: 10px;\n}\n.background-image-wrapper {\n  margin-bottom: 10px;\n}\n.background-image {\n  height: 0;\n  padding-bottom: 56.25%;\n  border: 1px dashed $borderColor;\n  border-radius: $borderRadius;\n  position: relative;\n  transition: all $transitionDelay;\n\n  &:hover {\n    border-color: $themeColor;\n    color: $themeColor;\n  }\n\n  .content {\n    @include absolute-0();\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n    cursor: pointer;\n  }\n}\n.switch-row {\n  height: 32px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n</style>\n","import script from \"./VideoStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./VideoStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./VideoStylePanel.vue?vue&type=style&index=0&id=7b05f38c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b05f38c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-47a2efee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"audio-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Icon color:\", -1))\nconst _hoisted_4 = { class: \"row switch-row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Autoplay:\", -1))\nconst _hoisted_6 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\nconst _hoisted_7 = { class: \"row switch-row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Loop:\", -1))\nconst _hoisted_9 = {\n  class: \"switch-wrapper\",\n  style: {\"width\":\"60%\"}\n}\n\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AudioStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleAudioElement = handleElement as Ref<PPTAudioElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateAudio = (props: Partial<PPTAudioElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleAudioElement).color,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = (value) => updateAudio({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleAudioElement).color\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(Switch, {\n          value: _unref(handleAudioElement).autoplay,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = (value) => updateAudio({ autoplay: value }))\n        }, null, 8, [\"value\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _hoisted_8,\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(Switch, {\n          value: _unref(handleAudioElement).loop,\n          \"onUpdate:value\": _cache[2] || (_cache[2] = (value) => updateAudio({ loop: value }))\n        }, null, 8, [\"value\"])\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"audio-style-panel\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Icon color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"handleAudioElement.color\"\n            @update:modelValue=\"(value) => updateAudio({ color: value })\"\n          />\n        </template>\n        <ColorButton :color=\"handleAudioElement.color\" />\n      </Popover>\n    </div>\n\n    <div class=\"row switch-row\">\n      <div style=\"width: 40%\">Autoplay:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"handleAudioElement.autoplay\"\n          @update:value=\"(value) => updateAudio({ autoplay: value })\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row switch-row\">\n      <div style=\"width: 40%\">Loop:</div>\n      <div class=\"switch-wrapper\" style=\"width: 60%\">\n        <Switch\n          :value=\"handleAudioElement.loop\"\n          @update:value=\"(value) => updateAudio({ loop: value })\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleAudioElement = handleElement as Ref<PPTAudioElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateAudio = (props: Partial<PPTAudioElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.switch-row {\n  height: 32px;\n}\n.switch-wrapper {\n  text-align: right;\n}\n</style>\n","import script from \"./AudioStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AudioStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AudioStylePanel.vue?vue&type=style&index=0&id=47a2efee&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47a2efee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, unref as _unref, resolveComponent as _resolveComponent, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0bf7a6b6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"multi-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Fill color:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border style:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border color:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border thickness:\", -1))\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, PPTElementOutline, TableCell } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { richTextAttrs, availableFonts, activeElementList } = storeToRefs(\n  useMainStore()\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n  '36px',\n  '40px',\n  '44px',\n  '48px',\n  '54px',\n  '60px',\n  '66px',\n  '72px',\n  '76px',\n  '80px',\n  '88px',\n  '96px',\n  '104px',\n  '112px',\n  '120px',\n]\n\nconst fill = ref('#fff')\nconst outline = ref<PPTElementOutline>({\n  width: 0,\n  color: '#fff',\n  style: 'solid',\n})\n\n// \nconst updateFill = (value: string) => {\n  for (const el of activeElementList.value) {\n    if (el.type === 'text' || el.type === 'shape' || el.type === 'chart')\n      updateElement(el.id, { fill: value })\n\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, backcolor: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n\n    if (el.type === 'audio') updateElement(el.id, { color: value })\n  }\n  fill.value = value\n}\n\n// /\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n  for (const el of activeElementList.value) {\n    if (\n      el.type === 'text' ||\n      el.type === 'image' ||\n      el.type === 'shape' ||\n      el.type === 'table' ||\n      el.type === 'chart'\n    ) {\n      const outline = el.outline || { width: 2, color: '#000', style: 'solid' }\n      const props = { outline: { ...outline, ...outlineProps } }\n      updateElement(el.id, props)\n    }\n\n    if (el.type === 'line') updateElement(el.id, outlineProps)\n  }\n  outline.value = { ...outline.value, ...outlineProps }\n}\n\n// \nconst updateFontStyle = (command: string, value: string) => {\n  for (const el of activeElementList.value) {\n    if (el.type === 'text' || (el.type === 'shape' && el.text?.content)) {\n      emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, {\n        target: el.id,\n        action: { command, value },\n      })\n    }\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, [command]: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n    if (el.type === 'latex' && command === 'color') {\n      updateElement(el.id, { color: value })\n    }\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = (value) => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, { color: fill.value }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: outline.value.style || '',\n        \"onUpdate:value\": _cache[1] || (_cache[1] = value => updateOutline({ style: value as 'solid' | 'dashed' })),\n        options: [\n          { label: 'solid border', value: 'solid' },\n          { label: 'dashed border', value: 'dashed' },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: outline.value.color,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = (value) => updateOutline({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: outline.value.color || '#000'\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(NumberInput, {\n        value: outline.value.width || 0,\n        \"onUpdate:value\": _cache[3] || (_cache[3] = (value) => updateOutline({ width: value })),\n        style: {\"width\":\"60%\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(Divider),\n    _createVNode(SelectGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Select, {\n          style: {\"width\":\"60%\"},\n          value: _unref(richTextAttrs).fontname,\n          \"onUpdate:value\": _cache[4] || (_cache[4] = value => updateFontStyle('fontname', value as string)),\n          options: [..._unref(availableFonts), ..._unref(WEB_FONTS)]\n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"]),\n        _createVNode(Select, {\n          style: {\"width\":\"40%\"},\n          value: _unref(richTextAttrs).fontsize,\n          \"onUpdate:value\": _cache[5] || (_cache[5] = value => updateFontStyle('fontsize', value as string)),\n          options: \n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          _: 1\n        }, 8, [\"value\", \"options\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, {\n      class: \"row\",\n      passive: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"30%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).color,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = (value) => updateFontStyle('color', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              first: \"\",\n              color: _unref(richTextAttrs).color\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconText)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'text color']\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(Popover, {\n          trigger: \"click\",\n          style: {\"width\":\"30%\"}\n        }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).backcolor,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = (value) => updateFontStyle('backcolor', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createBlock(TextColorButton, {\n              color: _unref(richTextAttrs).backcolor\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconHighLight)\n              ]),\n              _: 1\n            }, 8, [\"color\"])), [\n              [_directive_tooltip, 'text highlight']\n            ])\n          ]),\n          _: 1\n        }),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          class: \"font-size-btn\",\n          style: {\"width\":\"20%\"},\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (updateFontStyle('fontsize-add', '2')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFontSize),\n            _createTextVNode(\"+\")\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Increase font size']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          last: \"\",\n          class: \"font-size-btn\",\n          style: {\"width\":\"20%\"},\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (updateFontStyle('fontsize-reduce', '2')))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFontSize),\n            _createTextVNode(\"-\")\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Reduce font size']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(RadioGroup, {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: _unref(richTextAttrs).align,\n      \"onUpdate:value\": _cache[10] || (_cache[10] = (value) => updateFontStyle('align', value))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"left\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextLeft)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Left-aligned']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"center\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextCenter)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'center']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(RadioButton, {\n          value: \"right\",\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTextRight)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'right-aligned']\n        ])\n      ]),\n      _: 1\n    }, 8, [\"value\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"multi-style-panel\">\n    <div class=\"row\">\n      <div style=\"width: 40%\">Fill color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"fill\"\n            @update:modelValue=\"(value) => updateFill(value)\"\n          />\n        </template>\n        <ColorButton :color=\"fill\" />\n      </Popover>\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Border style:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"outline.style || ''\"\n        @update:value=\"value => updateOutline({ style: value as 'solid' | 'dashed' })\"\n        :options=\"[\n          { label: 'solid border', value: 'solid' },\n          { label: 'dashed border', value: 'dashed' },\n        ]\"\n      />\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Border color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"outline.color\"\n            @update:modelValue=\"(value) => updateOutline({ color: value })\"\n          />\n        </template>\n        <ColorButton :color=\"outline.color || '#000'\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Border thickness:</div>\n      <NumberInput\n        :value=\"outline.width || 0\"\n        @update:value=\"(value) => updateOutline({ width: value })\"\n        style=\"width: 60%\"\n      />\n    </div>\n\n    <Divider />\n\n    <SelectGroup class=\"row\">\n      <Select\n        style=\"width: 60%\"\n        :value=\"richTextAttrs.fontname\"\n        @update:value=\"value => updateFontStyle('fontname', value as string)\"\n        :options=\"[...availableFonts, ...WEB_FONTS]\"\n      >\n        <template #icon>\n          <IconFontSize />\n        </template>\n      </Select>\n      <Select\n        style=\"width: 40%\"\n        :value=\"richTextAttrs.fontsize\"\n        @update:value=\"value => updateFontStyle('fontsize', value as string)\"\n        :options=\"\n          fontSizeOptions.map((item) => ({\n            label: item,\n            value: item,\n          }))\n        \"\n      >\n        <template #icon>\n          <IconAddText />\n        </template>\n      </Select>\n    </SelectGroup>\n    <ButtonGroup class=\"row\" passive>\n      <Popover trigger=\"click\" style=\"width: 30%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"richTextAttrs.color\"\n            @update:modelValue=\"(value) => updateFontStyle('color', value)\"\n          />\n        </template>\n        <TextColorButton\n          first\n          :color=\"richTextAttrs.color\"\n          v-tooltip=\"'text color'\"\n        >\n          <IconText />\n        </TextColorButton>\n      </Popover>\n      <Popover trigger=\"click\" style=\"width: 30%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"richTextAttrs.backcolor\"\n            @update:modelValue=\"(value) => updateFontStyle('backcolor', value)\"\n          />\n        </template>\n        <TextColorButton\n          :color=\"richTextAttrs.backcolor\"\n          v-tooltip=\"'text highlight'\"\n        >\n          <IconHighLight />\n        </TextColorButton>\n      </Popover>\n      <Button\n        class=\"font-size-btn\"\n        style=\"width: 20%\"\n        v-tooltip=\"'Increase font size'\"\n        @click=\"updateFontStyle('fontsize-add', '2')\"\n        ><IconFontSize />+</Button\n      >\n      <Button\n        last\n        class=\"font-size-btn\"\n        style=\"width: 20%\"\n        v-tooltip=\"'Reduce font size'\"\n        @click=\"updateFontStyle('fontsize-reduce', '2')\"\n        ><IconFontSize />-</Button\n      >\n    </ButtonGroup>\n    <RadioGroup\n      class=\"row\"\n      button-style=\"solid\"\n      :value=\"richTextAttrs.align\"\n      @update:value=\"(value) => updateFontStyle('align', value)\"\n    >\n      <RadioButton value=\"left\" style=\"flex: 1\" v-tooltip=\"'Left-aligned'\"\n        ><IconAlignTextLeft\n      /></RadioButton>\n      <RadioButton value=\"center\" style=\"flex: 1\" v-tooltip=\"'center'\"\n        ><IconAlignTextCenter\n      /></RadioButton>\n      <RadioButton value=\"right\" style=\"flex: 1\" v-tooltip=\"'right-aligned'\"\n        ><IconAlignTextRight\n      /></RadioButton>\n    </RadioGroup>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, PPTElementOutline, TableCell } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport SelectGroup from '@/components/SelectGroup.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst slidesStore = useSlidesStore()\nconst { richTextAttrs, availableFonts, activeElementList } = storeToRefs(\n  useMainStore()\n)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst fontSizeOptions = [\n  '12px',\n  '14px',\n  '16px',\n  '18px',\n  '20px',\n  '22px',\n  '24px',\n  '28px',\n  '32px',\n  '36px',\n  '40px',\n  '44px',\n  '48px',\n  '54px',\n  '60px',\n  '66px',\n  '72px',\n  '76px',\n  '80px',\n  '88px',\n  '96px',\n  '104px',\n  '112px',\n  '120px',\n]\n\nconst fill = ref('#fff')\nconst outline = ref<PPTElementOutline>({\n  width: 0,\n  color: '#fff',\n  style: 'solid',\n})\n\n// \nconst updateFill = (value: string) => {\n  for (const el of activeElementList.value) {\n    if (el.type === 'text' || el.type === 'shape' || el.type === 'chart')\n      updateElement(el.id, { fill: value })\n\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, backcolor: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n\n    if (el.type === 'audio') updateElement(el.id, { color: value })\n  }\n  fill.value = value\n}\n\n// /\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n  for (const el of activeElementList.value) {\n    if (\n      el.type === 'text' ||\n      el.type === 'image' ||\n      el.type === 'shape' ||\n      el.type === 'table' ||\n      el.type === 'chart'\n    ) {\n      const outline = el.outline || { width: 2, color: '#000', style: 'solid' }\n      const props = { outline: { ...outline, ...outlineProps } }\n      updateElement(el.id, props)\n    }\n\n    if (el.type === 'line') updateElement(el.id, outlineProps)\n  }\n  outline.value = { ...outline.value, ...outlineProps }\n}\n\n// \nconst updateFontStyle = (command: string, value: string) => {\n  for (const el of activeElementList.value) {\n    if (el.type === 'text' || (el.type === 'shape' && el.text?.content)) {\n      emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, {\n        target: el.id,\n        action: { command, value },\n      })\n    }\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, [command]: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n    if (el.type === 'latex' && command === 'color') {\n      updateElement(el.id, { color: value })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.font-size-btn {\n  padding: 0;\n}\n</style>\n","import script from \"./MultiStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiStylePanel.vue?vue&type=style&index=0&id=0bf7a6b6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0bf7a6b6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"element-style-panel\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ElementTypes } from '@/types/slides'\n\nimport TextStylePanel from './TextStylePanel.vue'\nimport ImageStylePanel from './ImageStylePanel.vue'\nimport ShapeStylePanel from './ShapeStylePanel.vue'\nimport LineStylePanel from './LineStylePanel.vue'\nimport ChartStylePanel from './ChartStylePanel/index.vue'\nimport TableStylePanel from './TableStylePanel.vue'\nimport LatexStylePanel from './LatexStylePanel.vue'\nimport VideoStylePanel from './VideoStylePanel.vue'\nimport AudioStylePanel from './AudioStylePanel.vue'\nimport MultiStylePanel from './MultiStylePanel.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst panelMap = {\n  [ElementTypes.TEXT]: TextStylePanel,\n  [ElementTypes.IMAGE]: ImageStylePanel,\n  [ElementTypes.SHAPE]: ShapeStylePanel,\n  [ElementTypes.LINE]: LineStylePanel,\n  [ElementTypes.CHART]: ChartStylePanel,\n  [ElementTypes.TABLE]: TableStylePanel,\n  [ElementTypes.LATEX]: LatexStylePanel,\n  [ElementTypes.VIDEO]: VideoStylePanel,\n  [ElementTypes.AUDIO]: AudioStylePanel,\n}\n\nconst { activeElementIdList, activeElementList, handleElement, activeGroupElementId } = storeToRefs(useMainStore())\n\nconst currentPanelComponent = computed<unknown>(() => {\n  if (activeElementIdList.value.length > 1) {\n    if (!activeGroupElementId.value) return MultiStylePanel\n\n    const activeGroupElement = activeElementList.value.find(item => item.id === activeGroupElementId.value)\n    return activeGroupElement ? (panelMap[activeGroupElement.type] || null) : null\n  }\n\n  return handleElement.value ? (panelMap[handleElement.value.type] || null) : null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentPanelComponent.value)))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-style-panel\">\n    <component :is=\"currentPanelComponent\"></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ElementTypes } from '@/types/slides'\n\nimport TextStylePanel from './TextStylePanel.vue'\nimport ImageStylePanel from './ImageStylePanel.vue'\nimport ShapeStylePanel from './ShapeStylePanel.vue'\nimport LineStylePanel from './LineStylePanel.vue'\nimport ChartStylePanel from './ChartStylePanel/index.vue'\nimport TableStylePanel from './TableStylePanel.vue'\nimport LatexStylePanel from './LatexStylePanel.vue'\nimport VideoStylePanel from './VideoStylePanel.vue'\nimport AudioStylePanel from './AudioStylePanel.vue'\nimport MultiStylePanel from './MultiStylePanel.vue'\n\nconst panelMap = {\n  [ElementTypes.TEXT]: TextStylePanel,\n  [ElementTypes.IMAGE]: ImageStylePanel,\n  [ElementTypes.SHAPE]: ShapeStylePanel,\n  [ElementTypes.LINE]: LineStylePanel,\n  [ElementTypes.CHART]: ChartStylePanel,\n  [ElementTypes.TABLE]: TableStylePanel,\n  [ElementTypes.LATEX]: LatexStylePanel,\n  [ElementTypes.VIDEO]: VideoStylePanel,\n  [ElementTypes.AUDIO]: AudioStylePanel,\n}\n\nconst { activeElementIdList, activeElementList, handleElement, activeGroupElementId } = storeToRefs(useMainStore())\n\nconst currentPanelComponent = computed<unknown>(() => {\n  if (activeElementIdList.value.length > 1) {\n    if (!activeGroupElementId.value) return MultiStylePanel\n\n    const activeGroupElement = activeElementList.value.find(item => item.id === activeGroupElementId.value)\n    return activeGroupElement ? (panelMap[activeGroupElement.type] || null) : null\n  }\n\n  return handleElement.value ? (panelMap[handleElement.value.type] || null) : null\n})\n</script>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5cb39a9e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-positopn-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Level:\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Alignment:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"10%\"} }, null, -1))\nconst _hoisted_6 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  style: {\"width\":\"10%\"}\n}\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"7%\"} }, null, -1))\n\nimport { computed, ref, watch } from 'vue'\nimport { round } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport { MIN_SIZE } from '@/configs/element'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementPositionPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst left = ref(0)\nconst top = ref(0)\nconst width = ref(0)\nconst height = ref(0)\nconst rotate = ref(0)\nconst fixedRatio = ref(false)\n\nconst minSize = computed(() => {\n  if (!handleElement.value) return 20\n  return MIN_SIZE[handleElement.value.type] || 20\n})\n\nconst isHorizontalText = computed(() => {\n  return handleElement.value?.type === 'text' && !handleElement.value.vertical\n})\nconst isVerticalText = computed(() => {\n  return handleElement.value?.type === 'text' && handleElement.value.vertical\n})\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n\n    left.value = round(handleElement.value.left, 1)\n    top.value = round(handleElement.value.top, 1)\n\n    fixedRatio.value =\n      'fixedRatio' in handleElement.value && !!handleElement.value.fixedRatio\n\n    if (handleElement.value.type !== 'line') {\n      width.value = round(handleElement.value.width, 1)\n      height.value = round(handleElement.value.height, 1)\n      rotate.value =\n        'rotate' in handleElement.value &&\n        handleElement.value.rotate !== undefined\n          ? round(handleElement.value.rotate, 1)\n          : 0\n    }\n  },\n  { deep: true, immediate: true }\n)\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateLeft = (value: number) => {\n  const props = { left: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateTop = (value: number) => {\n  const props = { top: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \n// \nconst updateShapePathData = (width: number, height: number) => {\n  if (\n    handleElement.value &&\n    handleElement.value.type === 'shape' &&\n    'pathFormula' in handleElement.value &&\n    handleElement.value.pathFormula\n  ) {\n    const pathFormula = SHAPE_PATH_FORMULAS[handleElement.value.pathFormula]\n\n    let path = ''\n    if ('editable' in pathFormula)\n      path = pathFormula.formula(width, height, handleElement.value.keypoint!)\n    else path = pathFormula.formula(width, height)\n\n    return {\n      viewBox: [width, height],\n      path,\n    }\n  }\n  return null\n}\nconst updateWidth = (value: number) => {\n  let props = { width: value }\n  const shapePathData = updateShapePathData(value, height.value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateHeight = (value: number) => {\n  let props = { height: value }\n  const shapePathData = updateShapePathData(width.value, value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateRotate = (value: number) => {\n  const props = { rotate: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateFixedRatio = (value: boolean) => {\n  const props = { fixedRatio: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 45\nconst updateRotate45 = (command: '+' | '-') => {\n  let _rotate = Math.floor(rotate.value / 45) * 45\n  if (command === '+') _rotate = _rotate + 45\n  else if (command === '-') _rotate = _rotate - 45\n\n  if (_rotate < -180) _rotate = -180\n  if (_rotate > 180) _rotate = 180\n\n  const props = { rotate: _rotate }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconSendToBack = _resolveComponent(\"IconSendToBack\")!\n  const _component_IconBringToFrontOne = _resolveComponent(\"IconBringToFrontOne\")!\n  const _component_IconBringToFront = _resolveComponent(\"IconBringToFront\")!\n  const _component_IconSentToBack = _resolveComponent(\"IconSentToBack\")!\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n  const _component_IconLock = _resolveComponent(\"IconLock\")!\n  const _component_IconUnlock = _resolveComponent(\"IconUnlock\")!\n  const _component_IconRotate = _resolveComponent(\"IconRotate\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).TOP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconSendToBack, { class: \"btn-icon\" }),\n            _createTextVNode(\" pin to top\")\n          ]),\n          _: 1\n        }),\n        _createVNode(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).BOTTOM)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconBringToFrontOne, { class: \"btn-icon\" }),\n            _createTextVNode(\" pin to bottom\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconBringToFront, { class: \"btn-icon\" }),\n            _createTextVNode(\" Bring to front\")\n          ]),\n          _: 1\n        }),\n        _createVNode(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconSentToBack, { class: \"btn-icon\" }),\n            _createTextVNode(\" Send to back\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    _hoisted_3,\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).LEFT)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignLeft)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'left aligned']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).HORIZONTAL)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignVertically)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Center horizontally']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).RIGHT)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignRight)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align right']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).TOP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTop)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align top']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).VERTICAL)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignHorizontally)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Center vertically']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).BOTTOM)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignBottom)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align bottom']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(NumberInput, {\n        step: 5,\n        value: left.value,\n        \"onUpdate:value\": _cache[10] || (_cache[10] = (value) => updateLeft(value)),\n        style: {\"width\":\"45%\"}\n      }, {\n        prefix: _withCtx(() => [\n          _createTextVNode(\" level: \")\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _hoisted_5,\n      _createVNode(NumberInput, {\n        step: 5,\n        value: top.value,\n        \"onUpdate:value\": _cache[11] || (_cache[11] = (value) => updateTop(value)),\n        style: {\"width\":\"45%\"}\n      }, {\n        prefix: _withCtx(() => [\n          _createTextVNode(\" vertical: \")\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    (_unref(handleElement)!.type !== 'line')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(NumberInput, {\n            min: minSize.value,\n            max: 1500,\n            step: 5,\n            disabled: isVerticalText.value,\n            value: width.value,\n            \"onUpdate:value\": _cache[12] || (_cache[12] = (value) => updateWidth(value)),\n            style: {\"width\":\"45%\"}\n          }, {\n            prefix: _withCtx(() => [\n              _createTextVNode(\" width: \")\n            ]),\n            _: 1\n          }, 8, [\"min\", \"disabled\", \"value\"]),\n          (['image', 'shape', 'audio'].includes(_unref(handleElement)!.type))\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                (fixedRatio.value)\n                  ? _withDirectives((_openBlock(), _createBlock(_component_IconLock, {\n                      key: 0,\n                      style: {\"width\":\"10%\"},\n                      class: \"icon-btn\",\n                      onClick: _cache[13] || (_cache[13] = ($event: any) => (updateFixedRatio(false)))\n                    }, null, 512)), [\n                      [_directive_tooltip, 'Unlock aspect ratio']\n                    ])\n                  : _withDirectives((_openBlock(), _createBlock(_component_IconUnlock, {\n                      key: 1,\n                      style: {\"width\":\"10%\"},\n                      class: \"icon-btn\",\n                      onClick: _cache[14] || (_cache[14] = ($event: any) => (updateFixedRatio(true)))\n                    }, null, 512)), [\n                      [_directive_tooltip, 'aspect ratio lock']\n                    ])\n              ], 64))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_7)),\n          _createVNode(NumberInput, {\n            min: minSize.value,\n            max: 800,\n            step: 5,\n            disabled: isHorizontalText.value || _unref(handleElement)!.type === 'table',\n            value: height.value,\n            \"onUpdate:value\": _cache[15] || (_cache[15] = (value) => updateHeight(value)),\n            style: {\"width\":\"45%\"}\n          }, {\n            prefix: _withCtx(() => [\n              _createTextVNode(\" high: \")\n            ]),\n            _: 1\n          }, 8, [\"min\", \"disabled\", \"value\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!['line', 'video', 'audio'].includes(_unref(handleElement)!.type))\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(Divider),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(NumberInput, {\n              min: -180,\n              max: 180,\n              step: 5,\n              value: rotate.value,\n              \"onUpdate:value\": _cache[16] || (_cache[16] = (value) => updateRotate(value)),\n              style: {\"width\":\"45%\"}\n            }, {\n              prefix: _withCtx(() => [\n                _createTextVNode(\" Rotation: \")\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _hoisted_9,\n            _createElementVNode(\"div\", {\n              class: \"text-btn\",\n              onClick: _cache[17] || (_cache[17] = ($event: any) => (updateRotate45('-'))),\n              style: {\"width\":\"24%\"}\n            }, [\n              _createVNode(_component_IconRotate),\n              _createTextVNode(\" -45 \")\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"text-btn\",\n              onClick: _cache[18] || (_cache[18] = ($event: any) => (updateRotate45('+'))),\n              style: {\"width\":\"24%\"}\n            }, [\n              _createVNode(_component_IconRotate, {\n                style: _normalizeStyle({ transform: 'rotateY(180deg)' })\n              }, null, 8, [\"style\"]),\n              _createTextVNode(\" +45 \")\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-positopn-panel\">\n    <div class=\"title\">Level:</div>\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        @click=\"orderElement(handleElement!, ElementOrderCommands.TOP)\"\n        ><IconSendToBack class=\"btn-icon\" /> pin to top</Button\n      >\n      <Button\n        style=\"flex: 1\"\n        @click=\"orderElement(handleElement!, ElementOrderCommands.BOTTOM)\"\n        ><IconBringToFrontOne class=\"btn-icon\" /> pin to bottom</Button\n      >\n    </ButtonGroup>\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        @click=\"orderElement(handleElement!, ElementOrderCommands.UP)\"\n        ><IconBringToFront class=\"btn-icon\" /> Bring to front</Button\n      >\n      <Button\n        style=\"flex: 1\"\n        @click=\"orderElement(handleElement!, ElementOrderCommands.DOWN)\"\n        ><IconSentToBack class=\"btn-icon\" /> Send to back</Button\n      >\n    </ButtonGroup>\n\n    <Divider />\n\n    <div class=\"title\">Alignment:</div>\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'left aligned'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.LEFT)\"\n        ><IconAlignLeft\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Center horizontally'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.HORIZONTAL)\"\n        ><IconAlignVertically\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align right'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.RIGHT)\"\n        ><IconAlignRight\n      /></Button>\n    </ButtonGroup>\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align top'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.TOP)\"\n        ><IconAlignTop\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Center vertically'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.VERTICAL)\"\n        ><IconAlignHorizontally\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align bottom'\"\n        @click=\"alignElementToCanvas(ElementAlignCommands.BOTTOM)\"\n        ><IconAlignBottom\n      /></Button>\n    </ButtonGroup>\n\n    <Divider />\n\n    <div class=\"row\">\n      <NumberInput\n        :step=\"5\"\n        :value=\"left\"\n        @update:value=\"(value) => updateLeft(value)\"\n        style=\"width: 45%\"\n      >\n        <template #prefix> level: </template>\n      </NumberInput>\n      <div style=\"width: 10%\"></div>\n      <NumberInput\n        :step=\"5\"\n        :value=\"top\"\n        @update:value=\"(value) => updateTop(value)\"\n        style=\"width: 45%\"\n      >\n        <template #prefix> vertical: </template>\n      </NumberInput>\n    </div>\n\n    <template v-if=\"handleElement!.type !== 'line'\">\n      <div class=\"row\">\n        <NumberInput\n          :min=\"minSize\"\n          :max=\"1500\"\n          :step=\"5\"\n          :disabled=\"isVerticalText\"\n          :value=\"width\"\n          @update:value=\"(value) => updateWidth(value)\"\n          style=\"width: 45%\"\n        >\n          <template #prefix> width: </template>\n        </NumberInput>\n        <template\n          v-if=\"['image', 'shape', 'audio'].includes(handleElement!.type)\"\n        >\n          <IconLock\n            style=\"width: 10%\"\n            class=\"icon-btn\"\n            v-tooltip=\"'Unlock aspect ratio'\"\n            @click=\"updateFixedRatio(false)\"\n            v-if=\"fixedRatio\"\n          />\n          <IconUnlock\n            style=\"width: 10%\"\n            class=\"icon-btn\"\n            v-tooltip=\"'aspect ratio lock'\"\n            @click=\"updateFixedRatio(true)\"\n            v-else\n          />\n        </template>\n        <div style=\"width: 10%\" v-else></div>\n        <NumberInput\n          :min=\"minSize\"\n          :max=\"800\"\n          :step=\"5\"\n          :disabled=\"isHorizontalText || handleElement!.type === 'table'\"\n          :value=\"height\"\n          @update:value=\"(value) => updateHeight(value)\"\n          style=\"width: 45%\"\n        >\n          <template #prefix> high: </template>\n        </NumberInput>\n      </div>\n    </template>\n\n    <template v-if=\"!['line', 'video', 'audio'].includes(handleElement!.type)\">\n      <Divider />\n\n      <div class=\"row\">\n        <NumberInput\n          :min=\"-180\"\n          :max=\"180\"\n          :step=\"5\"\n          :value=\"rotate\"\n          @update:value=\"(value) => updateRotate(value)\"\n          style=\"width: 45%\"\n        >\n          <template #prefix> Rotation: </template>\n        </NumberInput>\n        <div style=\"width: 7%\"></div>\n        <div class=\"text-btn\" @click=\"updateRotate45('-')\" style=\"width: 24%\">\n          <IconRotate /> -45\n        </div>\n        <div class=\"text-btn\" @click=\"updateRotate45('+')\" style=\"width: 24%\">\n          <IconRotate :style=\"{ transform: 'rotateY(180deg)' }\" /> +45\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from 'vue'\nimport { round } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport { MIN_SIZE } from '@/configs/element'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst left = ref(0)\nconst top = ref(0)\nconst width = ref(0)\nconst height = ref(0)\nconst rotate = ref(0)\nconst fixedRatio = ref(false)\n\nconst minSize = computed(() => {\n  if (!handleElement.value) return 20\n  return MIN_SIZE[handleElement.value.type] || 20\n})\n\nconst isHorizontalText = computed(() => {\n  return handleElement.value?.type === 'text' && !handleElement.value.vertical\n})\nconst isVerticalText = computed(() => {\n  return handleElement.value?.type === 'text' && handleElement.value.vertical\n})\n\nwatch(\n  handleElement,\n  () => {\n    if (!handleElement.value) return\n\n    left.value = round(handleElement.value.left, 1)\n    top.value = round(handleElement.value.top, 1)\n\n    fixedRatio.value =\n      'fixedRatio' in handleElement.value && !!handleElement.value.fixedRatio\n\n    if (handleElement.value.type !== 'line') {\n      width.value = round(handleElement.value.width, 1)\n      height.value = round(handleElement.value.height, 1)\n      rotate.value =\n        'rotate' in handleElement.value &&\n        handleElement.value.rotate !== undefined\n          ? round(handleElement.value.rotate, 1)\n          : 0\n    }\n  },\n  { deep: true, immediate: true }\n)\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateLeft = (value: number) => {\n  const props = { left: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateTop = (value: number) => {\n  const props = { top: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \n// \nconst updateShapePathData = (width: number, height: number) => {\n  if (\n    handleElement.value &&\n    handleElement.value.type === 'shape' &&\n    'pathFormula' in handleElement.value &&\n    handleElement.value.pathFormula\n  ) {\n    const pathFormula = SHAPE_PATH_FORMULAS[handleElement.value.pathFormula]\n\n    let path = ''\n    if ('editable' in pathFormula)\n      path = pathFormula.formula(width, height, handleElement.value.keypoint!)\n    else path = pathFormula.formula(width, height)\n\n    return {\n      viewBox: [width, height],\n      path,\n    }\n  }\n  return null\n}\nconst updateWidth = (value: number) => {\n  let props = { width: value }\n  const shapePathData = updateShapePathData(value, height.value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateHeight = (value: number) => {\n  let props = { height: value }\n  const shapePathData = updateShapePathData(width.value, value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateRotate = (value: number) => {\n  const props = { rotate: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// \nconst updateFixedRatio = (value: boolean) => {\n  const props = { fixedRatio: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 45\nconst updateRotate45 = (command: '+' | '-') => {\n  let _rotate = Math.floor(rotate.value / 45) * 45\n  if (command === '+') _rotate = _rotate + 45\n  else if (command === '-') _rotate = _rotate - 45\n\n  if (_rotate < -180) _rotate = -180\n  if (_rotate > 180) _rotate = 180\n\n  const props = { rotate: _rotate }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.title {\n  margin-bottom: 10px;\n}\n.label {\n  text-align: center;\n}\n.btn-icon {\n  margin-right: 3px;\n}\n.icon-btn {\n  cursor: pointer;\n}\n.text-btn {\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #efefef;\n    border-radius: $borderRadius;\n  }\n}\n</style>\n","import script from \"./ElementPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementPositionPanel.vue?vue&type=style&index=0&id=5cb39a9e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5cb39a9e\"]])\n\nexport default __exports__","import type { TurningMode } from '@/types/slides'\r\n\r\nexport const ANIMATION_DEFAULT_DURATION = 1000\r\nexport const ANIMATION_DEFAULT_TRIGGER = 'click'\r\nexport const ANIMATION_CLASS_PREFIX = 'animate__'\r\n\r\nexport const ENTER_ANIMATIONS = [\r\n  {\r\n    type: 'bounce',\r\n    name: 'Bounce',\r\n    children: [\r\n      { name: 'bounceIn', value: 'bounceIn' },\r\n      { name: 'bounce right', value: 'bounceInLeft' },\r\n      { name: 'bounce to the left', value: 'bounceInRight' },\r\n      { name: 'bounce up', value: 'bounceInUp' },\r\n      { name: 'bounce down', value: 'bounceInDown' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'fade',\r\n    name: 'Emerge',\r\n    children: [\r\n      { name: 'Float', value: 'fadeIn' },\r\n      { name: 'Float down', value: 'fadeInDown' },\r\n      { name: 'Fade downward long distance', value: 'fadeInDownBig' },\r\n      { name: 'Float right', value: 'fadeInLeft' },\r\n      { name: 'Fade long to the right', value: 'fadeInLeftBig' },\r\n      { name: 'Float to the left', value: 'fadeInRight' },\r\n      { name: 'Float long to the left', value: 'fadeInRightBig' },\r\n      { name: 'Float up', value: 'fadeInUp' },\r\n      { name: 'fadeInUpBig', value: 'fadeInUpBig' },\r\n      { name: 'Float from top left', value: 'fadeInTopLeft' },\r\n      { name: 'Float from top right', value: 'fadeInTopRight' },\r\n      { name: 'Float in from bottom left', value: 'fadeInBottomLeft' },\r\n      { name: 'Float from bottom right', value: 'fadeInBottomRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'rotate',\r\n    name: 'rotate',\r\n    children: [\r\n      { name: 'rotateIn', value: 'rotateIn' },\r\n      { name: 'Enter around the lower left', value: 'rotateInDownLeft' },\r\n      { name: 'Rotate around the lower right', value: 'rotateInDownRight' },\r\n      { name: 'Enter around the upper left', value: 'rotateInUpLeft' },\r\n      { name: 'Enter around the upper right', value: 'rotateInUpRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'zoom',\r\n    name: 'Zoom',\r\n    children: [\r\n      { name: 'zoom in', value: 'zoomIn' },\r\n      { name: 'Zoom down to enter', value: 'zoomInDown' },\r\n      { name: 'Zoom in from the left', value: 'zoomInLeft' },\r\n      { name: 'Zoom in from the right', value: 'zoomInRight' },\r\n      { name: 'Zoom up and enter', value: 'zoomInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'slide',\r\n    name: 'Slide in',\r\n    children: [\r\n      { name: 'Slide down', value: 'slideInDown' },\r\n      { name: 'Slide in from right', value: 'slideInLeft' },\r\n      { name: 'Slide in from left', value: 'slideInRight' },\r\n      { name: 'Slide up', value: 'slideInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'flip',\r\n    name: 'flip',\r\n    children: [\r\n      { name: 'X-axis flip into', value: 'flipInX' },\r\n      { name: 'Y-axis flip into', value: 'flipInY' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'back',\r\n    name: 'Magnify slide in',\r\n    children: [\r\n      { name: 'Scroll down to zoom in', value: 'backInDown' },\r\n      { name: 'Scale in from left', value: 'backInLeft' },\r\n      { name: 'Scroll in from right', value: 'backInRight' },\r\n      { name: 'Scale up to zoom in', value: 'backInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'lightSpeed',\r\n    name: 'fly in',\r\n    children: [\r\n      { name: 'Fly in from the right', value: 'lightSpeedInRight' },\r\n      { name: 'Fly in from the left', value: 'lightSpeedInLeft' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport const EXIT_ANIMATIONS = [\r\n  {\r\n    type: 'bounce',\r\n    name: 'Bounce',\r\n    children: [\r\n      { name: 'bounceOut', value: 'bounceOut' },\r\n      { name: 'bounceOutLeft', value: 'bounceOutLeft' },\r\n      { name: 'bounce right', value: 'bounceOutRight' },\r\n      { name: 'bounceOutUp', value: 'bounceOutUp' },\r\n      { name: 'Bounce Down', value: 'bounceOutDown' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'fade',\r\n    name: 'Emerge',\r\n    children: [\r\n      { name: 'fadeOut', value: 'fadeOut' },\r\n      { name: 'fade down', value: 'fadeOutDown' },\r\n      { name: 'fadeOutDownBig', value: 'fadeOutDownBig' },\r\n      { name: 'fade to the left', value: 'fadeOutLeft' },\r\n      { name: 'fadeOutLeftBig', value: 'fadeOutLeftBig' },\r\n      { name: 'fade to the right', value: 'fadeOutRight' },\r\n      { name: 'fadeOutRightBig', value: 'fadeOutRightBig' },\r\n      { name: 'fade up', value: 'fadeOutUp' },\r\n      { name: 'fadeOutUpBig', value: 'fadeOutUpBig' },\r\n      { name: 'Float from top left', value: 'fadeOutTopLeft' },\r\n      { name: 'Fade from top right', value: 'fadeOutTopRight' },\r\n      { name: 'Fade from bottom left', value: 'fadeOutBottomLeft' },\r\n      { name: 'Fade from bottom right', value: 'fadeOutBottomRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'rotate',\r\n    name: 'rotate',\r\n    children: [\r\n      { name: 'rotateOut', value: 'rotateOut' },\r\n      { name: 'rotateOutDownLeft', value: 'rotateOutDownLeft' },\r\n      { name: 'rotateOutDownRight', value: 'rotateOutDownRight' },\r\n      { name: 'Exit around the upper left', value: 'rotateOutUpLeft' },\r\n      { name: 'rotateOutUpRight', value: 'rotateOutUpRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'zoom',\r\n    name: 'Zoom',\r\n    children: [\r\n      { name: 'zoomout', value: 'zoomOut' },\r\n      { name: 'Zoom down and exit', value: 'zoomOutDown' },\r\n      { name: 'Zoom out from the left to exit', value: 'zoomOutLeft' },\r\n      { name: 'Zoom out from the right', value: 'zoomOutRight' },\r\n      { name: 'Zoom up and exit', value: 'zoomOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'slide',\r\n    name: 'Slide out',\r\n    children: [\r\n      { name: 'slide out', value: 'slideOutDown' },\r\n      { name: 'Slide out from the left', value: 'slideOutLeft' },\r\n      { name: 'Slide out from the right', value: 'slideOutRight' },\r\n      { name: 'slide up', value: 'slideOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'flip',\r\n    name: 'flip',\r\n    children: [\r\n      { name: 'X-axis flip out', value: 'flipOutX' },\r\n      { name: 'Y-axis flip out', value: 'flipOutY' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'back',\r\n    name: 'Shrink out',\r\n    children: [\r\n      { name: 'Scroll down and slide out', value: 'backOutDown' },\r\n      { name: 'Scroll out from the left', value: 'backOutLeft' },\r\n      { name: 'Scroll out from the right', value: 'backOutRight' },\r\n      { name: 'Scroll out and shrink up', value: 'backOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'lightSpeed',\r\n    name: 'fly out',\r\n    children: [\r\n      { name: 'Fly out from the right', value: 'lightSpeedOutRight' },\r\n      { name: 'Fly out from the left', value: 'lightSpeedOutLeft' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport const ATTENTION_ANIMATIONS = [\r\n  {\r\n    type: 'shake',\r\n    name: 'shaking',\r\n    children: [\r\n      { name: 'Shake left and right', value: 'shakeX' },\r\n      { name: 'Shake up and down', value: 'shakeY' },\r\n      { name: 'headShake', value: 'headShake' },\r\n      { name: 'swing', value: 'swing' },\r\n      { name: 'wobble', value: 'wobble' },\r\n      { name: 'fright', value: 'tada' },\r\n      { name: 'jelly', value: 'jello' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'other',\r\n    name: 'Other',\r\n    children: [\r\n      { name: 'bounce', value: 'bounce' },\r\n      { name: 'flash', value: 'flash' },\r\n      { name: 'pulse', value: 'pulse' },\r\n      { name: 'rubber band', value: 'rubberBand' },\r\n      { name: 'Heartbeat (fast)', value: 'heartBeat' },\r\n    ],\r\n  },\r\n]\r\n\r\ninterface SlideAnimation {\r\n  label: string\r\n  value: TurningMode\r\n}\r\n\r\nexport const SLIDE_ANIMATIONS: SlideAnimation[] = [\r\n  { label: 'None', value: 'no' },\r\n  { label: 'random', value: 'random' },\r\n  { label: 'Slide left and right', value: 'slideX' },\r\n  { label: 'Slide up and down', value: 'slideY' },\r\n  { label: 'Slide left and right (3D)', value: 'slideX3D' },\r\n  { label: 'Slide up and down (3D)', value: 'slideY3D' },\r\n  { label: 'fade', value: 'fade' },\r\n  { label: 'rotate', value: 'rotate' },\r\n  { label: 'Expand up and down', value: 'scaleY' },\r\n  { label: 'Expand left and right', value: 'scaleX' },\r\n  { label: 'zoom in', value: 'scale' },\r\n  { label: 'scaleReverse', value: 'scaleReverse' },\r\n]\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4ef10c20\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-animation-panel\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"element-animation\"\n}\nconst _hoisted_3 = { class: \"type-title\" }\nconst _hoisted_4 = { class: \"pool-item-wrapper\" }\nconst _hoisted_5 = [\"onMouseenter\", \"onClick\"]\nconst _hoisted_6 = {\n  key: 0,\n  class: \"mask\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"tip\"\n}\nconst _hoisted_8 = { class: \"sequence-content\" }\nconst _hoisted_9 = { class: \"index\" }\nconst _hoisted_10 = { class: \"text\" }\nconst _hoisted_11 = { class: \"handler\" }\nconst _hoisted_12 = {\n  key: 0,\n  class: \"configs\"\n}\nconst _hoisted_13 = { class: \"config-item\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"35%\"} }, \"Duration:\", -1))\nconst _hoisted_15 = { class: \"config-item\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"35%\"} }, \"Trigger method:\", -1))\nconst _hoisted_17 = { class: \"config-item\" }\n\nimport { computed, ref, watch } from 'vue'\nimport { nanoid } from 'nanoid'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAnimation } from '@/types/slides'\nimport {\n  ENTER_ANIMATIONS,\n  EXIT_ANIMATIONS,\n  ATTENTION_ANIMATIONS,\n  ANIMATION_DEFAULT_DURATION,\n  ANIMATION_DEFAULT_TRIGGER,\n  ANIMATION_CLASS_PREFIX,\n} from '@/configs/animation'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport Draggable from 'vuedraggable'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\ntype AnimationType = 'in' | 'out' | 'attention'\ninterface TabItem {\n  key: AnimationType\n  label: string\n  color: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementAnimationPanel',\n  setup(__props) {\n\nconst animationEffects: { [key: string]: string } = {}\nfor (const effect of ENTER_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of EXIT_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of ATTENTION_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\n\nconst animationTypes: AnimationType[] = ['in', 'out', 'attention']\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\nconst { currentSlide, formatedAnimations, currentSlideAnimations } =\n  storeToRefs(slidesStore)\n\nconst tabs: TabItem[] = [\n  { key: 'in', label: '', color: '#68a490' },\n  { key: 'out', label: '', color: '#d86344' },\n  { key: 'attention', label: '', color: '#e8b76a' },\n]\nconst activeTab = ref('in')\n\nwatch(\n  () => handleElementId.value,\n  () => {\n    animationPoolVisible.value = false\n  }\n)\n\nconst hoverPreviewAnimation = ref('')\nconst animationPoolVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst animationSequence = computed(() => {\n  const animationSequence = []\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\n    const item = formatedAnimations.value[i]\n    for (let j = 0; j < item.animations.length; j++) {\n      const animation = item.animations[j]\n      const el = currentSlide.value.elements.find(\n        (el) => el.id === animation.elId\n      )\n      if (!el) continue\n\n      const elType = ELEMENT_TYPE_ZH[el.type]\n      const animationEffect = animationEffects[animation.effect]\n      animationSequence.push({\n        ...animation,\n        index: j === 0 ? i + 1 : '',\n        elType,\n        animationEffect,\n      })\n    }\n  }\n  return animationSequence\n})\n\n// \nconst handleElementAnimation = computed(() => {\n  const animations = currentSlideAnimations.value\n  const animation = animations.filter(\n    (item) => item.elId === handleElementId.value\n  )\n  return animation || []\n})\n\n// \nconst deleteAnimation = (id: string) => {\n  const animations = currentSlideAnimations.value.filter(\n    (item) => item.id !== id\n  )\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex)\n    return\n\n  const animations: PPTAnimation[] = JSON.parse(\n    JSON.stringify(currentSlideAnimations.value)\n  )\n  const animation = animations[oldIndex]\n  animations.splice(oldIndex, 1)\n  animations.splice(newIndex, 0, animation)\n\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst runAnimation = (elId: string, effect: string, duration: number) => {\n  const elRef = document.querySelector(\n    `#editable-element-${elId} [class^=editable-element-]`\n  )\n  if (elRef) {\n    const animationName = `${ANIMATION_CLASS_PREFIX}${effect}`\n    document.documentElement.style.setProperty(\n      '--animate-duration',\n      `${duration}ms`\n    )\n    elRef.classList.add(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n\n    const handleAnimationEnd = () => {\n      document.documentElement.style.removeProperty('--animate-duration')\n      elRef.classList.remove(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n    }\n    elRef.addEventListener('animationend', handleAnimationEnd, { once: true })\n  }\n}\n\n// \nconst updateElementAnimationDuration = (id: string, duration: number) => {\n  if (duration < 100 || duration > 5000) return\n\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === id) return { ...item, duration }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst updateElementAnimationTrigger = (\n  id: string,\n  trigger: 'click' | 'meantime' | 'auto'\n) => {\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === id) return { ...item, trigger }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst updateElementAnimation = (type: AnimationType, effect: string) => {\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === handleAnimationId.value) return { ...item, type, effect }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  const animationItem = currentSlideAnimations.value.find(\n    (item) => item.elId === handleElementId.value\n  )\n  const duration = animationItem?.duration || ANIMATION_DEFAULT_DURATION\n\n  setTimeout(() => {\n    runAnimation(handleElementId.value, effect, duration)\n  }, 0)\n}\n\nconst handleAnimationId = ref('')\n// \nconst addAnimation = (type: AnimationType, effect: string) => {\n  if (handleAnimationId.value) {\n    updateElementAnimation(type, effect)\n    return\n  }\n\n  const animations: PPTAnimation[] = JSON.parse(\n    JSON.stringify(currentSlideAnimations.value)\n  )\n  animations.push({\n    id: nanoid(10),\n    elId: handleElementId.value,\n    type,\n    effect,\n    duration: ANIMATION_DEFAULT_DURATION,\n    trigger: ANIMATION_DEFAULT_TRIGGER,\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  setTimeout(() => {\n    runAnimation(handleElementId.value, effect, ANIMATION_DEFAULT_DURATION)\n  }, 0)\n}\n\n// 600ms\nconst popoverMaskHide = ref(false)\nconst handlePopoverVisibleChange = (visible: boolean) => {\n  if (visible) {\n    setTimeout(() => (popoverMaskHide.value = true), 600)\n  } else popoverMaskHide.value = false\n}\n\nconst openAnimationPool = (elementId: string) => {\n  animationPoolVisible.value = true\n  handleAnimationId.value = elementId\n  handlePopoverVisibleChange(true)\n}\n\nconst animations = {\n  in: ENTER_ANIMATIONS,\n  out: EXIT_ANIMATIONS,\n  attention: ATTENTION_ANIMATIONS,\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEffects = _resolveComponent(\"IconEffects\")!\n  const _component_IconClick = _resolveComponent(\"IconClick\")!\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconCloseSmall = _resolveComponent(\"IconCloseSmall\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(handleElement))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(Popover, {\n            trigger: \"click\",\n            value: animationPoolVisible.value,\n            \"onUpdate:value\": [\n              _cache[3] || (_cache[3] = ($event: any) => ((animationPoolVisible).value = $event)),\n              _cache[4] || (_cache[4] = (visible) => handlePopoverVisibleChange(visible))\n            ],\n            style: {\"width\":\"100%\"}\n          }, {\n            content: _withCtx(() => [\n              _createVNode(Tabs, {\n                tabs: tabs,\n                value: activeTab.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((activeTab).value = $event)),\n                tabsStyle: { marginBottom: '20px' },\n                tabStyle: { width: '33.333%' },\n                spaceAround: \"\"\n              }, null, 8, [\"value\"]),\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(animationTypes, (key) => {\n                return (_openBlock(), _createElementBlock(_Fragment, null, [\n                  (activeTab.value === key)\n                    ? (_openBlock(), _createElementBlock(\"div\", {\n                        class: _normalizeClass(['animation-pool', key]),\n                        key: key\n                      }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(animations[key], (effect) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            class: \"pool-type\",\n                            key: effect.name\n                          }, [\n                            _createElementVNode(\"div\", _hoisted_3, _toDisplayString(effect.name) + \"\", 1),\n                            _createElementVNode(\"div\", _hoisted_4, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(effect.children, (item) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                  class: \"pool-item\",\n                                  key: item.name,\n                                  onMouseenter: ($event: any) => (hoverPreviewAnimation.value = item.value),\n                                  onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (hoverPreviewAnimation.value = '')),\n                                  onClick: ($event: any) => (addAnimation(key, item.value))\n                                }, [\n                                  _createElementVNode(\"div\", {\n                                    class: _normalizeClass([\"animation-box\", [\n                        `${_unref(ANIMATION_CLASS_PREFIX)}animated`,\n                        `${_unref(ANIMATION_CLASS_PREFIX)}fast`,\n                        hoverPreviewAnimation.value === item.value &&\n                          `${_unref(ANIMATION_CLASS_PREFIX)}${item.value}`,\n                      ]])\n                                  }, _toDisplayString(item.name), 3)\n                                ], 40, _hoisted_5))\n                              }), 128))\n                            ])\n                          ]))\n                        }), 128)),\n                        (!popoverMaskHide.value)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6))\n                          : _createCommentVNode(\"\", true)\n                      ], 2))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              }), 64))\n            ]),\n            default: _withCtx(() => [\n              _createVNode(Button, {\n                class: \"element-animation-btn\",\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (handleAnimationId.value = ''))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconEffects, { style: {\"margin-right\":\"5px\"} }),\n                  _createTextVNode(\" Add animation \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createVNode(_component_IconClick, { style: {\"margin-right\":\"5px\"} }),\n          _createTextVNode(\" Add animation to selected elements in canvas \")\n        ])),\n    _createVNode(Divider),\n    _createVNode(_unref(Draggable), {\n      class: \"animation-sequence\",\n      modelValue: animationSequence.value,\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      handle: \".sequence-content\",\n      itemKey: \"id\",\n      onEnd: handleDragEnd\n    }, {\n      item: _withCtx(({ element }) => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"sequence-item\", [\n            element.type,\n            { active: _unref(handleElement)?.id === element.elId },\n          ]])\n        }, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", _hoisted_9, _toDisplayString(element.index), 1),\n            _createElementVNode(\"div\", _hoisted_10, \" \" + _toDisplayString(element.elType) + \"\" + _toDisplayString(element.animationEffect), 1),\n            _createElementVNode(\"div\", _hoisted_11, [\n              _withDirectives(_createVNode(_component_IconPlayOne, {\n                class: \"handler-btn\",\n                onClick: ($event: any) => (\n                  runAnimation(element.elId, element.effect, element.duration)\n                )\n              }, null, 8, [\"onClick\"]), [\n                [_directive_tooltip, 'Preview']\n              ]),\n              _withDirectives(_createVNode(_component_IconCloseSmall, {\n                class: \"handler-btn\",\n                onClick: ($event: any) => (deleteAnimation(element.id))\n              }, null, 8, [\"onClick\"]), [\n                [_directive_tooltip, 'Delete']\n              ])\n            ])\n          ]),\n          (handleElementAnimation.value[0]?.elId === element.elId)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _createVNode(Divider, { style: {\"margin\":\"16px 0\"} }),\n                _createElementVNode(\"div\", _hoisted_13, [\n                  _hoisted_14,\n                  _createVNode(NumberInput, {\n                    min: 500,\n                    max: 3000,\n                    step: 500,\n                    value: element.duration,\n                    \"onUpdate:value\": \n                  (value) => updateElementAnimationDuration(element.id, value)\n                ,\n                    style: {\"width\":\"65%\"}\n                  }, null, 8, [\"value\", \"onUpdate:value\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_15, [\n                  _hoisted_16,\n                  _createVNode(Select, {\n                    value: element.trigger,\n                    \"onUpdate:value\": value => updateElementAnimationTrigger(element.id, value as 'click' | 'meantime' | 'auto'),\n                    style: {\"width\":\"65%\"},\n                    options: [\n                  { label: 'active trigger', value: 'click' },\n                  {\n                    label: 'At the same time as the previous animation',\n                    value: 'meantime',\n                  },\n                  { label: 'After the previous animation', value: 'auto' },\n                ]\n                  }, null, 8, [\"value\", \"onUpdate:value\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_17, [\n                  _createVNode(Button, {\n                    style: {\"width\":\"100%\"},\n                    onClick: ($event: any) => (openAnimationPool(element.id))\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Change animation\")\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"])\n                ])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ], 2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-animation-panel\">\n    <div class=\"element-animation\" v-if=\"handleElement\">\n      <Popover\n        trigger=\"click\"\n        v-model:value=\"animationPoolVisible\"\n        @update:value=\"(visible) => handlePopoverVisibleChange(visible)\"\n        style=\"width: 100%\"\n      >\n        <template #content>\n          <Tabs\n            :tabs=\"tabs\"\n            v-model:value=\"activeTab\"\n            :tabsStyle=\"{ marginBottom: '20px' }\"\n            :tabStyle=\"{ width: '33.333%' }\"\n            spaceAround\n          />\n          <template v-for=\"key in animationTypes\">\n            <div\n              :class=\"['animation-pool', key]\"\n              :key=\"key\"\n              v-if=\"activeTab === key\"\n            >\n              <div\n                class=\"pool-type\"\n                :key=\"effect.name\"\n                v-for=\"effect in animations[key]\"\n              >\n                <div class=\"type-title\">{{ effect.name }}</div>\n                <div class=\"pool-item-wrapper\">\n                  <div\n                    class=\"pool-item\"\n                    v-for=\"item in effect.children\"\n                    :key=\"item.name\"\n                    @mouseenter=\"hoverPreviewAnimation = item.value\"\n                    @mouseleave=\"hoverPreviewAnimation = ''\"\n                    @click=\"addAnimation(key, item.value)\"\n                  >\n                    <div\n                      class=\"animation-box\"\n                      :class=\"[\n                        `${ANIMATION_CLASS_PREFIX}animated`,\n                        `${ANIMATION_CLASS_PREFIX}fast`,\n                        hoverPreviewAnimation === item.value &&\n                          `${ANIMATION_CLASS_PREFIX}${item.value}`,\n                      ]\"\n                    >\n                      {{ item.name }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"mask\" v-if=\"!popoverMaskHide\"></div>\n            </div>\n          </template>\n        </template>\n        <Button class=\"element-animation-btn\" @click=\"handleAnimationId = ''\">\n          <IconEffects style=\"margin-right: 5px\" /> Add animation\n        </Button>\n      </Popover>\n    </div>\n\n    <div class=\"tip\" v-else>\n      <IconClick style=\"margin-right: 5px\" /> Add animation to selected elements\n      in canvas\n    </div>\n\n    <Divider />\n\n    <Draggable\n      class=\"animation-sequence\"\n      :modelValue=\"animationSequence\"\n      :animation=\"200\"\n      :scroll=\"true\"\n      :scrollSensitivity=\"50\"\n      handle=\".sequence-content\"\n      itemKey=\"id\"\n      @end=\"handleDragEnd\"\n    >\n      <template #item=\"{ element }\">\n        <div\n          class=\"sequence-item\"\n          :class=\"[\n            element.type,\n            { active: handleElement?.id === element.elId },\n          ]\"\n        >\n          <div class=\"sequence-content\">\n            <div class=\"index\">{{ element.index }}</div>\n            <div class=\"text\">\n              {{ element.elType }}{{ element.animationEffect }}\n            </div>\n            <div class=\"handler\">\n              <IconPlayOne\n                class=\"handler-btn\"\n                v-tooltip=\"'Preview'\"\n                @click=\"\n                  runAnimation(element.elId, element.effect, element.duration)\n                \"\n              />\n              <IconCloseSmall\n                class=\"handler-btn\"\n                v-tooltip=\"'Delete'\"\n                @click=\"deleteAnimation(element.id)\"\n              />\n            </div>\n          </div>\n\n          <div\n            class=\"configs\"\n            v-if=\"handleElementAnimation[0]?.elId === element.elId\"\n          >\n            <Divider style=\"margin: 16px 0\" />\n\n            <div class=\"config-item\">\n              <div style=\"width: 35%\">Duration:</div>\n              <NumberInput\n                :min=\"500\"\n                :max=\"3000\"\n                :step=\"500\"\n                :value=\"element.duration\"\n                @update:value=\"\n                  (value) => updateElementAnimationDuration(element.id, value)\n                \"\n                style=\"width: 65%\"\n              />\n            </div>\n            <div class=\"config-item\">\n              <div style=\"width: 35%\">Trigger method:</div>\n              <Select\n                :value=\"element.trigger\"\n                @update:value=\"value => updateElementAnimationTrigger(element.id, value as 'click' | 'meantime' | 'auto')\"\n                style=\"width: 65%\"\n                :options=\"[\n                  { label: 'active trigger', value: 'click' },\n                  {\n                    label: 'At the same time as the previous animation',\n                    value: 'meantime',\n                  },\n                  { label: 'After the previous animation', value: 'auto' },\n                ]\"\n              />\n            </div>\n            <div class=\"config-item\">\n              <Button style=\"width: 100%\" @click=\"openAnimationPool(element.id)\"\n                >Change animation</Button\n              >\n            </div>\n          </div>\n        </div>\n      </template>\n    </Draggable>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from 'vue'\nimport { nanoid } from 'nanoid'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTAnimation } from '@/types/slides'\nimport {\n  ENTER_ANIMATIONS,\n  EXIT_ANIMATIONS,\n  ATTENTION_ANIMATIONS,\n  ANIMATION_DEFAULT_DURATION,\n  ANIMATION_DEFAULT_TRIGGER,\n  ANIMATION_CLASS_PREFIX,\n} from '@/configs/animation'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport Draggable from 'vuedraggable'\nimport NumberInput from '@/components/NumberInput.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst animationEffects: { [key: string]: string } = {}\nfor (const effect of ENTER_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of EXIT_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of ATTENTION_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\n\ntype AnimationType = 'in' | 'out' | 'attention'\ninterface TabItem {\n  key: AnimationType\n  label: string\n  color: string\n}\n\nconst animationTypes: AnimationType[] = ['in', 'out', 'attention']\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\nconst { currentSlide, formatedAnimations, currentSlideAnimations } =\n  storeToRefs(slidesStore)\n\nconst tabs: TabItem[] = [\n  { key: 'in', label: '', color: '#68a490' },\n  { key: 'out', label: '', color: '#d86344' },\n  { key: 'attention', label: '', color: '#e8b76a' },\n]\nconst activeTab = ref('in')\n\nwatch(\n  () => handleElementId.value,\n  () => {\n    animationPoolVisible.value = false\n  }\n)\n\nconst hoverPreviewAnimation = ref('')\nconst animationPoolVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst animationSequence = computed(() => {\n  const animationSequence = []\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\n    const item = formatedAnimations.value[i]\n    for (let j = 0; j < item.animations.length; j++) {\n      const animation = item.animations[j]\n      const el = currentSlide.value.elements.find(\n        (el) => el.id === animation.elId\n      )\n      if (!el) continue\n\n      const elType = ELEMENT_TYPE_ZH[el.type]\n      const animationEffect = animationEffects[animation.effect]\n      animationSequence.push({\n        ...animation,\n        index: j === 0 ? i + 1 : '',\n        elType,\n        animationEffect,\n      })\n    }\n  }\n  return animationSequence\n})\n\n// \nconst handleElementAnimation = computed(() => {\n  const animations = currentSlideAnimations.value\n  const animation = animations.filter(\n    (item) => item.elId === handleElementId.value\n  )\n  return animation || []\n})\n\n// \nconst deleteAnimation = (id: string) => {\n  const animations = currentSlideAnimations.value.filter(\n    (item) => item.id !== id\n  )\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex)\n    return\n\n  const animations: PPTAnimation[] = JSON.parse(\n    JSON.stringify(currentSlideAnimations.value)\n  )\n  const animation = animations[oldIndex]\n  animations.splice(oldIndex, 1)\n  animations.splice(newIndex, 0, animation)\n\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst runAnimation = (elId: string, effect: string, duration: number) => {\n  const elRef = document.querySelector(\n    `#editable-element-${elId} [class^=editable-element-]`\n  )\n  if (elRef) {\n    const animationName = `${ANIMATION_CLASS_PREFIX}${effect}`\n    document.documentElement.style.setProperty(\n      '--animate-duration',\n      `${duration}ms`\n    )\n    elRef.classList.add(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n\n    const handleAnimationEnd = () => {\n      document.documentElement.style.removeProperty('--animate-duration')\n      elRef.classList.remove(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n    }\n    elRef.addEventListener('animationend', handleAnimationEnd, { once: true })\n  }\n}\n\n// \nconst updateElementAnimationDuration = (id: string, duration: number) => {\n  if (duration < 100 || duration > 5000) return\n\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === id) return { ...item, duration }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst updateElementAnimationTrigger = (\n  id: string,\n  trigger: 'click' | 'meantime' | 'auto'\n) => {\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === id) return { ...item, trigger }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// \nconst updateElementAnimation = (type: AnimationType, effect: string) => {\n  const animations = currentSlideAnimations.value.map((item) => {\n    if (item.id === handleAnimationId.value) return { ...item, type, effect }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  const animationItem = currentSlideAnimations.value.find(\n    (item) => item.elId === handleElementId.value\n  )\n  const duration = animationItem?.duration || ANIMATION_DEFAULT_DURATION\n\n  setTimeout(() => {\n    runAnimation(handleElementId.value, effect, duration)\n  }, 0)\n}\n\nconst handleAnimationId = ref('')\n// \nconst addAnimation = (type: AnimationType, effect: string) => {\n  if (handleAnimationId.value) {\n    updateElementAnimation(type, effect)\n    return\n  }\n\n  const animations: PPTAnimation[] = JSON.parse(\n    JSON.stringify(currentSlideAnimations.value)\n  )\n  animations.push({\n    id: nanoid(10),\n    elId: handleElementId.value,\n    type,\n    effect,\n    duration: ANIMATION_DEFAULT_DURATION,\n    trigger: ANIMATION_DEFAULT_TRIGGER,\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  setTimeout(() => {\n    runAnimation(handleElementId.value, effect, ANIMATION_DEFAULT_DURATION)\n  }, 0)\n}\n\n// 600ms\nconst popoverMaskHide = ref(false)\nconst handlePopoverVisibleChange = (visible: boolean) => {\n  if (visible) {\n    setTimeout(() => (popoverMaskHide.value = true), 600)\n  } else popoverMaskHide.value = false\n}\n\nconst openAnimationPool = (elementId: string) => {\n  animationPoolVisible.value = true\n  handleAnimationId.value = elementId\n  handlePopoverVisibleChange(true)\n}\n\nconst animations = {\n  in: ENTER_ANIMATIONS,\n  out: EXIT_ANIMATIONS,\n  attention: ATTENTION_ANIMATIONS,\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$inColor: #68a490;\n$outColor: #d86344;\n$attentionColor: #e8b76a;\n\n.element-animation-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.element-animation {\n  height: 32px;\n  display: flex;\n  align-items: center;\n}\n.element-animation-btn {\n  width: 100%;\n}\n.config-item {\n  display: flex;\n  align-items: center;\n\n  & + .config-item {\n    margin-top: 5px;\n  }\n}\n.tip {\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-style: italic;\n}\n.animation-pool {\n  width: 400px;\n  height: 500px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  font-size: 12px;\n  margin-right: -10px;\n  padding-right: 5px;\n  position: relative;\n\n  .mask {\n    @include absolute-0();\n  }\n\n  &.in .type-title {\n    border-left-color: $inColor;\n    background-color: rgba($color: $inColor, $alpha: 0.15);\n  }\n  &.out .type-title {\n    border-left-color: $outColor;\n    background-color: rgba($color: $outColor, $alpha: 0.15);\n  }\n  &.attention .type-title {\n    border-left-color: $attentionColor;\n    background-color: rgba($color: $attentionColor, $alpha: 0.15);\n  }\n}\n.pool-type:not(:last-child) {\n  margin-bottom: 5px;\n}\n.type-title {\n  width: 100%;\n  font-size: 13px;\n  margin-bottom: 10px;\n  border-left: 4px solid #aaa;\n  background-color: #eee;\n  padding: 4px 0 4px 10px;\n}\n.pool-item-wrapper {\n  @include flex-grid-layout();\n}\n.pool-item {\n  @include flex-grid-layout-children(4, 24%);\n\n  margin-bottom: 5px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  cursor: pointer;\n}\n.animation-box {\n  background-color: $lightGray;\n  border-radius: $borderRadius;\n}\n\n.animation-sequence {\n  flex: 1;\n  padding-right: 12px;\n  margin-right: -12px;\n\n  @include overflow-overlay();\n}\n.sequence-item {\n  border: 1px solid $borderColor;\n  padding: 8px;\n  border-radius: $borderRadius;\n  margin-bottom: 8px;\n  transition: all 0.5s;\n\n  &.in.active {\n    border-color: $inColor;\n  }\n  &.out.active {\n    border-color: $outColor;\n  }\n  &.attention.active {\n    border-color: $attentionColor;\n  }\n  &.active {\n    height: auto;\n  }\n\n  .sequence-content {\n    display: flex;\n    align-items: center;\n    cursor: grab;\n\n    &:active {\n      cursor: grabbing;\n    }\n\n    .index {\n      flex: 1;\n    }\n    .text {\n      flex: 6;\n    }\n    .handler {\n      flex: 2;\n      font-size: 15px;\n      text-align: right;\n    }\n    .handler-btn {\n      margin-left: 8px;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import script from \"./ElementAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementAnimationPanel.vue?vue&type=style&index=0&id=4ef10c20&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4ef10c20\"]])\n\nexport default __exports__","export interface PresetTheme {\r\n  background: string\r\n  fontColor: string\r\n  fontname: string\r\n  colors: string[]\r\n}\r\n\r\nexport const PRESET_THEMES: PresetTheme[] = [\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#5b9bd5', '#ed7d31', '#a5a5a5', '#ffc000', '#4472c4', '#70ad47'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#83992a', '#3c9670', '#44709d', '#a23b32', '#d87728', '#deb340'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#e48312', '#bd582c', '#865640', '#9b8357', '#c2bc80', '#94a088'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#bdc8df', '#003fa9', '#f5ba00', '#ff7567', '#7676d9', '#923ffc'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#90c225', '#54a121', '#e6b91e', '#e86618', '#c42f19', '#918756'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#1cade4', '#2683c6', '#27ced7', '#42ba97', '#3e8853', '#62a39f'],\r\n  },\r\n  {\r\n    background: '#e9efd6',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#a5300f', '#de7e18', '#9f8351', '#728653', '#92aa4c', '#6aac91'],\r\n  },\r\n  {\r\n    background: '#17444e',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#b01513', '#ea6312', '#e6b729', '#6bab90', '#55839a', '#9e5d9d'],\r\n  },\r\n  {\r\n    background: '#36234d',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#b31166', '#e33d6f', '#e45f3c', '#e9943a', '#9b6bf2', '#d63cd0'],\r\n  },\r\n  {\r\n    background: '#247fad',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#052f61', '#a50e82', '#14967c', '#6a9e1f', '#e87d37', '#c62324'],\r\n  },\r\n  {\r\n    background: '#103f55',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#40aebd', '#97e8d5', '#a1cf49', '#628f3e', '#f2df3a', '#fcb01c'],\r\n  },\r\n  {\r\n    background: '#242367',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#ac3ec1', '#477bd1', '#46b298', '#90ba4c', '#dd9d31', '#e25345'],\r\n  },\r\n  {\r\n    background: '#e4b75e',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#f0a22e', '#a5644e', '#b58b80', '#c3986d', '#a19574', '#c17529'],\r\n  },\r\n  {\r\n    background: '#333333',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#bdc8df', '#003fa9', '#f5ba00', '#ff7567', '#7676d9', '#923ffc'],\r\n  },\r\n]","import tinycolor from 'tinycolor2'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport type { PresetTheme } from '@/configs/theme'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, currentSlide, theme } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // \n  const getSlideAllColors = (slide: Slide) => {\n    const colors: string[] = []\n    for (const el of slide.elements) {\n      if (el.type === 'shape' && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'text' && el.fill && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'table' && el.theme && tinycolor(el.theme.color).getAlpha() !== 0) {\n        const color = tinycolor(el.theme.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'chart' && el.fill && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'line' && tinycolor(el.color).getAlpha() !== 0) {\n        const color = tinycolor(el.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'audio' && tinycolor(el.color).getAlpha() !== 0) {\n        const color = tinycolor(el.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n    }\n    return colors\n  }\n  \n  // \n  const createSlideThemeColorMap = (slide: Slide, newColors: string[]): { [key: string]: string } => {\n    const oldColors = getSlideAllColors(slide)\n    const themeColorMap: { [key: string]: string } = {}\n  \n    if (oldColors.length > newColors.length) {\n      const analogous = tinycolor(newColors[0]).analogous(oldColors.length - newColors.length + 10)\n      const otherColors = analogous.map(item => item.toHexString()).slice(1)\n      newColors.push(...otherColors)\n    }\n    for (let i = 0; i < oldColors.length; i++) {\n      themeColorMap[oldColors[i]] = newColors[i]\n    }\n  \n    return themeColorMap\n  }\n  \n  // \n  const setSlideTheme = (slide: Slide, theme: PresetTheme) => {\n    const colorMap = createSlideThemeColorMap(slide, theme.colors)\n  \n    if (!slide.background || slide.background.type !== 'image') {\n      slide.background = {\n        type: 'solid',\n        color: theme.background,\n      }\n    }\n    for (const el of slide.elements) {\n      if (el.type === 'shape') {\n        el.fill = colorMap[tinycolor(el.fill).toRgbString()] || el.fill\n        if (el.gradient) delete el.gradient\n      }\n      if (el.type === 'text') {\n        if (el.fill) el.fill = colorMap[tinycolor(el.fill).toRgbString()] || el.fill\n        el.defaultColor = theme.fontColor\n        el.defaultFontName = theme.fontname\n      }\n      if (el.type === 'table') {\n        if (el.theme) el.theme.color = colorMap[tinycolor(el.theme.color).toRgbString()] || el.theme.color\n        for (const rowCells of el.data) {\n          for (const cell of rowCells) {\n            if (cell.style) {\n              cell.style.color = theme.fontColor\n              cell.style.fontname = theme.fontname\n            }\n          }\n        }\n      }\n      if (el.type === 'chart') {\n        el.themeColor = [colorMap[tinycolor(el.themeColor[0]).toRgbString()]] || el.themeColor\n        el.gridColor = theme.fontColor\n      }\n      if (el.type === 'line') el.color = colorMap[tinycolor(el.color).toRgbString()] || el.color\n      if (el.type === 'audio') el.color = colorMap[tinycolor(el.color).toRgbString()] || el.color\n      if (el.type === 'latex') el.color = theme.fontColor\n    }\n  }\n  \n  // \n  const applyPresetThemeToSingleSlide = (theme: PresetTheme) => {\n    const newSlide: Slide = JSON.parse(JSON.stringify(currentSlide.value))\n    setSlideTheme(newSlide, theme)\n    slidesStore.updateSlide({\n      background: newSlide.background,\n      elements: newSlide.elements,\n    })\n    addHistorySnapshot()\n  }\n  \n  // \n  const applyPresetThemeToAllSlides = (theme: PresetTheme) => {\n    const newSlides: Slide[] = JSON.parse(JSON.stringify(slides.value))\n    for (const slide of newSlides) {\n      setSlideTheme(slide, theme)\n    }\n    slidesStore.setTheme({\n      backgroundColor: theme.background,\n      themeColor: theme.colors[0],\n      fontColor: theme.fontColor,\n      fontName: theme.fontname,\n    })\n    slidesStore.setSlides(newSlides)\n    addHistorySnapshot()\n  }\n  \n  // \n  const applyThemeToAllSlides = (applyAll = false) => {\n    const newSlides: Slide[] = JSON.parse(JSON.stringify(slides.value))\n    const { themeColor, backgroundColor, fontColor, fontName, outline, shadow } = theme.value\n  \n    for (const slide of newSlides) {\n      if (!slide.background || slide.background.type !== 'image') {\n        slide.background = {\n          type: 'solid',\n          color: backgroundColor\n        }\n      }\n  \n      for (const el of slide.elements) {\n        if (applyAll) {\n          if ('outline' in el && el.outline) el.outline = outline\n          if ('shadow' in el && el.shadow) el.shadow = shadow\n        }\n\n        if (el.type === 'shape') el.fill = themeColor\n        else if (el.type === 'line') el.color = themeColor\n        else if (el.type === 'text') {\n          el.defaultColor = fontColor\n          el.defaultFontName = fontName\n          if (el.fill) el.fill = themeColor\n        }\n        else if (el.type === 'table') {\n          if (el.theme) el.theme.color = themeColor\n          for (const rowCells of el.data) {\n            for (const cell of rowCells) {\n              if (cell.style) {\n                cell.style.color = fontColor\n                cell.style.fontname = fontName\n              }\n            }\n          }\n        }\n        else if (el.type === 'chart') {\n          el.themeColor = [themeColor]\n          el.gridColor = fontColor\n        }\n        else if (el.type === 'latex') el.color = fontColor\n        else if (el.type === 'audio') el.color = themeColor\n      }\n    }\n    slidesStore.setSlides(newSlides)\n    addHistorySnapshot()\n  }\n\n  return {\n    applyPresetThemeToSingleSlide,\n    applyPresetThemeToAllSlides,\n    applyThemeToAllSlides,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, unref as _unref, Fragment as _Fragment, renderList as _renderList, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a0640428\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-design-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"background fill\", -1))\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"10px\"} }, null, -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"background-image-wrapper\"\n}\nconst _hoisted_6 = { class: \"background-image\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"background-gradient-wrapper\"\n}\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Starting point color:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"End color:\", -1))\nconst _hoisted_12 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Gradient angle:\", -1))\nconst _hoisted_14 = { class: \"row\" }\nconst _hoisted_15 = { class: \"row\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Canvas size:\", -1))\nconst _hoisted_17 = { class: \"title\" }\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"global theme\", -1))\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"More\", -1))\nconst _hoisted_20 = { class: \"row\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Font:\", -1))\nconst _hoisted_22 = { class: \"row\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Font color:\", -1))\nconst _hoisted_24 = { class: \"row\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Background color:\", -1))\nconst _hoisted_26 = { class: \"row\" }\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Theme color:\", -1))\nconst _hoisted_28 = { class: \"row\" }\nconst _hoisted_29 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border style:\", -1))\nconst _hoisted_30 = { class: \"row\" }\nconst _hoisted_31 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border color:\", -1))\nconst _hoisted_32 = { class: \"row\" }\nconst _hoisted_33 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Border thickness:\", -1))\nconst _hoisted_34 = {\n  class: \"row\",\n  style: {\"height\":\"30px\"}\n}\nconst _hoisted_35 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Horizontal shadow:\", -1))\nconst _hoisted_36 = {\n  class: \"row\",\n  style: {\"height\":\"30px\"}\n}\nconst _hoisted_37 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Vertical shadow:\", -1))\nconst _hoisted_38 = {\n  class: \"row\",\n  style: {\"height\":\"30px\"}\n}\nconst _hoisted_39 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Blur:\", -1))\nconst _hoisted_40 = { class: \"row\" }\nconst _hoisted_41 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40%\"} }, \"Shadow color:\", -1))\nconst _hoisted_42 = { class: \"row\" }\nconst _hoisted_43 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Preset themes\", -1))\nconst _hoisted_44 = { class: \"theme-list\" }\nconst _hoisted_45 = { class: \"theme-item-content\" }\nconst _hoisted_46 = { class: \"colors\" }\nconst _hoisted_47 = { class: \"btns\" }\nconst _hoisted_48 = [\"onClick\"]\nconst _hoisted_49 = [\"onClick\"]\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { SlideBackground, SlideTheme } from '@/types/slides'\nimport { PRESET_THEMES } from '@/configs/theme'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useSlideTheme from '@/hooks/useSlideTheme'\nimport { getImageDataURL } from '@/utils/image'\n\nimport ColorButton from './common/ColorButton.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideDesignPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { availableFonts } = storeToRefs(useMainStore())\nconst { slides, currentSlide, viewportRatio, theme } = storeToRefs(slidesStore)\n\nconst moreThemeConfigsVisible = ref(false)\n\nconst background = computed(() => {\n  if (!currentSlide.value.background) {\n    return {\n      type: 'solid',\n      value: '#fff',\n    } as SlideBackground\n  }\n  return currentSlide.value.background\n})\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst {\n  applyPresetThemeToSingleSlide,\n  applyPresetThemeToAllSlides,\n  applyThemeToAllSlides,\n} = useSlideTheme()\n\n// \nconst updateBackgroundType = (type: 'solid' | 'image' | 'gradient') => {\n  if (type === 'solid') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'solid',\n      color: background.value.color || '#fff',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  } else if (type === 'image') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'image',\n      image: background.value.image || '',\n      imageSize: background.value.imageSize || 'cover',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  } else {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'gradient',\n      gradientType: background.value.gradientType || 'linear',\n      gradientColor: background.value.gradientColor || ['#fff', '#fff'],\n      gradientRotate: background.value.gradientRotate || 0,\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  }\n  addHistorySnapshot()\n}\n\n// \nconst updateBackground = (props: Partial<SlideBackground>) => {\n  slidesStore.updateSlide({ background: { ...background.value, ...props } })\n  addHistorySnapshot()\n}\n\n// \nconst uploadBackgroundImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) =>\n    updateBackground({ image: dataURL })\n  )\n}\n\n// \nconst applyBackgroundAllSlide = () => {\n  const newSlides = slides.value.map((slide) => {\n    return {\n      ...slide,\n      background: currentSlide.value.background,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  addHistorySnapshot()\n}\n\n// \nconst updateTheme = (themeProps: Partial<SlideTheme>) => {\n  slidesStore.setTheme(themeProps)\n}\n\n// \nconst updateViewportRatio = (value: number) => {\n  slidesStore.setViewportRatio(value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconRight = _resolveComponent(\"IconRight\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(Select, {\n        style: {\"flex\":\"1\"},\n        value: background.value.type,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = value => updateBackgroundType(value as 'gradient' | 'image' | 'solid')),\n        options: [\n          { label: 'solid color fill', value: 'solid' },\n          { label: 'Picture filling', value: 'image' },\n          { label: 'gradient fill', value: 'gradient' },\n        ]\n      }, null, 8, [\"value\"]),\n      _hoisted_4,\n      (background.value.type === 'solid')\n        ? (_openBlock(), _createBlock(Popover, {\n            key: 0,\n            trigger: \"click\",\n            style: {\"flex\":\"1\"}\n          }, {\n            content: _withCtx(() => [\n              _createVNode(ColorPicker, {\n                modelValue: background.value.color,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = (color) => updateBackground({ color }))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(ColorButton, {\n                color: background.value.color || '#fff'\n              }, null, 8, [\"color\"])\n            ]),\n            _: 1\n          }))\n        : (background.value.type === 'image')\n          ? (_openBlock(), _createBlock(Select, {\n              key: 1,\n              style: {\"flex\":\"1\"},\n              value: background.value.imageSize || 'cover',\n              \"onUpdate:value\": _cache[2] || (_cache[2] = value => updateBackground({ imageSize: value as 'repeat' | 'cover' | 'contain' })),\n              options: [\n          { label: 'zoom', value: 'contain' },\n          { label: 'collage', value: 'repeat' },\n          { label: 'Scale to cover', value: 'cover' },\n        ]\n            }, null, 8, [\"value\"]))\n          : (_openBlock(), _createBlock(Select, {\n              key: 2,\n              style: {\"flex\":\"1\"},\n              value: background.value.gradientType || '',\n              \"onUpdate:value\": _cache[3] || (_cache[3] = value => updateBackground({ gradientType: value as 'linear' | 'radial' })),\n              options: [\n          { label: 'linear gradient', value: 'linear' },\n          { label: 'radial gradient', value: 'radial' },\n        ]\n            }, null, 8, [\"value\"]))\n    ]),\n    (background.value.type === 'image')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createVNode(FileInput, {\n            onChange: _cache[4] || (_cache[4] = (files) => uploadBackgroundImage(files))\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"div\", {\n                  class: \"content\",\n                  style: _normalizeStyle({ backgroundImage: `url(${background.value.image})` })\n                }, [\n                  _createVNode(_component_IconPlus)\n                ], 4)\n              ])\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (background.value.type === 'gradient')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: background.value.gradientColor![0],\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = value => updateBackground({ gradientColor: [value, background.value.gradientColor![1]] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: background.value.gradientColor![0]\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: background.value.gradientColor![1],\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = value => updateBackground({ gradientColor: [background.value.gradientColor![0], value] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: background.value.gradientColor![1]\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          (background.value.gradientType === 'linear')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _hoisted_13,\n                _createVNode(Slider, {\n                  min: 0,\n                  max: 360,\n                  step: 15,\n                  value: background.value.gradientRotate || 0,\n                  \"onUpdate:value\": _cache[7] || (_cache[7] = value => updateBackground({ gradientRotate: value as number })),\n                  style: {\"width\":\"60%\"}\n                }, null, 8, [\"value\"])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createVNode(Button, {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[8] || (_cache[8] = ($event: any) => (applyBackgroundAllSlide()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Apply background to all\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_15, [\n      _hoisted_16,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: _unref(viewportRatio),\n        \"onUpdate:value\": _cache[9] || (_cache[9] = value => updateViewportRatio(value as number)),\n        options: [\n          { label: 'Widescreen 16 : 9', value: 0.5625 },\n          { label: 'Widescreen 16 : 10', value: 0.625 },\n          { label: 'Standard 4 : 3', value: 0.75 },\n          { label: 'Paper A3 / A4', value: 0.70710678 },\n        ]\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(Divider),\n    _createElementVNode(\"div\", _hoisted_17, [\n      _hoisted_18,\n      _createElementVNode(\"span\", {\n        class: \"more\",\n        onClick: _cache[10] || (_cache[10] = ($event: any) => (moreThemeConfigsVisible.value = !moreThemeConfigsVisible.value))\n      }, [\n        _hoisted_19,\n        (moreThemeConfigsVisible.value)\n          ? (_openBlock(), _createBlock(_component_IconDown, { key: 0 }))\n          : (_openBlock(), _createBlock(_component_IconRight, { key: 1 }))\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _hoisted_21,\n      _createVNode(Select, {\n        style: {\"width\":\"60%\"},\n        value: _unref(theme).fontName,\n        \"onUpdate:value\": _cache[11] || (_cache[11] = value => updateTheme({ fontName: value as string })),\n        options: [..._unref(availableFonts), ..._unref(WEB_FONTS)]\n      }, null, 8, [\"value\", \"options\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_22, [\n      _hoisted_23,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).fontColor,\n            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = (value) => updateTheme({ fontColor: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme).fontColor\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_24, [\n      _hoisted_25,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).backgroundColor,\n            \"onUpdate:modelValue\": _cache[13] || (_cache[13] = \n              (value) => updateTheme({ backgroundColor: value })\n            )\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme).backgroundColor\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_26, [\n      _hoisted_27,\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"60%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).themeColor,\n            \"onUpdate:modelValue\": _cache[14] || (_cache[14] = (value) => updateTheme({ themeColor: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme).themeColor\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    (moreThemeConfigsVisible.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n          _createElementVNode(\"div\", _hoisted_28, [\n            _hoisted_29,\n            _createVNode(Select, {\n              style: {\"width\":\"60%\"},\n              value: _unref(theme).outline.style || '',\n              \"onUpdate:value\": _cache[15] || (_cache[15] = value => updateTheme({ outline: { ..._unref(theme).outline, style: value as 'dashed' | 'solid' } })),\n              options: [\n            { label: 'solid border', value: 'solid' },\n            { label: 'dashed border', value: 'dashed' },\n          ]\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_30, [\n            _hoisted_31,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: _unref(theme).outline.color,\n                  \"onUpdate:modelValue\": _cache[16] || (_cache[16] = \n                (value) =>\n                  updateTheme({ outline: { ..._unref(theme).outline, color: value } })\n              )\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: _unref(theme).outline.color || '#000'\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            _hoisted_33,\n            _createVNode(NumberInput, {\n              value: _unref(theme).outline.width || 0,\n              \"onUpdate:value\": _cache[17] || (_cache[17] = \n            (value) =>\n              updateTheme({ outline: { ..._unref(theme).outline, width: value } })\n          ),\n              style: {\"width\":\"60%\"}\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_34, [\n            _hoisted_35,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: -10,\n              max: 10,\n              step: 1,\n              value: _unref(theme).shadow.h,\n              \"onUpdate:value\": _cache[18] || (_cache[18] = value => updateTheme({ shadow: { ..._unref(theme).shadow, h: value as number } }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_36, [\n            _hoisted_37,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: -10,\n              max: 10,\n              step: 1,\n              value: _unref(theme).shadow.v,\n              \"onUpdate:value\": _cache[19] || (_cache[19] = value => updateTheme({ shadow: { ..._unref(theme).shadow, v: value as number } }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_38, [\n            _hoisted_39,\n            _createVNode(Slider, {\n              style: {\"width\":\"60%\"},\n              min: 1,\n              max: 20,\n              step: 1,\n              value: _unref(theme).shadow.blur,\n              \"onUpdate:value\": _cache[20] || (_cache[20] = value => updateTheme({ shadow: { ..._unref(theme).shadow, blur: value as number } }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_40, [\n            _hoisted_41,\n            _createVNode(Popover, {\n              trigger: \"click\",\n              style: {\"width\":\"60%\"}\n            }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: _unref(theme).shadow.color,\n                  \"onUpdate:modelValue\": _cache[21] || (_cache[21] = \n                (value) =>\n                  updateTheme({ shadow: { ..._unref(theme).shadow, color: value } })\n              )\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: _unref(theme).shadow.color\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_42, [\n      _createVNode(Button, {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[22] || (_cache[22] = ($event: any) => (_unref(applyThemeToAllSlides)(moreThemeConfigsVisible.value)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Apply theme to all\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(Divider),\n    _hoisted_43,\n    _createElementVNode(\"div\", _hoisted_44, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(PRESET_THEMES), (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"theme-item\",\n          key: index,\n          style: _normalizeStyle({\n          backgroundColor: item.background,\n          fontFamily: item.fontname,\n        })\n        }, [\n          _createElementVNode(\"div\", _hoisted_45, [\n            _createElementVNode(\"div\", {\n              class: \"text\",\n              style: _normalizeStyle({ color: item.fontColor })\n            }, \"Word Aa\", 4),\n            _createElementVNode(\"div\", _hoisted_46, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.colors, (color, index) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  class: \"color-block\",\n                  key: index,\n                  style: _normalizeStyle({ backgroundColor: color })\n                }, null, 4))\n              }), 128))\n            ]),\n            _createElementVNode(\"div\", _hoisted_47, [\n              _createElementVNode(\"div\", {\n                class: \"btn\",\n                onClick: ($event: any) => (_unref(applyPresetThemeToSingleSlide)(item))\n              }, \" Apply \", 8, _hoisted_48),\n              _createElementVNode(\"div\", {\n                class: \"btn\",\n                onClick: ($event: any) => (_unref(applyPresetThemeToAllSlides)(item))\n              }, \" Apply globally \", 8, _hoisted_49)\n            ])\n          ])\n        ], 4))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"slide-design-panel\">\n    <div class=\"title\">background fill</div>\n    <div class=\"row\">\n      <Select\n        style=\"flex: 1\"\n        :value=\"background.type\"\n        @update:value=\"value => updateBackgroundType(value as 'gradient' | 'image' | 'solid')\"\n        :options=\"[\n          { label: 'solid color fill', value: 'solid' },\n          { label: 'Picture filling', value: 'image' },\n          { label: 'gradient fill', value: 'gradient' },\n        ]\"\n      />\n      <div style=\"width: 10px\"></div>\n\n      <Popover\n        trigger=\"click\"\n        v-if=\"background.type === 'solid'\"\n        style=\"flex: 1\"\n      >\n        <template #content>\n          <ColorPicker\n            :modelValue=\"background.color\"\n            @update:modelValue=\"(color) => updateBackground({ color })\"\n          />\n        </template>\n        <ColorButton :color=\"background.color || '#fff'\" />\n      </Popover>\n\n      <Select\n        style=\"flex: 1\"\n        :value=\"background.imageSize || 'cover'\"\n        @update:value=\"value => updateBackground({ imageSize: value as 'repeat' | 'cover' | 'contain' })\"\n        v-else-if=\"background.type === 'image'\"\n        :options=\"[\n          { label: 'zoom', value: 'contain' },\n          { label: 'collage', value: 'repeat' },\n          { label: 'Scale to cover', value: 'cover' },\n        ]\"\n      />\n\n      <Select\n        style=\"flex: 1\"\n        :value=\"background.gradientType || ''\"\n        @update:value=\"value => updateBackground({ gradientType: value as 'linear' | 'radial' })\"\n        v-else\n        :options=\"[\n          { label: 'linear gradient', value: 'linear' },\n          { label: 'radial gradient', value: 'radial' },\n        ]\"\n      />\n    </div>\n\n    <div class=\"background-image-wrapper\" v-if=\"background.type === 'image'\">\n      <FileInput @change=\"(files) => uploadBackgroundImage(files)\">\n        <div class=\"background-image\">\n          <div\n            class=\"content\"\n            :style=\"{ backgroundImage: `url(${background.image})` }\"\n          >\n            <IconPlus />\n          </div>\n        </div>\n      </FileInput>\n    </div>\n\n    <div\n      class=\"background-gradient-wrapper\"\n      v-if=\"background.type === 'gradient'\"\n    >\n      <div class=\"row\">\n        <div style=\"width: 40%\">Starting point color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"background.gradientColor![0]\"\n              @update:modelValue=\"value => updateBackground({ gradientColor: [value, background.gradientColor![1]] })\"\n            />\n          </template>\n          <ColorButton :color=\"background.gradientColor![0]\" />\n        </Popover>\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">End color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"background.gradientColor![1]\"\n              @update:modelValue=\"value => updateBackground({ gradientColor: [background.gradientColor![0], value] })\"\n            />\n          </template>\n          <ColorButton :color=\"background.gradientColor![1]\" />\n        </Popover>\n      </div>\n      <div class=\"row\" v-if=\"background.gradientType === 'linear'\">\n        <div style=\"width: 40%\">Gradient angle:</div>\n        <Slider\n          :min=\"0\"\n          :max=\"360\"\n          :step=\"15\"\n          :value=\"background.gradientRotate || 0\"\n          @update:value=\"value => updateBackground({ gradientRotate: value as number })\"\n          style=\"width: 60%\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <Button style=\"flex: 1\" @click=\"applyBackgroundAllSlide()\"\n        >Apply background to all</Button\n      >\n    </div>\n\n    <Divider />\n\n    <div class=\"row\">\n      <div style=\"width: 40%\">Canvas size:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"viewportRatio\"\n        @update:value=\"value => updateViewportRatio(value as number)\"\n        :options=\"[\n          { label: 'Widescreen 16 : 9', value: 0.5625 },\n          { label: 'Widescreen 16 : 10', value: 0.625 },\n          { label: 'Standard 4 : 3', value: 0.75 },\n          { label: 'Paper A3 / A4', value: 0.70710678 },\n        ]\"\n      />\n    </div>\n\n    <Divider />\n\n    <div class=\"title\">\n      <span>global theme</span>\n      <span\n        class=\"more\"\n        @click=\"moreThemeConfigsVisible = !moreThemeConfigsVisible\"\n      >\n        <span class=\"text\">More</span>\n        <IconDown v-if=\"moreThemeConfigsVisible\" />\n        <IconRight v-else />\n      </span>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Font:</div>\n      <Select\n        style=\"width: 60%\"\n        :value=\"theme.fontName\"\n        @update:value=\"value => updateTheme({ fontName: value as string })\"\n        :options=\"[...availableFonts, ...WEB_FONTS]\"\n      />\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Font color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"theme.fontColor\"\n            @update:modelValue=\"(value) => updateTheme({ fontColor: value })\"\n          />\n        </template>\n        <ColorButton :color=\"theme.fontColor\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Background color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"theme.backgroundColor\"\n            @update:modelValue=\"\n              (value) => updateTheme({ backgroundColor: value })\n            \"\n          />\n        </template>\n        <ColorButton :color=\"theme.backgroundColor\" />\n      </Popover>\n    </div>\n    <div class=\"row\">\n      <div style=\"width: 40%\">Theme color:</div>\n      <Popover trigger=\"click\" style=\"width: 60%\">\n        <template #content>\n          <ColorPicker\n            :modelValue=\"theme.themeColor\"\n            @update:modelValue=\"(value) => updateTheme({ themeColor: value })\"\n          />\n        </template>\n        <ColorButton :color=\"theme.themeColor\" />\n      </Popover>\n    </div>\n\n    <template v-if=\"moreThemeConfigsVisible\">\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border style:</div>\n        <Select\n          style=\"width: 60%\"\n          :value=\"theme.outline.style || ''\"\n          @update:value=\"value => updateTheme({ outline: { ...theme.outline, style: value as 'dashed' | 'solid' } })\"\n          :options=\"[\n            { label: 'solid border', value: 'solid' },\n            { label: 'dashed border', value: 'dashed' },\n          ]\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"theme.outline.color\"\n              @update:modelValue=\"\n                (value) =>\n                  updateTheme({ outline: { ...theme.outline, color: value } })\n              \"\n            />\n          </template>\n          <ColorButton :color=\"theme.outline.color || '#000'\" />\n        </Popover>\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Border thickness:</div>\n        <NumberInput\n          :value=\"theme.outline.width || 0\"\n          @update:value=\"\n            (value) =>\n              updateTheme({ outline: { ...theme.outline, width: value } })\n          \"\n          style=\"width: 60%\"\n        />\n      </div>\n      <div class=\"row\" style=\"height: 30px\">\n        <div style=\"width: 40%\">Horizontal shadow:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"-10\"\n          :max=\"10\"\n          :step=\"1\"\n          :value=\"theme.shadow.h\"\n          @update:value=\"value => updateTheme({ shadow: { ...theme.shadow, h: value as number } })\"\n        />\n      </div>\n      <div class=\"row\" style=\"height: 30px\">\n        <div style=\"width: 40%\">Vertical shadow:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"-10\"\n          :max=\"10\"\n          :step=\"1\"\n          :value=\"theme.shadow.v\"\n          @update:value=\"value => updateTheme({ shadow: { ...theme.shadow, v: value as number } })\"\n        />\n      </div>\n      <div class=\"row\" style=\"height: 30px\">\n        <div style=\"width: 40%\">Blur:</div>\n        <Slider\n          style=\"width: 60%\"\n          :min=\"1\"\n          :max=\"20\"\n          :step=\"1\"\n          :value=\"theme.shadow.blur\"\n          @update:value=\"value => updateTheme({ shadow: { ...theme.shadow, blur: value as number } })\"\n        />\n      </div>\n      <div class=\"row\">\n        <div style=\"width: 40%\">Shadow color:</div>\n        <Popover trigger=\"click\" style=\"width: 60%\">\n          <template #content>\n            <ColorPicker\n              :modelValue=\"theme.shadow.color\"\n              @update:modelValue=\"\n                (value) =>\n                  updateTheme({ shadow: { ...theme.shadow, color: value } })\n              \"\n            />\n          </template>\n          <ColorButton :color=\"theme.shadow.color\" />\n        </Popover>\n      </div>\n    </template>\n\n    <div class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        @click=\"applyThemeToAllSlides(moreThemeConfigsVisible)\"\n        >Apply theme to all</Button\n      >\n    </div>\n\n    <Divider />\n\n    <div class=\"title\">Preset themes</div>\n    <div class=\"theme-list\">\n      <div\n        class=\"theme-item\"\n        v-for=\"(item, index) in PRESET_THEMES\"\n        :key=\"index\"\n        :style=\"{\n          backgroundColor: item.background,\n          fontFamily: item.fontname,\n        }\"\n      >\n        <div class=\"theme-item-content\">\n          <div class=\"text\" :style=\"{ color: item.fontColor }\">Word Aa</div>\n          <div class=\"colors\">\n            <div\n              class=\"color-block\"\n              v-for=\"(color, index) in item.colors\"\n              :key=\"index\"\n              :style=\"{ backgroundColor: color }\"\n            ></div>\n          </div>\n\n          <div class=\"btns\">\n            <div class=\"btn\" @click=\"applyPresetThemeToSingleSlide(item)\">\n              Apply\n            </div>\n            <div class=\"btn\" @click=\"applyPresetThemeToAllSlides(item)\">\n              Apply globally\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { SlideBackground, SlideTheme } from '@/types/slides'\nimport { PRESET_THEMES } from '@/configs/theme'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useSlideTheme from '@/hooks/useSlideTheme'\nimport { getImageDataURL } from '@/utils/image'\n\nimport ColorButton from './common/ColorButton.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Divider from '@/components/Divider.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport Select from '@/components/Select.vue'\nimport Popover from '@/components/Popover.vue'\nimport NumberInput from '@/components/NumberInput.vue'\n\nconst slidesStore = useSlidesStore()\nconst { availableFonts } = storeToRefs(useMainStore())\nconst { slides, currentSlide, viewportRatio, theme } = storeToRefs(slidesStore)\n\nconst moreThemeConfigsVisible = ref(false)\n\nconst background = computed(() => {\n  if (!currentSlide.value.background) {\n    return {\n      type: 'solid',\n      value: '#fff',\n    } as SlideBackground\n  }\n  return currentSlide.value.background\n})\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst {\n  applyPresetThemeToSingleSlide,\n  applyPresetThemeToAllSlides,\n  applyThemeToAllSlides,\n} = useSlideTheme()\n\n// \nconst updateBackgroundType = (type: 'solid' | 'image' | 'gradient') => {\n  if (type === 'solid') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'solid',\n      color: background.value.color || '#fff',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  } else if (type === 'image') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'image',\n      image: background.value.image || '',\n      imageSize: background.value.imageSize || 'cover',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  } else {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'gradient',\n      gradientType: background.value.gradientType || 'linear',\n      gradientColor: background.value.gradientColor || ['#fff', '#fff'],\n      gradientRotate: background.value.gradientRotate || 0,\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  }\n  addHistorySnapshot()\n}\n\n// \nconst updateBackground = (props: Partial<SlideBackground>) => {\n  slidesStore.updateSlide({ background: { ...background.value, ...props } })\n  addHistorySnapshot()\n}\n\n// \nconst uploadBackgroundImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then((dataURL) =>\n    updateBackground({ image: dataURL })\n  )\n}\n\n// \nconst applyBackgroundAllSlide = () => {\n  const newSlides = slides.value.map((slide) => {\n    return {\n      ...slide,\n      background: currentSlide.value.background,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  addHistorySnapshot()\n}\n\n// \nconst updateTheme = (themeProps: Partial<SlideTheme>) => {\n  slidesStore.setTheme(themeProps)\n}\n\n// \nconst updateViewportRatio = (value: number) => {\n  slidesStore.setViewportRatio(value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.slide-design-panel {\n  user-select: none;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.title {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n\n  .more {\n    cursor: pointer;\n\n    .text {\n      font-size: 12px;\n      margin-right: 3px;\n    }\n  }\n}\n.background-image-wrapper {\n  margin-bottom: 10px;\n}\n.background-image {\n  height: 0;\n  padding-bottom: 56.25%;\n  border: 1px dashed $borderColor;\n  border-radius: $borderRadius;\n  position: relative;\n  transition: all $transitionDelay;\n\n  &:hover {\n    border-color: $themeColor;\n    color: $themeColor;\n  }\n\n  .content {\n    @include absolute-0();\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-position: center;\n    background-size: contain;\n    background-repeat: no-repeat;\n    cursor: pointer;\n  }\n}\n\n.theme-list {\n  @include flex-grid-layout();\n}\n.theme-item {\n  @include flex-grid-layout-children(2, 48%);\n\n  padding-bottom: 30%;\n  border-radius: $borderRadius;\n  position: relative;\n  cursor: pointer;\n\n  .theme-item-content {\n    @include absolute-0();\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 8px;\n    border: 1px solid $borderColor;\n    border-radius: $borderRadius;\n  }\n\n  .text {\n    font-size: 16px;\n  }\n  .colors {\n    display: flex;\n  }\n  .color-block {\n    margin-top: 8px;\n    width: 12px;\n    height: 12px;\n    margin-right: 2px;\n  }\n\n  &:hover .btns {\n    display: flex;\n  }\n\n  .btns {\n    @include absolute-0();\n\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    display: none;\n    background-color: rgba($color: #000, $alpha: 0.25);\n  }\n  .btn {\n    width: 72px;\n    padding: 5px 0;\n    text-align: center;\n    background-color: $themeColor;\n    color: #fff;\n    font-size: 12px;\n    border-radius: $borderRadius;\n\n    &:hover {\n      background-color: $themeHoverColor;\n    }\n\n    & + .btn {\n      margin-top: 5px;\n    }\n  }\n}\n</style>\n","import script from \"./SlideDesignPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideDesignPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideDesignPanel.vue?vue&type=style&index=0&id=a0640428&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a0640428\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-65f3ea7e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-animation-panel\" }\nconst _hoisted_2 = { class: \"animation-pool\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"animation-text\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { TurningMode } from '@/types/slides'\nimport { SLIDE_ANIMATIONS } from '@/configs/animation'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport message from '@/utils/message'\nimport Button from '@/components/Button.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideAnimationPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { slides, currentSlide } = storeToRefs(slidesStore)\n\nconst currentTurningMode = computed(\n  () => currentSlide.value.turningMode || 'slideY'\n)\n\nconst animations = SLIDE_ANIMATIONS\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateTurningMode = (mode: TurningMode) => {\n  if (mode === currentTurningMode.value) return\n  slidesStore.updateSlide({ turningMode: mode })\n  addHistorySnapshot()\n}\n\n// \nconst applyAllSlide = () => {\n  const newSlides = slides.value.map((slide) => {\n    return {\n      ...slide,\n      turningMode: currentSlide.value.turningMode,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  message.success('Applied to all')\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(animations), (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"animation-item\", { active: currentTurningMode.value === item.value }]),\n          key: item.label,\n          onClick: ($event: any) => (updateTurningMode(item.value))\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass(['animation-block', item.value])\n          }, null, 2),\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(item.label), 1)\n        ], 10, _hoisted_3))\n      }), 128))\n    ]),\n    _createVNode(Button, {\n      style: {\"width\":\"100%\"},\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (applyAllSlide()))\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Apply to all\")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"slide-animation-panel\">\n    <div class=\"animation-pool\">\n      <div\n        class=\"animation-item\"\n        :class=\"{ active: currentTurningMode === item.value }\"\n        v-for=\"item in animations\"\n        :key=\"item.label\"\n        @click=\"updateTurningMode(item.value)\"\n      >\n        <div :class=\"['animation-block', item.value]\"></div>\n        <div class=\"animation-text\">{{ item.label }}</div>\n      </div>\n    </div>\n    <Button style=\"width: 100%\" @click=\"applyAllSlide()\">Apply to all</Button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { TurningMode } from '@/types/slides'\nimport { SLIDE_ANIMATIONS } from '@/configs/animation'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport message from '@/utils/message'\nimport Button from '@/components/Button.vue'\n\nconst slidesStore = useSlidesStore()\nconst { slides, currentSlide } = storeToRefs(slidesStore)\n\nconst currentTurningMode = computed(\n  () => currentSlide.value.turningMode || 'slideY'\n)\n\nconst animations = SLIDE_ANIMATIONS\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// \nconst updateTurningMode = (mode: TurningMode) => {\n  if (mode === currentTurningMode.value) return\n  slidesStore.updateSlide({ turningMode: mode })\n  addHistorySnapshot()\n}\n\n// \nconst applyAllSlide = () => {\n  const newSlides = slides.value.map((slide) => {\n    return {\n      ...slide,\n      turningMode: currentSlide.value.turningMode,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  message.success('Applied to all')\n  addHistorySnapshot()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.animation-pool {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 10px;\n}\n.animation-item {\n  width: 50%;\n  height: 100px;\n  border: solid 1px #d6d6d6;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 0 15px 0;\n  position: relative;\n  cursor: pointer;\n\n  &.active {\n    border-color: $themeColor;\n    z-index: 1;\n  }\n\n  &:nth-child(2n) {\n    margin-left: -1px;\n  }\n  &:nth-child(n + 3) {\n    margin-top: -1px;\n  }\n}\n.animation-block {\n  width: 64px;\n  height: 36px;\n  background: #666;\n  position: relative;\n  overflow: hidden;\n\n  @mixin elAnimation($animationType) {\n    content: 'Paperport';\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: rgba($color: $themeColor, $alpha: 0.75);\n    color: #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    animation: $animationType $transitionDelaySlow linear;\n  }\n\n  &.fade:hover {\n    &::after {\n      @include elAnimation(fade);\n    }\n  }\n  &.slideX:hover {\n    &::after {\n      @include elAnimation(slideX);\n    }\n  }\n  &.slideY:hover {\n    &::after {\n      @include elAnimation(slideY);\n    }\n  }\n  &.slideX3D:hover {\n    &::after {\n      @include elAnimation(slideX3D);\n    }\n  }\n  &.slideY3D:hover {\n    &::after {\n      @include elAnimation(slideY3D);\n    }\n  }\n  &.rotate:hover {\n    &::after {\n      transform-origin: 0 0;\n      @include elAnimation(rotate);\n    }\n  }\n  &.scaleY:hover {\n    &::after {\n      @include elAnimation(scaleY);\n    }\n  }\n  &.scaleX:hover {\n    &::after {\n      @include elAnimation(scaleX);\n    }\n  }\n  &.scale:hover {\n    &::after {\n      @include elAnimation(scale);\n    }\n  }\n  &.scaleReverse:hover {\n    &::after {\n      @include elAnimation(scaleReverse);\n    }\n  }\n}\n.animation-text {\n  font-size: 12px;\n  color: #333;\n  text-align: center;\n}\n\n@keyframes fade {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes slideX {\n  0% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes slideY {\n  0% {\n    transform: translateY(100%);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes slideX3D {\n  0% {\n    transform: translateX(100%) scale(0.5);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes slideY3D {\n  0% {\n    transform: translateY(100%) scale(0.5);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes rotate {\n  0% {\n    transform: rotate(-90deg);\n  }\n  100% {\n    transform: rotate(0);\n  }\n}\n@keyframes scaleY {\n  0% {\n    transform: scaleY(0.1);\n  }\n  100% {\n    transform: scaleY(1);\n  }\n}\n@keyframes scaleX {\n  0% {\n    transform: scaleX(0.1);\n  }\n  100% {\n    transform: scaleY(1);\n  }\n}\n@keyframes scale {\n  0% {\n    transform: scale(0.25);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes scaleReverse {\n  0% {\n    transform: scale(2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n</style>\n","import script from \"./SlideAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideAnimationPanel.vue?vue&type=style&index=0&id=65f3ea7e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-65f3ea7e\"]])\n\nexport default __exports__","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport type { PPTElement } from '@/types/slides'\r\nimport { ElementAlignCommands } from '@/types/edit'\r\nimport { getElementListRange, getRectRotatedOffset } from '@/utils/element'\r\nimport useHistorySnapshot from './useHistorySnapshot'\r\n\r\ninterface RangeMap {\r\n  [id: string]: ReturnType<typeof getElementListRange> \r\n}\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  /**\r\n   * \r\n   * @param command \r\n   */\r\n  const alignActiveElement = (command: ElementAlignCommands) => {\r\n    const { minX, maxX, minY, maxY } = getElementListRange(activeElementList.value)\r\n    const elementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    // \r\n    const groupElementRangeMap: RangeMap = {}\r\n    for (const activeElement of activeElementList.value) {\r\n      if (activeElement.groupId && !groupElementRangeMap[activeElement.groupId]) {\r\n        const groupElements = activeElementList.value.filter(item => item.groupId === activeElement.groupId)\r\n        groupElementRangeMap[activeElement.groupId] = getElementListRange(groupElements)\r\n      }\r\n    }\r\n\r\n    // \r\n    if (command === ElementAlignCommands.LEFT) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetX } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.left = minX - offsetX\r\n            }\r\n            else element.left = minX\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.minX - minX\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.RIGHT) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elWidth = element.type === 'line' ? Math.max(element.start[0], element.end[0]) : element.width\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetX } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.left = maxX - elWidth + offsetX\r\n            }\r\n            else element.left = maxX - elWidth\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.maxX - maxX\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.TOP) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetY } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.top = minY - offsetY\r\n            }\r\n            else element.top = minY\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.minY - minY\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.BOTTOM) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elHeight = element.type === 'line' ? Math.max(element.start[1], element.end[1]) : element.height\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetY } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.top = maxY - elHeight + offsetY\r\n            }\r\n            else element.top = maxY - elHeight\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.maxY - maxY\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.HORIZONTAL) {\r\n      const horizontalCenter = (minX + maxX) / 2\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elWidth = element.type === 'line' ? Math.max(element.start[0], element.end[0]) : element.width\r\n            element.left = horizontalCenter - elWidth / 2\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const center = (range.maxX + range.minX) / 2\r\n            const offset = center - horizontalCenter\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.VERTICAL) {\r\n      const verticalCenter = (minY + maxY) / 2\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elHeight = element.type === 'line' ? Math.max(element.start[1], element.end[1]) : element.height\r\n            element.top = verticalCenter - elHeight / 2\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const center = (range.maxY + range.minY) / 2\r\n            const offset = center - verticalCenter\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: elementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    alignActiveElement,\r\n  }\r\n}","import { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport type { PPTElement } from '@/types/slides'\r\nimport { getElementRange, getElementListRange, getRectRotatedOffset } from '@/utils/element'\r\nimport useHistorySnapshot from './useHistorySnapshot'\r\n\r\ninterface ElementItem {\r\n  min: number\r\n  max: number\r\n  el: PPTElement\r\n}\r\n\r\ninterface GroupItem {\r\n  groupId: string\r\n  els: PPTElement[]\r\n}\r\n\r\ninterface GroupElementsItem {\r\n  min: number\r\n  max: number\r\n  els: PPTElement[]\r\n}\r\n\r\ntype Item = ElementItem | GroupElementsItem\r\n\r\ninterface ElementWithPos {\r\n  pos: number\r\n  el: PPTElement\r\n}\r\n\r\ninterface LastPos {\r\n  min: number\r\n  max: number\r\n}\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  const displayItemCount = computed(() => {\r\n    let count = 0\r\n    const groupIdList: string[] = []\r\n    for (const el of activeElementList.value) {\r\n      if (!el.groupId) count += 1\r\n      else if (!groupIdList.includes(el.groupId)) {\r\n        groupIdList.push(el.groupId)\r\n        count += 1\r\n      }\r\n    }\r\n    return count\r\n  })\r\n  // \r\n  const uniformHorizontalDisplay = () => {\r\n    const { minX, maxX } = getElementListRange(activeElementList.value)\r\n    const copyOfActiveElementList: PPTElement[] = JSON.parse(JSON.stringify(activeElementList.value))\r\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    // \r\n    const singleElemetList: ElementItem[] = []\r\n    let groupList: GroupItem[] = []\r\n    for (const el of copyOfActiveElementList) {\r\n      if (!el.groupId) {\r\n        const { minX, maxX } = getElementRange(el)\r\n        singleElemetList.push({ min: minX, max: maxX, el })\r\n      }\r\n      else {\r\n        const groupEl = groupList.find(item => item.groupId === el.groupId)\r\n        if (!groupEl) groupList.push({ groupId: el.groupId, els: [el] })\r\n        else {\r\n          groupList = groupList.map(item => item.groupId === el.groupId ? { ...item, els: [...item.els, el] } : item)\r\n        }\r\n      }\r\n    }\r\n    const formatedGroupList: GroupElementsItem[] = []\r\n    for (const groupItem of groupList) {\r\n      const { minX, maxX } = getElementListRange(groupItem.els)\r\n      formatedGroupList.push({ min: minX, max: maxX, els: groupItem.els })\r\n    }\r\n\r\n    // \r\n    const list: Item[] = [...singleElemetList, ...formatedGroupList]\r\n    list.sort((itemA, itemB) => itemA.min - itemB.min)\r\n\r\n    // \r\n    // ( - ) / ( - 1)\r\n    let totalWidth = 0\r\n    for (const item of list) {\r\n      const width = item.max - item.min\r\n      totalWidth += width\r\n    }\r\n    const span = ((maxX - minX) - totalWidth) / (list.length - 1)\r\n\r\n    // \r\n    // \r\n    //  +  + \r\n    // posleftleft  \r\n    const sortedElementData: ElementWithPos[] = []\r\n\r\n    const firstItem = list[0]\r\n    let lastPos: LastPos = { min: firstItem.min, max: firstItem.max }\r\n\r\n    if ('el' in firstItem) {\r\n      sortedElementData.push({ pos: firstItem.min, el: firstItem.el })\r\n    }\r\n    else {\r\n      for (const el of firstItem.els) {\r\n        const { minX: pos } = getElementRange(el)\r\n        sortedElementData.push({ pos, el })\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < list.length; i++) {\r\n      const item = list[i]\r\n      const lastWidth = lastPos.max - lastPos.min\r\n      const currentPos = lastPos.min + lastWidth + span\r\n      const currentWidth = item.max - item.min\r\n      lastPos = { min: currentPos, max: currentPos + currentWidth }\r\n\r\n      if ('el' in item) {\r\n        sortedElementData.push({ pos: currentPos, el: item.el })\r\n      }\r\n      else {\r\n        for (const el of item.els) {\r\n          const { minX } = getElementRange(el)\r\n          const offset = minX - item.min\r\n          sortedElementData.push({ pos: currentPos + offset, el })\r\n        }\r\n      }\r\n    }\r\n\r\n    // left\r\n    // left\r\n    for (const element of newElementList) {\r\n      if (!activeElementIdList.value.includes(element.id)) continue\r\n\r\n      for (const sortedItem of sortedElementData) {\r\n        if (sortedItem.el.id === element.id) {\r\n          if ('rotate' in element && element.rotate) {\r\n            const { offsetX } = getRectRotatedOffset({\r\n              left: element.left,\r\n              top: element.top,\r\n              width: element.width,\r\n              height: element.height,\r\n              rotate: element.rotate,\r\n            })\r\n            element.left = sortedItem.pos - offsetX\r\n          }\r\n          else element.left = sortedItem.pos\r\n        }\r\n      }\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  // \r\n  const uniformVerticalDisplay = () => {\r\n    const { minY, maxY } = getElementListRange(activeElementList.value)\r\n    const copyOfActiveElementList: PPTElement[] = JSON.parse(JSON.stringify(activeElementList.value))\r\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    const singleElemetList: ElementItem[] = []\r\n    let groupList: GroupItem[] = []\r\n    for (const el of copyOfActiveElementList) {\r\n      if (!el.groupId) {\r\n        const { minY, maxY } = getElementRange(el)\r\n        singleElemetList.push({ min: minY, max: maxY, el })\r\n      }\r\n      else {\r\n        const groupEl = groupList.find(item => item.groupId === el.groupId)\r\n        if (!groupEl) groupList.push({ groupId: el.groupId, els: [el] })\r\n        else {\r\n          groupList = groupList.map(item => item.groupId === el.groupId ? { ...item, els: [...item.els, el] } : item)\r\n        }\r\n      }\r\n    }\r\n    const formatedGroupList: GroupElementsItem[] = []\r\n    for (const groupItem of groupList) {\r\n      const { minY, maxY } = getElementListRange(groupItem.els)\r\n      formatedGroupList.push({ min: minY, max: maxY, els: groupItem.els })\r\n    }\r\n\r\n    const list: Item[] = [...singleElemetList, ...formatedGroupList]\r\n    list.sort((itemA, itemB) => itemA.min - itemB.min)\r\n\r\n    let totalHeight = 0\r\n    for (const item of list) {\r\n      const height = item.max - item.min\r\n      totalHeight += height\r\n    }\r\n    const span = ((maxY - minY) - totalHeight) / (list.length - 1)\r\n\r\n    const sortedElementData: ElementWithPos[] = []\r\n\r\n    const firstItem = list[0]\r\n    let lastPos: LastPos = { min: firstItem.min, max: firstItem.max }\r\n\r\n    if ('el' in firstItem) {\r\n      sortedElementData.push({ pos: firstItem.min, el: firstItem.el })\r\n    }\r\n    else {\r\n      for (const el of firstItem.els) {\r\n        const { minY: pos } = getElementRange(el)\r\n        sortedElementData.push({ pos, el })\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < list.length; i++) {\r\n      const item = list[i]\r\n      const lastHeight = lastPos.max - lastPos.min\r\n      const currentPos = lastPos.min + lastHeight + span\r\n      const currentHeight = item.max - item.min\r\n      lastPos = { min: currentPos, max: currentPos + currentHeight }\r\n\r\n      if ('el' in item) {\r\n        sortedElementData.push({ pos: currentPos, el: item.el })\r\n      }\r\n      else {\r\n        for (const el of item.els) {\r\n          const { minY } = getElementRange(el)\r\n          const offset = minY - item.min\r\n          sortedElementData.push({ pos: currentPos + offset, el })\r\n        }\r\n      }\r\n    }\r\n\r\n    for (const element of newElementList) {\r\n      if (!activeElementIdList.value.includes(element.id)) continue\r\n\r\n      for (const sortedItem of sortedElementData) {\r\n        if (sortedItem.el.id === element.id) {\r\n          if ('rotate' in element && element.rotate) {\r\n            const { offsetY } = getRectRotatedOffset({\r\n              left: element.left,\r\n              top: element.top,\r\n              width: element.width,\r\n              height: element.height,\r\n              rotate: element.rotate,\r\n            })\r\n            element.top = sortedItem.pos - offsetY\r\n          }\r\n          else element.top = sortedItem.pos\r\n        }\r\n      }\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    displayItemCount,\r\n    uniformHorizontalDisplay,\r\n    uniformVerticalDisplay,\r\n  }\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, resolveDirective as _resolveDirective, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0a9428b3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"multi-position-panel\" }\n\nimport { ElementAlignCommands } from '@/types/edit'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useAlignActiveElement from '@/hooks/useAlignActiveElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useUniformDisplayElement from '@/hooks/useUniformDisplayElement'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiPositionPanel',\n  setup(__props) {\n\nconst { canCombine, combineElements, uncombineElements } = useCombineElement()\nconst { alignActiveElement } = useAlignActiveElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { displayItemCount, uniformHorizontalDisplay, uniformVerticalDisplay } =\n  useUniformDisplayElement()\n\n// \n// \n// \nconst alignElement = (command: ElementAlignCommands) => {\n  if (canCombine.value) alignActiveElement(command)\n  else alignElementToCanvas(command)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n  const _component_IconGroup = _resolveComponent(\"IconGroup\")!\n  const _component_IconUngroup = _resolveComponent(\"IconUngroup\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (alignElement(_unref(ElementAlignCommands).LEFT)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignLeft)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align left']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (alignElement(_unref(ElementAlignCommands).HORIZONTAL)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignHorizontally)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Horizontally centered']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (alignElement(_unref(ElementAlignCommands).RIGHT)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignRight)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align right']\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (alignElement(_unref(ElementAlignCommands).TOP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignTop)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align top']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (alignElement(_unref(ElementAlignCommands).VERTICAL)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignVertically)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Vertically centered']\n        ]),\n        _withDirectives((_openBlock(), _createBlock(Button, {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (alignElement(_unref(ElementAlignCommands).BOTTOM)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconAlignBottom)\n          ]),\n          _: 1\n        })), [\n          [_directive_tooltip, 'Align bottom']\n        ])\n      ]),\n      _: 1\n    }),\n    (_unref(displayItemCount) > 2)\n      ? (_openBlock(), _createBlock(ButtonGroup, {\n          key: 0,\n          class: \"row\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(Button, {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(uniformHorizontalDisplay)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Horizontal uniform distribution\")\n              ]),\n              _: 1\n            }),\n            _createVNode(Button, {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(uniformVerticalDisplay)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Vertically uniform distribution\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Divider),\n    _createVNode(ButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(Button, {\n          disabled: !_unref(canCombine),\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(combineElements)())),\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconGroup, { style: {\"margin-right\":\"3px\"} }),\n            _createTextVNode(\"combination\")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createVNode(Button, {\n          disabled: _unref(canCombine),\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(uncombineElements)())),\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconUngroup, { style: {\"margin-right\":\"3px\"} }),\n            _createTextVNode(\"Ungroup\")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"multi-position-panel\">\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align left'\"\n        @click=\"alignElement(ElementAlignCommands.LEFT)\"\n        ><IconAlignLeft\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Horizontally centered'\"\n        @click=\"alignElement(ElementAlignCommands.HORIZONTAL)\"\n        ><IconAlignHorizontally\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align right'\"\n        @click=\"alignElement(ElementAlignCommands.RIGHT)\"\n        ><IconAlignRight\n      /></Button>\n    </ButtonGroup>\n    <ButtonGroup class=\"row\">\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align top'\"\n        @click=\"alignElement(ElementAlignCommands.TOP)\"\n        ><IconAlignTop\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Vertically centered'\"\n        @click=\"alignElement(ElementAlignCommands.VERTICAL)\"\n        ><IconAlignVertically\n      /></Button>\n      <Button\n        style=\"flex: 1\"\n        v-tooltip=\"'Align bottom'\"\n        @click=\"alignElement(ElementAlignCommands.BOTTOM)\"\n        ><IconAlignBottom\n      /></Button>\n    </ButtonGroup>\n    <ButtonGroup class=\"row\" v-if=\"displayItemCount > 2\">\n      <Button style=\"flex: 1\" @click=\"uniformHorizontalDisplay()\"\n        >Horizontal uniform distribution</Button\n      >\n      <Button style=\"flex: 1\" @click=\"uniformVerticalDisplay()\"\n        >Vertically uniform distribution</Button\n      >\n    </ButtonGroup>\n\n    <Divider />\n\n    <ButtonGroup class=\"row\">\n      <Button :disabled=\"!canCombine\" @click=\"combineElements()\" style=\"flex: 1\"\n        ><IconGroup style=\"margin-right: 3px\" />combination</Button\n      >\n      <Button\n        :disabled=\"canCombine\"\n        @click=\"uncombineElements()\"\n        style=\"flex: 1\"\n        ><IconUngroup style=\"margin-right: 3px\" />Ungroup</Button\n      >\n    </ButtonGroup>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ElementAlignCommands } from '@/types/edit'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useAlignActiveElement from '@/hooks/useAlignActiveElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useUniformDisplayElement from '@/hooks/useUniformDisplayElement'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\nconst { canCombine, combineElements, uncombineElements } = useCombineElement()\nconst { alignActiveElement } = useAlignActiveElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { displayItemCount, uniformHorizontalDisplay, uniformVerticalDisplay } =\n  useUniformDisplayElement()\n\n// \n// \n// \nconst alignElement = (command: ElementAlignCommands) => {\n  if (canCombine.value) alignActiveElement(command)\n  else alignElementToCanvas(command)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n</style>\n","import script from \"./MultiPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiPositionPanel.vue?vue&type=style&index=0&id=0a9428b3&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a9428b3\"]])\n\nexport default __exports__","export const SYMBOL_LIST = [\n  {\n    key: 'letter',\n    label: 'letter',\n    children: [\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', \n      '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    ],\n  },\n  {\n    key: 'number',\n    label: 'number',\n    children: [\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '',\n    ],\n  },\n  {\n    key: 'math',\n    label: 'math',\n    children: [\n      '+', '-', '', '', '=', '~', '', '', '%', '', '', '', '', '', '', '', '', '',\n      '<', '>', 'l', 'o', 'g', 'l', 'g', 'l', 'n', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '',\n    ],\n  },\n  {\n    key: 'arrow',\n    label: 'arrow',\n    children: [\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '',\n    ],\n  },\n  {\n    key: 'graph',\n    label: 'graph',\n    children: [\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2bb5f257\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"symbol-panel\" }\nconst _hoisted_2 = { class: \"pool\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"symbol\" }\n\nimport { computed, ref } from 'vue'\nimport { SYMBOL_LIST } from '@/configs/symbol'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport Tabs from '@/components/Tabs.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SymbolPanel',\n  setup(__props) {\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].key)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.key === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nconst tabs = SYMBOL_LIST.map(item => ({\n  key: item.key,\n  label: item.label,\n}))\n\nconst selectSymbol = (value: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command: 'insert', value } })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: _unref(tabs),\n      value: selectedSymbolKey.value,\n      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((selectedSymbolKey).value = $event)),\n      tabsStyle: { marginBottom: '8px' },\n      spaceBetween: \"\"\n    }, null, 8, [\"tabs\", \"value\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(symbolPool.value, (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"symbol-item\",\n          key: index,\n          onClick: ($event: any) => (selectSymbol(item))\n        }, [\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(item), 1)\n        ], 8, _hoisted_3))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"symbol-panel\">\n    <Tabs \n      :tabs=\"tabs\" \n      v-model:value=\"selectedSymbolKey\" \n      :tabsStyle=\"{ marginBottom: '8px' }\" \n      spaceBetween\n    />\n    <div class=\"pool\">\n      <div class=\"symbol-item\" v-for=\"(item, index) in symbolPool\" :key=\"index\" @click=\"selectSymbol(item)\">\n        <div class=\"symbol\">{{item}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { SYMBOL_LIST } from '@/configs/symbol'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport Tabs from '@/components/Tabs.vue'\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].key)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.key === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nconst tabs = SYMBOL_LIST.map(item => ({\n  key: item.key,\n  label: item.label,\n}))\n\nconst selectSymbol = (value: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command: 'insert', value } })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.symbol-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .pool {\n    padding: 5px 12px;\n    margin: 0 -12px;\n    flex: 1;\n    font-size: 18px;\n\n    @include overflow-overlay();\n    @include flex-grid-layout();\n  }\n  .symbol-item {\n    @include flex-grid-layout-children(5, 18%);\n\n    height: 0;\n    padding-bottom: 18%;\n    position: relative;\n    cursor: pointer;\n    border: 1px solid $borderColor;\n\n    &:hover {\n      color: $themeColor;\n    }\n\n    .symbol {\n      @include absolute-0();\n\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: #fff;\n    }\n  }\n}\n</style>\n","import script from \"./SymbolPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SymbolPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SymbolPanel.vue?vue&type=style&index=0&id=2bb5f257&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2bb5f257\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-460bd42d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"toolbar\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { computed, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ToolbarStates } from '@/types/toolbar'\n\nimport ElementStylePanel from './ElementStylePanel/index.vue'\nimport ElementPositionPanel from './ElementPositionPanel.vue'\nimport ElementAnimationPanel from './ElementAnimationPanel.vue'\nimport SlideDesignPanel from './SlideDesignPanel.vue'\nimport SlideAnimationPanel from './SlideAnimationPanel.vue'\nimport MultiPositionPanel from './MultiPositionPanel.vue'\nimport SymbolPanel from './SymbolPanel.vue'\nimport Tabs from '@/components/Tabs.vue'\n\ninterface ElementTabs {\n  label: string\n  key: ToolbarStates\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { activeElementIdList, handleElement, toolbarState } =\n  storeToRefs(mainStore)\n\nconst elementTabs = computed<ElementTabs[]>(() => {\n  if (handleElement.value?.type === 'text') {\n    return [\n      { label: 'Style', key: ToolbarStates.EL_STYLE },\n      { label: 'symbol', key: ToolbarStates.SYMBOL },\n      { label: 'Position', key: ToolbarStates.EL_POSITION },\n      { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n    ]\n  }\n  return [\n    { label: 'Style', key: ToolbarStates.EL_STYLE },\n    { label: 'Position', key: ToolbarStates.EL_POSITION },\n    { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n  ]\n})\nconst slideTabs = [\n  { label: 'Design', key: ToolbarStates.SLIDE_DESIGN },\n  { label: 'Switch', key: ToolbarStates.SLIDE_ANIMATION },\n  { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n]\nconst multiSelectTabs = [\n  { label: 'Style', key: ToolbarStates.EL_STYLE },\n  { label: 'Position', key: ToolbarStates.MULTI_POSITION },\n]\n\nconst setToolbarState = (value: ToolbarStates) => {\n  mainStore.setToolbarState(value)\n}\n\nconst currentTabs = computed(() => {\n  if (!activeElementIdList.value.length) return slideTabs\n  else if (activeElementIdList.value.length > 1) return multiSelectTabs\n  return elementTabs.value\n})\n\nwatch(currentTabs, () => {\n  const currentTabsValue: ToolbarStates[] = currentTabs.value.map(\n    (tab) => tab.key\n  )\n  if (!currentTabsValue.includes(toolbarState.value)) {\n    mainStore.setToolbarState(currentTabsValue[0])\n  }\n})\n\nconst currentPanelComponent = computed(() => {\n  const panelMap = {\n    [ToolbarStates.EL_STYLE]: ElementStylePanel,\n    [ToolbarStates.EL_POSITION]: ElementPositionPanel,\n    [ToolbarStates.EL_ANIMATION]: ElementAnimationPanel,\n    [ToolbarStates.SLIDE_DESIGN]: SlideDesignPanel,\n    [ToolbarStates.SLIDE_ANIMATION]: SlideAnimationPanel,\n    [ToolbarStates.MULTI_POSITION]: MultiPositionPanel,\n    [ToolbarStates.SYMBOL]: SymbolPanel,\n  }\n  return panelMap[toolbarState.value] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: currentTabs.value,\n      value: _unref(toolbarState),\n      card: \"\",\n      \"onUpdate:value\": _cache[0] || (_cache[0] = key => setToolbarState(key as ToolbarStates))\n    }, null, 8, [\"tabs\", \"value\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(currentPanelComponent.value)))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"toolbar\">\n    <Tabs\n      :tabs=\"currentTabs\"\n      :value=\"toolbarState\"\n      card\n      @update:value=\"key => setToolbarState(key as ToolbarStates)\"\n    />\n    <div class=\"content\">\n      <component :is=\"currentPanelComponent\"></component>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ToolbarStates } from '@/types/toolbar'\n\nimport ElementStylePanel from './ElementStylePanel/index.vue'\nimport ElementPositionPanel from './ElementPositionPanel.vue'\nimport ElementAnimationPanel from './ElementAnimationPanel.vue'\nimport SlideDesignPanel from './SlideDesignPanel.vue'\nimport SlideAnimationPanel from './SlideAnimationPanel.vue'\nimport MultiPositionPanel from './MultiPositionPanel.vue'\nimport SymbolPanel from './SymbolPanel.vue'\nimport Tabs from '@/components/Tabs.vue'\n\ninterface ElementTabs {\n  label: string\n  key: ToolbarStates\n}\n\nconst mainStore = useMainStore()\nconst { activeElementIdList, handleElement, toolbarState } =\n  storeToRefs(mainStore)\n\nconst elementTabs = computed<ElementTabs[]>(() => {\n  if (handleElement.value?.type === 'text') {\n    return [\n      { label: 'Style', key: ToolbarStates.EL_STYLE },\n      { label: 'symbol', key: ToolbarStates.SYMBOL },\n      { label: 'Position', key: ToolbarStates.EL_POSITION },\n      { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n    ]\n  }\n  return [\n    { label: 'Style', key: ToolbarStates.EL_STYLE },\n    { label: 'Position', key: ToolbarStates.EL_POSITION },\n    { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n  ]\n})\nconst slideTabs = [\n  { label: 'Design', key: ToolbarStates.SLIDE_DESIGN },\n  { label: 'Switch', key: ToolbarStates.SLIDE_ANIMATION },\n  { label: 'animation', key: ToolbarStates.EL_ANIMATION },\n]\nconst multiSelectTabs = [\n  { label: 'Style', key: ToolbarStates.EL_STYLE },\n  { label: 'Position', key: ToolbarStates.MULTI_POSITION },\n]\n\nconst setToolbarState = (value: ToolbarStates) => {\n  mainStore.setToolbarState(value)\n}\n\nconst currentTabs = computed(() => {\n  if (!activeElementIdList.value.length) return slideTabs\n  else if (activeElementIdList.value.length > 1) return multiSelectTabs\n  return elementTabs.value\n})\n\nwatch(currentTabs, () => {\n  const currentTabsValue: ToolbarStates[] = currentTabs.value.map(\n    (tab) => tab.key\n  )\n  if (!currentTabsValue.includes(toolbarState.value)) {\n    mainStore.setToolbarState(currentTabsValue[0])\n  }\n})\n\nconst currentPanelComponent = computed(() => {\n  const panelMap = {\n    [ToolbarStates.EL_STYLE]: ElementStylePanel,\n    [ToolbarStates.EL_POSITION]: ElementPositionPanel,\n    [ToolbarStates.EL_ANIMATION]: ElementAnimationPanel,\n    [ToolbarStates.SLIDE_DESIGN]: SlideDesignPanel,\n    [ToolbarStates.SLIDE_ANIMATION]: SlideAnimationPanel,\n    [ToolbarStates.MULTI_POSITION]: MultiPositionPanel,\n    [ToolbarStates.SYMBOL]: SymbolPanel,\n  }\n  return panelMap[toolbarState.value] || null\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.toolbar {\n  border-left: solid 1px $borderColor;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n}\n.content {\n  padding: 12px;\n  font-size: 13px;\n\n  @include overflow-overlay();\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=460bd42d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-460bd42d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0ebc507c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editor\" }\n\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { debounce } from 'lodash'\nimport { useMainStore } from '@/store'\nimport type { EditorView } from 'prosemirror-view'\nimport { initProsemirrorEditor, createDocument } from '@/utils/prosemirror'\nimport { addMark, autoSelectAll, getTextAttrs, type TextAttrs } from '@/utils/prosemirror/utils'\nimport { toggleList } from '@/utils/prosemirror/commands/toggleList'\nimport tippy, { type Instance } from 'tippy.js'\n\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Popover from '@/components/Popover.vue'\nimport { toggleMark } from 'prosemirror-commands'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Editor',\n  props: {\n    value: {}\n  },\n  emits: [\"update\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst mainStore = useMainStore()\n\nconst editorViewRef = ref<HTMLElement>()\nlet editorView: EditorView\n\nconst attr = ref<TextAttrs>()\n\nconst menuInstance = ref<Instance>()\nconst menuRef = ref<HTMLElement>()\n\nconst hideMenuInstance = () => {\n  if (menuInstance.value) menuInstance.value.hide()\n}\n\nconst handleInput = debounce(function() {\n  emit('update', editorView.dom.innerHTML)\n}, 300, { trailing: true })\n\nconst handleFocus = () => {\n  mainStore.setDisableHotkeysState(true)\n}\n\nconst handleBlur = () => {\n  mainStore.setDisableHotkeysState(false)\n}\n\nconst updateTextContent = () => {\n  if (!editorView) return\n  const { doc, tr } = editorView.state\n  editorView.dispatch(tr.replaceRangeWith(0, doc.content.size, createDocument(props.value)))\n}\n\n__expose({ updateTextContent })\n\nconst handleMouseup = () => {\n  const selection = window.getSelection()\n\n  if (\n    !selection ||\n    !selection.anchorNode ||\n    !selection.focusNode ||\n    selection.isCollapsed ||\n    selection.type === 'Caret' ||\n    selection.type === 'None'\n  ) return\n\n  const range = selection.getRangeAt(0)\n\n  if (menuInstance.value) {\n    attr.value = getTextAttrs(editorView)\n\n    const { x, y, left, top } = range.getBoundingClientRect()\n\n    menuInstance.value.setProps({\n      getReferenceClientRect: () => ({\n        x, y, left, top,\n        height: 0,\n        width: 0,\n        right: left,\n        bottom: top,\n      } as DOMRect),\n    })\n    menuInstance.value.show()\n  }\n}\n\nconst execCommand = (command: string, value?: string) => {\n  if (command === 'color' && value) {\n    const mark = editorView.state.schema.marks.forecolor.create({ color: value })\n    autoSelectAll(editorView)\n    addMark(editorView, mark)\n  }\n  else if (command === 'backcolor' && value) {\n    const mark = editorView.state.schema.marks.backcolor.create({ backcolor: value })\n    autoSelectAll(editorView)\n    addMark(editorView, mark)\n  }\n  else if (command === 'bold') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.strong)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'em') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.em)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'underline') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.underline)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'strikethrough') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.strikethrough)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'bulletList') {\n    const { bullet_list: bulletList, list_item: listItem } = editorView.state.schema.nodes\n    toggleList(bulletList, listItem)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'orderedList') {\n    const { ordered_list: orderedList, list_item: listItem } = editorView.state.schema.nodes\n    toggleList(orderedList, listItem)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'clear') {\n    autoSelectAll(editorView)\n    const { $from, $to } = editorView.state.selection\n    editorView.dispatch(editorView.state.tr.removeMark($from.pos, $to.pos))\n  }\n\n  editorView.focus()\n  handleInput()\n  attr.value = getTextAttrs(editorView)\n}\n\nonMounted(() => {\n  editorView = initProsemirrorEditor((editorViewRef.value as Element), props.value, {\n    handleDOMEvents: {\n      focus: handleFocus,\n      blur: handleBlur,\n      mouseup: handleMouseup,\n      mousedown: () => {\n        window.getSelection()?.removeAllRanges()\n        hideMenuInstance()\n      },\n      keydown: hideMenuInstance,\n      input: handleInput,\n    },\n  }, {\n    placeholder: '',\n  })\n\n  menuInstance.value = tippy(editorViewRef.value!, {\n    duration: 0,\n    content: menuRef.value!,\n    interactive: true,\n    trigger: 'manual',\n    placement: 'top-start',\n    hideOnClick: 'toggle',\n    offset: [0, 6],\n  })\n})\n\nonUnmounted(() => {\n  editorView && editorView.destroy()\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconList = _resolveComponent(\"IconList\")!\n  const _component_IconOrderedList = _resolveComponent(\"IconOrderedList\")!\n  const _component_IconFormat = _resolveComponent(\"IconFormat\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"prosemirror-editor\",\n      ref_key: \"editorViewRef\",\n      ref: editorViewRef\n    }, null, 512),\n    _createElementVNode(\"div\", {\n      class: \"menu\",\n      ref_key: \"menuRef\",\n      ref: menuRef\n    }, [\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.bold }),\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (execCommand('bold')))\n      }, [\n        _createVNode(_component_IconTextBold)\n      ], 2),\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.em }),\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (execCommand('em')))\n      }, [\n        _createVNode(_component_IconTextItalic)\n      ], 2),\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.underline }),\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (execCommand('underline')))\n      }, [\n        _createVNode(_component_IconTextUnderline)\n      ], 2),\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.strikethrough }),\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (execCommand('strikethrough')))\n      }, [\n        _createVNode(_component_IconStrikethrough)\n      ], 2),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"30%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: attr.value?.color,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = value => execCommand('color', value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"button\", null, [\n            _createVNode(_component_IconText)\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(Popover, {\n        trigger: \"click\",\n        style: {\"width\":\"30%\"}\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: attr.value?.backcolor,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = value => execCommand('backcolor', value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"button\", null, [\n            _createVNode(_component_IconHighLight)\n          ])\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.bulletList }),\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (execCommand('bulletList')))\n      }, [\n        _createVNode(_component_IconList)\n      ], 2),\n      _createElementVNode(\"button\", {\n        class: _normalizeClass({ 'active': attr.value?.orderedList }),\n        onClick: _cache[7] || (_cache[7] = ($event: any) => (execCommand('orderedList')))\n      }, [\n        _createVNode(_component_IconOrderedList)\n      ], 2),\n      _createElementVNode(\"button\", {\n        onClick: _cache[8] || (_cache[8] = ($event: any) => (execCommand('clear')))\n      }, [\n        _createVNode(_component_IconFormat)\n      ])\n    ], 512)\n  ])), [\n    [_directive_click_outside, hideMenuInstance]\n  ])\n}\n}\n\n})","<template>\n  <div class=\"editor\" v-click-outside=\"hideMenuInstance\">\n    <div \n      class=\"prosemirror-editor\"\n      ref=\"editorViewRef\"\n    ></div>\n  \n    <div class=\"menu\" ref=\"menuRef\">\n      <button :class=\"{ 'active': attr?.bold }\" @click=\"execCommand('bold')\"><IconTextBold /></button>\n      <button :class=\"{ 'active': attr?.em }\" @click=\"execCommand('em')\"><IconTextItalic /></button>\n      <button :class=\"{ 'active': attr?.underline }\" @click=\"execCommand('underline')\"><IconTextUnderline /></button>\n      <button :class=\"{ 'active': attr?.strikethrough }\" @click=\"execCommand('strikethrough')\"><IconStrikethrough /></button>\n      <Popover trigger=\"click\" style=\"width: 30%;\">\n        <template #content>\n          <ColorPicker :modelValue=\"attr?.color\" @update:modelValue=\"value => execCommand('color', value)\" />\n        </template>\n        <button><IconText /></button>\n      </Popover>\n      <Popover trigger=\"click\" style=\"width: 30%;\">\n        <template #content>\n          <ColorPicker :modelValue=\"attr?.backcolor\" @update:modelValue=\"value => execCommand('backcolor', value)\" />\n        </template>\n        <button><IconHighLight /></button>\n      </Popover>\n      <button :class=\"{ 'active': attr?.bulletList }\" @click=\"execCommand('bulletList')\"><IconList /></button>\n      <button :class=\"{ 'active': attr?.orderedList }\" @click=\"execCommand('orderedList')\"><IconOrderedList /></button>\n      <button @click=\"execCommand('clear')\"><IconFormat /></button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { debounce } from 'lodash'\nimport { useMainStore } from '@/store'\nimport type { EditorView } from 'prosemirror-view'\nimport { initProsemirrorEditor, createDocument } from '@/utils/prosemirror'\nimport { addMark, autoSelectAll, getTextAttrs, type TextAttrs } from '@/utils/prosemirror/utils'\nimport { toggleList } from '@/utils/prosemirror/commands/toggleList'\nimport tippy, { type Instance } from 'tippy.js'\n\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport Popover from '@/components/Popover.vue'\nimport { toggleMark } from 'prosemirror-commands'\n\nconst props = defineProps<{\n  value: string\n}>()\n\nconst emit = defineEmits<{\n  (event: 'update', payload: string): void\n}>()\n\nconst mainStore = useMainStore()\n\nconst editorViewRef = ref<HTMLElement>()\nlet editorView: EditorView\n\nconst attr = ref<TextAttrs>()\n\nconst menuInstance = ref<Instance>()\nconst menuRef = ref<HTMLElement>()\n\nconst hideMenuInstance = () => {\n  if (menuInstance.value) menuInstance.value.hide()\n}\n\nconst handleInput = debounce(function() {\n  emit('update', editorView.dom.innerHTML)\n}, 300, { trailing: true })\n\nconst handleFocus = () => {\n  mainStore.setDisableHotkeysState(true)\n}\n\nconst handleBlur = () => {\n  mainStore.setDisableHotkeysState(false)\n}\n\nconst updateTextContent = () => {\n  if (!editorView) return\n  const { doc, tr } = editorView.state\n  editorView.dispatch(tr.replaceRangeWith(0, doc.content.size, createDocument(props.value)))\n}\n\ndefineExpose({ updateTextContent })\n\nconst handleMouseup = () => {\n  const selection = window.getSelection()\n\n  if (\n    !selection ||\n    !selection.anchorNode ||\n    !selection.focusNode ||\n    selection.isCollapsed ||\n    selection.type === 'Caret' ||\n    selection.type === 'None'\n  ) return\n\n  const range = selection.getRangeAt(0)\n\n  if (menuInstance.value) {\n    attr.value = getTextAttrs(editorView)\n\n    const { x, y, left, top } = range.getBoundingClientRect()\n\n    menuInstance.value.setProps({\n      getReferenceClientRect: () => ({\n        x, y, left, top,\n        height: 0,\n        width: 0,\n        right: left,\n        bottom: top,\n      } as DOMRect),\n    })\n    menuInstance.value.show()\n  }\n}\n\nconst execCommand = (command: string, value?: string) => {\n  if (command === 'color' && value) {\n    const mark = editorView.state.schema.marks.forecolor.create({ color: value })\n    autoSelectAll(editorView)\n    addMark(editorView, mark)\n  }\n  else if (command === 'backcolor' && value) {\n    const mark = editorView.state.schema.marks.backcolor.create({ backcolor: value })\n    autoSelectAll(editorView)\n    addMark(editorView, mark)\n  }\n  else if (command === 'bold') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.strong)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'em') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.em)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'underline') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.underline)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'strikethrough') {\n    autoSelectAll(editorView)\n    toggleMark(editorView.state.schema.marks.strikethrough)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'bulletList') {\n    const { bullet_list: bulletList, list_item: listItem } = editorView.state.schema.nodes\n    toggleList(bulletList, listItem)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'orderedList') {\n    const { ordered_list: orderedList, list_item: listItem } = editorView.state.schema.nodes\n    toggleList(orderedList, listItem)(editorView.state, editorView.dispatch)\n  }\n  else if (command === 'clear') {\n    autoSelectAll(editorView)\n    const { $from, $to } = editorView.state.selection\n    editorView.dispatch(editorView.state.tr.removeMark($from.pos, $to.pos))\n  }\n\n  editorView.focus()\n  handleInput()\n  attr.value = getTextAttrs(editorView)\n}\n\nonMounted(() => {\n  editorView = initProsemirrorEditor((editorViewRef.value as Element), props.value, {\n    handleDOMEvents: {\n      focus: handleFocus,\n      blur: handleBlur,\n      mouseup: handleMouseup,\n      mousedown: () => {\n        window.getSelection()?.removeAllRanges()\n        hideMenuInstance()\n      },\n      keydown: hideMenuInstance,\n      input: handleInput,\n    },\n  }, {\n    placeholder: '',\n  })\n\n  menuInstance.value = tippy(editorViewRef.value!, {\n    duration: 0,\n    content: menuRef.value!,\n    interactive: true,\n    trigger: 'manual',\n    placement: 'top-start',\n    hideOnClick: 'toggle',\n    offset: [0, 6],\n  })\n})\n\nonUnmounted(() => {\n  editorView && editorView.destroy()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.editor {\n  height: 100%;\n  overflow: auto;\n}\n.prosemirror-editor {\n  height: 100%;\n  cursor: text;\n\n  ::v-deep(.ProseMirror) {\n    height: 100%;\n    font-size: 12px;\n    overflow: auto;\n    padding: 8px;\n    line-height: 1.5;\n\n    & > p[data-placeholder]::before {\n      content: attr(data-placeholder);\n      pointer-events: none;\n      position: absolute;\n      font-size: 12px;\n      color: rgba(#666, 0.5);\n    }\n  }\n}\n.menu {\n  display: flex;\n  background-color: #fff;\n  padding: 6px 4px;\n  border-radius: $borderRadius;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, .15);\n\n  button {\n    outline: 0;\n    border: 0;\n    background-color: #fff;\n    padding: 3px;\n    border-radius: $borderRadius;\n    font-size: 16px;\n    margin: 0 3px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n\n    &:hover, &.active {\n      background-color: $themeColor;\n      color: #fff;\n    }\n  }\n}\n</style>\n","import script from \"./Editor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=0ebc507c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ebc507c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-458a41b9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"remark\" }\n\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nimport Editor from './Editor.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    height: {}\n  },\n  emits: [\"update:height\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst slidesStore = useSlidesStore()\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst editorRef = ref<InstanceType<typeof Editor>>()\nwatch(() => currentSlide.value.id, () => {\n  nextTick(() => {\n    editorRef.value!.updateTextContent()\n  })\n}, {\n  immediate: true,\n})\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInput = (content: string) => {\n  slidesStore.updateSlide({ remark: content })\n}\n\nconst resize = (e: MouseEvent) => {\n  let isMouseDown = true\n  const startPageY = e.pageY\n  const originHeight = props.height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageY = e.pageY\n\n    const moveY = currentPageY - startPageY\n    let newHeight = -moveY + originHeight\n\n    if (newHeight < 40) newHeight = 40\n    if (newHeight > 360) newHeight = 360\n\n    emit('update:height', newHeight)\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"resize-handler\",\n      onMousedown: _cache[0] || (_cache[0] = $event => resize($event))\n    }, null, 32),\n    _createVNode(Editor, {\n      value: remark.value,\n      ref_key: \"editorRef\",\n      ref: editorRef,\n      onUpdate: _cache[1] || (_cache[1] = value => handleInput(value))\n    }, null, 8, [\"value\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"remark\">\n    <div \n      class=\"resize-handler\"\n      @mousedown=\"$event => resize($event)\"\n    ></div>\n    <Editor\n      :value=\"remark\"\n      ref=\"editorRef\"\n      @update=\"value => handleInput(value)\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nimport Editor from './Editor.vue'\n\nconst props = defineProps<{\n  height: number\n}>()\n\nconst emit = defineEmits<{\n  (event: 'update:height', payload: number): void\n}>()\n\nconst slidesStore = useSlidesStore()\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst editorRef = ref<InstanceType<typeof Editor>>()\nwatch(() => currentSlide.value.id, () => {\n  nextTick(() => {\n    editorRef.value!.updateTextContent()\n  })\n}, {\n  immediate: true,\n})\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInput = (content: string) => {\n  slidesStore.updateSlide({ remark: content })\n}\n\nconst resize = (e: MouseEvent) => {\n  let isMouseDown = true\n  const startPageY = e.pageY\n  const originHeight = props.height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageY = e.pageY\n\n    const moveY = currentPageY - startPageY\n    let newHeight = -moveY + originHeight\n\n    if (newHeight < 40) newHeight = 40\n    if (newHeight > 360) newHeight = 360\n\n    emit('update:height', newHeight)\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.remark {\n  position: relative;\n  border-top: 1px solid $borderColor;\n}\n.resize-handler {\n  height: 7px;\n  position: absolute;\n  top: -3px;\n  left: 0;\n  right: 0;\n  cursor: n-resize;\n  z-index: 2;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=458a41b9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-458a41b9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b20615f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-img-dialog\" }\nconst _hoisted_2 = { class: \"thumbnails-view\" }\nconst _hoisted_3 = { class: \"configs\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Export format:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Export range:\", -1))\nconst _hoisted_8 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_9 = [\"data-range\"]\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Picture quality:\", -1))\nconst _hoisted_12 = { class: \"row\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Ignore online fonts:\", -1))\nconst _hoisted_14 = { class: \"config-item\" }\nconst _hoisted_15 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportImage',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst imageThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst format = ref<'jpeg' | 'png'>('jpeg')\nconst quality = ref(1)\nconst ignoreWebfont = ref(true)\n\nconst renderSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nconst { exportImage, exporting } = useExport()\n\nconst expImage = () => {\n  if (!imageThumbnailsRef.value) return\n  exportImage(\n    imageThumbnailsRef.value,\n    format.value,\n    quality.value,\n    ignoreWebfont.value\n  )\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"imageThumbnailsRef\",\n        ref: imageThumbnailsRef\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(renderSlides.value, (slide) => {\n          return (_openBlock(), _createBlock(ThumbnailSlide, {\n            class: \"thumbnail\",\n            key: slide.id,\n            slide: slide,\n            size: 1600\n          }, null, 8, [\"slide\"]))\n        }), 128))\n      ], 512)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(RadioGroup, {\n          class: \"config-item\",\n          value: format.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((format).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(RadioButton, {\n              style: {\"width\":\"50%\"},\n              value: \"jpeg\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"JPEG\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"50%\"},\n              value: \"png\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"PNG\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createVNode(RadioGroup, {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"All\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Current page\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Custom\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `${range.value[0]} ~ ${range.value[1]}`\n            }, \" Custom scope: \", 8, _hoisted_9),\n            _createVNode(Slider, {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createVNode(Slider, {\n          class: \"config-item\",\n          min: 0,\n          max: 1,\n          step: 0.1,\n          value: quality.value,\n          \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((quality).value = $event))\n        }, null, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_12, [\n        _hoisted_13,\n        _createElementVNode(\"div\", _hoisted_14, [\n          _withDirectives(_createVNode(Switch, {\n            value: ignoreWebfont.value,\n            \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((ignoreWebfont).value = $event))\n          }, null, 8, [\"value\"]), [\n            [_directive_tooltip, \n              'Online fonts are ignored by default when exporting. If you use online fonts in your slides and want to retain related styles after exporting, you can choose to turn off the [Ignore online fonts] option, but be aware that this will increase the export time.'\n            ]\n          ])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_15, [\n      _createVNode(Button, {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (expImage()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Export pictures\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn close\",\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Close\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"Exporting...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-img-dialog\">\n    <div class=\"thumbnails-view\">\n      <div class=\"thumbnails\" ref=\"imageThumbnailsRef\">\n        <ThumbnailSlide\n          class=\"thumbnail\"\n          v-for=\"slide in renderSlides\"\n          :key=\"slide.id\"\n          :slide=\"slide\"\n          :size=\"1600\"\n        />\n      </div>\n    </div>\n    <div class=\"configs\">\n      <div class=\"row\">\n        <div class=\"title\">Export format:</div>\n        <RadioGroup class=\"config-item\" v-model:value=\"format\">\n          <RadioButton style=\"width: 50%\" value=\"jpeg\">JPEG</RadioButton>\n          <RadioButton style=\"width: 50%\" value=\"png\">PNG</RadioButton>\n        </RadioGroup>\n      </div>\n      <div class=\"row\">\n        <div class=\"title\">Export range:</div>\n        <RadioGroup class=\"config-item\" v-model:value=\"rangeType\">\n          <RadioButton style=\"width: 33.33%\" value=\"all\">All</RadioButton>\n          <RadioButton style=\"width: 33.33%\" value=\"current\"\n            >Current page</RadioButton\n          >\n          <RadioButton style=\"width: 33.33%\" value=\"custom\">Custom</RadioButton>\n        </RadioGroup>\n      </div>\n      <div class=\"row\" v-if=\"rangeType === 'custom'\">\n        <div class=\"title\" :data-range=\"`${range[0]} ~ ${range[1]}`\">\n          Custom scope:\n        </div>\n        <Slider\n          class=\"config-item\"\n          range\n          :min=\"1\"\n          :max=\"slides.length\"\n          :step=\"1\"\n          v-model:value=\"range\"\n        />\n      </div>\n\n      <div class=\"row\">\n        <div class=\"title\">Picture quality:</div>\n        <Slider\n          class=\"config-item\"\n          :min=\"0\"\n          :max=\"1\"\n          :step=\"0.1\"\n          v-model:value=\"quality\"\n        />\n      </div>\n\n      <div class=\"row\">\n        <div class=\"title\">Ignore online fonts:</div>\n        <div class=\"config-item\">\n          <Switch\n            v-model:value=\"ignoreWebfont\"\n            v-tooltip=\"\n              'Online fonts are ignored by default when exporting. If you use online fonts in your slides and want to retain related styles after exporting, you can choose to turn off the [Ignore online fonts] option, but be aware that this will increase the export time.'\n            \"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"btns\">\n      <Button class=\"btn export\" type=\"primary\" @click=\"expImage()\"\n        >Export pictures</Button\n      >\n      <Button class=\"btn close\" @click=\"emit('close')\">Close</Button>\n    </div>\n\n    <FullscreenSpin :loading=\"exporting\" tip=\"Exporting...\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst imageThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst format = ref<'jpeg' | 'png'>('jpeg')\nconst quality = ref(1)\nconst ignoreWebfont = ref(true)\n\nconst renderSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nconst { exportImage, exporting } = useExport()\n\nconst expImage = () => {\n  if (!imageThumbnailsRef.value) return\n  exportImage(\n    imageThumbnailsRef.value,\n    format.value,\n    quality.value,\n    ignoreWebfont.value\n  )\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.export-img-dialog {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.thumbnails-view {\n  @include absolute-0();\n\n  &::after {\n    content: '';\n    background-color: #fff;\n    @include absolute-0();\n  }\n}\n.configs {\n  width: 350px;\n  height: calc(100% - 100px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  z-index: 1;\n\n  .row {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 25px;\n  }\n\n  .title {\n    width: 100px;\n    position: relative;\n\n    &::after {\n      content: attr(data-range);\n      position: absolute;\n      top: 20px;\n      left: 0;\n    }\n  }\n  .config-item {\n    flex: 1;\n  }\n}\n.btns {\n  width: 300px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n\n  .export {\n    flex: 1;\n  }\n  .close {\n    width: 100px;\n    margin-left: 10px;\n  }\n}\n</style>\n","import script from \"./ExportImage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportImage.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportImage.vue?vue&type=style&index=0&id=b20615f0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b20615f0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-54468b83\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-json-dialog\" }\nconst _hoisted_2 = { class: \"preview\" }\nconst _hoisted_3 = { class: \"btns\" }\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\nimport Button from '@/components/Button.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportJSON',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { exportJSON } = useExport()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"pre\", null, _toDisplayString(_unref(slides)), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(Button, {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(exportJSON)()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Export JSON\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn close\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Close\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-json-dialog\">\n    <div class=\"preview\">\n      <pre>{{ slides }}</pre>\n    </div>\n\n    <div class=\"btns\">\n      <Button class=\"btn export\" type=\"primary\" @click=\"exportJSON()\"\n        >Export JSON</Button\n      >\n      <Button class=\"btn close\" @click=\"emit('close')\">Close</Button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\nimport Button from '@/components/Button.vue'\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { exportJSON } = useExport()\n</script>\n\n<style lang=\"scss\" scoped>\n.export-json-dialog {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.preview {\n  width: 100%;\n  height: calc(100% - 100px);\n  background-color: #f9f9f9;\n  color: #0451a5;\n  overflow: auto;\n}\npre {\n  font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier,\n    monospace;\n}\n.btns {\n  width: 300px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .export {\n    flex: 1;\n  }\n  .close {\n    width: 100px;\n    margin-left: 10px;\n  }\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n  background-color: #f9f9f9;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #c1c1c1;\n}\n</style>\n","import script from \"./ExportJSON.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportJSON.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportJSON.vue?vue&type=style&index=0&id=54468b83&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-54468b83\"]])\n\nexport default __exports__","interface PageSize {\n  width: number\n  height: number\n  margin: number\n}\n\nconst createIframe = () => {\n  const iframe = document.createElement('iframe')\n  iframe.style.width = '0'\n  iframe.style.height = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.right = '0'\n  iframe.style.top = '0'\n  iframe.style.border = '0'\n\n  document.body.appendChild(iframe)\n\n  return iframe\n}\n\nconst writeContent = (doc: Document, printNode: HTMLElement, size: PageSize) => {\n  const docType = '<!DOCTYPE html>'\n\n  let style = ''\n  const styleSheets = document.styleSheets\n  if (styleSheets) {\n    for (const styleSheet of styleSheets) {\n      if (!styleSheet.cssRules) continue\n\n      for (const rule of styleSheet.cssRules) {\n        style += rule.cssText\n      }\n    }\n  }\n\n  const { width, height, margin } = size\n  const head = `\n    <head>\n      <style type=\"text/css\">\n        ${style} \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ${width + 2 * margin}px ${height + 2 * margin}px;\n            margin: ${margin}px;\n          }\n        }\n      </style>\n    </head>\n  `\n  const body = '<body>' + printNode.innerHTML + '</body>'\n\n  doc.open()\n  doc.write(`\n    ${docType}\n    <html>\n      ${head}\n      ${body}\n    </html>\n  `)\n  doc.close()\n}\n\nexport const print = (printNode: HTMLElement, size: PageSize) => {\n  const iframe = createIframe()\n  const iframeContentWindow = iframe.contentWindow\n\n  if (!iframe.contentDocument || !iframeContentWindow) return\n  writeContent(iframe.contentDocument, printNode, size)\n\n  const handleLoadIframe = () => {\n    iframeContentWindow.focus()\n    iframeContentWindow.print()\n  }\n\n  const handleAfterprint = () => {\n    iframe.removeEventListener('load', handleLoadIframe)\n    iframeContentWindow.removeEventListener('afterprint', handleAfterprint)\n    document.body.removeChild(iframe)\n  }\n\n  iframe.addEventListener('load', handleLoadIframe)\n  iframeContentWindow.addEventListener('afterprint', handleAfterprint)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0bfd703e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-pdf-dialog\" }\nconst _hoisted_2 = { class: \"thumbnails-view\" }\nconst _hoisted_3 = { class: \"configs\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Export range:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Quantity per page:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Leave the edges blank:\", -1))\nconst _hoisted_10 = { class: \"config-item\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"tip\" }, \" Tip: If the print preview is inconsistent with the actual style, please check the [Background Graphics] option in the pop-up print window. \", -1))\nconst _hoisted_12 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { print } from '@/utils/print'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportPDF',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { slides, currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst pdfThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current'>('all')\nconst count = ref(1)\nconst padding = ref(true)\n\nconst expPDF = () => {\n  if (!pdfThumbnailsRef.value) return\n  const pageSize = {\n    width: 1600,\n    height:\n      rangeType.value === 'all'\n        ? 1600 * viewportRatio.value * count.value\n        : 1600 * viewportRatio.value,\n    margin: padding.value ? 50 : 0,\n  }\n  print(pdfThumbnailsRef.value, pageSize)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"pdfThumbnailsRef\",\n        ref: pdfThumbnailsRef\n      }, [\n        (rangeType.value === 'current')\n          ? (_openBlock(), _createBlock(ThumbnailSlide, {\n              key: 0,\n              class: \"thumbnail\",\n              slide: _unref(currentSlide),\n              size: 1600\n            }, null, 8, [\"slide\"]))\n          : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_unref(slides), (slide, index) => {\n              return (_openBlock(), _createBlock(ThumbnailSlide, {\n                class: _normalizeClass([\"thumbnail\", { 'break-page': (index + 1) % count.value === 0 }]),\n                key: slide.id,\n                slide: slide,\n                size: 1600\n              }, null, 8, [\"class\", \"slide\"]))\n            }), 128))\n      ], 512)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(RadioGroup, {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(RadioButton, {\n              style: {\"width\":\"50%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"All\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"50%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Current\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createVNode(Select, {\n          class: \"config-item\",\n          value: count.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((count).value = $event)),\n          options: [\n            { label: '1', value: 1 },\n            { label: '2', value: 2 },\n            { label: '3', value: 3 },\n          ]\n        }, null, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createVNode(Switch, {\n            value: padding.value,\n            \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((padding).value = $event))\n          }, null, 8, [\"value\"])\n        ])\n      ]),\n      _hoisted_11\n    ]),\n    _createElementVNode(\"div\", _hoisted_12, [\n      _createVNode(Button, {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (expPDF()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Print/Export PDF\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn close\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Close\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-pdf-dialog\">\n    <div class=\"thumbnails-view\">\n      <div class=\"thumbnails\" ref=\"pdfThumbnailsRef\">\n        <ThumbnailSlide\n          class=\"thumbnail\"\n          :slide=\"currentSlide\"\n          :size=\"1600\"\n          v-if=\"rangeType === 'current'\"\n        />\n        <template v-else>\n          <ThumbnailSlide\n            class=\"thumbnail\"\n            :class=\"{ 'break-page': (index + 1) % count === 0 }\"\n            v-for=\"(slide, index) in slides\"\n            :key=\"slide.id\"\n            :slide=\"slide\"\n            :size=\"1600\"\n          />\n        </template>\n      </div>\n    </div>\n    <div class=\"configs\">\n      <div class=\"row\">\n        <div class=\"title\">Export range:</div>\n        <RadioGroup class=\"config-item\" v-model:value=\"rangeType\">\n          <RadioButton style=\"width: 50%\" value=\"all\">All</RadioButton>\n          <RadioButton style=\"width: 50%\" value=\"current\">Current</RadioButton>\n        </RadioGroup>\n      </div>\n      <div class=\"row\">\n        <div class=\"title\">Quantity per page:</div>\n        <Select\n          class=\"config-item\"\n          v-model:value=\"count\"\n          :options=\"[\n            { label: '1', value: 1 },\n            { label: '2', value: 2 },\n            { label: '3', value: 3 },\n          ]\"\n        />\n      </div>\n      <div class=\"row\">\n        <div class=\"title\">Leave the edges blank:</div>\n        <div class=\"config-item\">\n          <Switch v-model:value=\"padding\" />\n        </div>\n      </div>\n      <div class=\"tip\">\n        Tip: If the print preview is inconsistent with the actual style, please\n        check the [Background Graphics] option in the pop-up print window.\n      </div>\n    </div>\n\n    <div class=\"btns\">\n      <Button class=\"btn export\" type=\"primary\" @click=\"expPDF()\"\n        >Print/Export PDF</Button\n      >\n      <Button class=\"btn close\" @click=\"emit('close')\">Close</Button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { print } from '@/utils/print'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Switch from '@/components/Switch.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\nimport Select from '@/components/Select.vue'\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides, currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst pdfThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current'>('all')\nconst count = ref(1)\nconst padding = ref(true)\n\nconst expPDF = () => {\n  if (!pdfThumbnailsRef.value) return\n  const pageSize = {\n    width: 1600,\n    height:\n      rangeType.value === 'all'\n        ? 1600 * viewportRatio.value * count.value\n        : 1600 * viewportRatio.value,\n    margin: padding.value ? 50 : 0,\n  }\n  print(pdfThumbnailsRef.value, pageSize)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.export-pdf-dialog {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.thumbnails-view {\n  @include absolute-0();\n\n  &::after {\n    content: '';\n    background-color: #fff;\n    @include absolute-0();\n  }\n}\n.thumbnail {\n  &.break-page {\n    break-after: page;\n  }\n}\n.configs {\n  width: 300px;\n  height: calc(100% - 100px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  z-index: 1;\n\n  .row {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 25px;\n  }\n\n  .title {\n    width: 100px;\n  }\n  .config-item {\n    flex: 1;\n  }\n\n  .tip {\n    font-size: 12px;\n    color: #aaa;\n    line-height: 1.8;\n    margin-top: 25px;\n  }\n}\n.btns {\n  width: 300px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n\n  .export {\n    flex: 1;\n  }\n  .close {\n    width: 100px;\n    margin-left: 10px;\n  }\n}\n</style>\n","import script from \"./ExportPDF.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportPDF.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportPDF.vue?vue&type=style&index=0&id=0bfd703e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0bfd703e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-23847792\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-pptx-dialog\" }\nconst _hoisted_2 = { class: \"configs\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Export range:\", -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_6 = [\"data-range\"]\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Ignore audio/video\", -1))\nconst _hoisted_9 = { class: \"config-item\" }\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Override the default master:\", -1))\nconst _hoisted_12 = { class: \"config-item\" }\nconst _hoisted_13 = {\n  key: 1,\n  class: \"tip\"\n}\nconst _hoisted_14 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportPPTX',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportPPTX, exporting } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst masterOverwrite = ref(true)\nconst ignoreMedia = ref(true)\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createVNode(RadioGroup, {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"All\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Current page\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Custom\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `${range.value[0]} ~ ${range.value[1]}`\n            }, \" Custom scope: \", 8, _hoisted_6),\n            _createVNode(Slider, {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _hoisted_8,\n        _createElementVNode(\"div\", _hoisted_9, [\n          _withDirectives(_createVNode(Switch, {\n            value: ignoreMedia.value,\n            \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((ignoreMedia).value = $event))\n          }, null, 8, [\"value\"]), [\n            [_directive_tooltip, \n              'Audio and video are ignored by default when exporting. If there are audio and video elements in your slide and you want to export them to a PPTX file, you can choose to turn off the [Ignore audio and video] option, but be aware that this will significantly increase the export time.'\n            ]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createVNode(Switch, {\n            value: masterOverwrite.value,\n            \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((masterOverwrite).value = $event))\n          }, null, 8, [\"value\"])\n        ])\n      ]),\n      (!ignoreMedia.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, \" Tips: 1. Supported export formats: avi, mp4, mov, wmv, mp3, wav; 2. Cross-domain resources cannot be exported. \"))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createVNode(Button, {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(exportPPTX)(selectedSlides.value, masterOverwrite.value, ignoreMedia.value)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Export PPTX\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn close\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Close\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"Exporting...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-pptx-dialog\">\n    <div class=\"configs\">\n      <div class=\"row\">\n        <div class=\"title\">Export range:</div>\n        <RadioGroup class=\"config-item\" v-model:value=\"rangeType\">\n          <RadioButton style=\"width: 33.33%\" value=\"all\">All</RadioButton>\n          <RadioButton style=\"width: 33.33%\" value=\"current\"\n            >Current page</RadioButton\n          >\n          <RadioButton style=\"width: 33.33%\" value=\"custom\">Custom</RadioButton>\n        </RadioGroup>\n      </div>\n      <div class=\"row\" v-if=\"rangeType === 'custom'\">\n        <div class=\"title\" :data-range=\"`${range[0]} ~ ${range[1]}`\">\n          Custom scope:\n        </div>\n        <Slider\n          class=\"config-item\"\n          range\n          :min=\"1\"\n          :max=\"slides.length\"\n          :step=\"1\"\n          v-model:value=\"range\"\n        />\n      </div>\n      <div class=\"row\">\n        <div class=\"title\">Ignore audio/video</div>\n        <div class=\"config-item\">\n          <Switch\n            v-model:value=\"ignoreMedia\"\n            v-tooltip=\"\n              'Audio and video are ignored by default when exporting. If there are audio and video elements in your slide and you want to export them to a PPTX file, you can choose to turn off the [Ignore audio and video] option, but be aware that this will significantly increase the export time.'\n            \"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"title\">Override the default master:</div>\n        <div class=\"config-item\">\n          <Switch v-model:value=\"masterOverwrite\" />\n        </div>\n      </div>\n\n      <div class=\"tip\" v-if=\"!ignoreMedia\">\n        Tips: 1. Supported export formats: avi, mp4, mov, wmv, mp3, wav; 2.\n        Cross-domain resources cannot be exported.\n      </div>\n    </div>\n    <div class=\"btns\">\n      <Button\n        class=\"btn export\"\n        type=\"primary\"\n        @click=\"exportPPTX(selectedSlides, masterOverwrite, ignoreMedia)\"\n        >Export PPTX</Button\n      >\n      <Button class=\"btn close\" @click=\"emit('close')\">Close</Button>\n    </div>\n\n    <FullscreenSpin :loading=\"exporting\" tip=\"Exporting...\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport Switch from '@/components/Switch.vue'\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportPPTX, exporting } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst masterOverwrite = ref(true)\nconst ignoreMedia = ref(true)\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.export-pptx-dialog {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.configs {\n  width: 350px;\n  height: calc(100% - 100px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  .row {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 25px;\n  }\n\n  .title {\n    width: 100px;\n    position: relative;\n\n    &::after {\n      content: attr(data-range);\n      position: absolute;\n      top: 20px;\n      left: 0;\n    }\n  }\n  .config-item {\n    flex: 1;\n  }\n\n  .tip {\n    font-size: 12px;\n    color: #aaa;\n    line-height: 1.8;\n    margin-top: 10px;\n  }\n}\n.btns {\n  width: 300px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .export {\n    flex: 1;\n  }\n  .close {\n    width: 100px;\n    margin-left: 10px;\n  }\n}\n</style>\n","import script from \"./ExportPPTX.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportPPTX.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportPPTX.vue?vue&type=style&index=0&id=23847792&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23847792\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-521ab74f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-ppt-dialog\" }\nconst _hoisted_2 = { class: \"configs\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Export range: \", -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_6 = [\"data-range\"]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"tip\" }, \" Tip: .ppt is the unique file suffix of this application, and supports importing files of this type back into the application. \", -1))\nconst _hoisted_8 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportSpecificFile',\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportSpecificFile } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createVNode(RadioGroup, {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"all\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"current\")\n              ]),\n              _: 1\n            }),\n            _createVNode(RadioButton, {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"custom\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `${range.value[0]} ~ ${range.value[1]}`\n            }, \"Custom scope: \", 8, _hoisted_6),\n            _createVNode(Slider, {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _hoisted_7\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createVNode(Button, {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(exportSpecificFile)(selectedSlides.value)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Export ppt file\")\n        ]),\n        _: 1\n      }),\n      _createVNode(Button, {\n        class: \"btn close\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"close\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-ppt-dialog\">\n    <div class=\"configs\">\n      <div class=\"row\">\n        <div class=\"title\">Export range: </div>\n        <RadioGroup\n          class=\"config-item\"\n          v-model:value=\"rangeType\"\n        >\n          <RadioButton style=\"width: 33.33%;\" value=\"all\">all</RadioButton>\n          <RadioButton style=\"width: 33.33%;\" value=\"current\">current</RadioButton>\n          <RadioButton style=\"width: 33.33%;\" value=\"custom\">custom</RadioButton>\n        </RadioGroup>\n      </div>\n      <div class=\"row\" v-if=\"rangeType === 'custom'\">\n        <div class=\"title\" :data-range=\"`${range[0]} ~ ${range[1]}`\">Custom scope: </div>\n        <Slider\n          class=\"config-item\"\n          range\n          :min=\"1\"\n          :max=\"slides.length\"\n          :step=\"1\"\n          v-model:value=\"range\"\n        />\n      </div>\n      <div class=\"tip\">\n        Tip: .ppt is the unique file suffix of this application, and supports importing files of this type back into the application.\n      </div>\n    </div>\n    <div class=\"btns\">\n      <Button class=\"btn export\" type=\"primary\" @click=\"exportSpecificFile(selectedSlides)\">Export ppt file</Button>\n      <Button class=\"btn close\" @click=\"emit('close')\">close</Button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport Slider from '@/components/Slider.vue'\nimport Button from '@/components/Button.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportSpecificFile } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.export-ppt-dialog {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.configs {\n  width: 350px;\n  height: calc(100% - 100px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  .row {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 25px;\n  }\n\n  .title {\n    width: 100px;\n    position: relative;\n\n    &::after {\n      content: attr(data-range);\n      position: absolute;\n      top: 20px;\n      left: 0;\n    }\n  }\n  .config-item {\n    flex: 1;\n  }\n\n  .tip {\n    font-size: 12px;\n    color: #aaa;\n    line-height: 1.8;\n    margin-top: 25px;\n  }\n}\n.btns {\n  width: 300px;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .export {\n    flex: 1;\n  }\n  .close {\n    width: 100px;\n    margin-left: 10px;\n  }\n}\n</style>","import script from \"./ExportSpecificFile.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportSpecificFile.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportSpecificFile.vue?vue&type=style&index=0&id=521ab74f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-521ab74f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32369776\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-dialog\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { DialogForExportTypes } from '@/types/export'\n\nimport ExportImage from './ExportImage.vue'\nimport ExportJSON from './ExportJSON.vue'\nimport ExportPDF from './ExportPDF.vue'\nimport ExportPPTX from './ExportPPTX.vue'\nimport ExportSpecificFile from './ExportSpecificFile.vue'\nimport Tabs from '@/components/Tabs.vue'\n\ninterface TabItem {\n  key: DialogForExportTypes\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { dialogForExport } = storeToRefs(mainStore)\n\nconst setDialogForExport = mainStore.setDialogForExport\n\nconst tabs: TabItem[] = [\n  { key: 'ppt', label: 'Export ppt file' },\n  { key: 'pptx', label: 'Export PPTX' },\n  { key: 'image', label: 'Export image' },\n  { key: 'json', label: 'Export JSON' },\n  { key: 'pdf', label: 'Print/Export PDF' },\n]\n\nconst currentDialogComponent = computed<unknown>(() => {\n  const dialogMap = {\n    image: ExportImage,\n    json: ExportJSON,\n    pdf: ExportPDF,\n    pptx: ExportPPTX,\n    ppt: ExportSpecificFile,\n  }\n  if (dialogForExport.value) return dialogMap[dialogForExport.value] || null\n  return null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: tabs,\n      value: _unref(dialogForExport),\n      card: \"\",\n      \"onUpdate:value\": _cache[0] || (_cache[0] = key => _unref(setDialogForExport)(key as DialogForExportTypes))\n    }, null, 8, [\"value\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(currentDialogComponent.value), {\n        onClose: _cache[1] || (_cache[1] = ($event: any) => (_unref(setDialogForExport)('')))\n      }, null, 32))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"export-dialog\">\n    <Tabs\n      :tabs=\"tabs\"\n      :value=\"dialogForExport\"\n      card\n      @update:value=\"key => setDialogForExport(key as DialogForExportTypes)\"\n    />\n    <div class=\"content\">\n      <component\n        :is=\"currentDialogComponent\"\n        @close=\"setDialogForExport('')\"\n      ></component>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport type { DialogForExportTypes } from '@/types/export'\n\nimport ExportImage from './ExportImage.vue'\nimport ExportJSON from './ExportJSON.vue'\nimport ExportPDF from './ExportPDF.vue'\nimport ExportPPTX from './ExportPPTX.vue'\nimport ExportSpecificFile from './ExportSpecificFile.vue'\nimport Tabs from '@/components/Tabs.vue'\n\ninterface TabItem {\n  key: DialogForExportTypes\n  label: string\n}\n\nconst mainStore = useMainStore()\nconst { dialogForExport } = storeToRefs(mainStore)\n\nconst setDialogForExport = mainStore.setDialogForExport\n\nconst tabs: TabItem[] = [\n  { key: 'ppt', label: 'Export ppt file' },\n  { key: 'pptx', label: 'Export PPTX' },\n  { key: 'image', label: 'Export image' },\n  { key: 'json', label: 'Export JSON' },\n  { key: 'pdf', label: 'Print/Export PDF' },\n]\n\nconst currentDialogComponent = computed<unknown>(() => {\n  const dialogMap = {\n    image: ExportImage,\n    json: ExportJSON,\n    pdf: ExportPDF,\n    pptx: ExportPPTX,\n    ppt: ExportSpecificFile,\n  }\n  if (dialogForExport.value) return dialogMap[dialogForExport.value] || null\n  return null\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.export-dialog {\n  margin: -20px;\n}\n.content {\n  height: 460px;\n  padding: 12px;\n  font-size: 13px;\n\n  @include overflow-overlay();\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=32369776&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32369776\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-fc791e00\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"title\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { computed, onMounted, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MoveablePanel',\n  props: {\n    width: {},\n    height: {},\n    left: { default: 10 },\n    top: { default: 10 },\n    title: { default: '' },\n    moveable: { type: Boolean, default: true }\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst x = ref(0)\nconst y = ref(0)\nconst moveablePanelRef = ref<HTMLElement>()\nconst realHeight = computed(() => {\n  if (!props.height) {\n    return moveablePanelRef.value?.clientHeight || 0\n  }\n  return props.height\n})\n\nonMounted(() => {\n  if (props.left >= 0) x.value = props.left\n  else x.value = document.body.clientWidth + props.left - props.width\n\n  if (props.top >= 0) y.value = props.top\n  else y.value = document.body.clientHeight + props.top - realHeight.value\n})\n\nconst startMove = (e: MouseEvent) => {\n  if (!props.moveable) return\n\n  let isMouseDown = true\n\n  const windowWidth = document.body.clientWidth\n  const clientHeight = document.body.clientHeight\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originLeft = x.value\n  const originTop = y.value\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const moveX = e.pageX - startPageX\n    const moveY = e.pageY - startPageY\n\n    let left = originLeft + moveX\n    let top = originTop + moveY\n\n    if (left < 0) left = 0\n    if (top < 0) top = 0\n    if (left + props.width > windowWidth) left = windowWidth - props.width\n    if (top + realHeight.value > clientHeight) top = clientHeight - realHeight.value\n\n    x.value = left\n    y.value = top\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"moveable-panel\",\n    ref_key: \"moveablePanelRef\",\n    ref: moveablePanelRef,\n    style: _normalizeStyle({\n      width: _ctx.width + 'px',\n      height: _ctx.height ? _ctx.height + 'px' : 'auto',\n      left: x.value + 'px',\n      top: y.value + 'px',\n    })\n  }, [\n    (_ctx.title)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", {\n            class: \"header\",\n            onMousedown: _cache[1] || (_cache[1] = $event => startMove($event))\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, _toDisplayString(_ctx.title), 1),\n            _createElementVNode(\"div\", {\n              class: \"close-btn\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('close')))\n            }, [\n              _createVNode(_component_IconClose)\n            ])\n          ], 32),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ])\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"content\",\n          onMousedown: _cache[2] || (_cache[2] = $event => startMove($event))\n        }, [\n          _renderSlot(_ctx.$slots, \"default\")\n        ], 32))\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"moveable-panel\"\n    ref=\"moveablePanelRef\"\n    :style=\"{\n      width: width + 'px',\n      height: height ? height + 'px' : 'auto',\n      left: x + 'px',\n      top: y + 'px',\n    }\"\n  >\n    <template v-if=\"title\">\n      <div class=\"header\" @mousedown=\"$event => startMove($event)\">\n        <div class=\"title\">{{title}}</div>\n        <div class=\"close-btn\" @click=\"emit('close')\"><IconClose /></div>\n      </div>\n\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n\n    <div v-else class=\"content\" @mousedown=\"$event => startMove($event)\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\n\nconst props = withDefaults(defineProps<{\n  width: number\n  height: number\n  left?: number\n  top?: number\n  title?: string\n  moveable?: boolean\n}>(), {\n  left: 10,\n  top: 10,\n  title: '',\n  moveable: true,\n})\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst x = ref(0)\nconst y = ref(0)\nconst moveablePanelRef = ref<HTMLElement>()\nconst realHeight = computed(() => {\n  if (!props.height) {\n    return moveablePanelRef.value?.clientHeight || 0\n  }\n  return props.height\n})\n\nonMounted(() => {\n  if (props.left >= 0) x.value = props.left\n  else x.value = document.body.clientWidth + props.left - props.width\n\n  if (props.top >= 0) y.value = props.top\n  else y.value = document.body.clientHeight + props.top - realHeight.value\n})\n\nconst startMove = (e: MouseEvent) => {\n  if (!props.moveable) return\n\n  let isMouseDown = true\n\n  const windowWidth = document.body.clientWidth\n  const clientHeight = document.body.clientHeight\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originLeft = x.value\n  const originTop = y.value\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const moveX = e.pageX - startPageX\n    const moveY = e.pageY - startPageY\n\n    let left = originLeft + moveX\n    let top = originTop + moveY\n\n    if (left < 0) left = 0\n    if (top < 0) top = 0\n    if (left + props.width > windowWidth) left = windowWidth - props.width\n    if (top + realHeight.value > clientHeight) top = clientHeight - realHeight.value\n\n    x.value = left\n    y.value = top\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.moveable-panel {\n  position: fixed;\n  background-color: #fff;\n  box-shadow: 0 2px 12px 0 rgba(56, 56, 56, .15);\n  border: 1px solid $borderColor;\n  border-radius: $borderRadius;\n  display: flex;\n  flex-direction: column;\n  z-index: 999;\n}\n.header {\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #f0f0f0;\n  cursor: move;\n}\n.title {\n  flex: 1;\n  font-size: 13px;\n  padding-left: 10px;\n}\n.close-btn {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #666;\n  font-size: 12px;\n  cursor: pointer;\n}\n.content {\n  flex: 1;\n  padding: 10px;\n  overflow: auto;\n}\n</style>","import script from \"./MoveablePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MoveablePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MoveablePanel.vue?vue&type=style&index=0&id=fc791e00&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fc791e00\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, withKeys as _withKeys, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0dabd0f4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"handler\"\n}\nconst _hoisted_2 = { class: \"btns\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"icon-btns\"\n}\nconst _hoisted_4 = { class: \"element-list\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"group-els\"\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"group-title\" }, \"combination\", -1))\nconst _hoisted_7 = [\"onClick\", \"onDblclick\"]\nconst _hoisted_8 = [\"id\", \"value\", \"onBlur\", \"onKeydown\"]\nconst _hoisted_9 = {\n  key: 1,\n  class: \"name\"\n}\nconst _hoisted_10 = { class: \"icons\" }\nconst _hoisted_11 = [\"onClick\", \"onDblclick\"]\nconst _hoisted_12 = [\"id\", \"value\", \"onBlur\", \"onKeydown\"]\nconst _hoisted_13 = {\n  key: 1,\n  class: \"name\"\n}\nconst _hoisted_14 = { class: \"icons\" }\n\nimport { computed, nextTick, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore, useMainStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport { ElementOrderCommands } from '@/types/edit'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Button from '@/components/Button.vue'\n\ninterface GroupElements {\n  type: 'group'\n  id: string\n  elements: PPTElement[]\n}\ntype ElementItem = PPTElement | GroupElements\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SelectPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { currentSlide } = storeToRefs(slidesStore)\nconst {\n  handleElement,\n  handleElementId,\n  activeElementIdList,\n  activeGroupElementId,\n  hiddenElementIdList,\n} = storeToRefs(mainStore)\n\nconst { orderElement } = useOrderElement()\n\nconst elements = computed<ElementItem[]>(() => {\n  const _elements: ElementItem[] = []\n\n  for (const el of currentSlide.value.elements) {\n    if (el.groupId) {\n      const lastItem = _elements[_elements.length - 1]\n\n      if (\n        lastItem &&\n        lastItem.type === 'group' &&\n        lastItem.id &&\n        lastItem.id === el.groupId\n      ) {\n        lastItem.elements.push(el)\n      } else _elements.push({ type: 'group', id: el.groupId, elements: [el] })\n    } else _elements.push(el)\n  }\n\n  return _elements\n})\n\nconst selectGroupEl = (item: GroupElements, id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  const idList = item.elements.map((el) => el.id)\n  mainStore.setActiveElementIdList(idList)\n  mainStore.setHandleElementId(id)\n  nextTick(() => mainStore.setActiveGroupElementId(id))\n}\n\nconst selectEl = (id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  mainStore.setActiveElementIdList([id])\n}\n\nconst hideElement = (id: string) => {\n  if (hiddenElementIdList.value.includes(id)) {\n    mainStore.setHiddenElementIdList(\n      hiddenElementIdList.value.filter((item) => item !== id)\n    )\n  } else mainStore.setHiddenElementIdList([...hiddenElementIdList.value, id])\n\n  if (activeElementIdList.value.includes(id))\n    mainStore.setActiveElementIdList([])\n}\n\nconst showAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(\n    (item) => item.id\n  )\n  const needHiddenElementIdList = hiddenElementIdList.value.filter(\n    (item) => !currentSlideElIdList.includes(item)\n  )\n  mainStore.setHiddenElementIdList(needHiddenElementIdList)\n}\nconst hideAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(\n    (item) => item.id\n  )\n  mainStore.setHiddenElementIdList([\n    ...hiddenElementIdList.value,\n    ...currentSlideElIdList,\n  ])\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n}\n\nconst editingElId = ref('')\n\nconst saveElementName = (e: FocusEvent | KeyboardEvent, id: string) => {\n  const name = (e.target as HTMLInputElement).value\n  slidesStore.updateElement({ id, props: { name } })\n  editingElId.value = ''\n}\n\nconst enterEdit = (id: string) => {\n  editingElId.value = id\n  nextTick(() => {\n    const inputRef = document.querySelector(`#input-${id}`) as HTMLInputElement\n    inputRef.focus()\n  })\n}\n\nconst close = () => {\n  mainStore.setSelectPanelState(false)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconUp = _resolveComponent(\"IconUp\")!\n  const _component_IconPreviewClose = _resolveComponent(\"IconPreviewClose\")!\n  const _component_IconPreviewOpen = _resolveComponent(\"IconPreviewOpen\")!\n\n  return (_openBlock(), _createBlock(MoveablePanel, {\n    class: \"select-panel\",\n    width: 200,\n    height: 360,\n    title: `choose (${_unref(activeElementIdList).length}/${_unref(currentSlide).elements.length}`,\n    left: -270,\n    top: 90,\n    onClose: _cache[4] || (_cache[4] = ($event: any) => (close()))\n  }, {\n    default: _withCtx(() => [\n      (elements.value.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createVNode(Button, {\n                size: \"small\",\n                style: {\"margin-right\":\"5px\"},\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (showAll()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Show All\")\n                ]),\n                _: 1\n              }),\n              _createVNode(Button, {\n                size: \"small\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (hideAll()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Hide All\")\n                ]),\n                _: 1\n              })\n            ]),\n            (_unref(handleElement))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _createVNode(_component_IconDown, {\n                    class: \"icon-btn\",\n                    onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n                  }),\n                  _createVNode(_component_IconUp, {\n                    class: \"icon-btn\",\n                    onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n                  })\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements.value, (item) => {\n          return (_openBlock(), _createElementBlock(_Fragment, {\n            key: item.id\n          }, [\n            (item.type === 'group')\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                  _hoisted_6,\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.elements, (groupItem) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: _normalizeClass([\"item\", {\n              active: _unref(activeElementIdList).includes(groupItem.id),\n              'group-active': _unref(activeGroupElementId).includes(groupItem.id),\n            }]),\n                      key: groupItem.id,\n                      onClick: ($event: any) => (selectGroupEl(item, groupItem.id)),\n                      onDblclick: ($event: any) => (enterEdit(groupItem.id))\n                    }, [\n                      (editingElId.value === groupItem.id)\n                        ? (_openBlock(), _createElementBlock(\"input\", {\n                            key: 0,\n                            id: `input-${groupItem.id}`,\n                            value: groupItem.name || _unref(ELEMENT_TYPE_ZH)[groupItem.type],\n                            class: \"input\",\n                            type: \"text\",\n                            onBlur: ($event) => saveElementName($event, groupItem.id),\n                            onKeydown: _withKeys(($event) => saveElementName($event, groupItem.id), [\"enter\"])\n                          }, null, 40, _hoisted_8))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(groupItem.name || _unref(ELEMENT_TYPE_ZH)[groupItem.type]), 1)),\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        (_unref(hiddenElementIdList).includes(groupItem.id))\n                          ? (_openBlock(), _createBlock(_component_IconPreviewClose, {\n                              key: 0,\n                              style: {\"font-size\":\"17px\"},\n                              onClick: _withModifiers(($event: any) => (hideElement(groupItem.id)), [\"stop\"])\n                            }, null, 8, [\"onClick\"]))\n                          : (_openBlock(), _createBlock(_component_IconPreviewOpen, {\n                              key: 1,\n                              style: {\"font-size\":\"17px\"},\n                              onClick: _withModifiers(($event: any) => (hideElement(groupItem.id)), [\"stop\"])\n                            }, null, 8, [\"onClick\"]))\n                      ])\n                    ], 42, _hoisted_7))\n                  }), 128))\n                ]))\n              : (_openBlock(), _createElementBlock(\"div\", {\n                  key: 1,\n                  class: _normalizeClass([\"item\", { active: _unref(activeElementIdList).includes(item.id) }]),\n                  onClick: ($event: any) => (selectEl(item.id)),\n                  onDblclick: ($event: any) => (enterEdit(item.id))\n                }, [\n                  (editingElId.value === item.id)\n                    ? (_openBlock(), _createElementBlock(\"input\", {\n                        key: 0,\n                        id: `input-${item.id}`,\n                        value: item.name || _unref(ELEMENT_TYPE_ZH)[item.type],\n                        class: \"input\",\n                        type: \"text\",\n                        onBlur: ($event) => saveElementName($event, item.id),\n                        onKeydown: _withKeys(($event) => saveElementName($event, item.id), [\"enter\"])\n                      }, null, 40, _hoisted_12))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString(item.name || _unref(ELEMENT_TYPE_ZH)[item.type]), 1)),\n                  _createElementVNode(\"div\", _hoisted_14, [\n                    (_unref(hiddenElementIdList).includes(item.id))\n                      ? (_openBlock(), _createBlock(_component_IconPreviewClose, {\n                          key: 0,\n                          style: {\"font-size\":\"17px\"},\n                          onClick: _withModifiers(($event: any) => (hideElement(item.id)), [\"stop\"])\n                        }, null, 8, [\"onClick\"]))\n                      : (_openBlock(), _createBlock(_component_IconPreviewOpen, {\n                          key: 1,\n                          style: {\"font-size\":\"17px\"},\n                          onClick: _withModifiers(($event: any) => (hideElement(item.id)), [\"stop\"])\n                        }, null, 8, [\"onClick\"]))\n                  ])\n                ], 42, _hoisted_11))\n          ], 64))\n        }), 128))\n      ])\n    ]),\n    _: 1\n  }, 8, [\"title\"]))\n}\n}\n\n})","<template>\n  <MoveablePanel\n    class=\"select-panel\"\n    :width=\"200\"\n    :height=\"360\"\n    :title=\"`choose (${activeElementIdList.length}/${currentSlide.elements.length}`\"\n    :left=\"-270\"\n    :top=\"90\"\n    @close=\"close()\"\n  >\n    <div class=\"handler\" v-if=\"elements.length\">\n      <div class=\"btns\">\n        <Button size=\"small\" style=\"margin-right: 5px\" @click=\"showAll()\"\n          >Show All</Button\n        >\n        <Button size=\"small\" @click=\"hideAll()\">Hide All</Button>\n      </div>\n      <div class=\"icon-btns\" v-if=\"handleElement\">\n        <IconDown\n          class=\"icon-btn\"\n          @click=\"orderElement(handleElement!, ElementOrderCommands.UP)\"\n        />\n        <IconUp\n          class=\"icon-btn\"\n          @click=\"orderElement(handleElement!, ElementOrderCommands.DOWN)\"\n        />\n      </div>\n    </div>\n    <div class=\"element-list\">\n      <template v-for=\"item in elements\" :key=\"item.id\">\n        <div class=\"group-els\" v-if=\"item.type === 'group'\">\n          <div class=\"group-title\">combination</div>\n          <div\n            class=\"item\"\n            :class=\"{\n              active: activeElementIdList.includes(groupItem.id),\n              'group-active': activeGroupElementId.includes(groupItem.id),\n            }\"\n            v-for=\"groupItem in item.elements\"\n            :key=\"groupItem.id\"\n            @click=\"selectGroupEl(item, groupItem.id)\"\n            @dblclick=\"enterEdit(groupItem.id)\"\n          >\n            <input\n              :id=\"`input-${groupItem.id}`\"\n              :value=\"groupItem.name || ELEMENT_TYPE_ZH[groupItem.type]\"\n              class=\"input\"\n              type=\"text\"\n              v-if=\"editingElId === groupItem.id\"\n              @blur=\"($event) => saveElementName($event, groupItem.id)\"\n              @keydown.enter=\"($event) => saveElementName($event, groupItem.id)\"\n            />\n            <div v-else class=\"name\">\n              {{ groupItem.name || ELEMENT_TYPE_ZH[groupItem.type] }}\n            </div>\n            <div class=\"icons\">\n              <IconPreviewClose\n                style=\"font-size: 17px\"\n                @click.stop=\"hideElement(groupItem.id)\"\n                v-if=\"hiddenElementIdList.includes(groupItem.id)\"\n              />\n              <IconPreviewOpen\n                style=\"font-size: 17px\"\n                @click.stop=\"hideElement(groupItem.id)\"\n                v-else\n              />\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"item\"\n          :class=\"{ active: activeElementIdList.includes(item.id) }\"\n          v-else\n          @click=\"selectEl(item.id)\"\n          @dblclick=\"enterEdit(item.id)\"\n        >\n          <input\n            :id=\"`input-${item.id}`\"\n            :value=\"item.name || ELEMENT_TYPE_ZH[item.type]\"\n            class=\"input\"\n            type=\"text\"\n            v-if=\"editingElId === item.id\"\n            @blur=\"($event) => saveElementName($event, item.id)\"\n            @keydown.enter=\"($event) => saveElementName($event, item.id)\"\n          />\n          <div v-else class=\"name\">\n            {{ item.name || ELEMENT_TYPE_ZH[item.type] }}\n          </div>\n          <div class=\"icons\">\n            <IconPreviewClose\n              style=\"font-size: 17px\"\n              @click.stop=\"hideElement(item.id)\"\n              v-if=\"hiddenElementIdList.includes(item.id)\"\n            />\n            <IconPreviewOpen\n              style=\"font-size: 17px\"\n              @click.stop=\"hideElement(item.id)\"\n              v-else\n            />\n          </div>\n        </div>\n      </template>\n    </div>\n  </MoveablePanel>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore, useMainStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport { ElementOrderCommands } from '@/types/edit'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Button from '@/components/Button.vue'\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { currentSlide } = storeToRefs(slidesStore)\nconst {\n  handleElement,\n  handleElementId,\n  activeElementIdList,\n  activeGroupElementId,\n  hiddenElementIdList,\n} = storeToRefs(mainStore)\n\nconst { orderElement } = useOrderElement()\n\ninterface GroupElements {\n  type: 'group'\n  id: string\n  elements: PPTElement[]\n}\ntype ElementItem = PPTElement | GroupElements\n\nconst elements = computed<ElementItem[]>(() => {\n  const _elements: ElementItem[] = []\n\n  for (const el of currentSlide.value.elements) {\n    if (el.groupId) {\n      const lastItem = _elements[_elements.length - 1]\n\n      if (\n        lastItem &&\n        lastItem.type === 'group' &&\n        lastItem.id &&\n        lastItem.id === el.groupId\n      ) {\n        lastItem.elements.push(el)\n      } else _elements.push({ type: 'group', id: el.groupId, elements: [el] })\n    } else _elements.push(el)\n  }\n\n  return _elements\n})\n\nconst selectGroupEl = (item: GroupElements, id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  const idList = item.elements.map((el) => el.id)\n  mainStore.setActiveElementIdList(idList)\n  mainStore.setHandleElementId(id)\n  nextTick(() => mainStore.setActiveGroupElementId(id))\n}\n\nconst selectEl = (id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  mainStore.setActiveElementIdList([id])\n}\n\nconst hideElement = (id: string) => {\n  if (hiddenElementIdList.value.includes(id)) {\n    mainStore.setHiddenElementIdList(\n      hiddenElementIdList.value.filter((item) => item !== id)\n    )\n  } else mainStore.setHiddenElementIdList([...hiddenElementIdList.value, id])\n\n  if (activeElementIdList.value.includes(id))\n    mainStore.setActiveElementIdList([])\n}\n\nconst showAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(\n    (item) => item.id\n  )\n  const needHiddenElementIdList = hiddenElementIdList.value.filter(\n    (item) => !currentSlideElIdList.includes(item)\n  )\n  mainStore.setHiddenElementIdList(needHiddenElementIdList)\n}\nconst hideAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(\n    (item) => item.id\n  )\n  mainStore.setHiddenElementIdList([\n    ...hiddenElementIdList.value,\n    ...currentSlideElIdList,\n  ])\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n}\n\nconst editingElId = ref('')\n\nconst saveElementName = (e: FocusEvent | KeyboardEvent, id: string) => {\n  const name = (e.target as HTMLInputElement).value\n  slidesStore.updateElement({ id, props: { name } })\n  editingElId.value = ''\n}\n\nconst enterEdit = (id: string) => {\n  editingElId.value = id\n  nextTick(() => {\n    const inputRef = document.querySelector(`#input-${id}`) as HTMLInputElement\n    inputRef.focus()\n  })\n}\n\nconst close = () => {\n  mainStore.setSelectPanelState(false)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.select-panel {\n  height: 100%;\n  font-size: 12px;\n  user-select: none;\n}\n.handler {\n  height: 24px;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .icon-btns {\n    height: 100%;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .icon-btn {\n    width: 16px;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n\n    &:hover {\n      color: $themeColor;\n    }\n  }\n}\n.element-list {\n  height: calc(100% - 32px);\n  padding-right: 10px;\n  margin-right: -10px;\n  overflow: auto;\n}\n.item {\n  padding: 5px;\n  font-size: 12px;\n  border-radius: $borderRadius;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n\n  &.active {\n    background-color: rgba($color: $themeColor, $alpha: 0.1);\n  }\n  &.group-active {\n    background-color: rgba($color: $themeColor, $alpha: 0.2);\n  }\n  &:hover {\n    background-color: rgba($color: $themeColor, $alpha: 0.25);\n  }\n\n  .name {\n    height: 18px;\n    line-height: 18px;\n    flex: 1;\n    @include ellipsis-oneline();\n  }\n  .icons {\n    width: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 5px;\n  }\n}\n.group-els {\n  padding: 5px 0;\n\n  .group-title {\n    margin-bottom: 5px;\n    padding: 0 5px;\n  }\n  .item {\n    margin-left: 15px;\n  }\n}\n.input {\n  width: 100%;\n  height: 16px;\n  border: 0;\n  outline: 0;\n  padding-left: 0;\n  padding-right: 0;\n  flex: 1;\n  font-size: 12px;\n  background-color: transparent;\n}\n</style>\n","import script from \"./SelectPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SelectPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SelectPanel.vue?vue&type=style&index=0&id=0dabd0f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0dabd0f4\"]])\n\nexport default __exports__","import { nextTick, onBeforeUnmount, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTTableElement } from '@/types/slides'\nimport message from '@/utils/message'\n\ninterface SearchTextResult {\n  elType: 'text' | 'shape'\n  slideId: string\n  elId: string\n}\ninterface SearchTableResult {\n  elType: 'table'\n  slideId: string\n  elId: string\n  cellIndex: [number, number]\n}\n\ntype SearchResult = SearchTextResult | SearchTableResult\n\ntype Modifiers = 'g' | 'gi'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { handleElement } = storeToRefs(mainStore)\n  const { slides, slideIndex, currentSlide } = storeToRefs(slidesStore)\n\n  const searchWord = ref('')\n  const replaceWord = ref('')\n  const searchResults = ref<SearchResult[]>([])\n  const searchIndex = ref(-1)\n\n  const modifiers = ref<Modifiers>('g')\n  \n  const search = () => {\n    const textList: SearchResult[] = []\n    const matchRegex = new RegExp(searchWord.value, modifiers.value)\n    const textRegex = /(<([^>]+)>)/g\n  \n    for (const slide of slides.value) {\n      for (const el of slide.elements) {\n        if (el.type === 'text') {\n          const text = el.content.replace(textRegex, '')\n          const rets = text.match(matchRegex)\n          rets && textList.push(...new Array(rets.length).fill({\n            slideId: slide.id,\n            elId: el.id,\n            elType: el.type,\n          }))\n        }\n        else if (el.type === 'shape' && el.text && el.text.content) {\n          const text = el.text.content.replace(textRegex, '')\n          const rets = text.match(matchRegex)\n          rets && textList.push(...new Array(rets.length).fill({\n            slideId: slide.id,\n            elId: el.id,\n            elType: el.type,\n          }))\n        }\n        else if (el.type === 'table') {\n          for (let i = 0; i < el.data.length; i++) {\n            const row = el.data[i]\n            for (let j = 0; j < row.length; j++) {\n              const cell = row[j]\n              if (!cell.text) continue\n              const text = cell.text.replace(textRegex, '')\n              const rets = text.match(matchRegex)\n              rets && textList.push(...new Array(rets.length).fill({\n                slideId: slide.id,\n                elId: el.id,\n                elType: el.type,\n                cellIndex: [i, j],\n              }))\n            }\n          }\n        }\n      }\n    }\n    if (textList.length) {\n      searchResults.value = textList\n      searchIndex.value = 0\n      highlightCurrentSlide()\n    }\n    else {\n      message.warning('')\n      clearMarks()\n    }\n  }\n  \n  const getTextNodeList = (dom: Node): Text[] => {\n    const nodeList = [...dom.childNodes]\n    const textNodes = []\n    while (nodeList.length) {\n      const node = nodeList.shift()!\n      if (node.nodeType === node.TEXT_NODE) {\n        (node as Text).wholeText && textNodes.push(node as Text)\n      } \n      else {\n        nodeList.unshift(...node.childNodes)\n      }\n    }\n    return textNodes\n  }\n  \n  const getTextInfoList = (textNodes: Text[]) => {\n    let length = 0\n    const textList = textNodes.map(node => {\n      const startIdx = length, endIdx = length + node.wholeText.length\n      length = endIdx\n      return {\n        text: node.wholeText,\n        startIdx,\n        endIdx\n      }\n    })\n    return textList\n  }\n  \n  type TextInfoList = ReturnType<typeof getTextInfoList>\n  \n  const getMatchList = (content: string, keyword: string) => {\n    const reg = new RegExp(keyword, modifiers.value)\n    const matchList = []\n    let match = reg.exec(content)\n    while (match) {\n      matchList.push(match)\n      match = reg.exec(content)\n    }\n    return matchList\n  }\n  \n  const highlight = (textNodes: Text[], textList: TextInfoList, matchList: RegExpExecArray[], index: number) => {\n    for (let i = matchList.length - 1; i >= 0; i--) {\n      const match = matchList[i]\n      const matchStart = match.index\n      const matchEnd = matchStart + match[0].length\n  \n      for (let textIdx = 0; textIdx < textList.length; textIdx++) {\n        const { text, startIdx, endIdx } = textList[textIdx]\n        if (endIdx < matchStart) continue\n        if (startIdx >= matchEnd) break\n  \n        let textNode = textNodes[textIdx]\n        const nodeMatchStartIdx = Math.max(0, matchStart - startIdx)\n        const nodeMatchLength = Math.min(endIdx, matchEnd) - startIdx - nodeMatchStartIdx\n  \n        if (nodeMatchStartIdx > 0) textNode = textNode.splitText(nodeMatchStartIdx)\n        if (nodeMatchLength < textNode.wholeText.length) textNode.splitText(nodeMatchLength)\n  \n        const mark = document.createElement('mark')\n        mark.dataset.index = index + i + ''\n        mark.innerText = text.substring(nodeMatchStartIdx, nodeMatchStartIdx + nodeMatchLength)\n        textNode.parentNode!.replaceChild(mark, textNode)\n      }\n    }\n  }\n  \n  const highlightTableText = (nodes: NodeListOf<Element>, index: number) => {\n    for (const node of nodes) {\n      node.innerHTML = node.innerHTML.replace(new RegExp(searchWord.value, modifiers.value), () => {\n        return `<mark data-index=${index++}>${searchWord.value}</mark>`\n      })\n    }\n  }\n  \n  const clearMarks = () => {\n    const markNodes = document.querySelectorAll('.editable-element mark')\n    for (const mark of markNodes) {\n      setTimeout(() => {\n        const parentNode = mark.parentNode!\n        const text = mark.textContent!\n        parentNode.replaceChild(document.createTextNode(text), mark)\n      }, 0)\n    }\n  }\n  \n  const highlightCurrentSlide = () => {\n    clearMarks()\n    \n    setTimeout(() => {\n      for (let i = 0; i < searchResults.value.length; i++) {\n        const lastTarget = searchResults.value[i - 1]\n        const target = searchResults.value[i]\n        if (target.slideId !== currentSlide.value.id) continue\n        if (lastTarget && lastTarget.elId === target.elId) continue\n  \n        const node = document.querySelector(`#editable-element-${target.elId}`)\n        if (node) {\n          if (target.elType === 'table') {\n            const cells = node.querySelectorAll('.cell-text')\n            highlightTableText(cells, i)\n          }\n          else {\n            const textNodes = getTextNodeList(node)\n            const textList = getTextInfoList(textNodes)\n            const content = textList.map(({ text }) => text).join('')\n            const matchList = getMatchList(content, searchWord.value)\n            highlight(textNodes, textList, matchList, i)\n          }\n        }\n      }\n    }, 0)\n  }\n  \n  const setActiveMark = () => {\n    const markNodes = document.querySelectorAll('mark[data-index]')\n    for (const node of markNodes) {\n      setTimeout(() => {\n        const index = (node as HTMLElement).dataset.index\n        if (index !== undefined && +index === searchIndex.value) {\n          node.classList.add('active')\n        }\n        else node.classList.remove('active')\n      }, 0)\n    }\n  }\n  \n  const turnTarget = () => {\n    if (searchIndex.value === -1) return\n    \n    const target = searchResults.value[searchIndex.value]\n  \n    if (target.slideId === currentSlide.value.id) setTimeout(setActiveMark, 0)\n    else {\n      const index = slides.value.findIndex(slide => slide.id === target.slideId)\n      if (index !== -1) slidesStore.updateSlideIndex(index)\n    }\n  }\n  \n  const searchNext = () => {\n    if (!searchWord.value) return message.warning('')\n    mainStore.setActiveElementIdList([])\n    if (searchIndex.value === -1) search()\n    else if (searchIndex.value < searchResults.value.length - 1) searchIndex.value += 1\n    else searchIndex.value = 0\n    turnTarget()\n  }\n  \n  const searchPrev = () => {\n    if (!searchWord.value) return message.warning('')\n    mainStore.setActiveElementIdList([])\n    if (searchIndex.value === -1) search()\n    else if (searchIndex.value > 0) searchIndex.value -= 1\n    else searchIndex.value = searchResults.value.length - 1\n    turnTarget()\n  }\n  \n  const replace = () => {\n    if (!searchWord.value) return\n    if (searchIndex.value === -1) {\n      searchNext()\n      return\n    }\n  \n    const target = searchResults.value[searchIndex.value]\n    let targetElement = null\n    if (target.elType === 'table') {\n      const [i, j] = target.cellIndex\n      targetElement = document.querySelector(`#editable-element-${target.elId} .cell[data-cell-index=\"${i}_${j}\"] .cell-text`)\n    }\n    else targetElement = document.querySelector(`#editable-element-${target.elId} .ProseMirror`)\n    if (!targetElement) return\n  \n    const fakeElement = document.createElement('div')\n    fakeElement.innerHTML = targetElement.innerHTML\n  \n    let replaced = false\n    const marks = fakeElement.querySelectorAll('mark[data-index]')\n    for (const mark of marks) {\n      const parentNode = mark.parentNode!\n      if (mark.classList.contains('active')) {\n        if (replaced) parentNode.removeChild(mark)\n        else {\n          parentNode.replaceChild(document.createTextNode(replaceWord.value), mark)\n          replaced = true\n        }\n      }\n      else {\n        const text = mark.textContent!\n        parentNode.replaceChild(document.createTextNode(text), mark)\n      }\n    }\n  \n    if (target.elType === 'text') {\n      const props = { content: fakeElement.innerHTML }\n      slidesStore.updateElement({ id: target.elId, props })\n    }\n    else if (target.elType === 'shape') {\n      const el = currentSlide.value.elements.find(item => item.id === target.elId)\n      if (el && el.type === 'shape' && el.text) {\n        const props = { text: { ...el.text, content: fakeElement.innerHTML } }\n        slidesStore.updateElement({ id: target.elId, props })\n      }\n    }\n    else if (target.elType === 'table') {\n      const el = currentSlide.value.elements.find(item => item.id === target.elId)\n      if (el && el.type === 'table') {\n        const data = el.data.map((row, i) => {\n          if (i === target.cellIndex[0]) {\n            return row.map((cell, j) => {\n              if (j === target.cellIndex[1]) {\n                return {\n                  ...cell,\n                  text: fakeElement.innerHTML,\n                }\n              }\n              return cell\n            })\n          }\n          return row\n        })\n        const props = { data }\n        slidesStore.updateElement({ id: target.elId, props })\n      }\n    }\n  \n    searchResults.value.splice(searchIndex.value, 1)\n    if (searchResults.value.length) {\n      if (searchIndex.value > searchResults.value.length - 1) {\n        searchIndex.value = 0\n      }\n      nextTick(() => {\n        highlightCurrentSlide()\n        turnTarget()\n      })\n    }\n    else searchIndex.value = -1\n  }\n  \n  const replaceAll = () => {\n    if (!searchWord.value) return\n    if (searchIndex.value === -1) {\n      searchNext()\n      return\n    }\n  \n    for (let i = 0; i < searchResults.value.length; i++) {\n      const lastTarget = searchResults.value[i - 1]\n      const target = searchResults.value[i]\n      if (lastTarget && lastTarget.elId === target.elId) continue\n  \n      const targetSlide = slides.value.find(item => item.id === target.slideId)\n      if (!targetSlide) continue\n      const targetElement = targetSlide.elements.find(item => item.id === target.elId)\n      if (!targetElement) continue\n  \n      const fakeElement = document.createElement('div')\n      if (targetElement.type === 'text') fakeElement.innerHTML = targetElement.content\n      else if (targetElement.type === 'shape') fakeElement.innerHTML = targetElement.text?.content || ''\n  \n      if (target.elType === 'table') {\n        const data = (targetElement as PPTTableElement).data.map(row => {\n          return row.map(cell => {\n            if (!cell.text) return cell\n            return {\n              ...cell,\n              text: cell.text.replaceAll(searchWord.value, replaceWord.value),\n            }\n          })\n        })\n        const props = { data }\n        slidesStore.updateElement({ id: target.elId, slideId: target.slideId, props })\n      }\n      else {\n        const textNodes = getTextNodeList(fakeElement)\n        const textList = getTextInfoList(textNodes)\n        const content = textList.map(({ text }) => text).join('')\n        const matchList = getMatchList(content, searchWord.value)\n        highlight(textNodes, textList, matchList, i)\n  \n        const marks = fakeElement.querySelectorAll('mark[data-index]')\n        let lastMarkIndex = -1\n        for (const mark of marks) {\n          const markIndex = +(mark as HTMLElement).dataset.index!\n          const parentNode = mark.parentNode!\n          if (markIndex === lastMarkIndex) parentNode.removeChild(mark)\n          else {\n            parentNode.replaceChild(document.createTextNode(replaceWord.value), mark)\n            lastMarkIndex = markIndex\n          }\n        }\n  \n        if (target.elType === 'text') {\n          const props = { content: fakeElement.innerHTML }\n          slidesStore.updateElement({ id: target.elId, slideId: target.slideId, props })\n        }\n        else if (target.elType === 'shape') {\n          const el = currentSlide.value.elements.find(item => item.id === target.elId)\n          if (el && el.type === 'shape' && el.text) {\n            const props = { text: { ...el.text, content: fakeElement.innerHTML } }\n            slidesStore.updateElement({ id: target.elId, slideId: target.slideId, props })\n          }\n        }\n      }\n    }\n    searchResults.value = []\n    searchIndex.value = -1\n  }\n\n  const reset = () => {\n    searchIndex.value = -1\n    searchResults.value = []\n  \n    if (!searchWord.value) clearMarks()\n  }\n  \n  watch(searchWord, reset)\n  \n  watch(slideIndex, () => {\n    nextTick(() => {\n      highlightCurrentSlide()\n      setTimeout(setActiveMark, 0)\n    })\n  })\n  \n  watch(handleElement, () => {\n    if (handleElement.value) {\n      searchIndex.value = -1\n      searchResults.value = []\n      clearMarks()\n    }\n  })\n  \n  onBeforeUnmount(clearMarks)\n  \n  const toggleModifiers = () => {\n    modifiers.value = modifiers.value === 'g' ? 'gi' : 'g'\n    reset()\n  }\n\n  return {\n    searchWord,\n    replaceWord,\n    searchResults,\n    searchIndex,\n    modifiers,\n    searchNext,\n    searchPrev,\n    replace,\n    replaceAll,\n    toggleModifiers,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, isRef as _isRef, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-002cdd29\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"count\" }\nconst _hoisted_2 = {\n  key: 1,\n  class: \"footer\"\n}\n\nimport { nextTick, onMounted, ref, watch } from 'vue'\nimport { useMainStore } from '@/store'\nimport useSearch from '@/hooks/useSearch'\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\n\ntype TypeKey = 'search' | 'replace'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchPanel',\n  setup(__props) {\n\nconst mainStore = useMainStore()\n\nconst {\n  searchWord,\n  replaceWord,\n  searchResults,\n  searchIndex,\n  modifiers,\n  searchNext,\n  searchPrev,\n  replace,\n  replaceAll,\n  toggleModifiers,\n} = useSearch()\n\nconst type = ref<TypeKey>('search')\nconst tabs: TabItem[] = [\n  { key: 'search', label: 'search' },\n  { key: 'replace', label: 'replace' },\n]\n\nconst close = () => {\n  mainStore.setSearchPanelState(false)\n}\n\nconst searchInpRef = ref<HTMLInputElement>()\nonMounted(() => {\n  searchInpRef.value!.focus()\n})\n\nwatch(type, () => {\n  nextTick(() => {\n    searchInpRef.value!.focus()\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n  const _component_IconLeft = _resolveComponent(\"IconLeft\")!\n  const _component_IconRight = _resolveComponent(\"IconRight\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createBlock(MoveablePanel, {\n    class: \"search-panel\",\n    width: 330,\n    height: 0,\n    left: -270,\n    top: 90\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: \"close-btn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (close())),\n        onMousedown: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\"]))\n      }, [\n        _createVNode(_component_IconClose)\n      ], 32),\n      _createVNode(Tabs, {\n        tabs: tabs,\n        value: type.value,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((type).value = $event))\n      }, null, 8, [\"value\"]),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"content\", type.value]),\n        onMousedown: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"stop\"]))\n      }, [\n        _createVNode(Input, {\n          class: \"input\",\n          value: _unref(searchWord),\n          \"onUpdate:value\": _cache[6] || (_cache[6] = ($event: any) => (_isRef(searchWord) ? (searchWord).value = $event : null)),\n          placeholder: \"Enter search content\",\n          onEnter: _cache[7] || (_cache[7] = ($event: any) => (_unref(searchNext)())),\n          ref_key: \"searchInpRef\",\n          ref: searchInpRef\n        }, {\n          suffix: _withCtx(() => [\n            _createElementVNode(\"span\", _hoisted_1, _toDisplayString(_unref(searchIndex) + 1) + \"/\" + _toDisplayString(_unref(searchResults).length), 1),\n            _createVNode(Divider, { type: \"vertical\" }),\n            _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n              class: _normalizeClass([\"ignore-case\", { active: _unref(modifiers) === 'g' }]),\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(toggleModifiers)()))\n            }, [\n              _createTextVNode(\"Aa\")\n            ], 2)), [\n              [_directive_tooltip, 'Ignore case']\n            ]),\n            _createVNode(Divider, { type: \"vertical\" }),\n            _withDirectives(_createVNode(_component_IconLeft, {\n              class: \"next-btn left\",\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(searchPrev)()))\n            }, null, 512), [\n              [_directive_tooltip, 'Previous']\n            ]),\n            _withDirectives(_createVNode(_component_IconRight, {\n              class: \"next-btn right\",\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(searchNext)()))\n            }, null, 512), [\n              [_directive_tooltip, 'Next']\n            ])\n          ]),\n          _: 1\n        }, 8, [\"value\"]),\n        (type.value === 'replace')\n          ? (_openBlock(), _createBlock(Input, {\n              key: 0,\n              class: \"input\",\n              value: _unref(replaceWord),\n              \"onUpdate:value\": _cache[8] || (_cache[8] = ($event: any) => (_isRef(replaceWord) ? (replaceWord).value = $event : null)),\n              placeholder: \"Enter replacement content\",\n              onEnter: _cache[9] || (_cache[9] = ($event: any) => (_unref(replace)()))\n            }, null, 8, [\"value\"]))\n          : _createCommentVNode(\"\", true),\n        (type.value === 'replace')\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _createVNode(Button, {\n                disabled: !_unref(searchWord),\n                style: {\"margin-left\":\"5px\"},\n                onClick: _cache[10] || (_cache[10] = ($event: any) => (_unref(replace)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Replace\")\n                ]),\n                _: 1\n              }, 8, [\"disabled\"]),\n              _createVNode(Button, {\n                disabled: !_unref(searchWord),\n                type: \"primary\",\n                style: {\"margin-left\":\"5px\"},\n                onClick: _cache[11] || (_cache[11] = ($event: any) => (_unref(replaceAll)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Replace all\")\n                ]),\n                _: 1\n              }, 8, [\"disabled\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ], 34)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <MoveablePanel\n    class=\"search-panel\"\n    :width=\"330\"\n    :height=\"0\"\n    :left=\"-270\"\n    :top=\"90\"\n  >\n    <div class=\"close-btn\" @click=\"close()\" @mousedown.stop><IconClose /></div>\n    <Tabs :tabs=\"tabs\" v-model:value=\"type\" />\n\n    <div class=\"content\" :class=\"type\" @mousedown.stop>\n      <Input\n        class=\"input\"\n        v-model:value=\"searchWord\"\n        placeholder=\"Enter search content\"\n        @enter=\"searchNext()\"\n        ref=\"searchInpRef\"\n      >\n        <template #suffix>\n          <span class=\"count\"\n            >{{ searchIndex + 1 }}/{{ searchResults.length }}</span\n          >\n          <Divider type=\"vertical\" />\n          <span\n            class=\"ignore-case\"\n            :class=\"{ active: modifiers === 'g' }\"\n            v-tooltip=\"'Ignore case'\"\n            @click=\"toggleModifiers()\"\n            >Aa</span\n          >\n          <Divider type=\"vertical\" />\n          <IconLeft\n            class=\"next-btn left\"\n            @click=\"searchPrev()\"\n            v-tooltip=\"'Previous'\"\n          />\n          <IconRight\n            class=\"next-btn right\"\n            @click=\"searchNext()\"\n            v-tooltip=\"'Next'\"\n          />\n        </template>\n      </Input>\n      <Input\n        class=\"input\"\n        v-model:value=\"replaceWord\"\n        placeholder=\"Enter replacement content\"\n        @enter=\"replace()\"\n        v-if=\"type === 'replace'\"\n      ></Input>\n      <div class=\"footer\" v-if=\"type === 'replace'\">\n        <Button\n          :disabled=\"!searchWord\"\n          style=\"margin-left: 5px\"\n          @click=\"replace()\"\n          >Replace</Button\n        >\n        <Button\n          :disabled=\"!searchWord\"\n          type=\"primary\"\n          style=\"margin-left: 5px\"\n          @click=\"replaceAll()\"\n          >Replace all</Button\n        >\n      </div>\n    </div>\n  </MoveablePanel>\n</template>\n\n<script lang=\"ts\" setup>\nimport { nextTick, onMounted, ref, watch } from 'vue'\nimport { useMainStore } from '@/store'\nimport useSearch from '@/hooks/useSearch'\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Input from '@/components/Input.vue'\nimport Button from '@/components/Button.vue'\n\ntype TypeKey = 'search' | 'replace'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\nconst mainStore = useMainStore()\n\nconst {\n  searchWord,\n  replaceWord,\n  searchResults,\n  searchIndex,\n  modifiers,\n  searchNext,\n  searchPrev,\n  replace,\n  replaceAll,\n  toggleModifiers,\n} = useSearch()\n\nconst type = ref<TypeKey>('search')\nconst tabs: TabItem[] = [\n  { key: 'search', label: 'search' },\n  { key: 'replace', label: 'replace' },\n]\n\nconst close = () => {\n  mainStore.setSearchPanelState(false)\n}\n\nconst searchInpRef = ref<HTMLInputElement>()\nonMounted(() => {\n  searchInpRef.value!.focus()\n})\n\nwatch(type, () => {\n  nextTick(() => {\n    searchInpRef.value!.focus()\n  })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.search-panel {\n  font-size: 13px;\n}\n.content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.input {\n  margin-top: 10px;\n}\n.count {\n  font-size: 12px;\n  margin-right: 8px;\n  user-select: none;\n}\n.ignore-case {\n  font-size: 12px;\n  user-select: none;\n  cursor: pointer;\n\n  &.active {\n    color: $themeColor;\n  }\n}\n.next-btn {\n  width: 22px;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 !important;\n  user-select: none;\n  cursor: pointer;\n\n  &:hover {\n    color: $themeColor;\n  }\n}\n.footer {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 10px;\n}\n.close-btn {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  top: 8px;\n  right: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #666;\n  font-size: 12px;\n  cursor: pointer;\n}\n</style>\n","import script from \"./SearchPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SearchPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SearchPanel.vue?vue&type=style&index=0&id=002cdd29&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-002cdd29\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7a7f5e02\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ppt-editor\" }\nconst _hoisted_2 = { class: \"layout-content\" }\nconst _hoisted_3 = { class: \"layout-content-center\" }\n\nimport { onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useGlobalHotkey from '@/hooks/useGlobalHotkey'\nimport usePasteEvent from '@/hooks/usePasteEvent'\n\nimport EditorHeader from './EditorHeader/index.vue'\nimport Canvas from './Canvas/index.vue'\nimport CanvasTool from './CanvasTool/index.vue'\nimport Thumbnails from './Thumbnails/index.vue'\nimport Toolbar from './Toolbar/index.vue'\nimport Remark from './Remark/index.vue'\nimport ExportDialog from './ExportDialog/index.vue'\nimport SelectPanel from './SelectPanel.vue'\nimport SearchPanel from './SearchPanel.vue'\nimport Modal from '@/components/Modal.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  url: String,\n  pk: Number,\n},\n  setup(__props) {\n\nconst mainStore = useMainStore()\n\nconst { dialogForExport, showSelectPanel, showSearchPanel } =\n  storeToRefs(mainStore)\nconst closeExportDialog = () => mainStore.setDialogForExport('')\n\nconst remarkHeight = ref(40)\n\nuseGlobalHotkey()\nusePasteEvent()\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(EditorHeader, {\n        ppt_url: __props.url,\n        pk: __props.pk,\n        class: \"layout-header\"\n      }, null, 8, [\"ppt_url\", \"pk\"]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(Thumbnails, { class: \"layout-content-left\" }),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(CanvasTool, { class: \"center-top\" }),\n          _createVNode(Canvas, {\n            class: \"center-body\",\n            style: _normalizeStyle({ height: `calc(100% - ${remarkHeight.value + 40}px)` })\n          }, null, 8, [\"style\"]),\n          _createVNode(Remark, {\n            class: \"center-bottom\",\n            height: remarkHeight.value,\n            \"onUpdate:height\": _cache[0] || (_cache[0] = ($event: any) => ((remarkHeight).value = $event)),\n            style: _normalizeStyle({ height: `${remarkHeight.value}px` })\n          }, null, 8, [\"height\", \"style\"])\n        ]),\n        _createVNode(Toolbar, { class: \"layout-content-right\" })\n      ])\n    ]),\n    (_unref(showSelectPanel))\n      ? (_openBlock(), _createBlock(SelectPanel, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (_unref(showSearchPanel))\n      ? (_openBlock(), _createBlock(SearchPanel, { key: 1 }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Modal, {\n      visible: !!_unref(dialogForExport),\n      width: 680,\n      onClosed: _cache[1] || (_cache[1] = ($event: any) => (closeExportDialog()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(ExportDialog)\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 64))\n}\n}\n\n})","<template>\n\n  <div class=\"ppt-editor\">\n    <EditorHeader :ppt_url=url :pk=pk class=\"layout-header\" />\n    <div class=\"layout-content\">\n      <Thumbnails class=\"layout-content-left\" />\n      <div class=\"layout-content-center\">\n        <CanvasTool class=\"center-top\" />\n        <Canvas\n          class=\"center-body\"\n          :style=\"{ height: `calc(100% - ${remarkHeight + 40}px)` }\"\n        />\n        <Remark\n          class=\"center-bottom\"\n          v-model:height=\"remarkHeight\"\n          :style=\"{ height: `${remarkHeight}px` }\"\n        />\n      </div>\n      <Toolbar class=\"layout-content-right\" />\n    </div>\n  </div>\n\n  <SelectPanel v-if=\"showSelectPanel\" />\n  <SearchPanel v-if=\"showSearchPanel\" />\n\n  <Modal\n    :visible=\"!!dialogForExport\"\n    :width=\"680\"\n    @closed=\"closeExportDialog()\"\n  >\n    <ExportDialog />\n  </Modal>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useGlobalHotkey from '@/hooks/useGlobalHotkey'\nimport usePasteEvent from '@/hooks/usePasteEvent'\n\nimport EditorHeader from './EditorHeader/index.vue'\nimport Canvas from './Canvas/index.vue'\nimport CanvasTool from './CanvasTool/index.vue'\nimport Thumbnails from './Thumbnails/index.vue'\nimport Toolbar from './Toolbar/index.vue'\nimport Remark from './Remark/index.vue'\nimport ExportDialog from './ExportDialog/index.vue'\nimport SelectPanel from './SelectPanel.vue'\nimport SearchPanel from './SearchPanel.vue'\nimport Modal from '@/components/Modal.vue'\n\nconst mainStore = useMainStore()\n\nconst { dialogForExport, showSelectPanel, showSearchPanel } =\n  storeToRefs(mainStore)\nconst closeExportDialog = () => mainStore.setDialogForExport('')\n\nconst remarkHeight = ref(40)\n\nuseGlobalHotkey()\nusePasteEvent()\n\ndefineProps({\n  url: String,\n  pk: Number,\n})\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.ppt-editor {\n  height: 100%;\n}\n.layout-header {\n  height: 40px;\n}\n.layout-content {\n  height: calc(100% - 40px);\n  display: flex;\n}\n.layout-content-left {\n  width: 160px;\n  height: 100%;\n  flex-shrink: 0;\n}\n.layout-content-center {\n  width: calc(100% - 160px - 260px);\n\n  .center-top {\n    height: 40px;\n  }\n}\n.layout-content-right {\n  width: 260px;\n  height: 100%;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7a7f5e02&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a7f5e02\"]])\n\nexport default __exports__","import { onMounted, onUnmounted, ref } from 'vue'\nimport { throttle } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { KEYS } from '@/configs/hotkey'\nimport { ANIMATION_CLASS_PREFIX } from '@/configs/animation'\nimport message from '@/utils/message'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, slideIndex, formatedAnimations } = storeToRefs(slidesStore)\n\n  // \n  const animationIndex = ref(0)\n\n  // \n  const inAnimation = ref(false)\n\n  // \n  const playedSlidesMinIndex = ref(slideIndex.value)\n\n  // \n  const runAnimation = () => {\n    // \n    if (inAnimation.value) return\n\n    const { animations, autoNext } =\n      formatedAnimations.value[animationIndex.value]\n    animationIndex.value += 1\n\n    // \n    inAnimation.value = true\n\n    let endAnimationCount = 0\n\n    // \n    for (const animation of animations) {\n      const elRef: HTMLElement | null = document.querySelector(\n        `#screen-element-${animation.elId} [class^=base-element-]`\n      )\n      if (!elRef) {\n        endAnimationCount += 1\n        continue\n      }\n\n      const animationName = `${ANIMATION_CLASS_PREFIX}${animation.effect}`\n\n      // \n      elRef.style.removeProperty('--animate-duration')\n      for (const classname of elRef.classList) {\n        if (classname.indexOf(ANIMATION_CLASS_PREFIX) !== -1)\n          elRef.classList.remove(classname, `${ANIMATION_CLASS_PREFIX}animated`)\n      }\n\n      // \n      elRef.style.setProperty('--animate-duration', `${animation.duration}ms`)\n      elRef.classList.add(animationName, `${ANIMATION_CLASS_PREFIX}animated`)\n\n      // \n      const handleAnimationEnd = () => {\n        if (animation.type !== 'out') {\n          elRef.style.removeProperty('--animate-duration')\n          elRef.classList.remove(\n            animationName,\n            `${ANIMATION_CLASS_PREFIX}animated`\n          )\n        }\n\n        // \n        endAnimationCount += 1\n        if (endAnimationCount === animations.length) {\n          inAnimation.value = false\n          if (autoNext) runAnimation()\n        }\n      }\n      elRef.addEventListener('animationend', handleAnimationEnd, { once: true })\n    }\n  }\n\n  // \n  const revokeAnimation = () => {\n    animationIndex.value -= 1\n    const { animations } = formatedAnimations.value[animationIndex.value]\n\n    for (const animation of animations) {\n      const elRef: HTMLElement | null = document.querySelector(\n        `#screen-element-${animation.elId} [class^=base-element-]`\n      )\n      if (!elRef) continue\n\n      elRef.style.removeProperty('--animate-duration')\n      for (const classname of elRef.classList) {\n        if (classname.indexOf(ANIMATION_CLASS_PREFIX) !== -1)\n          elRef.classList.remove(classname, `${ANIMATION_CLASS_PREFIX}animated`)\n      }\n    }\n\n    // \n    if (animations.every((item) => item.type === 'attention')) execPrev()\n  }\n\n  // \n  const autoPlayTimer = ref(0)\n  const closeAutoPlay = () => {\n    if (autoPlayTimer.value) {\n      clearInterval(autoPlayTimer.value)\n      autoPlayTimer.value = 0\n    }\n  }\n  onUnmounted(closeAutoPlay)\n\n  // \n  const loopPlay = ref(false)\n  const setLoopPlay = (loop: boolean) => {\n    loopPlay.value = loop\n  }\n\n  const throttleMassage = throttle(\n    function (msg) {\n      message.success(msg)\n    },\n    1000,\n    { leading: true, trailing: false }\n  )\n\n  // /\n  // \n  // \n  // \n  const execPrev = () => {\n    if (formatedAnimations.value.length && animationIndex.value > 0) {\n      revokeAnimation()\n    } else if (slideIndex.value > 0) {\n      slidesStore.updateSlideIndex(slideIndex.value - 1)\n      if (slideIndex.value < playedSlidesMinIndex.value) {\n        animationIndex.value = 0\n        playedSlidesMinIndex.value = slideIndex.value\n      } else animationIndex.value = formatedAnimations.value.length\n    } else {\n      if (loopPlay.value) turnSlideToIndex(slides.value.length - 1)\n      else throttleMassage('')\n    }\n    inAnimation.value = false\n  }\n  const execNext = () => {\n    if (\n      formatedAnimations.value.length &&\n      animationIndex.value < formatedAnimations.value.length\n    ) {\n      runAnimation()\n    } else if (slideIndex.value < slides.value.length - 1) {\n      slidesStore.updateSlideIndex(slideIndex.value + 1)\n      animationIndex.value = 0\n      inAnimation.value = false\n    } else {\n      if (loopPlay.value) turnSlideToIndex(0)\n      else {\n        throttleMassage('')\n        closeAutoPlay()\n      }\n      inAnimation.value = false\n    }\n  }\n\n  // \n  const autoPlayInterval = ref(2500)\n  const autoPlay = () => {\n    closeAutoPlay()\n    message.success('Start automatic show')\n    autoPlayTimer.value = setInterval(execNext, autoPlayInterval.value)\n  }\n\n  const setAutoPlayInterval = (interval: number) => {\n    closeAutoPlay()\n    autoPlayInterval.value = interval\n    autoPlay()\n  }\n\n  // \n  const mousewheelListener = throttle(\n    function (e: WheelEvent) {\n      if (e.deltaY < 0) execPrev()\n      else if (e.deltaY > 0) execNext()\n    },\n    500,\n    { leading: true, trailing: false }\n  )\n\n  // \n  const touchInfo = ref<{ x: number; y: number } | null>(null)\n\n  const touchStartListener = (e: TouchEvent) => {\n    touchInfo.value = {\n      x: e.changedTouches[0].pageX,\n      y: e.changedTouches[0].pageY,\n    }\n  }\n  const touchEndListener = (e: TouchEvent) => {\n    if (!touchInfo.value) return\n\n    const offsetX = Math.abs(touchInfo.value.x - e.changedTouches[0].pageX)\n    const offsetY = e.changedTouches[0].pageY - touchInfo.value.y\n\n    if (Math.abs(offsetY) > offsetX && Math.abs(offsetY) > 50) {\n      touchInfo.value = null\n\n      if (offsetY > 0) execPrev()\n      else execNext()\n    }\n  }\n\n  // \n  const keydownListener = (e: KeyboardEvent) => {\n    const key = e.key.toUpperCase()\n\n    if (key === KEYS.UP || key === KEYS.LEFT || key === KEYS.PAGEUP) execPrev()\n    else if (\n      key === KEYS.DOWN ||\n      key === KEYS.RIGHT ||\n      key === KEYS.SPACE ||\n      key === KEYS.ENTER ||\n      key === KEYS.PAGEDOWN\n    )\n      execNext()\n  }\n\n  onMounted(() => document.addEventListener('keydown', keydownListener))\n  onUnmounted(() => document.removeEventListener('keydown', keydownListener))\n\n  // /\n  const turnPrevSlide = () => {\n    slidesStore.updateSlideIndex(slideIndex.value - 1)\n    animationIndex.value = 0\n  }\n  const turnNextSlide = () => {\n    slidesStore.updateSlideIndex(slideIndex.value + 1)\n    animationIndex.value = 0\n  }\n\n  // \n  const turnSlideToIndex = (index: number) => {\n    slidesStore.updateSlideIndex(index)\n    animationIndex.value = 0\n  }\n  const turnSlideToId = (id: string) => {\n    const index = slides.value.findIndex((slide) => slide.id === id)\n    if (index !== -1) {\n      slidesStore.updateSlideIndex(index)\n      animationIndex.value = 0\n    }\n  }\n\n  return {\n    autoPlayTimer,\n    autoPlayInterval,\n    setAutoPlayInterval,\n    autoPlay,\n    closeAutoPlay,\n    loopPlay,\n    setLoopPlay,\n    mousewheelListener,\n    touchStartListener,\n    touchEndListener,\n    turnPrevSlide,\n    turnNextSlide,\n    turnSlideToIndex,\n    turnSlideToId,\n    execPrev,\n    execNext,\n    animationIndex,\n  }\n}\n","import { onMounted, onUnmounted, ref, type Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nexport default (wrapRef?: Ref<HTMLElement | undefined>) => {\n  const slidesStore = useSlidesStore()\n  const { viewportRatio } = storeToRefs(slidesStore)\n\n  const slideWidth = ref(0)\n  const slideHeight = ref(0)\n\n  // \n  const setSlideContentSize = () => {\n    const slideWrapRef = wrapRef?.value || document.body\n    const winWidth = slideWrapRef.clientWidth\n    const winHeight = slideWrapRef.clientHeight\n    let width, height\n\n    if (winHeight / winWidth === viewportRatio.value) {\n      width = winWidth\n      height = winHeight\n    }\n    else if (winHeight / winWidth > viewportRatio.value) {\n      width = winWidth\n      height = winWidth * viewportRatio.value\n    }\n    else {\n      width = winHeight / viewportRatio.value\n      height = winHeight\n    }\n    slideWidth.value = width\n    slideHeight.value = height\n  }\n\n  onMounted(() => {\n    setSlideContentSize()\n    window.addEventListener('resize', setSlideContentSize)\n  })\n  onUnmounted(() => {\n    window.removeEventListener('resize', setSlideContentSize)\n  })\n\n  return {\n    slideWidth,\n    slideHeight,\n  }\n}","import { onMounted, onUnmounted, ref } from 'vue'\nimport { isFullscreen, exitFullscreen } from '@/utils/fullscreen'\nimport useScreening from '@/hooks/useScreening'\n\nexport default () => {\n  const fullscreenState = ref(true)\n  const escExit = ref(true)\n\n  const { exitScreening } = useScreening()\n\n  const handleFullscreenChange = () => {\n    fullscreenState.value = isFullscreen()\n    if (!fullscreenState.value && escExit.value) exitScreening()\n\n    escExit.value = true\n  }\n\n  onMounted(() => {\n    fullscreenState.value = isFullscreen()\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange) // Safari \n  })\n  onUnmounted(() => {\n    document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    document.removeEventListener('webkitfullscreenchange', handleFullscreenChange)\n  })\n\n  const manualExitFullscreen = () => {\n    if (!fullscreenState.value) return\n    escExit.value = false\n    exitFullscreen()\n  }\n\n  return {\n    fullscreenState,\n    manualExitFullscreen,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-76bf5b3f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed, inject, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenVideoElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\n\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-video screen-element-video\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (inCurrentSlide.value)\n          ? (_openBlock(), _createBlock(VideoPlayer, {\n              key: 0,\n              width: _ctx.elementInfo.width,\n              height: _ctx.elementInfo.height,\n              src: _ctx.elementInfo.src,\n              poster: _ctx.elementInfo.poster,\n              autoplay: _ctx.elementInfo.autoplay,\n              scale: _unref(scale)\n            }, null, 8, [\"width\", \"height\", \"src\", \"poster\", \"autoplay\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"base-element-video screen-element-video\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div class=\"element-content\">\n        <VideoPlayer\n          v-if=\"inCurrentSlide\"\n          :width=\"elementInfo.width\"\n          :height=\"elementInfo.height\"\n          :src=\"elementInfo.src\" \n          :poster=\"elementInfo.poster\"  \n          :autoplay=\"elementInfo.autoplay\"\n          :scale=\"scale\" \n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { PPTVideoElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\ndefineProps<{\n  elementInfo: PPTVideoElement\n}>()\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n</script>\n\n<style lang=\"scss\" scoped>\n.screen-element-video {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import script from \"./ScreenVideoElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenVideoElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenVideoElement.vue?vue&type=style&index=0&id=76bf5b3f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76bf5b3f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-adf39436\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed, inject, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenAudioElement',\n  props: {\n    elementInfo: {}\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / scale.value\n  const audioHeight = 50 / scale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst audioPlayerRef = ref<InstanceType<typeof AudioPlayer>>()\nconst toggle = () => {\n  if (!audioPlayerRef.value) return\n  audioPlayerRef.value.toggle()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-audio screen-element-audio\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top + 'px',\n      left: _ctx.elementInfo.left + 'px',\n      width: _ctx.elementInfo.width + 'px',\n      height: _ctx.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${_ctx.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: _ctx.elementInfo.color,\n          }),\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle()))\n        }, null, 8, [\"style\"]),\n        (inCurrentSlide.value)\n          ? (_openBlock(), _createBlock(AudioPlayer, {\n              key: 0,\n              class: \"audio-player\",\n              ref_key: \"audioPlayerRef\",\n              ref: audioPlayerRef,\n              style: _normalizeStyle({ ...audioPlayerPosition.value }),\n              src: _ctx.elementInfo.src,\n              loop: _ctx.elementInfo.loop,\n              autoplay: _ctx.elementInfo.autoplay,\n              scale: _unref(scale)\n            }, null, 8, [\"style\", \"src\", \"loop\", \"autoplay\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"base-element-audio screen-element-audio\"\n    :style=\"{\n      top: elementInfo.top + 'px',\n      left: elementInfo.left + 'px',\n      width: elementInfo.width + 'px',\n      height: elementInfo.height + 'px',\n    }\"\n  >\n    <div\n      class=\"rotate-wrapper\"\n      :style=\"{ transform: `rotate(${elementInfo.rotate}deg)` }\"\n    >\n      <div class=\"element-content\">\n        <IconVolumeNotice \n          class=\"audio-icon\" \n          :style=\"{\n            fontSize: audioIconSize,\n            color: elementInfo.color,\n          }\"\n          @click=\"toggle()\"\n        />\n        <AudioPlayer\n          class=\"audio-player\"\n          ref=\"audioPlayerRef\"\n          v-if=\"inCurrentSlide\"\n          :style=\"{ ...audioPlayerPosition }\"\n          :src=\"elementInfo.src\" \n          :loop=\"elementInfo.loop\"\n          :autoplay=\"elementInfo.autoplay\"\n          :scale=\"scale\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { PPTAudioElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTAudioElement\n}>()\n\nconst { viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / scale.value\n  const audioHeight = 50 / scale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst audioPlayerRef = ref<InstanceType<typeof AudioPlayer>>()\nconst toggle = () => {\n  if (!audioPlayerRef.value) return\n  audioPlayerRef.value.toggle()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.screen-element-audio {\n  position: absolute;\n}\n.rotate-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.element-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    .audio-player {\n      display: block;\n    }\n  }\n}\n.audio-icon {\n  cursor: pointer;\n}\n.audio-player {\n  position: absolute;\n  display: none;\n}\n</style>\n","import script from \"./ScreenAudioElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenAudioElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenAudioElement.vue?vue&type=style&index=0&id=adf39436&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-adf39436\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2139723a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"id\", \"title\"]\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport BaseChartElement from '@/views/components/element/ChartElement/BaseChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport ScreenVideoElement from '@/views/components/element/VideoElement/ScreenVideoElement.vue'\nimport ScreenAudioElement from '@/views/components/element/AudioElement/ScreenAudioElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenElement',\n  props: {\n    elementInfo: {},\n    elementIndex: {},\n    animationIndex: {},\n    turnSlideToId: { type: Function },\n    manualExitFullscreen: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: BaseChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: ScreenVideoElement,\n    [ElementTypes.AUDIO]: ScreenAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { formatedAnimations, theme } = storeToRefs(useSlidesStore())\n\n// \nconst needWaitAnimation = computed(() => {\n  // \n  const elementIndexInAnimation = formatedAnimations.value.findIndex(item => {\n    const elIds = item.animations.map(item => item.elId)\n    return elIds.includes(props.elementInfo.id)\n  })\n\n  // \n  if (elementIndexInAnimation === -1) return false\n\n  // \n  // \n  if (elementIndexInAnimation < props.animationIndex) return false\n\n  // \n  // \n  const firstAnimation = formatedAnimations.value[elementIndexInAnimation].animations.find(item => item.elId === props.elementInfo.id)\n  if (firstAnimation?.type === 'in') return true\n  return false\n})\n\n// \nconst openLink = () => {\n  const link = props.elementInfo.link\n  if (!link) return\n\n  if (link.type === 'web') {\n    props.manualExitFullscreen()\n    window.open(link.target)\n  }\n  else if (link.type === 'slide') {\n    props.turnSlideToId(link.target)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"screen-element\", { 'link': _ctx.elementInfo.link }]),\n    id: `screen-element-${_ctx.elementInfo.id}`,\n    style: _normalizeStyle({\n      zIndex: _ctx.elementIndex,\n      color: _unref(theme).fontColor,\n      fontFamily: _unref(theme).fontName,\n      visibility: needWaitAnimation.value ? 'hidden' : 'visible',\n    }),\n    title: _ctx.elementInfo.link?.target || '',\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (openLink()))\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), { elementInfo: _ctx.elementInfo }, null, 8, [\"elementInfo\"]))\n  ], 14, _hoisted_1))\n}\n}\n\n})","<template>\n  <div \n    class=\"screen-element\"\n    :class=\"{ 'link': elementInfo.link }\"\n    :id=\"`screen-element-${elementInfo.id}`\"\n    :style=\"{\n      zIndex: elementIndex,\n      color: theme.fontColor,\n      fontFamily: theme.fontName,\n      visibility: needWaitAnimation ? 'hidden' : 'visible',\n    }\"\n    :title=\"elementInfo.link?.target || ''\"\n    @click=\"openLink()\"\n  >\n    <component\n      :is=\"currentElementComponent\"\n      :elementInfo=\"elementInfo\"\n    ></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport BaseChartElement from '@/views/components/element/ChartElement/BaseChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport ScreenVideoElement from '@/views/components/element/VideoElement/ScreenVideoElement.vue'\nimport ScreenAudioElement from '@/views/components/element/AudioElement/ScreenAudioElement.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  elementIndex: number\n  animationIndex: number\n  turnSlideToId: (id: string) => void\n  manualExitFullscreen: () => void\n}>()\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: BaseChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: ScreenVideoElement,\n    [ElementTypes.AUDIO]: ScreenAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { formatedAnimations, theme } = storeToRefs(useSlidesStore())\n\n// \nconst needWaitAnimation = computed(() => {\n  // \n  const elementIndexInAnimation = formatedAnimations.value.findIndex(item => {\n    const elIds = item.animations.map(item => item.elId)\n    return elIds.includes(props.elementInfo.id)\n  })\n\n  // \n  if (elementIndexInAnimation === -1) return false\n\n  // \n  // \n  if (elementIndexInAnimation < props.animationIndex) return false\n\n  // \n  // \n  const firstAnimation = formatedAnimations.value[elementIndexInAnimation].animations.find(item => item.elId === props.elementInfo.id)\n  if (firstAnimation?.type === 'in') return true\n  return false\n})\n\n// \nconst openLink = () => {\n  const link = props.elementInfo.link\n  if (!link) return\n\n  if (link.type === 'web') {\n    props.manualExitFullscreen()\n    window.open(link.target)\n  }\n  else if (link.type === 'slide') {\n    props.turnSlideToId(link.target)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.link {\n  cursor: pointer;\n}\n</style>","import script from \"./ScreenElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenElement.vue?vue&type=style&index=0&id=2139723a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2139723a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport { injectKeySlideId } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ScreenElement from './ScreenElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenSlide',\n  props: {\n    slide: {},\n    scale: {},\n    animationIndex: {},\n    turnSlideToId: { type: Function },\n    manualExitFullscreen: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst slideId = computed(() => props.slide.id)\nprovide(injectKeySlideId, slideId)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"screen-slide\",\n    style: _normalizeStyle({\n      width: _unref(VIEWPORT_SIZE) + 'px',\n      height: _unref(VIEWPORT_SIZE) * _unref(viewportRatio) + 'px',\n      transform: `scale(${_ctx.scale})`,\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"background\",\n      style: _normalizeStyle({ ..._unref(backgroundStyle) })\n    }, null, 4),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.slide.elements, (element, index) => {\n      return (_openBlock(), _createBlock(ScreenElement, {\n        key: element.id,\n        elementInfo: element,\n        elementIndex: index + 1,\n        animationIndex: _ctx.animationIndex,\n        turnSlideToId: _ctx.turnSlideToId,\n        manualExitFullscreen: _ctx.manualExitFullscreen\n      }, null, 8, [\"elementInfo\", \"elementIndex\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]))\n    }), 128))\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"screen-slide\"\n    :style=\"{\n      width: VIEWPORT_SIZE + 'px',\n      height: VIEWPORT_SIZE * viewportRatio + 'px',\n      transform: `scale(${scale})`,\n    }\"\n  >\n    <div class=\"background\" :style=\"{ ...backgroundStyle }\"></div>\n    <ScreenElement\n      v-for=\"(element, index) in slide.elements\"\n      :key=\"element.id\"\n      :elementInfo=\"element\"\n      :elementIndex=\"index + 1\"\n      :animationIndex=\"animationIndex\"\n      :turnSlideToId=\"turnSlideToId\"\n      :manualExitFullscreen=\"manualExitFullscreen\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Slide } from '@/types/slides'\nimport { injectKeySlideId } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ScreenElement from './ScreenElement.vue'\n\nconst props = defineProps<{\n  slide: Slide\n  scale: number\n  animationIndex: number\n  turnSlideToId: (id: string) => void\n  manualExitFullscreen: () => void\n}>()\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst slideId = computed(() => props.slide.id)\nprovide(injectKeySlideId, slideId)\n</script>\n\n<style lang=\"scss\" scoped>\n.screen-slide {\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform-origin: 0 0;\n  overflow: hidden;\n}\n.background {\n  width: 100%;\n  height: 100%;\n  background-position: center;\n  position: absolute;\n}\n</style>","import script from \"./ScreenSlide.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenSlide.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenSlide.vue?vue&type=style&index=0&id=016af5da&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-016af5da\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-552b63d2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"screen-slide-list\" }\n\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { SLIDE_ANIMATIONS } from '@/configs/animation'\n\nimport ScreenSlide from './ScreenSlide.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenSlideList',\n  props: {\n    slideWidth: {},\n    slideHeight: {},\n    animationIndex: {},\n    turnSlideToId: { type: Function },\n    manualExitFullscreen: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst slidesWithTurningMode = computed(() => {\n  return slides.value.map(slide => {\n    let turningMode = slide.turningMode\n    if (!turningMode) turningMode = 'slideY'\n    if (turningMode === 'random') {\n      const turningModeKeys = SLIDE_ANIMATIONS.filter(item => !['random', 'no'].includes(item.value)).map(item => item.value)\n      turningMode = turningModeKeys[Math.floor(Math.random() * turningModeKeys.length)]\n    }\n    return {\n      ...slide,\n      turningMode,\n    }\n  })\n})\n\nconst scale = computed(() => props.slideWidth / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(slidesWithTurningMode.value, (slide, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass([\n        'slide-item', \n        `turning-mode-${slide.turningMode}`,\n        {\n          'current': index === _unref(slideIndex),\n          'before': index < _unref(slideIndex),\n          'after': index > _unref(slideIndex),\n          'hide': (index === _unref(slideIndex) - 1 || index === _unref(slideIndex) + 1) && slide.turningMode !== slidesWithTurningMode.value[_unref(slideIndex)].turningMode,\n        }\n      ]),\n        key: slide.id\n      }, [\n        (Math.abs(_unref(slideIndex) - index) < 2 || slide.animations?.length)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"slide-content\",\n              style: _normalizeStyle({\n          width: _ctx.slideWidth + 'px',\n          height: _ctx.slideHeight + 'px',\n        })\n            }, [\n              _createVNode(ScreenSlide, {\n                slide: slide,\n                scale: scale.value,\n                animationIndex: _ctx.animationIndex,\n                turnSlideToId: _ctx.turnSlideToId,\n                manualExitFullscreen: _ctx.manualExitFullscreen\n              }, null, 8, [\"slide\", \"scale\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"])\n            ], 4))\n          : _createCommentVNode(\"\", true)\n      ], 2))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"screen-slide-list\">\n    <div \n      :class=\"[\n        'slide-item', \n        `turning-mode-${slide.turningMode}`,\n        {\n          'current': index === slideIndex,\n          'before': index < slideIndex,\n          'after': index > slideIndex,\n          'hide': (index === slideIndex - 1 || index === slideIndex + 1) && slide.turningMode !== slidesWithTurningMode[slideIndex].turningMode,\n        }\n      ]\"\n      v-for=\"(slide, index) in slidesWithTurningMode\" \n      :key=\"slide.id\"\n    >\n      <div \n        class=\"slide-content\" \n        :style=\"{\n          width: slideWidth + 'px',\n          height: slideHeight + 'px',\n        }\"\n        v-if=\"Math.abs(slideIndex - index) < 2 || slide.animations?.length\"\n      >\n        <ScreenSlide \n          :slide=\"slide\" \n          :scale=\"scale\"\n          :animationIndex=\"animationIndex\"\n          :turnSlideToId=\"turnSlideToId\"\n          :manualExitFullscreen=\"manualExitFullscreen\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { SLIDE_ANIMATIONS } from '@/configs/animation'\n\nimport ScreenSlide from './ScreenSlide.vue'\n\nconst props = defineProps<{\n  slideWidth: number\n  slideHeight: number\n  animationIndex: number\n  turnSlideToId: (id: string) => void\n  manualExitFullscreen: () => void\n}>()\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst slidesWithTurningMode = computed(() => {\n  return slides.value.map(slide => {\n    let turningMode = slide.turningMode\n    if (!turningMode) turningMode = 'slideY'\n    if (turningMode === 'random') {\n      const turningModeKeys = SLIDE_ANIMATIONS.filter(item => !['random', 'no'].includes(item.value)).map(item => item.value)\n      turningMode = turningModeKeys[Math.floor(Math.random() * turningModeKeys.length)]\n    }\n    return {\n      ...slide,\n      turningMode,\n    }\n  })\n})\n\nconst scale = computed(() => props.slideWidth / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n</script>\n\n<style lang=\"scss\" scoped>\n.screen-slide-list {\n  background: #1d1d1d;\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.slide-item {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  &.current {\n    z-index: 2;\n  }\n\n  &.hide {\n    opacity: 0;\n  }\n\n  &.turning-mode-no {\n    &.before {\n      transform: translateY(-100%);\n    }\n    &.after {\n      transform: translateY(100%);\n    }\n  }\n  &.turning-mode-fade {\n    transition: opacity .75s;\n    &.before {\n      pointer-events: none;\n      opacity: 0;\n    }\n    &.after {\n      pointer-events: none;\n      opacity: 0;\n    }\n  }\n  &.turning-mode-slideX {\n    transition: transform .35s;\n    &.before {\n      transform: translateX(-100%);\n    }\n    &.after {\n      transform: translateX(100%);\n    }\n  }\n  &.turning-mode-slideY {\n    transition: transform .35s;\n    &.before {\n      transform: translateY(-100%);\n    }\n    &.after {\n      transform: translateY(100%);\n    }\n  }\n  &.turning-mode-slideX3D {\n    transition: transform .5s;\n    &.before {\n      transform: translateX(-100%) scale(.5);\n    }\n    &.after {\n      transform: translateX(100%) scale(.5);\n    }\n  }\n  &.turning-mode-slideY3D {\n    transition: transform .5s;\n    &.before {\n      transform: translateY(-100%) scale(.5);\n    }\n    &.after {\n      transform: translateY(100%) scale(.5);\n    }\n  }\n  &.turning-mode-rotate {\n    transition: transform .5s;\n    transform-origin: 0 0;\n    &.before {\n      transform: rotate(90deg);\n    }\n    &.after {\n      transform: rotate(-90deg);\n    }\n  }\n  &.turning-mode-scaleY {\n    transition: transform .5s;\n    &.before {\n      transform: scaleY(.1);\n    }\n    &.after {\n      transform: scaleY(.1);\n    }\n  }\n  &.turning-mode-scaleX {\n    transition: transform .5s;\n    &.before {\n      transform: scaleX(.1);\n    }\n    &.after {\n      transform: scaleX(.1);\n    }\n  }\n  &.turning-mode-scale {\n    transition: transform .5s;\n    &.before {\n      transform: scale(.25);\n    }\n    &.after {\n      transform: scale(.25);\n    }\n  }\n  &.turning-mode-scaleReverse {\n    transition: transform .5s;\n    &.before {\n      transform: scale(2);\n    }\n    &.after {\n      transform: scale(2);\n    }\n  }\n}\n.slide-content {\n  background-color: #fff;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import script from \"./ScreenSlideList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenSlideList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenSlideList.vue?vue&type=style&index=0&id=552b63d2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-552b63d2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-15912b32\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-thumbnails\" }\nconst _hoisted_2 = { class: \"return-button\" }\nconst _hoisted_3 = { class: \"slide-thumbnails-content\" }\nconst _hoisted_4 = [\"onClick\"]\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideThumbnails',\n  props: {\n    turnSlideToIndex: { type: Function }\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst turnSlide = (index: number) => {\n  props.turnSlideToIndex(index)\n  emit('close')\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconArrowCircleLeft = _resolveComponent(\"IconArrowCircleLeft\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_IconArrowCircleLeft, {\n        class: \"icon\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('close')))\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"thumbnail\", { 'active': index === _unref(slideIndex) }]),\n          key: slide.id,\n          onClick: ($event: any) => (turnSlide(index))\n        }, [\n          _createVNode(ThumbnailSlide, {\n            slide: slide,\n            size: 150,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 10, _hoisted_4))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"slide-thumbnails\">\n    <div class=\"return-button\">\n      <IconArrowCircleLeft class=\"icon\" @click=\"emit('close')\" />\n    </div>\n    <div class=\"slide-thumbnails-content\">\n      <div \n        class=\"thumbnail\"\n        :class=\"{ 'active': index === slideIndex }\"\n        v-for=\"(slide, index) in slides\" \n        :key=\"slide.id\"\n        @click=\"turnSlide(index)\"\n      >\n        <ThumbnailSlide :slide=\"slide\" :size=\"150\" :visible=\"index < slidesLoadLimit\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\nconst props = defineProps<{\n  turnSlideToIndex: (index: number) => void\n}>()\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst turnSlide = (index: number) => {\n  props.turnSlideToIndex(index)\n  emit('close')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.slide-thumbnails {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: #1a1a1a;\n  z-index: 99;\n}\n.return-button {\n  height: 60px;\n  padding: 20px 30px 0;\n\n  .icon {\n    color: #fff;\n    font-size: 36px;\n    cursor: pointer;\n\n    &:hover {\n      color: $themeColor;\n    }\n  }\n}\n.slide-thumbnails-content {\n  height: calc(100% - 100px);\n  padding: 20px 30px 30px 30px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n\n  @include overflow-overlay();\n\n  .thumbnail {\n    width: 150px;\n    outline: 2px solid #aaa;\n    margin-right: 12px;\n    margin-bottom: 12px;\n\n    &:hover {\n      outline-color: $themeColor;\n    }\n\n    &.active {\n      outline-width: 3px;\n      outline-color: $themeColor;\n    }\n  }\n}\n</style>","import script from \"./SlideThumbnails.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideThumbnails.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideThumbnails.vue?vue&type=style&index=0&id=15912b32&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-15912b32\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d8027742\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"blackboard\"\n}\n\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WritingBoard',\n  props: {\n    color: { default: '#ffcc00' },\n    model: { default: 'pen' },\n    blackboard: { type: Boolean, default: false },\n    penSize: { default: 6 },\n    markSize: { default: 24 },\n    rubberSize: { default: 80 }\n  },\n  emits: [\"end\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nlet ctx: CanvasRenderingContext2D | null = null\nconst writingBoardRef = ref<HTMLElement>()\nconst canvasRef = ref<HTMLCanvasElement>()\n\nlet lastPos = {\n  x: 0,\n  y: 0,\n}\nlet isMouseDown = false\nlet lastTime = 0\nlet lastLineWidth = -1\n\n// \nconst mouse = ref({\n  x: 0,\n  y: 0,\n})\n\n// \nconst mouseInCanvas = ref(false)\n\n// canvas\nconst canvasWidth = ref(0)\nconst canvasHeight = ref(0)\n\nconst widthScale = computed(() => canvasRef.value ? canvasWidth.value / canvasRef.value.width : 1)\nconst heightScale = computed(() => canvasRef.value ? canvasHeight.value / canvasRef.value.height : 1)\n\nconst updateCanvasSize = () => {\n  if (!writingBoardRef.value) return\n  canvasWidth.value = writingBoardRef.value.clientWidth\n  canvasHeight.value = writingBoardRef.value.clientHeight\n}\nconst resizeObserver = new ResizeObserver(updateCanvasSize)\nonMounted(() => {\n  if (writingBoardRef.value) resizeObserver.observe(writingBoardRef.value)\n})\nonUnmounted(() => {\n  if (writingBoardRef.value) resizeObserver.unobserve(writingBoardRef.value)\n})\n\n// \nconst initCanvas = () => {\n  if (!canvasRef.value || !writingBoardRef.value) return\n\n  ctx = canvasRef.value.getContext('2d')\n  if (!ctx) return\n\n  canvasRef.value.width = writingBoardRef.value.clientWidth\n  canvasRef.value.height = writingBoardRef.value.clientHeight\n\n  ctx.lineCap = 'round'\n  ctx.lineJoin = 'round'\n}\nonMounted(initCanvas)\n\n//  canvas ctx \nconst updateCtx = () => {\n  if (!ctx) return\n  if (props.model === 'mark') {\n    ctx.globalCompositeOperation = 'xor'\n    ctx.globalAlpha = 0.5\n  }\n  else if (props.model === 'pen') {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n  }\n}\nwatch(() => props.model, updateCtx)\n\n// \nconst draw = (posX: number, posY: number, lineWidth: number) => {\n  if (!ctx) return\n\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  ctx.lineWidth = lineWidth\n  ctx.strokeStyle = props.color\n  ctx.beginPath()\n  ctx.moveTo(lastPosX, lastPosY)\n  ctx.lineTo(posX, posY)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n// \nconst erase = (posX: number, posY: number) => {\n  if (!ctx || !canvasRef.value) return\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  const radius = props.rubberSize / 2\n\n  const sinRadius = radius * Math.sin(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const cosRadius = radius * Math.cos(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const rectPoint1: [number, number] = [lastPosX + sinRadius, lastPosY - cosRadius]\n  const rectPoint2: [number, number] = [lastPosX - sinRadius, lastPosY + cosRadius]\n  const rectPoint3: [number, number] = [posX + sinRadius, posY - cosRadius]\n  const rectPoint4: [number, number] = [posX - sinRadius, posY + cosRadius]\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.arc(posX, posY, radius, 0, Math.PI * 2)\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.moveTo(...rectPoint1)\n  ctx.lineTo(...rectPoint3)\n  ctx.lineTo(...rectPoint4)\n  ctx.lineTo(...rectPoint2)\n  ctx.closePath()\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n}\n\n// \nconst getDistance = (posX: number, posY: number) => {\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n  return Math.sqrt((posX - lastPosX) * (posX - lastPosX) + (posY - lastPosY) * (posY - lastPosY))\n}\n\n// st\nconst getLineWidth = (s: number, t: number) => {\n  const maxV = 10\n  const minV = 0.1\n  const maxWidth = props.penSize\n  const minWidth = 3\n  const v = s / t\n  let lineWidth\n\n  if (v <= minV) lineWidth = maxWidth\n  else if (v >= maxV) lineWidth = minWidth\n  else lineWidth = maxWidth - v / maxV * maxWidth\n\n  if (lastLineWidth === -1) return lineWidth\n  return lineWidth * 1 / 3 + lastLineWidth * 2 / 3\n}\n\n// \nconst handleMove = (x: number, y: number) => {\n  const time = new Date().getTime()\n\n  if (props.model === 'pen') {\n    const s = getDistance(x, y)\n    const t = time - lastTime\n    const lineWidth = getLineWidth(s, t)\n\n    draw(x, y, lineWidth)\n    lastLineWidth = lineWidth\n  }\n  else if (props.model === 'mark') draw(x, y, props.markSize)\n  else erase(x, y)\n\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n}\n\n// canvas\nconst getMouseOffsetPosition = (e: MouseEvent | TouchEvent) => {\n  if (!canvasRef.value) return [0, 0]\n  const event = e instanceof MouseEvent ? e : e.changedTouches[0]\n  const canvasRect = canvasRef.value.getBoundingClientRect()\n  const x = event.pageX - canvasRect.x\n  const y = event.pageY - canvasRect.y\n  return [x, y]\n}\n\n// \n// /\nconst handleMousedown = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  isMouseDown = true\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n\n  if (!(e instanceof MouseEvent)) {\n    mouse.value = { x: mouseX, y: mouseY }\n    mouseInCanvas.value = true\n  }\n}\n\n// /\nconst handleMousemove = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  mouse.value = { x: mouseX, y: mouseY }\n\n  if (isMouseDown) handleMove(x, y)\n}\n\n// /\nconst handleMouseup = () => {\n  if (!isMouseDown) return\n  isMouseDown = false\n  emit('end')\n}\n\n// \nconst clearCanvas = () => {\n  if (!ctx || !canvasRef.value) return\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  emit('end')\n}\n\n//  DataURL\nconst getImageDataURL = () => {\n  return canvasRef.value?.toDataURL()\n}\n\n//  DataURL canvas\nconst setImageDataURL = (imageDataURL: string) => {\n  if (!ctx || !canvasRef.value) return\n  \n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n\n  if (imageDataURL) {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n\n    const img = new Image()\n    img.src = imageDataURL\n    img.onload = () => {\n      ctx!.drawImage(img, 0, 0)\n      updateCtx()\n    }\n  }\n}\n\n__expose({\n  clearCanvas,\n  getImageDataURL,\n  setImageDataURL,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"writing-board\",\n    ref_key: \"writingBoardRef\",\n    ref: writingBoardRef\n  }, [\n    (_ctx.blackboard)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"canvas\", {\n      class: \"canvas\",\n      ref_key: \"canvasRef\",\n      ref: canvasRef,\n      style: _normalizeStyle({\n        width: canvasWidth.value + 'px',\n        height: canvasHeight.value + 'px',\n      }),\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMousedown($event)),\n      onMousemove: _cache[1] || (_cache[1] = $event => handleMousemove($event)),\n      onMouseup: _cache[2] || (_cache[2] = ($event: any) => (handleMouseup())),\n      onTouchstart: _cache[3] || (_cache[3] = $event => handleMousedown($event)),\n      onTouchmove: _cache[4] || (_cache[4] = $event => handleMousemove($event)),\n      onTouchend: _cache[5] || (_cache[5] = ($event: any) => {handleMouseup(); mouseInCanvas.value = false}),\n      onMouseleave: _cache[6] || (_cache[6] = ($event: any) => {handleMouseup(); mouseInCanvas.value = false}),\n      onMouseenter: _cache[7] || (_cache[7] = ($event: any) => (mouseInCanvas.value = true))\n    }, null, 36),\n    (mouseInCanvas.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          (_ctx.model === 'eraser')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"eraser\",\n                style: _normalizeStyle({\n          left: mouse.value.x - _ctx.rubberSize / 2 + 'px',\n          top: mouse.value.y - _ctx.rubberSize / 2 + 'px',\n          width: _ctx.rubberSize + 'px',\n          height: _ctx.rubberSize + 'px',\n        })\n              }, null, 4))\n            : _createCommentVNode(\"\", true),\n          (_ctx.model === 'pen')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 1,\n                class: \"pen\",\n                style: _normalizeStyle({\n          left: mouse.value.x - _ctx.penSize / 2 + 'px',\n          top: mouse.value.y - _ctx.penSize * 6 + _ctx.penSize / 2 + 'px',\n          color: _ctx.color,\n        })\n              }, [\n                (_ctx.model === 'pen')\n                  ? (_openBlock(), _createBlock(_component_IconWrite, {\n                      key: 0,\n                      class: \"icon\",\n                      size: _ctx.penSize * 6\n                    }, null, 8, [\"size\"]))\n                  : _createCommentVNode(\"\", true)\n              ], 4))\n            : _createCommentVNode(\"\", true),\n          (_ctx.model === 'mark')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 2,\n                class: \"pen\",\n                style: _normalizeStyle({\n          left: mouse.value.x - _ctx.markSize / 2 + 'px',\n          top: mouse.value.y + 'px',\n          color: _ctx.color,\n        })\n              }, [\n                (_ctx.model === 'mark')\n                  ? (_openBlock(), _createBlock(_component_IconHighLight, {\n                      key: 0,\n                      class: \"icon\",\n                      size: _ctx.markSize * 1.5\n                    }, null, 8, [\"size\"]))\n                  : _createCommentVNode(\"\", true)\n              ], 4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 512))\n}\n}\n\n})","<template>\n  <div class=\"writing-board\" ref=\"writingBoardRef\">\n    <div class=\"blackboard\" v-if=\"blackboard\"></div>\n\n    <canvas class=\"canvas\" ref=\"canvasRef\"\n      :style=\"{\n        width: canvasWidth + 'px',\n        height: canvasHeight + 'px',\n      }\"\n      @mousedown=\"$event => handleMousedown($event)\"\n      @mousemove=\"$event => handleMousemove($event)\"\n      @mouseup=\"handleMouseup()\"\n      @touchstart=\"$event => handleMousedown($event)\"\n      @touchmove=\"$event => handleMousemove($event)\"\n      @touchend=\"handleMouseup(); mouseInCanvas = false\"\n      @mouseleave=\"handleMouseup(); mouseInCanvas = false\"\n      @mouseenter=\"mouseInCanvas = true\"\n    ></canvas>\n\n    <template v-if=\"mouseInCanvas\">\n      <div \n        class=\"eraser\"\n        :style=\"{\n          left: mouse.x - rubberSize / 2 + 'px',\n          top: mouse.y - rubberSize / 2 + 'px',\n          width: rubberSize + 'px',\n          height: rubberSize + 'px',\n        }\"\n        v-if=\"model === 'eraser'\"\n      ></div>\n      <div \n        class=\"pen\"\n        :style=\"{\n          left: mouse.x - penSize / 2 + 'px',\n          top: mouse.y - penSize * 6 + penSize / 2 + 'px',\n          color: color,\n        }\"\n        v-if=\"model === 'pen'\"\n      >\n        <IconWrite class=\"icon\" :size=\"penSize * 6\" v-if=\"model === 'pen'\" />\n      </div>\n      <div \n        class=\"pen\"\n        :style=\"{\n          left: mouse.x - markSize / 2 + 'px',\n          top: mouse.y + 'px',\n          color: color,\n        }\"\n        v-if=\"model === 'mark'\"\n      >\n        <IconHighLight class=\"icon\" :size=\"markSize * 1.5\" v-if=\"model === 'mark'\" />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\n\nconst props = withDefaults(defineProps<{\n  color?: string\n  model?: 'pen' | 'eraser' | 'mark'\n  blackboard?: boolean\n  penSize?: number\n  markSize?: number\n  rubberSize?: number\n}>(), {\n  color: '#ffcc00',\n  model: 'pen',\n  blackboard: false,\n  penSize: 6,\n  markSize: 24,\n  rubberSize: 80,\n})\n\nconst emit = defineEmits<{\n  (event: 'end'): void\n}>()\n\nlet ctx: CanvasRenderingContext2D | null = null\nconst writingBoardRef = ref<HTMLElement>()\nconst canvasRef = ref<HTMLCanvasElement>()\n\nlet lastPos = {\n  x: 0,\n  y: 0,\n}\nlet isMouseDown = false\nlet lastTime = 0\nlet lastLineWidth = -1\n\n// \nconst mouse = ref({\n  x: 0,\n  y: 0,\n})\n\n// \nconst mouseInCanvas = ref(false)\n\n// canvas\nconst canvasWidth = ref(0)\nconst canvasHeight = ref(0)\n\nconst widthScale = computed(() => canvasRef.value ? canvasWidth.value / canvasRef.value.width : 1)\nconst heightScale = computed(() => canvasRef.value ? canvasHeight.value / canvasRef.value.height : 1)\n\nconst updateCanvasSize = () => {\n  if (!writingBoardRef.value) return\n  canvasWidth.value = writingBoardRef.value.clientWidth\n  canvasHeight.value = writingBoardRef.value.clientHeight\n}\nconst resizeObserver = new ResizeObserver(updateCanvasSize)\nonMounted(() => {\n  if (writingBoardRef.value) resizeObserver.observe(writingBoardRef.value)\n})\nonUnmounted(() => {\n  if (writingBoardRef.value) resizeObserver.unobserve(writingBoardRef.value)\n})\n\n// \nconst initCanvas = () => {\n  if (!canvasRef.value || !writingBoardRef.value) return\n\n  ctx = canvasRef.value.getContext('2d')\n  if (!ctx) return\n\n  canvasRef.value.width = writingBoardRef.value.clientWidth\n  canvasRef.value.height = writingBoardRef.value.clientHeight\n\n  ctx.lineCap = 'round'\n  ctx.lineJoin = 'round'\n}\nonMounted(initCanvas)\n\n//  canvas ctx \nconst updateCtx = () => {\n  if (!ctx) return\n  if (props.model === 'mark') {\n    ctx.globalCompositeOperation = 'xor'\n    ctx.globalAlpha = 0.5\n  }\n  else if (props.model === 'pen') {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n  }\n}\nwatch(() => props.model, updateCtx)\n\n// \nconst draw = (posX: number, posY: number, lineWidth: number) => {\n  if (!ctx) return\n\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  ctx.lineWidth = lineWidth\n  ctx.strokeStyle = props.color\n  ctx.beginPath()\n  ctx.moveTo(lastPosX, lastPosY)\n  ctx.lineTo(posX, posY)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n// \nconst erase = (posX: number, posY: number) => {\n  if (!ctx || !canvasRef.value) return\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  const radius = props.rubberSize / 2\n\n  const sinRadius = radius * Math.sin(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const cosRadius = radius * Math.cos(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const rectPoint1: [number, number] = [lastPosX + sinRadius, lastPosY - cosRadius]\n  const rectPoint2: [number, number] = [lastPosX - sinRadius, lastPosY + cosRadius]\n  const rectPoint3: [number, number] = [posX + sinRadius, posY - cosRadius]\n  const rectPoint4: [number, number] = [posX - sinRadius, posY + cosRadius]\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.arc(posX, posY, radius, 0, Math.PI * 2)\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.moveTo(...rectPoint1)\n  ctx.lineTo(...rectPoint3)\n  ctx.lineTo(...rectPoint4)\n  ctx.lineTo(...rectPoint2)\n  ctx.closePath()\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n}\n\n// \nconst getDistance = (posX: number, posY: number) => {\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n  return Math.sqrt((posX - lastPosX) * (posX - lastPosX) + (posY - lastPosY) * (posY - lastPosY))\n}\n\n// st\nconst getLineWidth = (s: number, t: number) => {\n  const maxV = 10\n  const minV = 0.1\n  const maxWidth = props.penSize\n  const minWidth = 3\n  const v = s / t\n  let lineWidth\n\n  if (v <= minV) lineWidth = maxWidth\n  else if (v >= maxV) lineWidth = minWidth\n  else lineWidth = maxWidth - v / maxV * maxWidth\n\n  if (lastLineWidth === -1) return lineWidth\n  return lineWidth * 1 / 3 + lastLineWidth * 2 / 3\n}\n\n// \nconst handleMove = (x: number, y: number) => {\n  const time = new Date().getTime()\n\n  if (props.model === 'pen') {\n    const s = getDistance(x, y)\n    const t = time - lastTime\n    const lineWidth = getLineWidth(s, t)\n\n    draw(x, y, lineWidth)\n    lastLineWidth = lineWidth\n  }\n  else if (props.model === 'mark') draw(x, y, props.markSize)\n  else erase(x, y)\n\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n}\n\n// canvas\nconst getMouseOffsetPosition = (e: MouseEvent | TouchEvent) => {\n  if (!canvasRef.value) return [0, 0]\n  const event = e instanceof MouseEvent ? e : e.changedTouches[0]\n  const canvasRect = canvasRef.value.getBoundingClientRect()\n  const x = event.pageX - canvasRect.x\n  const y = event.pageY - canvasRect.y\n  return [x, y]\n}\n\n// \n// /\nconst handleMousedown = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  isMouseDown = true\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n\n  if (!(e instanceof MouseEvent)) {\n    mouse.value = { x: mouseX, y: mouseY }\n    mouseInCanvas.value = true\n  }\n}\n\n// /\nconst handleMousemove = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  mouse.value = { x: mouseX, y: mouseY }\n\n  if (isMouseDown) handleMove(x, y)\n}\n\n// /\nconst handleMouseup = () => {\n  if (!isMouseDown) return\n  isMouseDown = false\n  emit('end')\n}\n\n// \nconst clearCanvas = () => {\n  if (!ctx || !canvasRef.value) return\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  emit('end')\n}\n\n//  DataURL\nconst getImageDataURL = () => {\n  return canvasRef.value?.toDataURL()\n}\n\n//  DataURL canvas\nconst setImageDataURL = (imageDataURL: string) => {\n  if (!ctx || !canvasRef.value) return\n  \n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n\n  if (imageDataURL) {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n\n    const img = new Image()\n    img.src = imageDataURL\n    img.onload = () => {\n      ctx!.drawImage(img, 0, 0)\n      updateCtx()\n    }\n  }\n}\n\ndefineExpose({\n  clearCanvas,\n  getImageDataURL,\n  setImageDataURL,\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.writing-board {\n  z-index: 8;\n  cursor: none;\n  @include absolute-0();\n}\n.blackboard {\n  width: 100%;\n  height: 100%;\n  background-color: #0f392b;\n}\n.canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.eraser, .pen {\n  pointer-events: none;\n  position: absolute;\n  z-index: 9;\n\n  .icon {\n    filter: drop-shadow(2px 2px 2px #555);\n  }\n}\n.eraser {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  border: 4px solid rgba($color: #555, $alpha: .15);\n  color: rgba($color: #555, $alpha: .75);\n}\n</style>","import script from \"./WritingBoard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./WritingBoard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./WritingBoard.vue?vue&type=style&index=0&id=d8027742&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d8027742\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-62f7df80\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"writing-board-tool\" }\nconst _hoisted_2 = { class: \"tool-content\" }\nconst _hoisted_3 = { class: \"size\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Ink thickness:\", -1))\nconst _hoisted_5 = { class: \"size\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Ink thickness:\", -1))\nconst _hoisted_7 = { class: \"size\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Eraser size:\", -1))\nconst _hoisted_9 = { class: \"colors\" }\nconst _hoisted_10 = [\"onClick\"]\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { db } from '@/utils/database'\n\nimport WritingBoard from '@/components/WritingBoard.vue'\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Slider from '@/components/Slider.vue'\nimport Popover from '@/components/Popover.vue'\n\ntype WritingBoardModel = 'pen' | 'mark' | 'eraser'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WritingBoardTool',\n  props: {\n    slideWidth: {},\n    slideHeight: {},\n    left: { default: -5 },\n    top: { default: -5 }\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst writingBoardColors = [\n  '#000000',\n  '#ffffff',\n  '#1e497b',\n  '#4e81bb',\n  '#e2534d',\n  '#9aba60',\n  '#8165a0',\n  '#47acc5',\n  '#f9974c',\n  '#ffff3a',\n]\n\n\n\nconst emit = __emit\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst writingBoardRef = ref<InstanceType<typeof WritingBoard>>()\nconst writingBoardColor = ref('#e2534d')\nconst writingBoardModel = ref<WritingBoardModel>('pen')\nconst blackboard = ref(false)\nconst sizePopoverType = ref<'' | WritingBoardModel>('')\n\nconst penSize = ref(6)\nconst markSize = ref(24)\nconst rubberSize = ref(80)\n\nconst changeModel = (model: WritingBoardModel) => {\n  if (writingBoardModel.value === model) {\n    sizePopoverType.value = sizePopoverType.value === model ? '' : model\n  } else {\n    if (sizePopoverType.value) sizePopoverType.value = ''\n    writingBoardModel.value = model\n  }\n}\n\n// \nconst clearCanvas = () => {\n  writingBoardRef.value!.clearCanvas()\n}\n\n// \nconst changeColor = (color: string) => {\n  if (writingBoardModel.value === 'eraser') writingBoardModel.value = 'pen'\n  writingBoardColor.value = color\n}\n\n// \nconst closeWritingBoard = () => {\n  emit('close')\n}\n\n// \nwatch(\n  currentSlide,\n  () => {\n    db.writingBoardImgs\n      .where('id')\n      .equals(currentSlide.value.id)\n      .toArray()\n      .then((ret) => {\n        const currentImg = ret[0]\n        writingBoardRef.value!.setImageDataURL(currentImg?.dataURL || '')\n      })\n  },\n  { immediate: true }\n)\n\n// \nconst hanldeWritingEnd = () => {\n  const dataURL = writingBoardRef.value!.getImageDataURL()\n  if (!dataURL) return\n\n  db.writingBoardImgs\n    .where('id')\n    .equals(currentSlide.value.id)\n    .toArray()\n    .then((ret) => {\n      const currentImg = ret[0]\n      if (currentImg) db.writingBoardImgs.update(currentImg, { dataURL })\n      else db.writingBoardImgs.add({ id: currentSlide.value.id, dataURL })\n    })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconErase = _resolveComponent(\"IconErase\")!\n  const _component_IconClear = _resolveComponent(\"IconClear\")!\n  const _component_IconFill = _resolveComponent(\"IconFill\")!\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"writing-board-wrap\",\n      style: _normalizeStyle({\n        width: _ctx.slideWidth + 'px',\n        height: _ctx.slideHeight + 'px',\n      })\n    }, [\n      _createVNode(WritingBoard, {\n        ref_key: \"writingBoardRef\",\n        ref: writingBoardRef,\n        color: writingBoardColor.value,\n        blackboard: blackboard.value,\n        model: writingBoardModel.value,\n        penSize: penSize.value,\n        markSize: markSize.value,\n        rubberSize: rubberSize.value,\n        onEnd: _cache[0] || (_cache[0] = ($event: any) => (hanldeWritingEnd()))\n      }, null, 8, [\"color\", \"blackboard\", \"model\", \"penSize\", \"markSize\", \"rubberSize\"])\n    ], 4),\n    _createVNode(MoveablePanel, {\n      class: \"tools-panel\",\n      width: 520,\n      height: 50,\n      left: _ctx.left,\n      top: _ctx.top,\n      moveable: sizePopoverType.value === ''\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"tools\",\n          onMousedown: _cache[10] || (_cache[10] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(Popover, {\n              trigger: \"manual\",\n              value: sizePopoverType.value === 'pen'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createVNode(Slider, {\n                    class: \"size-slider\",\n                    min: 4,\n                    max: 10,\n                    step: 2,\n                    value: penSize.value,\n                    \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((penSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                  class: _normalizeClass([\"btn\", { active: writingBoardModel.value === 'pen' }]),\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (changeModel('pen')))\n                }, [\n                  _createVNode(_component_IconWrite, { class: \"icon\" })\n                ], 2)), [\n                  [_directive_tooltip, '']\n                ])\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Popover, {\n              trigger: \"manual\",\n              value: sizePopoverType.value === 'mark'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _hoisted_6,\n                  _createVNode(Slider, {\n                    class: \"size-slider\",\n                    min: 16,\n                    max: 40,\n                    step: 4,\n                    value: markSize.value,\n                    \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((markSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                  class: _normalizeClass([\"btn\", { active: writingBoardModel.value === 'mark' }]),\n                  onClick: _cache[4] || (_cache[4] = ($event: any) => (changeModel('mark')))\n                }, [\n                  _createVNode(_component_IconHighLight, { class: \"icon\" })\n                ], 2)), [\n                  [_directive_tooltip, '']\n                ])\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Popover, {\n              trigger: \"manual\",\n              value: sizePopoverType.value === 'eraser'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _hoisted_8,\n                  _createVNode(Slider, {\n                    class: \"size-slider\",\n                    min: 20,\n                    max: 200,\n                    step: 20,\n                    value: rubberSize.value,\n                    \"onUpdate:value\": _cache[5] || (_cache[5] = ($event: any) => ((rubberSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                  class: _normalizeClass([\"btn\", { active: writingBoardModel.value === 'eraser' }]),\n                  onClick: _cache[6] || (_cache[6] = ($event: any) => (changeModel('eraser')))\n                }, [\n                  _createVNode(_component_IconErase, { class: \"icon\" })\n                ], 2)), [\n                  [_directive_tooltip, '']\n                ])\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n              class: \"btn\",\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (clearCanvas()))\n            }, [\n              _createVNode(_component_IconClear, { class: \"icon\" })\n            ])), [\n              [_directive_tooltip, 'clear ink']\n            ]),\n            _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n              class: _normalizeClass([\"btn\", { active: blackboard.value }]),\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (blackboard.value = !blackboard.value))\n            }, [\n              _createVNode(_component_IconFill, { class: \"icon\" })\n            ], 2)), [\n              [_directive_tooltip, 'blackboard']\n            ]),\n            _createElementVNode(\"div\", _hoisted_9, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(writingBoardColors, (color) => {\n                return _createElementVNode(\"div\", {\n                  class: _normalizeClass([\"color\", { active: color === writingBoardColor.value }]),\n                  key: color,\n                  style: _normalizeStyle({ backgroundColor: color }),\n                  onClick: ($event: any) => (changeColor(color))\n                }, null, 14, _hoisted_10)\n              }), 64))\n            ])\n          ]),\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            class: \"btn\",\n            onClick: _cache[9] || (_cache[9] = ($event: any) => (closeWritingBoard()))\n          }, [\n            _createVNode(_component_IconClose, { class: \"icon\" })\n          ])), [\n            [_directive_tooltip, 'Close brush']\n          ])\n        ], 32)\n      ]),\n      _: 1\n    }, 8, [\"left\", \"top\", \"moveable\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"writing-board-tool\">\n    <div\n      class=\"writing-board-wrap\"\n      :style=\"{\n        width: slideWidth + 'px',\n        height: slideHeight + 'px',\n      }\"\n    >\n      <WritingBoard\n        ref=\"writingBoardRef\"\n        :color=\"writingBoardColor\"\n        :blackboard=\"blackboard\"\n        :model=\"writingBoardModel\"\n        :penSize=\"penSize\"\n        :markSize=\"markSize\"\n        :rubberSize=\"rubberSize\"\n        @end=\"hanldeWritingEnd()\"\n      />\n    </div>\n\n    <MoveablePanel\n      class=\"tools-panel\"\n      :width=\"520\"\n      :height=\"50\"\n      :left=\"left\"\n      :top=\"top\"\n      :moveable=\"sizePopoverType === ''\"\n    >\n      <div class=\"tools\" @mousedown.stop>\n        <div class=\"tool-content\">\n          <Popover trigger=\"manual\" :value=\"sizePopoverType === 'pen'\">\n            <template #content>\n              <div class=\"size\">\n                <div class=\"label\">Ink thickness:</div>\n                <Slider\n                  class=\"size-slider\"\n                  :min=\"4\"\n                  :max=\"10\"\n                  :step=\"2\"\n                  v-model:value=\"penSize\"\n                />\n              </div>\n            </template>\n            <div\n              class=\"btn\"\n              :class=\"{ active: writingBoardModel === 'pen' }\"\n              v-tooltip=\"''\"\n              @click=\"changeModel('pen')\"\n            >\n              <IconWrite class=\"icon\" />\n            </div>\n          </Popover>\n          <Popover trigger=\"manual\" :value=\"sizePopoverType === 'mark'\">\n            <template #content>\n              <div class=\"size\">\n                <div class=\"label\">Ink thickness:</div>\n                <Slider\n                  class=\"size-slider\"\n                  :min=\"16\"\n                  :max=\"40\"\n                  :step=\"4\"\n                  v-model:value=\"markSize\"\n                />\n              </div>\n            </template>\n            <div\n              class=\"btn\"\n              :class=\"{ active: writingBoardModel === 'mark' }\"\n              v-tooltip=\"''\"\n              @click=\"changeModel('mark')\"\n            >\n              <IconHighLight class=\"icon\" />\n            </div>\n          </Popover>\n          <Popover trigger=\"manual\" :value=\"sizePopoverType === 'eraser'\">\n            <template #content>\n              <div class=\"size\">\n                <div class=\"label\">Eraser size:</div>\n                <Slider\n                  class=\"size-slider\"\n                  :min=\"20\"\n                  :max=\"200\"\n                  :step=\"20\"\n                  v-model:value=\"rubberSize\"\n                />\n              </div>\n            </template>\n            <div\n              class=\"btn\"\n              :class=\"{ active: writingBoardModel === 'eraser' }\"\n              v-tooltip=\"''\"\n              @click=\"changeModel('eraser')\"\n            >\n              <IconErase class=\"icon\" />\n            </div>\n          </Popover>\n          <div class=\"btn\" v-tooltip=\"'clear ink'\" @click=\"clearCanvas()\">\n            <IconClear class=\"icon\" />\n          </div>\n          <div\n            class=\"btn\"\n            :class=\"{ active: blackboard }\"\n            v-tooltip=\"'blackboard'\"\n            @click=\"blackboard = !blackboard\"\n          >\n            <IconFill class=\"icon\" />\n          </div>\n          <div class=\"colors\">\n            <div\n              class=\"color\"\n              :class=\"{ active: color === writingBoardColor }\"\n              v-for=\"color in writingBoardColors\"\n              :key=\"color\"\n              :style=\"{ backgroundColor: color }\"\n              @click=\"changeColor(color)\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"btn\" v-tooltip=\"'Close brush'\" @click=\"closeWritingBoard()\">\n          <IconClose class=\"icon\" />\n        </div>\n      </div>\n    </MoveablePanel>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { db } from '@/utils/database'\n\nimport WritingBoard from '@/components/WritingBoard.vue'\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport Slider from '@/components/Slider.vue'\nimport Popover from '@/components/Popover.vue'\n\nconst writingBoardColors = [\n  '#000000',\n  '#ffffff',\n  '#1e497b',\n  '#4e81bb',\n  '#e2534d',\n  '#9aba60',\n  '#8165a0',\n  '#47acc5',\n  '#f9974c',\n  '#ffff3a',\n]\n\ntype WritingBoardModel = 'pen' | 'mark' | 'eraser'\n\nwithDefaults(\n  defineProps<{\n    slideWidth: number\n    slideHeight: number\n    left?: number\n    top?: number\n  }>(),\n  {\n    left: -5,\n    top: -5,\n  }\n)\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst writingBoardRef = ref<InstanceType<typeof WritingBoard>>()\nconst writingBoardColor = ref('#e2534d')\nconst writingBoardModel = ref<WritingBoardModel>('pen')\nconst blackboard = ref(false)\nconst sizePopoverType = ref<'' | WritingBoardModel>('')\n\nconst penSize = ref(6)\nconst markSize = ref(24)\nconst rubberSize = ref(80)\n\nconst changeModel = (model: WritingBoardModel) => {\n  if (writingBoardModel.value === model) {\n    sizePopoverType.value = sizePopoverType.value === model ? '' : model\n  } else {\n    if (sizePopoverType.value) sizePopoverType.value = ''\n    writingBoardModel.value = model\n  }\n}\n\n// \nconst clearCanvas = () => {\n  writingBoardRef.value!.clearCanvas()\n}\n\n// \nconst changeColor = (color: string) => {\n  if (writingBoardModel.value === 'eraser') writingBoardModel.value = 'pen'\n  writingBoardColor.value = color\n}\n\n// \nconst closeWritingBoard = () => {\n  emit('close')\n}\n\n// \nwatch(\n  currentSlide,\n  () => {\n    db.writingBoardImgs\n      .where('id')\n      .equals(currentSlide.value.id)\n      .toArray()\n      .then((ret) => {\n        const currentImg = ret[0]\n        writingBoardRef.value!.setImageDataURL(currentImg?.dataURL || '')\n      })\n  },\n  { immediate: true }\n)\n\n// \nconst hanldeWritingEnd = () => {\n  const dataURL = writingBoardRef.value!.getImageDataURL()\n  if (!dataURL) return\n\n  db.writingBoardImgs\n    .where('id')\n    .equals(currentSlide.value.id)\n    .toArray()\n    .then((ret) => {\n      const currentImg = ret[0]\n      if (currentImg) db.writingBoardImgs.update(currentImg, { dataURL })\n      else db.writingBoardImgs.add({ id: currentSlide.value.id, dataURL })\n    })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.writing-board-tool {\n  font-size: 12px;\n  z-index: 10;\n  @include absolute-0();\n\n  .writing-board-wrap {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  .tools {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .tool-content {\n    display: flex;\n    align-items: center;\n  }\n  .btn {\n    padding: 5px 10px;\n    cursor: pointer;\n\n    &:hover {\n      color: $themeColor;\n    }\n    &.active {\n      background-color: rgba($color: $themeColor, $alpha: 0.5);\n      color: #fff;\n    }\n  }\n  .icon {\n    font-size: 20px;\n  }\n  .colors {\n    display: flex;\n    padding: 0 10px;\n  }\n  .color {\n    width: 16px;\n    height: 16px;\n    border-radius: $borderRadius;\n    cursor: pointer;\n\n    &:hover {\n      transform: scale(1.15);\n    }\n    &.active {\n      transform: scale(1.3);\n    }\n\n    & + .color {\n      margin-left: 8px;\n    }\n  }\n}\n.size {\n  width: 200px;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  font-size: 13px;\n\n  .label {\n    width: 70px;\n  }\n  .size-slider {\n    flex: 1;\n  }\n}\n</style>\n","import script from \"./WritingBoardTool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./WritingBoardTool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./WritingBoardTool.vue?vue&type=style&index=0&id=62f7df80&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-62f7df80\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, withModifiers as _withModifiers, withKeys as _withKeys, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-668b597b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header\" }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = { class: \"timer\" }\nconst _hoisted_4 = [\"value\", \"disabled\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"colon\" }, \":\", -1))\nconst _hoisted_6 = { class: \"timer\" }\nconst _hoisted_7 = [\"value\", \"disabled\"]\n\nimport { computed, onUnmounted, ref } from 'vue'\nimport { fillDigit } from '@/utils/common'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CountdownTimer',\n  props: {\n    left: { default: 5 },\n    top: { default: 5 }\n  },\n  emits: [\"close\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit\n\nconst timer = ref<number | null>(null)\nconst inTiming = ref(false)\nconst isCountdown = ref(false)\nconst time = ref(0)\nconst minute = computed(() => Math.floor(time.value / 60))\nconst second = computed(() => time.value % 60)\n\nconst inputEditable = computed(() => {\n  return !isCountdown.value || inTiming.value\n})\n\nconst clearTimer = () => {\n  if (timer.value) clearInterval(timer.value)\n}\n\nonUnmounted(clearTimer)\n\nconst pause = () => {\n  clearTimer()\n  inTiming.value = false\n}\n\nconst reset = () => {\n  clearTimer()\n  inTiming.value = false\n\n  if (isCountdown.value) time.value = 600\n  else time.value = 0\n}\n\nconst start = () => {\n  clearTimer()\n\n  if (isCountdown.value) {\n    timer.value = setInterval(() => {\n      time.value = time.value - 1\n\n      if (time.value <= 0) reset()\n    }, 1000)\n  } else {\n    timer.value = setInterval(() => {\n      time.value = time.value + 1\n\n      if (time.value > 36000) pause()\n    }, 1000)\n  }\n\n  inTiming.value = true\n}\n\nconst toggle = () => {\n  if (inTiming.value) pause()\n  else start()\n}\n\nconst toggleCountdown = () => {\n  isCountdown.value = !isCountdown.value\n  reset()\n}\n\nconst changeTime = (\n  e: FocusEvent | KeyboardEvent,\n  type: 'minute' | 'second'\n) => {\n  const inputRef = e.target as HTMLInputElement\n  let value = inputRef.value\n  const isNumber = /^(\\d)+$/.test(value)\n  if (isNumber) {\n    if (type === 'second' && +value >= 60) value = '59'\n    time.value =\n      type === 'minute'\n        ? +value * 60 + second.value\n        : +value + minute.value * 60\n  } else\n    inputRef.value =\n      type === 'minute'\n        ? fillDigit(minute.value, 2)\n        : fillDigit(second.value, 2)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createBlock(MoveablePanel, {\n    class: \"countdown-timer\",\n    width: 180,\n    height: 110,\n    left: _ctx.left,\n    top: _ctx.top\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"span\", {\n          class: \"text-btn\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle()))\n        }, _toDisplayString(inTiming.value ? 'Pause' : 'Start'), 1),\n        _createElementVNode(\"span\", {\n          class: \"text-btn\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (reset()))\n        }, \"Reset\"),\n        _createElementVNode(\"span\", {\n          class: _normalizeClass([\"text-btn\", { active: isCountdown.value }]),\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (toggleCountdown()))\n        }, \"Countdown\", 2)\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            value: _unref(fillDigit)(minute.value, 2),\n            maxlength: 3,\n            disabled: inputEditable.value,\n            onMousedown: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"stop\"])),\n            onBlur: _cache[4] || (_cache[4] = ($event) => changeTime($event, 'minute')),\n            onKeydown: [\n              _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"stop\"])),\n              _cache[6] || (_cache[6] = _withKeys(_withModifiers(($event) => changeTime($event, 'minute'), [\"stop\"]), [\"enter\"]))\n            ]\n          }, null, 40, _hoisted_4)\n        ]),\n        _hoisted_5,\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            value: _unref(fillDigit)(second.value, 2),\n            maxlength: 3,\n            disabled: inputEditable.value,\n            onMousedown: _cache[7] || (_cache[7] = _withModifiers(() => {}, [\"stop\"])),\n            onBlur: _cache[8] || (_cache[8] = ($event) => changeTime($event, 'second')),\n            onKeydown: [\n              _cache[9] || (_cache[9] = _withModifiers(() => {}, [\"stop\"])),\n              _cache[10] || (_cache[10] = _withKeys(_withModifiers(($event) => changeTime($event, 'second'), [\"stop\"]), [\"enter\"]))\n            ]\n          }, null, 40, _hoisted_7)\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"close-btn\",\n        onClick: _cache[11] || (_cache[11] = ($event: any) => (emit('close')))\n      }, [\n        _createVNode(_component_IconClose, { class: \"icon\" })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"left\", \"top\"]))\n}\n}\n\n})","<template>\n  <MoveablePanel\n    class=\"countdown-timer\"\n    :width=\"180\"\n    :height=\"110\"\n    :left=\"left\"\n    :top=\"top\"\n  >\n    <div class=\"header\">\n      <span class=\"text-btn\" @click=\"toggle()\">{{\n        inTiming ? 'Pause' : 'Start'\n      }}</span>\n      <span class=\"text-btn\" @click=\"reset()\">Reset</span>\n      <span\n        class=\"text-btn\"\n        @click=\"toggleCountdown()\"\n        :class=\"{ active: isCountdown }\"\n        >Countdown</span\n      >\n    </div>\n    <div class=\"content\">\n      <div class=\"timer\">\n        <input\n          type=\"text\"\n          :value=\"fillDigit(minute, 2)\"\n          :maxlength=\"3\"\n          :disabled=\"inputEditable\"\n          @mousedown.stop\n          @blur=\"($event) => changeTime($event, 'minute')\"\n          @keydown.stop\n          @keydown.enter.stop=\"($event) => changeTime($event, 'minute')\"\n        />\n      </div>\n      <div class=\"colon\">:</div>\n      <div class=\"timer\">\n        <input\n          type=\"text\"\n          :value=\"fillDigit(second, 2)\"\n          :maxlength=\"3\"\n          :disabled=\"inputEditable\"\n          @mousedown.stop\n          @blur=\"($event) => changeTime($event, 'second')\"\n          @keydown.stop\n          @keydown.enter.stop=\"($event) => changeTime($event, 'second')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"close-btn\" @click=\"emit('close')\">\n      <IconClose class=\"icon\" />\n    </div>\n  </MoveablePanel>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onUnmounted, ref } from 'vue'\nimport { fillDigit } from '@/utils/common'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\n\nwithDefaults(\n  defineProps<{\n    left?: number\n    top?: number\n  }>(),\n  {\n    left: 5,\n    top: 5,\n  }\n)\n\nconst emit = defineEmits<{\n  (event: 'close'): void\n}>()\n\nconst timer = ref<number | null>(null)\nconst inTiming = ref(false)\nconst isCountdown = ref(false)\nconst time = ref(0)\nconst minute = computed(() => Math.floor(time.value / 60))\nconst second = computed(() => time.value % 60)\n\nconst inputEditable = computed(() => {\n  return !isCountdown.value || inTiming.value\n})\n\nconst clearTimer = () => {\n  if (timer.value) clearInterval(timer.value)\n}\n\nonUnmounted(clearTimer)\n\nconst pause = () => {\n  clearTimer()\n  inTiming.value = false\n}\n\nconst reset = () => {\n  clearTimer()\n  inTiming.value = false\n\n  if (isCountdown.value) time.value = 600\n  else time.value = 0\n}\n\nconst start = () => {\n  clearTimer()\n\n  if (isCountdown.value) {\n    timer.value = setInterval(() => {\n      time.value = time.value - 1\n\n      if (time.value <= 0) reset()\n    }, 1000)\n  } else {\n    timer.value = setInterval(() => {\n      time.value = time.value + 1\n\n      if (time.value > 36000) pause()\n    }, 1000)\n  }\n\n  inTiming.value = true\n}\n\nconst toggle = () => {\n  if (inTiming.value) pause()\n  else start()\n}\n\nconst toggleCountdown = () => {\n  isCountdown.value = !isCountdown.value\n  reset()\n}\n\nconst changeTime = (\n  e: FocusEvent | KeyboardEvent,\n  type: 'minute' | 'second'\n) => {\n  const inputRef = e.target as HTMLInputElement\n  let value = inputRef.value\n  const isNumber = /^(\\d)+$/.test(value)\n  if (isNumber) {\n    if (type === 'second' && +value >= 60) value = '59'\n    time.value =\n      type === 'minute'\n        ? +value * 60 + second.value\n        : +value + minute.value * 60\n  } else\n    inputRef.value =\n      type === 'minute'\n        ? fillDigit(minute.value, 2)\n        : fillDigit(second.value, 2)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.countdown-timer {\n  user-select: none;\n}\n.header {\n  height: 16px;\n  font-size: 13px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n\n  .text-btn {\n    margin-right: 8px;\n    cursor: pointer;\n\n    &:hover,\n    &.active {\n      color: $themeColor;\n    }\n  }\n}\n.content {\n  display: flex;\n  justify-content: space-between;\n  padding: 0 5px;\n}\n.timer {\n  width: 54px;\n  height: 54px;\n  border-radius: 50%;\n  background-color: rgba($color: $themeColor, $alpha: 0.05);\n  font-size: 22px;\n  overflow: hidden;\n\n  input {\n    width: 100%;\n    height: 100%;\n    border: 0;\n    outline: 0;\n    background-color: transparent;\n    text-align: center;\n  }\n}\n.colon {\n  height: 54px;\n  line-height: 54px;\n  font-size: 22px;\n}\n.icon-btn {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.pause,\n.play {\n  font-size: 17px;\n}\n.reset {\n  font-size: 12px;\n}\n.close-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px;\n  cursor: pointer;\n}\n</style>\n","import script from \"./CountdownTimer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CountdownTimer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CountdownTimer.vue?vue&type=style&index=0&id=668b597b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-668b597b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDirective as _resolveDirective, createVNode as _createVNode, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ec11fcb6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tools-left\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport useScreening from '@/hooks/useScreening'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport SlideThumbnails from './SlideThumbnails.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseView',\n  props: {\n    changeViewMode: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst {\n  autoPlayTimer,\n  autoPlay,\n  closeAutoPlay,\n  autoPlayInterval,\n  setAutoPlayInterval,\n  loopPlay,\n  setLoopPlay,\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  execPrev,\n  execNext,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize()\nconst { exitScreening } = useScreening()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst rightToolsVisible = ref(false)\nconst writingBoardToolVisible = ref(false)\nconst timerlVisible = ref(false)\nconst slideThumbnailModelVisible = ref(false)\nconst laserPen = ref(false)\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Previous page',\n      subText: ' ',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: 'Next page',\n      subText: ' ',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: 'First page',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: 'Last page',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: autoPlayTimer.value ? 'Cancel automatic show' : 'automatic show',\n      handler: autoPlayTimer.value ? closeAutoPlay : autoPlay,\n      children: [\n        {\n          text: '2.5 seconds',\n          subText: autoPlayInterval.value === 2500 ? '' : '',\n          handler: () => setAutoPlayInterval(2500),\n        },\n        {\n          text: '5 seconds',\n          subText: autoPlayInterval.value === 5000 ? '' : '',\n          handler: () => setAutoPlayInterval(5000),\n        },\n        {\n          text: '7.5 seconds',\n          subText: autoPlayInterval.value === 7500 ? '' : '',\n          handler: () => setAutoPlayInterval(7500),\n        },\n        {\n          text: '10 seconds',\n          subText: autoPlayInterval.value === 10000 ? '' : '',\n          handler: () => setAutoPlayInterval(10000),\n        },\n      ],\n    },\n    {\n      text: 'Loop show',\n      subText: loopPlay.value ? '' : '',\n      handler: () => setLoopPlay(!loopPlay.value),\n    },\n    { divider: true },\n    {\n      text: 'Show toolbar',\n      handler: () => (rightToolsVisible.value = true),\n    },\n    {\n      text: 'View all slides',\n      handler: () => (slideThumbnailModelVisible.value = true),\n    },\n    {\n      text: 'Brush tool',\n      handler: () => (writingBoardToolVisible.value = true),\n    },\n    {\n      text: 'Speaker view',\n      handler: () => props.changeViewMode('presenter'),\n    },\n    { divider: true },\n    {\n      text: 'End show',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconLeftTwo = _resolveComponent(\"IconLeftTwo\")!\n  const _component_IconRightTwo = _resolveComponent(\"IconRightTwo\")!\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconMagic = _resolveComponent(\"IconMagic\")!\n  const _component_IconStopwatchStart = _resolveComponent(\"IconStopwatchStart\")!\n  const _component_IconListView = _resolveComponent(\"IconListView\")!\n  const _component_IconOffScreenOne = _resolveComponent(\"IconOffScreenOne\")!\n  const _component_IconFullScreenOne = _resolveComponent(\"IconFullScreenOne\")!\n  const _component_IconPower = _resolveComponent(\"IconPower\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"base-view\", { 'laser-pen': laserPen.value }])\n  }, [\n    _withDirectives(_createVNode(ScreenSlideList, {\n      slideWidth: _unref(slideWidth),\n      slideHeight: _unref(slideHeight),\n      animationIndex: _unref(animationIndex),\n      turnSlideToId: _unref(turnSlideToId),\n      manualExitFullscreen: _unref(manualExitFullscreen),\n      onWheel: _cache[0] || (_cache[0] = ($event) => _unref(mousewheelListener)($event)),\n      onTouchstart: _cache[1] || (_cache[1] = ($event) => _unref(touchStartListener)($event)),\n      onTouchend: _cache[2] || (_cache[2] = ($event) => _unref(touchEndListener)($event))\n    }, null, 8, [\"slideWidth\", \"slideHeight\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]), [\n      [_directive_contextmenu, contextmenus]\n    ]),\n    (slideThumbnailModelVisible.value)\n      ? (_openBlock(), _createBlock(SlideThumbnails, {\n          key: 0,\n          turnSlideToIndex: _unref(turnSlideToIndex),\n          onClose: _cache[3] || (_cache[3] = ($event: any) => (slideThumbnailModelVisible.value = false))\n        }, null, 8, [\"turnSlideToIndex\"]))\n      : _createCommentVNode(\"\", true),\n    (writingBoardToolVisible.value)\n      ? (_openBlock(), _createBlock(WritingBoardTool, {\n          key: 1,\n          slideWidth: _unref(slideWidth),\n          slideHeight: _unref(slideHeight),\n          onClose: _cache[4] || (_cache[4] = ($event: any) => (writingBoardToolVisible.value = false))\n        }, null, 8, [\"slideWidth\", \"slideHeight\"]))\n      : _createCommentVNode(\"\", true),\n    (timerlVisible.value)\n      ? (_openBlock(), _createBlock(CountdownTimer, {\n          key: 2,\n          onClose: _cache[5] || (_cache[5] = ($event: any) => (timerlVisible.value = false))\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_IconLeftTwo, {\n        class: \"tool-btn\",\n        theme: \"two-tone\",\n        fill: ['#111', '#fff'],\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(execPrev)()))\n      }),\n      _createVNode(_component_IconRightTwo, {\n        class: \"tool-btn\",\n        theme: \"two-tone\",\n        fill: ['#111', '#fff'],\n        onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(execNext)()))\n      })\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"tools-right\", { visible: rightToolsVisible.value }]),\n      onMouseleave: _cache[16] || (_cache[16] = ($event: any) => (rightToolsVisible.value = false)),\n      onMouseenter: _cache[17] || (_cache[17] = ($event: any) => (rightToolsVisible.value = true))\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", {\n          class: \"tool-btn page-number\",\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (slideThumbnailModelVisible.value = true))\n        }, \" slideshow \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1),\n        _withDirectives(_createVNode(_component_IconWrite, {\n          class: \"tool-btn\",\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (writingBoardToolVisible.value = true))\n        }, null, 512), [\n          [_directive_tooltip, 'Brush tool']\n        ]),\n        _withDirectives(_createVNode(_component_IconMagic, {\n          class: _normalizeClass([\"tool-btn\", { active: laserPen.value }]),\n          onClick: _cache[10] || (_cache[10] = ($event: any) => (laserPen.value = !laserPen.value))\n        }, null, 8, [\"class\"]), [\n          [_directive_tooltip, 'laser pointer']\n        ]),\n        _withDirectives(_createVNode(_component_IconStopwatchStart, {\n          class: _normalizeClass([\"tool-btn\", { active: timerlVisible.value }]),\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (timerlVisible.value = !timerlVisible.value))\n        }, null, 8, [\"class\"]), [\n          [_directive_tooltip, 'timer']\n        ]),\n        _withDirectives(_createVNode(_component_IconListView, {\n          class: \"tool-btn\",\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (_ctx.changeViewMode('presenter')))\n        }, null, 512), [\n          [_directive_tooltip, 'Speaker view']\n        ]),\n        (_unref(fullscreenState))\n          ? _withDirectives((_openBlock(), _createBlock(_component_IconOffScreenOne, {\n              key: 0,\n              class: \"tool-btn\",\n              onClick: _cache[13] || (_cache[13] = ($event: any) => (_unref(manualExitFullscreen)()))\n            }, null, 512)), [\n              [_directive_tooltip, 'Exit Full Screen']\n            ])\n          : _withDirectives((_openBlock(), _createBlock(_component_IconFullScreenOne, {\n              key: 1,\n              class: \"tool-btn\",\n              onClick: _cache[14] || (_cache[14] = ($event: any) => (_unref(enterFullscreen)()))\n            }, null, 512)), [\n              [_directive_tooltip, 'full screen']\n            ]),\n        _withDirectives(_createVNode(_component_IconPower, {\n          class: \"tool-btn\",\n          onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(exitScreening)()))\n        }, null, 512), [\n          [_directive_tooltip, 'end show']\n        ])\n      ])\n    ], 34)\n  ], 2))\n}\n}\n\n})","<template>\n  <div class=\"base-view\" :class=\"{ 'laser-pen': laserPen }\">\n    <ScreenSlideList\n      :slideWidth=\"slideWidth\"\n      :slideHeight=\"slideHeight\"\n      :animationIndex=\"animationIndex\"\n      :turnSlideToId=\"turnSlideToId\"\n      :manualExitFullscreen=\"manualExitFullscreen\"\n      @wheel=\"($event) => mousewheelListener($event)\"\n      @touchstart=\"($event) => touchStartListener($event)\"\n      @touchend=\"($event) => touchEndListener($event)\"\n      v-contextmenu=\"contextmenus\"\n    />\n\n    <SlideThumbnails\n      v-if=\"slideThumbnailModelVisible\"\n      :turnSlideToIndex=\"turnSlideToIndex\"\n      @close=\"slideThumbnailModelVisible = false\"\n    />\n\n    <WritingBoardTool\n      :slideWidth=\"slideWidth\"\n      :slideHeight=\"slideHeight\"\n      v-if=\"writingBoardToolVisible\"\n      @close=\"writingBoardToolVisible = false\"\n    />\n\n    <CountdownTimer v-if=\"timerlVisible\" @close=\"timerlVisible = false\" />\n\n    <div class=\"tools-left\">\n      <IconLeftTwo\n        class=\"tool-btn\"\n        theme=\"two-tone\"\n        :fill=\"['#111', '#fff']\"\n        @click=\"execPrev()\"\n      />\n      <IconRightTwo\n        class=\"tool-btn\"\n        theme=\"two-tone\"\n        :fill=\"['#111', '#fff']\"\n        @click=\"execNext()\"\n      />\n    </div>\n\n    <div\n      class=\"tools-right\"\n      :class=\"{ visible: rightToolsVisible }\"\n      @mouseleave=\"rightToolsVisible = false\"\n      @mouseenter=\"rightToolsVisible = true\"\n    >\n      <div class=\"content\">\n        <div\n          class=\"tool-btn page-number\"\n          @click=\"slideThumbnailModelVisible = true\"\n        >\n          slideshow {{ slideIndex + 1 }} / {{ slides.length }}\n        </div>\n        <IconWrite\n          class=\"tool-btn\"\n          v-tooltip=\"'Brush tool'\"\n          @click=\"writingBoardToolVisible = true\"\n        />\n        <IconMagic\n          class=\"tool-btn\"\n          v-tooltip=\"'laser pointer'\"\n          :class=\"{ active: laserPen }\"\n          @click=\"laserPen = !laserPen\"\n        />\n        <IconStopwatchStart\n          class=\"tool-btn\"\n          v-tooltip=\"'timer'\"\n          :class=\"{ active: timerlVisible }\"\n          @click=\"timerlVisible = !timerlVisible\"\n        />\n        <IconListView\n          class=\"tool-btn\"\n          v-tooltip=\"'Speaker view'\"\n          @click=\"changeViewMode('presenter')\"\n        />\n        <IconOffScreenOne\n          class=\"tool-btn\"\n          v-tooltip=\"'Exit Full Screen'\"\n          v-if=\"fullscreenState\"\n          @click=\"manualExitFullscreen()\"\n        />\n        <IconFullScreenOne\n          class=\"tool-btn\"\n          v-tooltip=\"'full screen'\"\n          v-else\n          @click=\"enterFullscreen()\"\n        />\n        <IconPower\n          class=\"tool-btn\"\n          v-tooltip=\"'end show'\"\n          @click=\"exitScreening()\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport useScreening from '@/hooks/useScreening'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport SlideThumbnails from './SlideThumbnails.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\n\nconst props = defineProps<{\n  changeViewMode: (mode: 'base' | 'presenter') => void\n}>()\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst {\n  autoPlayTimer,\n  autoPlay,\n  closeAutoPlay,\n  autoPlayInterval,\n  setAutoPlayInterval,\n  loopPlay,\n  setLoopPlay,\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  execPrev,\n  execNext,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize()\nconst { exitScreening } = useScreening()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst rightToolsVisible = ref(false)\nconst writingBoardToolVisible = ref(false)\nconst timerlVisible = ref(false)\nconst slideThumbnailModelVisible = ref(false)\nconst laserPen = ref(false)\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Previous page',\n      subText: ' ',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: 'Next page',\n      subText: ' ',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: 'First page',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: 'Last page',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: autoPlayTimer.value ? 'Cancel automatic show' : 'automatic show',\n      handler: autoPlayTimer.value ? closeAutoPlay : autoPlay,\n      children: [\n        {\n          text: '2.5 seconds',\n          subText: autoPlayInterval.value === 2500 ? '' : '',\n          handler: () => setAutoPlayInterval(2500),\n        },\n        {\n          text: '5 seconds',\n          subText: autoPlayInterval.value === 5000 ? '' : '',\n          handler: () => setAutoPlayInterval(5000),\n        },\n        {\n          text: '7.5 seconds',\n          subText: autoPlayInterval.value === 7500 ? '' : '',\n          handler: () => setAutoPlayInterval(7500),\n        },\n        {\n          text: '10 seconds',\n          subText: autoPlayInterval.value === 10000 ? '' : '',\n          handler: () => setAutoPlayInterval(10000),\n        },\n      ],\n    },\n    {\n      text: 'Loop show',\n      subText: loopPlay.value ? '' : '',\n      handler: () => setLoopPlay(!loopPlay.value),\n    },\n    { divider: true },\n    {\n      text: 'Show toolbar',\n      handler: () => (rightToolsVisible.value = true),\n    },\n    {\n      text: 'View all slides',\n      handler: () => (slideThumbnailModelVisible.value = true),\n    },\n    {\n      text: 'Brush tool',\n      handler: () => (writingBoardToolVisible.value = true),\n    },\n    {\n      text: 'Speaker view',\n      handler: () => props.changeViewMode('presenter'),\n    },\n    { divider: true },\n    {\n      text: 'End show',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.base-view {\n  width: 100%;\n  height: 100%;\n\n  &.laser-pen {\n    cursor: url(data:image/png;base64,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)\n        20 20,\n      default !important;\n  }\n}\n.tools-left {\n  position: fixed;\n  bottom: 8px;\n  left: 8px;\n  font-size: 25px;\n  color: #666;\n  z-index: 10;\n\n  .tool-btn {\n    opacity: 0.35;\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.9;\n    }\n    & + .tool-btn {\n      margin-left: 8px;\n    }\n  }\n}\n.tools-right {\n  height: 66px;\n  position: fixed;\n  bottom: -66px;\n  right: 0;\n  z-index: 5;\n  padding: 8px;\n  transition: bottom $transitionDelay;\n\n  &.visible {\n    bottom: 0;\n  }\n\n  &::after {\n    content: '';\n    width: 100%;\n    height: 66px;\n    position: absolute;\n    left: 0;\n    top: -66px;\n  }\n\n  .content {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: $borderRadius;\n    font-size: 25px;\n    background-color: #fff;\n    color: $textColor;\n    padding: 8px 10px;\n    box-shadow: 0 2px 12px 0 rgb(56, 56, 56, 0.2);\n    border: 1px solid #e2e6ed;\n  }\n\n  .tool-btn {\n    cursor: pointer;\n\n    &:hover,\n    &.active {\n      color: $themeColor;\n    }\n\n    & + .tool-btn {\n      margin-left: 15px;\n    }\n  }\n  .page-number {\n    font-size: 13px;\n    padding: 8px 12px;\n    cursor: pointer;\n  }\n}\n</style>\n","import script from \"./BaseView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseView.vue?vue&type=style&index=0&id=ec11fcb6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ec11fcb6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-79965aa0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"presenter-view\" }\nconst _hoisted_2 = { class: \"toolbar\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"normal view\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"brush\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"laser pointer\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"timer\", -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"end show\", -1))\nconst _hoisted_8 = { class: \"content\" }\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = { class: \"remark\" }\nconst _hoisted_11 = { class: \"header\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Speaker Notes\", -1))\nconst _hoisted_13 = [\"innerHTML\"]\nconst _hoisted_14 = { class: \"remark-scale\" }\n\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\nimport Divider from '@/components/Divider.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PresenterView',\n  props: {\n    changeViewMode: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst { slides, slideIndex, viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst slideListWrapRef = ref<HTMLElement>()\nconst thumbnailsRef = ref<HTMLElement>()\nconst writingBoardToolVisible = ref(false)\nconst timerlVisible = ref(false)\nconst laserPen = ref(false)\n\nconst {\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize(slideListWrapRef)\nconst { exitScreening } = useScreening()\nconst { slidesLoadLimit } = useLoadSlides()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst remarkFontSize = ref(16)\nconst currentSlideRemark = computed(() => {\n  return parseText2Paragraphs(currentSlide.value.remark || 'No remarks')\n})\n\nconst handleMousewheelThumbnails = (e: WheelEvent) => {\n  if (!thumbnailsRef.value) return\n  thumbnailsRef.value.scrollBy(e.deltaY, 0)\n}\n\nconst setRemarkFontSize = (fontSize: number) => {\n  if (fontSize < 12 || fontSize > 40) return\n  remarkFontSize.value = fontSize\n}\n\nwatch(slideIndex, () => {\n  nextTick(() => {\n    if (!thumbnailsRef.value) return\n\n    const activeThumbnailRef: HTMLElement | null = thumbnailsRef.value.querySelector('.thumbnail.active')\n    if (!activeThumbnailRef) return\n\n    const width = thumbnailsRef.value.offsetWidth\n    const offsetLeft = activeThumbnailRef.offsetLeft\n    thumbnailsRef.value.scrollTo({ left: offsetLeft - width / 2, behavior: 'smooth' })\n  })\n})\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Previous page',\n      subText: ' ',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: 'Next page',\n      subText: ' ',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: 'First page',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: 'Last page',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: 'Brush tool',\n      handler: () => writingBoardToolVisible.value = true,\n    },\n    {\n      text: 'normal view',\n      handler: () => props.changeViewMode('base'),\n    },\n    { divider: true },\n    {\n      text: 'end show',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconListView = _resolveComponent(\"IconListView\")!\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconMagic = _resolveComponent(\"IconMagic\")!\n  const _component_IconStopwatchStart = _resolveComponent(\"IconStopwatchStart\")!\n  const _component_IconOffScreenOne = _resolveComponent(\"IconOffScreenOne\")!\n  const _component_IconPower = _resolveComponent(\"IconPower\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.changeViewMode('base')))\n      }, [\n        _createVNode(_component_IconListView, { class: \"tool-icon\" }),\n        _hoisted_3\n      ]),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': writingBoardToolVisible.value }]),\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (writingBoardToolVisible.value = !writingBoardToolVisible.value))\n      }, [\n        _createVNode(_component_IconWrite, { class: \"tool-icon\" }),\n        _hoisted_4\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': laserPen.value }]),\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (laserPen.value = !laserPen.value))\n      }, [\n        _createVNode(_component_IconMagic, { class: \"tool-icon\" }),\n        _hoisted_5\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': timerlVisible.value }]),\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (timerlVisible.value = !timerlVisible.value))\n      }, [\n        _createVNode(_component_IconStopwatchStart, { class: \"tool-icon\" }),\n        _hoisted_6\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[4] || (_cache[4] = () => _unref(fullscreenState) ? _unref(manualExitFullscreen)() : _unref(enterFullscreen)())\n      }, [\n        (_unref(fullscreenState))\n          ? (_openBlock(), _createBlock(_component_IconOffScreenOne, {\n              key: 0,\n              class: \"tool-icon\"\n            }))\n          : (_openBlock(), _createBlock(_component_IconOffScreenOne, {\n              key: 1,\n              class: \"tool-icon\"\n            })),\n        _createElementVNode(\"span\", null, _toDisplayString(_unref(fullscreenState) ? 'Exit Full Screen' : 'full screen'), 1)\n      ]),\n      _createVNode(Divider, { class: \"divider\" }),\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(exitScreening)()))\n      }, [\n        _createVNode(_component_IconPower, { class: \"tool-icon\" }),\n        _hoisted_7\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"slide-list-wrap\", { 'laser-pen': laserPen.value }]),\n        ref_key: \"slideListWrapRef\",\n        ref: slideListWrapRef\n      }, [\n        _withDirectives(_createVNode(ScreenSlideList, {\n          slideWidth: _unref(slideWidth),\n          slideHeight: _unref(slideHeight),\n          animationIndex: _unref(animationIndex),\n          turnSlideToId: _unref(turnSlideToId),\n          manualExitFullscreen: _unref(manualExitFullscreen),\n          onWheel: _cache[6] || (_cache[6] = $event => _unref(mousewheelListener)($event)),\n          onTouchstart: _cache[7] || (_cache[7] = $event => _unref(touchStartListener)($event)),\n          onTouchend: _cache[8] || (_cache[8] = $event => _unref(touchEndListener)($event))\n        }, null, 8, [\"slideWidth\", \"slideHeight\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]), [\n          [_directive_contextmenu, contextmenus]\n        ]),\n        (writingBoardToolVisible.value)\n          ? (_openBlock(), _createBlock(WritingBoardTool, {\n              key: 0,\n              slideWidth: _unref(slideWidth),\n              slideHeight: _unref(slideHeight),\n              left: -365,\n              top: -155,\n              onClose: _cache[9] || (_cache[9] = ($event: any) => (writingBoardToolVisible.value = false))\n            }, null, 8, [\"slideWidth\", \"slideHeight\"]))\n          : _createCommentVNode(\"\", true),\n        (timerlVisible.value)\n          ? (_openBlock(), _createBlock(CountdownTimer, {\n              key: 1,\n              left: 75,\n              onClose: _cache[10] || (_cache[10] = ($event: any) => (timerlVisible.value = false))\n            }))\n          : _createCommentVNode(\"\", true)\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"thumbnailsRef\",\n        ref: thumbnailsRef,\n        onWheel: _cache[11] || (_cache[11] = _withModifiers($event => handleMousewheelThumbnails($event), [\"prevent\"]))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: _normalizeClass([\"thumbnail\", { 'active': index === _unref(slideIndex) }]),\n            key: slide.id,\n            onClick: ($event: any) => (_unref(turnSlideToIndex)(index))\n          }, [\n            _createVNode(ThumbnailSlide, {\n              slide: slide,\n              size: 120 / _unref(viewportRatio),\n              visible: index < _unref(slidesLoadLimit)\n            }, null, 8, [\"slide\", \"size\", \"visible\"])\n          ], 10, _hoisted_9))\n        }), 128))\n      ], 544)\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"div\", _hoisted_11, [\n        _hoisted_12,\n        _createElementVNode(\"span\", null, \"P \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"remark-content ProseMirror-static\",\n        style: _normalizeStyle({ fontSize: remarkFontSize.value + 'px' }),\n        innerHTML: currentSlideRemark.value\n      }, null, 12, _hoisted_13),\n      _createElementVNode(\"div\", _hoisted_14, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass(['scale-btn', { 'disable': remarkFontSize.value === 12 }]),\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (setRemarkFontSize(remarkFontSize.value - 2)))\n        }, [\n          _createVNode(_component_IconMinus)\n        ], 2),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass(['scale-btn', { 'disable': remarkFontSize.value === 40 }]),\n          onClick: _cache[13] || (_cache[13] = ($event: any) => (setRemarkFontSize(remarkFontSize.value + 2)))\n        }, [\n          _createVNode(_component_IconPlus)\n        ], 2)\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"presenter-view\">\n    <div class=\"toolbar\">\n      <div class=\"tool-btn\" @click=\"changeViewMode('base')\"><IconListView class=\"tool-icon\" /><span>normal view</span></div>\n      <div class=\"tool-btn\" :class=\"{ 'active': writingBoardToolVisible }\" @click=\"writingBoardToolVisible = !writingBoardToolVisible\"><IconWrite class=\"tool-icon\" /><span>brush</span></div>\n      <div class=\"tool-btn\" :class=\"{ 'active': laserPen }\" @click=\"laserPen = !laserPen\"><IconMagic class=\"tool-icon\" /><span>laser pointer</span></div>\n      <div class=\"tool-btn\" :class=\"{ 'active': timerlVisible }\" @click=\"timerlVisible = !timerlVisible\"><IconStopwatchStart class=\"tool-icon\" /><span>timer</span></div>\n      <div class=\"tool-btn\" @click=\"() => fullscreenState ? manualExitFullscreen() : enterFullscreen()\">\n        <IconOffScreenOne class=\"tool-icon\" v-if=\"fullscreenState\" />\n        <IconOffScreenOne class=\"tool-icon\" v-else />\n        <span>{{ fullscreenState ? 'Exit Full Screen' : 'full screen' }}</span>\n      </div>\n      <Divider class=\"divider\" />\n      <div class=\"tool-btn\" @click=\"exitScreening()\"><IconPower class=\"tool-icon\" /><span>end show</span></div>\n    </div>\n\n    <div class=\"content\">\n      <div \n        class=\"slide-list-wrap\" \n        :class=\"{ 'laser-pen': laserPen }\" \n        ref=\"slideListWrapRef\"\n      >\n        <ScreenSlideList\n          :slideWidth=\"slideWidth\"\n          :slideHeight=\"slideHeight\"\n          :animationIndex=\"animationIndex\"\n          :turnSlideToId=\"turnSlideToId\"\n          :manualExitFullscreen=\"manualExitFullscreen\"\n          @wheel=\"$event => mousewheelListener($event)\"\n          @touchstart=\"$event => touchStartListener($event)\"\n          @touchend=\"$event => touchEndListener($event)\"\n          v-contextmenu=\"contextmenus\"\n        />\n        <WritingBoardTool \n          :slideWidth=\"slideWidth\"\n          :slideHeight=\"slideHeight\"\n          :left=\"-365\"\n          :top=\"-155\"\n          v-if=\"writingBoardToolVisible\" \n          @close=\"writingBoardToolVisible = false\" \n        />\n\n        <CountdownTimer \n          v-if=\"timerlVisible\" \n          :left=\"75\" \n          @close=\"timerlVisible = false\" \n        />\n      </div>\n      <div class=\"thumbnails\"\n        ref=\"thumbnailsRef\"\n        @wheel.prevent=\"$event => handleMousewheelThumbnails($event)\"\n      >\n        <div \n          class=\"thumbnail\"\n          :class=\"{ 'active': index === slideIndex }\"\n          v-for=\"(slide, index) in slides\" \n          :key=\"slide.id\"\n          @click=\"turnSlideToIndex(index)\"\n        >\n          <ThumbnailSlide :slide=\"slide\" :size=\"120 / viewportRatio\" :visible=\"index < slidesLoadLimit\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"remark\">\n      <div class=\"header\">\n        <span>Speaker Notes</span>\n        <span>P {{slideIndex + 1}} / {{slides.length}}</span>\n      </div>\n      <div class=\"remark-content ProseMirror-static\" :style=\"{ fontSize: remarkFontSize + 'px' }\" v-html=\"currentSlideRemark\"></div>\n      <div class=\"remark-scale\">\n        <div :class=\"['scale-btn', { 'disable': remarkFontSize === 12 }]\" @click=\"setRemarkFontSize(remarkFontSize - 2)\"><IconMinus /></div>\n        <div :class=\"['scale-btn', { 'disable': remarkFontSize === 40 }]\" @click=\"setRemarkFontSize(remarkFontSize + 2)\"><IconPlus /></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\nimport Divider from '@/components/Divider.vue'\n\nconst props = defineProps<{\n  changeViewMode: (mode: 'base' | 'presenter') => void\n}>()\n\nconst { slides, slideIndex, viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst slideListWrapRef = ref<HTMLElement>()\nconst thumbnailsRef = ref<HTMLElement>()\nconst writingBoardToolVisible = ref(false)\nconst timerlVisible = ref(false)\nconst laserPen = ref(false)\n\nconst {\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize(slideListWrapRef)\nconst { exitScreening } = useScreening()\nconst { slidesLoadLimit } = useLoadSlides()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst remarkFontSize = ref(16)\nconst currentSlideRemark = computed(() => {\n  return parseText2Paragraphs(currentSlide.value.remark || 'No remarks')\n})\n\nconst handleMousewheelThumbnails = (e: WheelEvent) => {\n  if (!thumbnailsRef.value) return\n  thumbnailsRef.value.scrollBy(e.deltaY, 0)\n}\n\nconst setRemarkFontSize = (fontSize: number) => {\n  if (fontSize < 12 || fontSize > 40) return\n  remarkFontSize.value = fontSize\n}\n\nwatch(slideIndex, () => {\n  nextTick(() => {\n    if (!thumbnailsRef.value) return\n\n    const activeThumbnailRef: HTMLElement | null = thumbnailsRef.value.querySelector('.thumbnail.active')\n    if (!activeThumbnailRef) return\n\n    const width = thumbnailsRef.value.offsetWidth\n    const offsetLeft = activeThumbnailRef.offsetLeft\n    thumbnailsRef.value.scrollTo({ left: offsetLeft - width / 2, behavior: 'smooth' })\n  })\n})\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Previous page',\n      subText: ' ',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: 'Next page',\n      subText: ' ',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: 'First page',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: 'Last page',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: 'Brush tool',\n      handler: () => writingBoardToolVisible.value = true,\n    },\n    {\n      text: 'normal view',\n      handler: () => props.changeViewMode('base'),\n    },\n    { divider: true },\n    {\n      text: 'end show',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.presenter-view {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n.toolbar {\n  width: 70px;\n  height: 100%;\n  background-color: #fff;\n  border-right: solid 1px #eee;\n  font-size: 12px;\n  margin: 20px 0;\n\n  .tool-btn {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    & + .tool-btn {\n      margin-top: 22px;\n    }\n\n    &:hover, &.active {\n      color: $themeColor;\n    }\n  }\n\n  .divider {\n    width: 70%;\n    margin: 24px 15% !important;\n  }\n\n  .tool-icon {\n    margin-bottom: 8px;\n    font-size: 22px;\n  }\n}\n.content {\n  width: calc(100% - 430px);\n  height: 100%;\n  background-color: #1d1d1d;\n}\n.slide-list-wrap {\n  height: calc(100% - 190px);\n  margin: 20px;\n  overflow: hidden;\n  position: relative;\n\n  &.laser-pen {\n    cursor: url(data:image/png;base64,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) 20 20, default !important;\n  }\n}\n.thumbnails {\n  height: 150px;\n  padding: 15px;\n  white-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  border-top: solid 1px #3a3a3a;\n}\n.thumbnail {\n  display: inline-block;\n  outline: 2px solid #aaa;\n\n  & + .thumbnail {\n    margin-left: 10px;\n  }\n\n  &:hover {\n    outline-color: $themeColor;\n  }\n\n  &.active {\n    outline-width: 3px;\n    outline-color: $themeColor;\n  }\n}\n.remark {\n  width: 360px;\n  height: 100%;\n  position: relative;\n  background-color: #2a2a2a;\n  border-left: solid 1px #3a3a3a;\n  color: #fff;\n\n  .header {\n    height: 60px;\n    padding: 0 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 18px;\n    border-bottom: 1px solid #3a3a3a;\n  }\n\n  .remark-content {\n    height: calc(100% - 60px);\n    padding: 20px;\n    line-height: 1.5;\n    @include overflow-overlay();\n  }\n\n  .remark-scale {\n    position: absolute;\n    right: 5px;\n    bottom: 5px;\n    font-size: 22px;\n    display: flex;\n  }\n  .scale-btn {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    cursor: pointer;\n\n    &.disable {\n      color: #666;\n      cursor: no-drop;\n    }\n\n    &:not(.disable):hover {\n      background-color: #333;\n    }\n  }\n}\n\n::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n</style>","import script from \"./PresenterView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PresenterView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PresenterView.vue?vue&type=style&index=0&id=79965aa0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-79965aa0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cfe7e0ac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ppt-screen\" }\n\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { KEYS } from '@/configs/hotkey'\nimport useScreening from '@/hooks/useScreening'\n\nimport BaseView from './BaseView.vue'\nimport PresenterView from './PresenterView.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst viewMode = ref<'base' | 'presenter'>('base')\n\nconst changeViewMode = (mode: 'base' | 'presenter') => {\n  viewMode.value = mode\n}\n\nconst { exitScreening } = useScreening()\n\n// \nconst keydownListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ESC) exitScreening()\n}\n\nonMounted(() => document.addEventListener('keydown', keydownListener))\nonUnmounted(() => document.removeEventListener('keydown', keydownListener))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (viewMode.value === 'base')\n      ? (_openBlock(), _createBlock(BaseView, {\n          key: 0,\n          changeViewMode: changeViewMode\n        }))\n      : (viewMode.value === 'presenter')\n        ? (_openBlock(), _createBlock(PresenterView, {\n            key: 1,\n            changeViewMode: changeViewMode\n          }))\n        : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"ppt-screen\">\n    <BaseView :changeViewMode=\"changeViewMode\" v-if=\"viewMode === 'base'\" />\n    <PresenterView :changeViewMode=\"changeViewMode\" v-else-if=\"viewMode === 'presenter'\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { KEYS } from '@/configs/hotkey'\nimport useScreening from '@/hooks/useScreening'\n\nimport BaseView from './BaseView.vue'\nimport PresenterView from './PresenterView.vue'\n\nconst viewMode = ref<'base' | 'presenter'>('base')\n\nconst changeViewMode = (mode: 'base' | 'presenter') => {\n  viewMode.value = mode\n}\n\nconst { exitScreening } = useScreening()\n\n// \nconst keydownListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ESC) exitScreening()\n}\n\nonMounted(() => document.addEventListener('keydown', keydownListener))\nonUnmounted(() => document.removeEventListener('keydown', keydownListener))\n</script>\n\n<style lang=\"scss\" scoped>\n.ppt-screen {\n  width: 100%;\n  height: 100%;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=cfe7e0ac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cfe7e0ac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileEditableElement',\n  props: {\n    elementInfo: {},\n    elementIndex: {},\n    selectElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-editable-element\",\n    style: _normalizeStyle({\n      zIndex: _ctx.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: _ctx.elementInfo,\n      selectElement: _ctx.selectElement,\n      contextmenus: () => null\n    }, null, 8, [\"elementInfo\", \"selectElement\"]))\n  ], 4))\n}\n}\n\n})","<template>\n  <div \n    class=\"mobile-editable-element\"\n    :style=\"{\n      zIndex: elementIndex,\n    }\"\n  >\n    <component\n      :is=\"currentElementComponent\"\n      :elementInfo=\"elementInfo\"\n      :selectElement=\"selectElement\"\n      :contextmenus=\"() => null\"\n    ></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElementTypes, type PPTElement } from '@/types/slides'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\nconst props = defineProps<{\n  elementInfo: PPTElement\n  elementIndex: number\n  selectElement: (e: TouchEvent, element: PPTElement, canMove?: boolean) => void\n}>()\n\nconst currentElementComponent = computed<unknown>(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n</script>","import script from \"./MobileEditableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileEditableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { computed } from 'vue'\nimport type { PPTElement, PPTLineElement, PPTChartElement, PPTVideoElement, PPTAudioElement } from '@/types/slides'\nimport useCommonOperate from '@/views/Editor/Canvas/hooks/useCommonOperate'\nimport type { OperateResizeHandlers } from '@/types/edit'\n\nimport BorderLine from '@/views/Editor/Canvas/Operate/BorderLine.vue'\nimport ResizeHandler from '@/views/Editor/Canvas/Operate/ResizeHandler.vue'\nimport RotateHandler from '@/views/Editor/Canvas/Operate/RotateHandler.vue'\n\ntype CanRotatePPTElement = Exclude<PPTElement, PPTChartElement | PPTLineElement | PPTVideoElement | PPTAudioElement>\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileOperate',\n  props: {\n    elementInfo: {},\n    isSelected: { type: Boolean },\n    canvasScale: {},\n    scaleElement: { type: Function },\n    rotateElement: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\n\nconst scaleWidth = computed(() => props.elementInfo.width * props.canvasScale)\nconst scaleHeight = computed(() => props.elementInfo.height * props.canvasScale)\nconst {\n  borderLines,\n  resizeHandlers: _resizeHandlers,\n  textElementResizeHandlers,\n} = useCommonOperate(scaleWidth, scaleHeight)\n\nconst resizeHandlers = props.elementInfo.type === 'text' || props.elementInfo.type === 'table' ? textElementResizeHandlers : _resizeHandlers\n\nconst cannotRotate = computed(() => ['chart', 'video', 'audio'].includes(props.elementInfo.type))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-operate\",\n    style: _normalizeStyle({\n      top: _ctx.elementInfo.top * _ctx.canvasScale + 'px',\n      left: _ctx.elementInfo.left * _ctx.canvasScale + 'px',\n      transform: `rotate(${rotate.value}deg)`,\n      transformOrigin: `${_ctx.elementInfo.width * _ctx.canvasScale / 2}px ${_ctx.elementInfo.height * _ctx.canvasScale / 2}px`,\n    })\n  }, [\n    (_ctx.isSelected)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n            return (_openBlock(), _createBlock(BorderLine, {\n              class: \"operate-border-line\",\n              key: line.type,\n              type: line.type,\n              style: _normalizeStyle(line.style)\n            }, null, 8, [\"type\", \"style\"]))\n          }), 128)),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: _ctx.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onTouchstart: _withModifiers($event => _ctx.scaleElement($event, _ctx.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onTouchstart\"]))\n          }), 128)),\n          (!cannotRotate.value)\n            ? (_openBlock(), _createBlock(RotateHandler, {\n                key: 0,\n                class: \"operate-rotate-handler\",\n                style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n                onTouchstart: _cache[0] || (_cache[0] = _withModifiers($event => _ctx.rotateElement($event, _ctx.elementInfo as CanRotatePPTElement), [\"stop\"]))\n              }, null, 8, [\"style\"]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\n  <div\n    class=\"mobile-operate\"\n    :style=\"{\n      top: elementInfo.top * canvasScale + 'px',\n      left: elementInfo.left * canvasScale + 'px',\n      transform: `rotate(${rotate}deg)`,\n      transformOrigin: `${elementInfo.width * canvasScale / 2}px ${elementInfo.height * canvasScale / 2}px`,\n    }\"\n  >\n    <template v-if=\"isSelected\">\n      <BorderLine \n        class=\"operate-border-line\"\n        v-for=\"line in borderLines\" \n        :key=\"line.type\" \n        :type=\"line.type\" \n        :style=\"line.style\"\n      />\n      <ResizeHandler\n        class=\"operate-resize-handler\" \n        v-for=\"point in resizeHandlers\"\n        :key=\"point.direction\"\n        :type=\"point.direction\"\n        :rotate=\"elementInfo.rotate\"\n        :style=\"point.style\"\n        @touchstart.stop=\"$event => scaleElement($event, elementInfo, point.direction)\"\n      />\n      <RotateHandler\n        class=\"operate-rotate-handler\" \n        :style=\"{ left: scaleWidth / 2 + 'px' }\"\n        v-if=\"!cannotRotate\"\n        @touchstart.stop=\"$event => rotateElement($event, elementInfo as CanRotatePPTElement)\"\n      />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { PPTElement, PPTLineElement, PPTChartElement, PPTVideoElement, PPTAudioElement } from '@/types/slides'\nimport useCommonOperate from '@/views/Editor/Canvas/hooks/useCommonOperate'\nimport type { OperateResizeHandlers } from '@/types/edit'\n\nimport BorderLine from '@/views/Editor/Canvas/Operate/BorderLine.vue'\nimport ResizeHandler from '@/views/Editor/Canvas/Operate/ResizeHandler.vue'\nimport RotateHandler from '@/views/Editor/Canvas/Operate/RotateHandler.vue'\n\ntype CanRotatePPTElement = Exclude<PPTElement, PPTChartElement | PPTLineElement | PPTVideoElement | PPTAudioElement>\n\nconst props = defineProps<{\n  elementInfo: Exclude<PPTElement, PPTLineElement>\n  isSelected: boolean\n  canvasScale: number\n  scaleElement: (e: MouseEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => void\n  rotateElement: (e: MouseEvent, element: CanRotatePPTElement) => void\n}>()\n\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\n\nconst scaleWidth = computed(() => props.elementInfo.width * props.canvasScale)\nconst scaleHeight = computed(() => props.elementInfo.height * props.canvasScale)\nconst {\n  borderLines,\n  resizeHandlers: _resizeHandlers,\n  textElementResizeHandlers,\n} = useCommonOperate(scaleWidth, scaleHeight)\n\nconst resizeHandlers = props.elementInfo.type === 'text' || props.elementInfo.type === 'table' ? textElementResizeHandlers : _resizeHandlers\n\nconst cannotRotate = computed(() => ['chart', 'video', 'audio'].includes(props.elementInfo.type))\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-operate {\n  position: absolute;\n  z-index: 100;\n  user-select: none;\n}\n</style>","import script from \"./MobileOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobileOperate.vue?vue&type=style&index=0&id=fd451ff6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fd451ff6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c80920e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-thumbnails\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"label\" }\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useSlideHandler from '@/hooks/useSlideHandler'\n\nimport Draggable from 'vuedraggable'\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileThumbnails',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex } = storeToRefs(slidesStore)\n\nconst { sortSlides } = useSlideHandler()\n\nconst { slidesLoadLimit } = useLoadSlides()\nconst changeSlideIndex = (index: number) => {\n  slidesStore.updateSlideIndex(index)\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex) return\n  sortSlides(newIndex, oldIndex)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Draggable), {\n      class: \"thumbnail-list\",\n      modelValue: _unref(slides),\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      delayOnTouchOnly: true,\n      delay: 800,\n      itemKey: \"id\",\n      onEnd: handleDragEnd\n    }, {\n      item: _withCtx(({ element, index }) => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"thumbnail-item\", { 'active': _unref(slideIndex) === index }]),\n          onClick: ($event: any) => (changeSlideIndex(index))\n        }, [\n          _createElementVNode(\"div\", _hoisted_3, _toDisplayString(index + 1), 1),\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: element,\n            size: 120,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 10, _hoisted_2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"mobile-thumbnails\">\n    <Draggable \n      class=\"thumbnail-list\"\n      :modelValue=\"slides\"\n      :animation=\"200\"\n      :scroll=\"true\"\n      :scrollSensitivity=\"50\"\n      :delayOnTouchOnly=\"true\"\n      :delay=\"800\"\n      itemKey=\"id\"\n      @end=\"handleDragEnd\"\n    >\n      <template #item=\"{ element, index }\">\n        <div\n          class=\"thumbnail-item\"\n          :class=\"{ 'active': slideIndex === index }\"\n          @click=\"changeSlideIndex(index)\"\n        >\n          <div class=\"label\">{{ index + 1 }}</div>\n          <ThumbnailSlide class=\"thumbnail\" :slide=\"element\" :size=\"120\" :visible=\"index < slidesLoadLimit\" />\n        </div>\n      </template>\n    </Draggable>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useSlideHandler from '@/hooks/useSlideHandler'\n\nimport Draggable from 'vuedraggable'\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex } = storeToRefs(slidesStore)\n\nconst { sortSlides } = useSlideHandler()\n\nconst { slidesLoadLimit } = useLoadSlides()\nconst changeSlideIndex = (index: number) => {\n  slidesStore.updateSlideIndex(index)\n}\n\n// \nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex) return\n  sortSlides(newIndex, oldIndex)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-thumbnails {\n  padding: 10px;\n  white-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.thumbnail-item {\n  position: relative;\n  display: inline-block;\n  outline: 2px solid #aaa;\n\n  & + .thumbnail-item {\n    margin-left: 10px;\n  }\n\n  &.active {\n    outline-color: $themeColor;\n\n    .label {\n      background-color: $themeColor;\n    }\n  }\n  .label {\n    min-width: 20px;\n    height: 14px;\n    line-height: 14px;\n    position: absolute;\n    right: -1px;\n    top: -1px;\n    color: #fff;\n    background-color: #aaa;\n    z-index: 1;\n    font-size: 12px;\n    text-align: center;\n    padding: 0 5px;\n  }\n}\n.sortable-chosen {\n  top: -5px;\n}\n\n::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n</style>","import script from \"./MobileThumbnails.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileThumbnails.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobileThumbnails.vue?vue&type=style&index=0&id=2c80920e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c80920e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f288024\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-toolbar\" }\nconst _hoisted_2 = { class: \"remark\" }\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = { class: \"toolbar\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useCreateElement from '@/hooks/useCreateElement'\nimport { getImageDataURL } from '@/utils/image'\nimport type { ShapePoolItem } from '@/configs/shapes'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport MobileThumbnails from '../MobileThumbnails.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideToolbar',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { viewportRatio, currentSlide } = storeToRefs(slidesStore)\n\nconst { createSlide, copyAndPasteSlide, deleteSlide } = useSlideHandler()\nconst { createTextElement, createImageElement, createShapeElement } =\n  useCreateElement()\n\nconst insertTextElement = () => {\n  const width = 400\n  const height = 56\n\n  createTextElement(\n    {\n      left: (VIEWPORT_SIZE - width) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n      width,\n      height,\n    },\n    { content: '<p>Newly added text</p>' }\n  )\n}\n\nconst insertImageElement = (files: FileList) => {\n  if (!files || !files[0]) return\n  getImageDataURL(files[0]).then((dataURL) => createImageElement(dataURL))\n}\n\nconst insertShapeElement = (type: 'square' | 'round') => {\n  const square: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n  }\n  const round: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n  }\n  const shape = { square, round }\n\n  const size = 200\n\n  createShapeElement(\n    {\n      left: (VIEWPORT_SIZE - size) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - size) / 2,\n      width: size,\n      height: size,\n    },\n    shape[type]\n  )\n}\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInputMark = (e: Event) => {\n  const value = (e.target as HTMLTextAreaElement).value\n  slidesStore.updateSlide({ remark: value })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconCopy = _resolveComponent(\"IconCopy\")!\n  const _component_IconDelete = _resolveComponent(\"IconDelete\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconPicture = _resolveComponent(\"IconPicture\")!\n  const _component_IconSquare = _resolveComponent(\"IconSquare\")!\n  const _component_IconRound = _resolveComponent(\"IconRound\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"textarea\", {\n        value: remark.value,\n        placeholder: \"Click to enter speaker notes\",\n        onInput: _cache[0] || (_cache[0] = ($event) => handleInputMark($event))\n      }, null, 40, _hoisted_3)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(ButtonGroup, { class: \"row\" }, {\n        default: _withCtx(() => [\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(createSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconPlus, { class: \"icon\" }),\n              _createTextVNode(\"New slide\")\n            ]),\n            _: 1\n          }),\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(copyAndPasteSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconCopy, { class: \"icon\" }),\n              _createTextVNode(\"Copy\")\n            ]),\n            _: 1\n          }),\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(deleteSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconDelete, { class: \"icon\" }),\n              _createTextVNode(\"Delete\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(ButtonGroup, { class: \"row\" }, {\n        default: _withCtx(() => [\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (insertTextElement()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconFontSize, { class: \"icon\" }),\n              _createTextVNode(\"Text\")\n            ]),\n            _: 1\n          }),\n          _createVNode(Button, { style: {\"flex\":\"1\"} }, {\n            default: _withCtx(() => [\n              _createVNode(FileInput, {\n                onChange: _cache[5] || (_cache[5] = (files) => insertImageElement(files))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconPicture, { class: \"icon\" }),\n                  _createTextVNode(\"Picture \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (insertShapeElement('square')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconSquare, { class: \"icon\" }),\n              _createTextVNode(\"Rectangle\")\n            ]),\n            _: 1\n          }),\n          _createVNode(Button, {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (insertShapeElement('round')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconRound, { class: \"icon\" }),\n              _createTextVNode(\"Round\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(MobileThumbnails)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"slide-toolbar\">\n    <div class=\"remark\">\n      <textarea\n        :value=\"remark\"\n        placeholder=\"Click to enter speaker notes\"\n        @input=\"($event) => handleInputMark($event)\"\n      ></textarea>\n    </div>\n    <div class=\"toolbar\">\n      <ButtonGroup class=\"row\">\n        <Button style=\"flex: 1\" @click=\"createSlide()\"\n          ><IconPlus class=\"icon\" />New slide</Button\n        >\n        <Button style=\"flex: 1\" @click=\"copyAndPasteSlide()\"\n          ><IconCopy class=\"icon\" />Copy</Button\n        >\n        <Button style=\"flex: 1\" @click=\"deleteSlide()\"\n          ><IconDelete class=\"icon\" />Delete</Button\n        >\n      </ButtonGroup>\n      <ButtonGroup class=\"row\">\n        <Button style=\"flex: 1\" @click=\"insertTextElement()\"\n          ><IconFontSize class=\"icon\" />Text</Button\n        >\n        <Button style=\"flex: 1\">\n          <FileInput @change=\"(files) => insertImageElement(files)\">\n            <IconPicture class=\"icon\" />Picture\n          </FileInput>\n        </Button>\n        <Button style=\"flex: 1\" @click=\"insertShapeElement('square')\"\n          ><IconSquare class=\"icon\" />Rectangle</Button\n        >\n        <Button style=\"flex: 1\" @click=\"insertShapeElement('round')\"\n          ><IconRound class=\"icon\" />Round</Button\n        >\n      </ButtonGroup>\n    </div>\n\n    <MobileThumbnails />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useCreateElement from '@/hooks/useCreateElement'\nimport { getImageDataURL } from '@/utils/image'\nimport type { ShapePoolItem } from '@/configs/shapes'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport MobileThumbnails from '../MobileThumbnails.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\n\nconst slidesStore = useSlidesStore()\nconst { viewportRatio, currentSlide } = storeToRefs(slidesStore)\n\nconst { createSlide, copyAndPasteSlide, deleteSlide } = useSlideHandler()\nconst { createTextElement, createImageElement, createShapeElement } =\n  useCreateElement()\n\nconst insertTextElement = () => {\n  const width = 400\n  const height = 56\n\n  createTextElement(\n    {\n      left: (VIEWPORT_SIZE - width) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n      width,\n      height,\n    },\n    { content: '<p>Newly added text</p>' }\n  )\n}\n\nconst insertImageElement = (files: FileList) => {\n  if (!files || !files[0]) return\n  getImageDataURL(files[0]).then((dataURL) => createImageElement(dataURL))\n}\n\nconst insertShapeElement = (type: 'square' | 'round') => {\n  const square: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n  }\n  const round: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n  }\n  const shape = { square, round }\n\n  const size = 200\n\n  createShapeElement(\n    {\n      left: (VIEWPORT_SIZE - size) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - size) / 2,\n      width: size,\n      height: size,\n    },\n    shape[type]\n  )\n}\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInputMark = (e: Event) => {\n  const value = (e.target as HTMLTextAreaElement).value\n  slidesStore.updateSlide({ remark: value })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.slide-toolbar {\n  height: 230px;\n  background-color: #fff;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 2;\n}\n.remark {\n  position: relative;\n  flex: 1;\n  border-bottom: 1px solid $borderColor;\n  line-height: 1.5;\n\n  textarea {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    resize: none;\n    border: 0;\n    outline: 0;\n    padding: 8px 10px;\n    font-size: 12px;\n    box-sizing: border-box;\n\n    @include absolute-0();\n  }\n}\n.toolbar {\n  height: 90px;\n  border-bottom: 1px solid $borderColor;\n  padding: 10px;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n\n  .icon {\n    margin-right: 3px;\n  }\n}\n</style>\n","import script from \"./SlideToolbar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideToolbar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideToolbar.vue?vue&type=style&index=0&id=5f288024&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f288024\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-53685f84\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-toolbar\" }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"style\"\n}\nconst _hoisted_4 = { class: \"row-block\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Text color:\", -1))\nconst _hoisted_6 = { class: \"colors\" }\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = { class: \"row-block\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Fill color:\", -1))\nconst _hoisted_10 = { class: \"colors\" }\nconst _hoisted_11 = [\"onClick\"]\nconst _hoisted_12 = {\n  key: 1,\n  class: \"common\"\n}\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, TableCell } from '@/types/slides'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\ninterface TabItem {\n  key: 'style' | 'common'\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementToolbar',\n  setup(__props) {\n\nconst colors = [\n  '#000000',\n  '#ffffff',\n  '#eeece1',\n  '#1e497b',\n  '#4e81bb',\n  '#e2534d',\n  '#9aba60',\n  '#8165a0',\n  '#47acc5',\n  '#f9974c',\n  '#c21401',\n  '#ff1e02',\n  '#ffc12a',\n  '#ffff3a',\n  '#90cf5b',\n  '#00af57',\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst tabs: TabItem[] = [\n  { key: 'style', label: 'style' },\n  { key: 'common', label: 'layout' },\n]\nconst activeTab = ref('common')\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { addElementsFromData } = useAddSlidesOrElements()\nconst { deleteElement } = useDeleteElement()\n\nconst copyElement = () => {\n  const element: PPTElement = JSON.parse(JSON.stringify(handleElement.value))\n  addElementsFromData([element])\n}\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\nconst updateFontColor = (color: string) => {\n  if (!handleElement.value) return\n  if (\n    handleElement.value.type === 'text' ||\n    (handleElement.value.type === 'shape' && handleElement.value.text?.content)\n  ) {\n    emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, {\n      action: { command: 'color', value: color },\n    })\n  }\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(\n      JSON.stringify(handleElement.value.data)\n    )\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n  if (handleElement.value.type === 'latex') {\n    updateElement(handleElementId.value, { color })\n  }\n}\n\nconst updateFill = (color: string) => {\n  if (!handleElement.value) return\n  if (\n    handleElement.value.type === 'text' ||\n    handleElement.value.type === 'shape' ||\n    handleElement.value.type === 'chart'\n  )\n    updateElement(handleElementId.value, { fill: color })\n\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(\n      JSON.stringify(handleElement.value.data)\n    )\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, backcolor: color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n\n  if (handleElement.value.type === 'audio')\n    updateElement(handleElementId.value, { color })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconCopy = _resolveComponent(\"IconCopy\")!\n  const _component_IconDelete = _resolveComponent(\"IconDelete\")!\n  const _component_IconSendToBack = _resolveComponent(\"IconSendToBack\")!\n  const _component_IconBringToFrontOne = _resolveComponent(\"IconBringToFrontOne\")!\n  const _component_IconBringToFront = _resolveComponent(\"IconBringToFront\")!\n  const _component_IconSentToBack = _resolveComponent(\"IconSentToBack\")!\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Tabs, {\n      tabs: tabs,\n      value: activeTab.value,\n      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((activeTab).value = $event)),\n      tabsStyle: { marginBottom: '8px' },\n      tabStyle: {\n        width: '30%',\n        margin: '0 10%',\n      }\n    }, null, 8, [\"value\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (activeTab.value === 'style')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).bold,\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => (emitRichTextCommand('bold')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextBold)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).em,\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (emitRichTextCommand('em')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextItalic)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).underline,\n                  onClick: _cache[3] || (_cache[3] = ($event: any) => (emitRichTextCommand('underline')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextUnderline)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).strikethrough,\n                  onClick: _cache[4] || (_cache[4] = ($event: any) => (emitRichTextCommand('strikethrough')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconStrikethrough)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[5] || (_cache[5] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconFontSize),\n                    _createTextVNode(\"+\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[6] || (_cache[6] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconFontSize),\n                    _createTextVNode(\"-\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(Divider, { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(RadioGroup, {\n              class: \"row\",\n              \"button-style\": \"solid\",\n              value: _unref(richTextAttrs).align,\n              \"onUpdate:value\": _cache[7] || (_cache[7] = (value) => emitRichTextCommand('align', value))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(RadioButton, {\n                  value: \"left\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextLeft)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(RadioButton, {\n                  value: \"center\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextCenter)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(RadioButton, {\n                  value: \"right\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextRight)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(Divider, { style: {\"margin\":\"20px 0\"} }),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _hoisted_5,\n              _createElementVNode(\"div\", _hoisted_6, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color) => {\n                  return _createElementVNode(\"div\", {\n                    class: \"color\",\n                    key: color,\n                    onClick: ($event: any) => (updateFontColor(color))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"color-block\",\n                      style: _normalizeStyle({ backgroundColor: color })\n                    }, null, 4)\n                  ], 8, _hoisted_7)\n                }), 64))\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_8, [\n              _hoisted_9,\n              _createElementVNode(\"div\", _hoisted_10, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color) => {\n                  return _createElementVNode(\"div\", {\n                    class: \"color\",\n                    key: color,\n                    onClick: ($event: any) => (updateFill(color))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"color-block\",\n                      style: _normalizeStyle({ backgroundColor: color })\n                    }, null, 4)\n                  ], 8, _hoisted_11)\n                }), 64))\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"\", true),\n      (activeTab.value === 'common')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[8] || (_cache[8] = ($event: any) => (copyElement()))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconCopy, { class: \"icon\" }),\n                    _createTextVNode(\" Copy\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(deleteElement)()))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconDelete, { class: \"icon\" }),\n                    _createTextVNode(\" Delete\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(Divider, { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[10] || (_cache[10] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).TOP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconSendToBack, { class: \"icon\" }),\n                    _createTextVNode(\" Pin to top\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[11] || (_cache[11] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).BOTTOM)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconBringToFrontOne, { class: \"icon\" }),\n                    _createTextVNode(\" Bottom\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[12] || (_cache[12] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconBringToFront, { class: \"icon\" }),\n                    _createTextVNode(\"Move up\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[13] || (_cache[13] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconSentToBack, { class: \"icon\" }),\n                    _createTextVNode(\"Move down\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(Divider, { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[14] || (_cache[14] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).LEFT)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignLeft, { class: \"icon\" }),\n                    _createTextVNode(\"Align left\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).HORIZONTAL)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignVertically, { class: \"icon\" }),\n                    _createTextVNode(\" Horizontally centered\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[16] || (_cache[16] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).RIGHT)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignRight, { class: \"icon\" }),\n                    _createTextVNode(\"Align right\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(ButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[17] || (_cache[17] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).TOP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTop, { class: \"icon\" }),\n                    _createTextVNode(\"Align top\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).VERTICAL)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignHorizontally, { class: \"icon\" }),\n                    _createTextVNode(\" Vertically centered\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(Button, {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[19] || (_cache[19] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).BOTTOM)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignBottom, { class: \"icon\" }),\n                    _createTextVNode(\"Align bottom\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"element-toolbar\">\n    <Tabs\n      :tabs=\"tabs\"\n      v-model:value=\"activeTab\"\n      :tabsStyle=\"{ marginBottom: '8px' }\"\n      :tabStyle=\"{\n        width: '30%',\n        margin: '0 10%',\n      }\"\n    />\n\n    <div class=\"content\">\n      <div class=\"style\" v-if=\"activeTab === 'style'\">\n        <ButtonGroup class=\"row\">\n          <CheckboxButton\n            style=\"flex: 1\"\n            :checked=\"richTextAttrs.bold\"\n            @click=\"emitRichTextCommand('bold')\"\n            ><IconTextBold\n          /></CheckboxButton>\n          <CheckboxButton\n            style=\"flex: 1\"\n            :checked=\"richTextAttrs.em\"\n            @click=\"emitRichTextCommand('em')\"\n            ><IconTextItalic\n          /></CheckboxButton>\n          <CheckboxButton\n            style=\"flex: 1\"\n            :checked=\"richTextAttrs.underline\"\n            @click=\"emitRichTextCommand('underline')\"\n            ><IconTextUnderline\n          /></CheckboxButton>\n          <CheckboxButton\n            style=\"flex: 1\"\n            :checked=\"richTextAttrs.strikethrough\"\n            @click=\"emitRichTextCommand('strikethrough')\"\n            ><IconStrikethrough\n          /></CheckboxButton>\n        </ButtonGroup>\n\n        <ButtonGroup class=\"row\">\n          <Button style=\"flex: 1\" @click=\"emitRichTextCommand('fontsize-add')\"\n            ><IconFontSize />+</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"emitRichTextCommand('fontsize-reduce')\"\n            ><IconFontSize />-</Button\n          >\n        </ButtonGroup>\n\n        <Divider style=\"margin: 20px 0\" />\n\n        <RadioGroup\n          class=\"row\"\n          button-style=\"solid\"\n          :value=\"richTextAttrs.align\"\n          @update:value=\"(value) => emitRichTextCommand('align', value)\"\n        >\n          <RadioButton value=\"left\" style=\"flex: 1\"\n            ><IconAlignTextLeft\n          /></RadioButton>\n          <RadioButton value=\"center\" style=\"flex: 1\"\n            ><IconAlignTextCenter\n          /></RadioButton>\n          <RadioButton value=\"right\" style=\"flex: 1\"\n            ><IconAlignTextRight\n          /></RadioButton>\n        </RadioGroup>\n\n        <Divider style=\"margin: 20px 0\" />\n\n        <div class=\"row-block\">\n          <div class=\"label\">Text color:</div>\n          <div class=\"colors\">\n            <div\n              class=\"color\"\n              v-for=\"color in colors\"\n              :key=\"color\"\n              @click=\"updateFontColor(color)\"\n            >\n              <div\n                class=\"color-block\"\n                :style=\"{ backgroundColor: color }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row-block\">\n          <div class=\"label\">Fill color:</div>\n          <div class=\"colors\">\n            <div\n              class=\"color\"\n              v-for=\"color in colors\"\n              :key=\"color\"\n              @click=\"updateFill(color)\"\n            >\n              <div\n                class=\"color-block\"\n                :style=\"{ backgroundColor: color }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"common\" v-if=\"activeTab === 'common'\">\n        <ButtonGroup class=\"row\">\n          <Button style=\"flex: 1\" @click=\"copyElement()\"\n            ><IconCopy class=\"icon\" /> Copy</Button\n          >\n          <Button style=\"flex: 1\" @click=\"deleteElement()\"\n            ><IconDelete class=\"icon\" /> Delete</Button\n          >\n        </ButtonGroup>\n\n        <Divider style=\"margin: 20px 0\" />\n\n        <ButtonGroup class=\"row\">\n          <Button\n            style=\"flex: 1\"\n            @click=\"orderElement(handleElement!, ElementOrderCommands.TOP)\"\n            ><IconSendToBack class=\"icon\" /> Pin to top</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"orderElement(handleElement!, ElementOrderCommands.BOTTOM)\"\n            ><IconBringToFrontOne class=\"icon\" /> Bottom</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"orderElement(handleElement!, ElementOrderCommands.UP)\"\n            ><IconBringToFront class=\"icon\" />Move up</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"orderElement(handleElement!, ElementOrderCommands.DOWN)\"\n            ><IconSentToBack class=\"icon\" />Move down</Button\n          >\n        </ButtonGroup>\n\n        <Divider style=\"margin: 20px 0\" />\n\n        <ButtonGroup class=\"row\">\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.LEFT)\"\n            ><IconAlignLeft class=\"icon\" />Align left</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.HORIZONTAL)\"\n            ><IconAlignVertically class=\"icon\" /> Horizontally centered</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.RIGHT)\"\n            ><IconAlignRight class=\"icon\" />Align right</Button\n          >\n        </ButtonGroup>\n        <ButtonGroup class=\"row\">\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.TOP)\"\n            ><IconAlignTop class=\"icon\" />Align top</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.VERTICAL)\"\n            ><IconAlignHorizontally class=\"icon\" /> Vertically centered</Button\n          >\n          <Button\n            style=\"flex: 1\"\n            @click=\"alignElementToCanvas(ElementAlignCommands.BOTTOM)\"\n            ><IconAlignBottom class=\"icon\" />Align bottom</Button\n          >\n        </ButtonGroup>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement, TableCell } from '@/types/slides'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport Tabs from '@/components/Tabs.vue'\nimport Divider from '@/components/Divider.vue'\nimport Button from '@/components/Button.vue'\nimport ButtonGroup from '@/components/ButtonGroup.vue'\nimport RadioButton from '@/components/RadioButton.vue'\nimport RadioGroup from '@/components/RadioGroup.vue'\n\ninterface TabItem {\n  key: 'style' | 'common'\n  label: string\n}\n\nconst colors = [\n  '#000000',\n  '#ffffff',\n  '#eeece1',\n  '#1e497b',\n  '#4e81bb',\n  '#e2534d',\n  '#9aba60',\n  '#8165a0',\n  '#47acc5',\n  '#f9974c',\n  '#c21401',\n  '#ff1e02',\n  '#ffc12a',\n  '#ffff3a',\n  '#90cf5b',\n  '#00af57',\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst tabs: TabItem[] = [\n  { key: 'style', label: 'style' },\n  { key: 'common', label: 'layout' },\n]\nconst activeTab = ref('common')\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { addElementsFromData } = useAddSlidesOrElements()\nconst { deleteElement } = useDeleteElement()\n\nconst copyElement = () => {\n  const element: PPTElement = JSON.parse(JSON.stringify(handleElement.value))\n  addElementsFromData([element])\n}\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\nconst updateFontColor = (color: string) => {\n  if (!handleElement.value) return\n  if (\n    handleElement.value.type === 'text' ||\n    (handleElement.value.type === 'shape' && handleElement.value.text?.content)\n  ) {\n    emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, {\n      action: { command: 'color', value: color },\n    })\n  }\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(\n      JSON.stringify(handleElement.value.data)\n    )\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n  if (handleElement.value.type === 'latex') {\n    updateElement(handleElementId.value, { color })\n  }\n}\n\nconst updateFill = (color: string) => {\n  if (!handleElement.value) return\n  if (\n    handleElement.value.type === 'text' ||\n    handleElement.value.type === 'shape' ||\n    handleElement.value.type === 'chart'\n  )\n    updateElement(handleElementId.value, { fill: color })\n\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(\n      JSON.stringify(handleElement.value.data)\n    )\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, backcolor: color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n\n  if (handleElement.value.type === 'audio')\n    updateElement(handleElementId.value, { color })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.element-toolbar {\n  width: 100%;\n  height: 240px;\n  position: absolute;\n  z-index: 99;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  animation: slideInUp 0.15s;\n}\n\n@keyframes slideInUp {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n\n.content {\n  padding: 10px;\n  flex: 1;\n  overflow: auto;\n}\n.row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n\n  .icon {\n    margin-right: 3px;\n  }\n}\n.row-block {\n  margin-bottom: 10px;\n  background-color: $lightGray;\n  border-radius: $borderRadius;\n  padding: 10px;\n}\n.label {\n  font-size: 13px;\n  margin-bottom: 20px;\n  margin-left: 6px;\n}\n.colors {\n  @include flex-grid-layout();\n}\n.color {\n  @include flex-grid-layout-children(8, 12%);\n\n  padding-bottom: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .color-block {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n  }\n}\n</style>\n","import script from \"./ElementToolbar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementToolbar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementToolbar.vue?vue&type=style&index=0&id=53685f84&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53685f84\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2ac952a9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-editor-header\" }\nconst _hoisted_2 = { class: \"history\" }\n\nimport { storeToRefs } from 'pinia'\nimport { useSnapshotStore } from '@/store'\nimport type { Mode } from '@/types/mobile'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Header',\n  props: {\n    changeMode: { type: Function }\n  },\n  setup(__props: any) {\n\n\n\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\nconst { redo, undo } = useHistorySnapshot()\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconBack = _resolveComponent(\"IconBack\")!\n  const _component_IconNext = _resolveComponent(\"IconNext\")!\n  const _component_IconLogout = _resolveComponent(\"IconLogout\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"history-item\", { disable: !_unref(canUndo) }]),\n        onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_unref(undo)()), [\"stop\"]))\n      }, [\n        _createVNode(_component_IconBack),\n        _createTextVNode(\" Cancel \")\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"history-item\", { disable: !_unref(canRedo) }]),\n        onClick: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (_unref(redo)()), [\"stop\"]))\n      }, [\n        _createVNode(_component_IconNext),\n        _createTextVNode(\" Redo \")\n      ], 2)\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"back\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.changeMode('preview')))\n    }, [\n      _createVNode(_component_IconLogout),\n      _createTextVNode(\" Exit editing \")\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"mobile-editor-header\">\n    <div class=\"history\">\n      <div\n        class=\"history-item\"\n        :class=\"{ disable: !canUndo }\"\n        @click.stop=\"undo()\"\n      >\n        <IconBack /> Cancel\n      </div>\n      <div\n        class=\"history-item\"\n        :class=\"{ disable: !canRedo }\"\n        @click.stop=\"redo()\"\n      >\n        <IconNext /> Redo\n      </div>\n    </div>\n    <div class=\"back\" @click=\"changeMode('preview')\">\n      <IconLogout /> Exit editing\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { storeToRefs } from 'pinia'\nimport { useSnapshotStore } from '@/store'\nimport type { Mode } from '@/types/mobile'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ndefineProps<{\n  changeMode: (mode: Mode) => void\n}>()\n\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\nconst { redo, undo } = useHistorySnapshot()\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-editor-header {\n  height: 50px;\n  background-color: #fff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 18px;\n  font-size: 13px;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 2;\n}\n.history {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.history-item {\n  margin-right: 20px;\n\n  &.disable {\n    opacity: 0.5;\n  }\n}\n</style>\n","import script from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=2ac952a9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ac952a9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3756d058\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-editor\" }\n\nimport { computed, onMounted, ref, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport type { AlignmentLineProps } from '@/types/edit'\nimport type { Mode } from '@/types/mobile'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\nimport useDragElement from '@/views/Editor/Canvas/hooks/useDragElement'\nimport useScaleElement from '@/views/Editor/Canvas/hooks/useScaleElement'\nimport useRotateElement from '@/views/Editor/Canvas/hooks/useRotateElement'\n\nimport AlignmentLine from '@/views/Editor/Canvas/AlignmentLine.vue'\nimport MobileEditableElement from './MobileEditableElement.vue'\nimport MobileOperate from './MobileOperate.vue'\nimport SlideToolbar from './SlideToolbar.vue'\nimport ElementToolbar from './ElementToolbar.vue'\nimport Header from './Header.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    changeMode: { type: Function }\n  },\n  setup(__props: any) {\n\n\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\nconst { activeElementIdList, handleElement } = storeToRefs(mainStore)\n\nconst contentRef = ref<HTMLElement>()\nconst viewportRef = ref<HTMLElement>()\n\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst background = computed(() => currentSlide.value.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst canvasScale = computed(() => {\n  if (!contentRef.value) return 1\n  const contentWidth = contentRef.value.clientWidth\n  const contentheight = contentRef.value.clientHeight\n\n  const contentRatio = contentheight / contentWidth\n  if (contentRatio >= viewportRatio.value) return (contentWidth - 20) / VIEWPORT_SIZE\n  return (contentheight - 20) / viewportRatio.value / VIEWPORT_SIZE\n})\n\nonMounted(() => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n})\n\nconst viewportStyles = computed(() => ({\n  width: VIEWPORT_SIZE * canvasScale.value + 'px',\n  height: VIEWPORT_SIZE * viewportRatio.value * canvasScale.value + 'px',\n}))\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value ? JSON.parse(JSON.stringify(currentSlide.value.elements)) : []\n}\nwatchEffect(setLocalElementList)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { scaleElement } = useScaleElement(elementList, alignmentLines, canvasScale)\nconst { rotateElement } = useRotateElement(elementList, viewportRef, canvasScale)\n\nconst selectElement = (e: TouchEvent, element: PPTElement, startMove = true) => {\n  if (!activeElementIdList.value.includes(element.id)) {\n    mainStore.setActiveElementIdList([element.id])\n    mainStore.setHandleElementId(element.id)\n  }\n  if (startMove) dragElement(e, element)\n}\n\nconst handleClickBlankArea = () => {\n  mainStore.setActiveElementIdList([])\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Header, { changeMode: _ctx.changeMode }, null, 8, [\"changeMode\"]),\n    _createElementVNode(\"div\", {\n      class: \"content\",\n      ref_key: \"contentRef\",\n      ref: contentRef,\n      onTouchstart: _cache[0] || (_cache[0] = ($event: any) => (handleClickBlankArea()))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"viewport-wrapper\",\n        style: _normalizeStyle(viewportStyles.value)\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"background\",\n          style: _normalizeStyle(_unref(backgroundStyle))\n        }, null, 4),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(alignmentLines.value, (line, index) => {\n          return (_openBlock(), _createBlock(AlignmentLine, {\n            key: index,\n            type: line.type,\n            axis: line.axis,\n            length: line.length,\n            canvasScale: canvasScale.value\n          }, null, 8, [\"type\", \"axis\", \"length\", \"canvasScale\"]))\n        }), 128)),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element) => {\n          return (_openBlock(), _createElementBlock(_Fragment, {\n            key: element.id\n          }, [\n            (element.type !== 'line')\n              ? (_openBlock(), _createBlock(MobileOperate, {\n                  key: 0,\n                  elementInfo: element,\n                  isSelected: _unref(activeElementIdList).includes(element.id),\n                  canvasScale: canvasScale.value,\n                  scaleElement: _unref(scaleElement),\n                  rotateElement: _unref(rotateElement)\n                }, null, 8, [\"elementInfo\", \"isSelected\", \"canvasScale\", \"scaleElement\", \"rotateElement\"]))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n        _createElementVNode(\"div\", {\n          class: \"viewport\",\n          ref_key: \"viewportRef\",\n          ref: viewportRef,\n          style: _normalizeStyle({ transform: `scale(${canvasScale.value})` })\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element, index) => {\n            return (_openBlock(), _createBlock(MobileEditableElement, {\n              key: element.id,\n              elementInfo: element,\n              elementIndex: index + 1,\n              selectElement: selectElement\n            }, null, 8, [\"elementInfo\", \"elementIndex\"]))\n          }), 128))\n        ], 4)\n      ], 4)\n    ], 544),\n    _createVNode(SlideToolbar),\n    (_unref(handleElement))\n      ? (_openBlock(), _createBlock(ElementToolbar, { key: 0 }))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"mobile-editor\">\n    <Header :changeMode=\"changeMode\" />\n    \n    <div class=\"content\" ref=\"contentRef\" @touchstart=\"handleClickBlankArea()\">\n      <div class=\"viewport-wrapper\" :style=\"viewportStyles\">\n        <div class=\"background\" :style=\"backgroundStyle\"></div>\n        <AlignmentLine \n          v-for=\"(line, index) in alignmentLines\" \n          :key=\"index\" \n          :type=\"line.type\" \n          :axis=\"line.axis\" \n          :length=\"line.length\"\n          :canvasScale=\"canvasScale\"\n        />\n        <template v-for=\"element in elementList\" :key=\"element.id\">\n          <MobileOperate\n            v-if=\"element.type !== 'line'\"\n            :elementInfo=\"element\"\n            :isSelected=\"activeElementIdList.includes(element.id)\"\n            :canvasScale=\"canvasScale\"\n            :scaleElement=\"scaleElement\"\n            :rotateElement=\"rotateElement\"\n          />\n        </template>\n        <div class=\"viewport\" ref=\"viewportRef\" :style=\"{ transform: `scale(${canvasScale})` }\">\n          <MobileEditableElement \n            v-for=\"(element, index) in elementList\" \n            :key=\"element.id\"\n            :elementInfo=\"element\"\n            :elementIndex=\"index + 1\"\n            :selectElement=\"selectElement\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <SlideToolbar />\n    <ElementToolbar v-if=\"handleElement\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport type { PPTElement } from '@/types/slides'\nimport type { AlignmentLineProps } from '@/types/edit'\nimport type { Mode } from '@/types/mobile'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\nimport useDragElement from '@/views/Editor/Canvas/hooks/useDragElement'\nimport useScaleElement from '@/views/Editor/Canvas/hooks/useScaleElement'\nimport useRotateElement from '@/views/Editor/Canvas/hooks/useRotateElement'\n\nimport AlignmentLine from '@/views/Editor/Canvas/AlignmentLine.vue'\nimport MobileEditableElement from './MobileEditableElement.vue'\nimport MobileOperate from './MobileOperate.vue'\nimport SlideToolbar from './SlideToolbar.vue'\nimport ElementToolbar from './ElementToolbar.vue'\nimport Header from './Header.vue'\n\ndefineProps<{\n  changeMode: (mode: Mode) => void\n}>()\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\nconst { activeElementIdList, handleElement } = storeToRefs(mainStore)\n\nconst contentRef = ref<HTMLElement>()\nconst viewportRef = ref<HTMLElement>()\n\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst background = computed(() => currentSlide.value.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst canvasScale = computed(() => {\n  if (!contentRef.value) return 1\n  const contentWidth = contentRef.value.clientWidth\n  const contentheight = contentRef.value.clientHeight\n\n  const contentRatio = contentheight / contentWidth\n  if (contentRatio >= viewportRatio.value) return (contentWidth - 20) / VIEWPORT_SIZE\n  return (contentheight - 20) / viewportRatio.value / VIEWPORT_SIZE\n})\n\nonMounted(() => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n})\n\nconst viewportStyles = computed(() => ({\n  width: VIEWPORT_SIZE * canvasScale.value + 'px',\n  height: VIEWPORT_SIZE * viewportRatio.value * canvasScale.value + 'px',\n}))\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value ? JSON.parse(JSON.stringify(currentSlide.value.elements)) : []\n}\nwatchEffect(setLocalElementList)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { scaleElement } = useScaleElement(elementList, alignmentLines, canvasScale)\nconst { rotateElement } = useRotateElement(elementList, viewportRef, canvasScale)\n\nconst selectElement = (e: TouchEvent, element: PPTElement, startMove = true) => {\n  if (!activeElementIdList.value.includes(element.id)) {\n    mainStore.setActiveElementIdList([element.id])\n    mainStore.setHandleElementId(element.id)\n  }\n  if (startMove) dragElement(e, element)\n}\n\nconst handleClickBlankArea = () => {\n  mainStore.setActiveElementIdList([])\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-editor {\n  height: 100%;\n  position: relative;\n  background-color: $lightGray;\n}\n.content {\n  height: calc(100% - 280px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.viewport {\n  transform-origin: 0 0;\n}\n.viewport-wrapper {\n  position: relative;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n}\n.background {\n  width: 100%;\n  height: 100%;\n  background-position: center;\n  position: absolute;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3756d058&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3756d058\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-62f26eba\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header\" }\n\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport MobileThumbnails from './MobileThumbnails.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobilePlayer',\n  props: {\n    changeMode: { type: Function }\n  },\n  setup(__props: any) {\n\n\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\n\nconst toolVisible = ref(false)\n\nconst playerSize = ref({ width: 0, height: 0 })\n\nonMounted(() => {\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n\n  playerSize.value = {\n    width: document.body.clientHeight,\n    height: document.body.clientWidth,\n  }\n})\n\nconst slideSize = computed(() => {\n  const playerRatio = playerSize.value.height / playerSize.value.width\n\n  let slideWidth = 0\n  let slideHeight = 0\n\n  if (playerRatio >= viewportRatio.value) {\n    slideWidth = playerSize.value.width\n    slideHeight = slideWidth * viewportRatio.value\n  }\n  else {\n    slideHeight = playerSize.value.height\n    slideWidth = slideHeight / viewportRatio.value\n  }\n\n  return {\n    width: slideWidth,\n    height: slideHeight,\n  }\n})\n\nconst touchInfo = ref<{ x: number; y: number; } | null>(null)\nconst touchStartListener = (e: TouchEvent) => {\n  touchInfo.value = {\n    x: e.changedTouches[0].pageX,\n    y: e.changedTouches[0].pageY,\n  }\n}\nconst touchEndListener = (e: TouchEvent) => {\n  if (!touchInfo.value) return\n\n  const offsetY = Math.abs(touchInfo.value.y - e.changedTouches[0].pageY)\n  const offsetX = e.changedTouches[0].pageX - touchInfo.value.x\n\n  if ( Math.abs(offsetX) > offsetY && Math.abs(offsetX) > 50 ) {\n    touchInfo.value = null\n\n    if (offsetX < 0 && slideIndex.value > 0) slidesStore.updateSlideIndex(slideIndex.value - 1)\n    if (offsetX > 0 && slideIndex.value < slides.value.length - 1) slidesStore.updateSlideIndex(slideIndex.value + 1)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconLogout = _resolveComponent(\"IconLogout\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-player\",\n    style: _normalizeStyle({\n      width: playerSize.value.width + 'px',\n      height: playerSize.value.height + 'px',\n      transform: `rotate(90deg) translateY(-${playerSize.value.height}px)`,\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"screen-slide-list\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (toolVisible.value = !toolVisible.value)),\n      onTouchstart: _cache[1] || (_cache[1] = $event => touchStartListener($event)),\n      onTouchend: _cache[2] || (_cache[2] = $event => touchEndListener($event))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\n          'slide-item', \n          `turning-mode-${slide.turningMode || 'slideY'}`,\n          {\n            'current': index === _unref(slideIndex),\n            'before': index < _unref(slideIndex),\n            'after': index > _unref(slideIndex),\n            'hide': (index === _unref(slideIndex) - 1 || index === _unref(slideIndex) + 1) && slide.turningMode !== _unref(currentSlide).turningMode,\n          }\n        ]),\n          key: slide.id\n        }, [\n          (Math.abs(_unref(slideIndex) - index) < 2)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"slide-content\",\n                style: _normalizeStyle({\n            width: slideSize.value.width + 'px',\n            height: slideSize.value.height + 'px',\n          })\n              }, [\n                _createVNode(ThumbnailSlide, {\n                  slide: slide,\n                  size: slideSize.value.width\n                }, null, 8, [\"slide\", \"size\"])\n              ], 4))\n            : _createCommentVNode(\"\", true)\n        ], 2))\n      }), 128))\n    ], 32),\n    (toolVisible.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"div\", {\n              class: \"back\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.changeMode('preview')))\n            }, [\n              _createVNode(_component_IconLogout),\n              _createTextVNode(\" \")\n            ])\n          ]),\n          _createVNode(MobileThumbnails, { class: \"thumbnails\" })\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\n  <div class=\"mobile-player\" \n    :style=\"{\n      width: playerSize.width + 'px',\n      height: playerSize.height + 'px',\n      transform: `rotate(90deg) translateY(-${playerSize.height}px)`,\n    }\"\n  >\n    <div \n      class=\"screen-slide-list\" \n      @click=\"toolVisible = !toolVisible\"\n      @touchstart=\"$event => touchStartListener($event)\"\n      @touchend=\"$event => touchEndListener($event)\"\n    >\n      <div \n        :class=\"[\n          'slide-item', \n          `turning-mode-${slide.turningMode || 'slideY'}`,\n          {\n            'current': index === slideIndex,\n            'before': index < slideIndex,\n            'after': index > slideIndex,\n            'hide': (index === slideIndex - 1 || index === slideIndex + 1) && slide.turningMode !== currentSlide.turningMode,\n          }\n        ]\"\n        v-for=\"(slide, index) in slides\" \n        :key=\"slide.id\"\n      >\n        <div \n          class=\"slide-content\" \n          :style=\"{\n            width: slideSize.width + 'px',\n            height: slideSize.height + 'px',\n          }\"\n          v-if=\"Math.abs(slideIndex - index) < 2\"\n        >\n          <ThumbnailSlide \n            :slide=\"slide\" \n            :size=\"slideSize.width\" \n          />\n        </div>\n      </div>\n    </div>\n\n    <template v-if=\"toolVisible\">\n      <div class=\"header\">\n        <div class=\"back\" @click=\"changeMode('preview')\"><IconLogout /> </div>\n      </div>\n      <MobileThumbnails class=\"thumbnails\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport type { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport MobileThumbnails from './MobileThumbnails.vue'\n\ndefineProps<{\n  changeMode: (mode: Mode) => void\n}>()\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\n\nconst toolVisible = ref(false)\n\nconst playerSize = ref({ width: 0, height: 0 })\n\nonMounted(() => {\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n\n  playerSize.value = {\n    width: document.body.clientHeight,\n    height: document.body.clientWidth,\n  }\n})\n\nconst slideSize = computed(() => {\n  const playerRatio = playerSize.value.height / playerSize.value.width\n\n  let slideWidth = 0\n  let slideHeight = 0\n\n  if (playerRatio >= viewportRatio.value) {\n    slideWidth = playerSize.value.width\n    slideHeight = slideWidth * viewportRatio.value\n  }\n  else {\n    slideHeight = playerSize.value.height\n    slideWidth = slideHeight / viewportRatio.value\n  }\n\n  return {\n    width: slideWidth,\n    height: slideHeight,\n  }\n})\n\nconst touchInfo = ref<{ x: number; y: number; } | null>(null)\nconst touchStartListener = (e: TouchEvent) => {\n  touchInfo.value = {\n    x: e.changedTouches[0].pageX,\n    y: e.changedTouches[0].pageY,\n  }\n}\nconst touchEndListener = (e: TouchEvent) => {\n  if (!touchInfo.value) return\n\n  const offsetY = Math.abs(touchInfo.value.y - e.changedTouches[0].pageY)\n  const offsetX = e.changedTouches[0].pageX - touchInfo.value.x\n\n  if ( Math.abs(offsetX) > offsetY && Math.abs(offsetX) > 50 ) {\n    touchInfo.value = null\n\n    if (offsetX < 0 && slideIndex.value > 0) slidesStore.updateSlideIndex(slideIndex.value - 1)\n    if (offsetX > 0 && slideIndex.value < slides.value.length - 1) slidesStore.updateSlideIndex(slideIndex.value + 1)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-player {\n  transform-origin: 0 0;\n  background-color: #1d1d1d;\n  position: relative;\n}\n.screen-slide-list {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.slide-item {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  &.current {\n    z-index: 2;\n  }\n\n  &.hide {\n    opacity: 0;\n  }\n\n  &.turning-mode-no {\n    &.before {\n      transform: translateY(-100%);\n    }\n    &.after {\n      transform: translateY(100%);\n    }\n  }\n  &.turning-mode-fade {\n    transition: opacity .75s;\n    &.before {\n      pointer-events: none;\n      opacity: 0;\n    }\n    &.after {\n      pointer-events: none;\n      opacity: 0;\n    }\n  }\n  &.turning-mode-slideX {\n    transition: transform .35s;\n    &.before {\n      transform: translateX(-100%);\n    }\n    &.after {\n      transform: translateX(100%);\n    }\n  }\n  &.turning-mode-slideY {\n    transition: transform .35s;\n    &.before {\n      transform: translateY(-100%);\n    }\n    &.after {\n      transform: translateY(100%);\n    }\n  }\n}\n.slide-content {\n  background-color: #fff;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.header {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  padding: 0 15px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 99;\n  background-color: rgba($color: #1d1d1d, $alpha: .7);\n  text-align: right;\n  font-size: 13px;\n  color: #fff;\n  animation: slideInDown .15s;\n\n  .back {\n    height: 100%;\n  }\n}\n.thumbnails {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 99;\n  background-color: rgba($color: #1d1d1d, $alpha: .7);\n  overflow: auto !important;\n  animation: slideInUp .15s;\n}\n\n@keyframes slideInUp {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n@keyframes slideInDown {\n  from {\n    transform: translateY(-100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n</style>","import script from \"./MobilePlayer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobilePlayer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobilePlayer.vue?vue&type=style&index=0&id=62f26eba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-62f26eba\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-17bc115e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"thumbnail-list\" }\nconst _hoisted_2 = { class: \"menu\" }\n\nimport { onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport type { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Divider from '@/components/Divider.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobilePreview',\n  props: {\n    changeMode: { type: Function }\n  },\n  setup(__props: any) {\n\n\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst mobileRef = ref<HTMLElement>()\nconst screenWidth = ref(0)\n\nonMounted(() => {\n  if (!mobileRef.value) return\n  screenWidth.value = mobileRef.value.clientWidth\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEdit = _resolveComponent(\"IconEdit\")!\n  const _component_IconFullScreenPlay = _resolveComponent(\"IconFullScreenPlay\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-preview\",\n    ref_key: \"mobileRef\",\n    ref: mobileRef\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"thumbnail-item\",\n          key: slide.id\n        }, [\n          _createVNode(ThumbnailSlide, {\n            slide: slide,\n            size: screenWidth.value - 20,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"size\", \"visible\"])\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"menu-item\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.changeMode('editor')))\n      }, [\n        _createVNode(_component_IconEdit, { class: \"icon\" }),\n        _createTextVNode(\" Edit \")\n      ]),\n      _createVNode(Divider, {\n        type: \"vertical\",\n        style: {\"height\":\"30px\"}\n      }),\n      _createElementVNode(\"div\", {\n        class: \"menu-item\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.changeMode('player')))\n      }, [\n        _createVNode(_component_IconFullScreenPlay, { class: \"icon\" }),\n        _createTextVNode(\" Play \")\n      ])\n    ])\n  ], 512))\n}\n}\n\n})","<template>\n  <div class=\"mobile-preview\" ref=\"mobileRef\">\n    <div class=\"thumbnail-list\">\n      <div\n        class=\"thumbnail-item\"\n        v-for=\"(slide, index) in slides\"\n        :key=\"slide.id\"\n      >\n        <ThumbnailSlide\n          :slide=\"slide\"\n          :size=\"screenWidth - 20\"\n          :visible=\"index < slidesLoadLimit\"\n        />\n      </div>\n    </div>\n    <div class=\"menu\">\n      <div class=\"menu-item\" @click=\"changeMode('editor')\">\n        <IconEdit class=\"icon\" /> Edit\n      </div>\n      <Divider type=\"vertical\" style=\"height: 30px\" />\n      <div class=\"menu-item\" @click=\"changeMode('player')\">\n        <IconFullScreenPlay class=\"icon\" /> Play\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport type { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport Divider from '@/components/Divider.vue'\n\ndefineProps<{\n  changeMode: (mode: Mode) => void\n}>()\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst mobileRef = ref<HTMLElement>()\nconst screenWidth = ref(0)\n\nonMounted(() => {\n  if (!mobileRef.value) return\n  screenWidth.value = mobileRef.value.clientWidth\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-preview {\n  height: 100%;\n  background-color: #f9f9f9;\n}\n.thumbnail-list {\n  height: calc(100% - 50px);\n  padding: 10px;\n  overflow: auto;\n}\n.thumbnail-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);\n\n  & + .thumbnail-item {\n    margin-top: 10px;\n  }\n}\n.menu {\n  height: 50px;\n  position: relative;\n  box-shadow: 0 -2px 4px 0 rgba($color: #333, $alpha: 0.05);\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .menu-item {\n    width: 50%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 13px;\n\n    .icon {\n      margin-right: 8px;\n      font-size: 18px;\n    }\n  }\n}\n</style>\n","import script from \"./MobilePreview.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobilePreview.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobilePreview.vue?vue&type=style&index=0&id=17bc115e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-17bc115e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9826ff08\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile\" }\n\nimport { computed, ref } from 'vue'\nimport type { Mode } from '@/types/mobile'\n\nimport MobileEditor from './MobileEditor/index.vue'\nimport MobilePlayer from './MobilePlayer.vue'\nimport MobilePreview from './MobilePreview.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mode = ref<Mode>('preview')\n    \nconst changeMode = (_mode: Mode) => mode.value = _mode\n\nconst currentComponent = computed(() => {\n  const componentMap = {\n    'editor': MobileEditor,\n    'player': MobilePlayer,\n    'preview': MobilePreview,\n  }\n  return componentMap[mode.value] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentComponent.value), { changeMode: changeMode }))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"mobile\">\n    <component \n      :is=\"currentComponent\" \n      :changeMode=\"changeMode\"\n    ></component>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport type { Mode } from '@/types/mobile'\n\nimport MobileEditor from './MobileEditor/index.vue'\nimport MobilePlayer from './MobilePlayer.vue'\nimport MobilePreview from './MobilePreview.vue'\n\nconst mode = ref<Mode>('preview')\n    \nconst changeMode = (_mode: Mode) => mode.value = _mode\n\nconst currentComponent = computed(() => {\n  const componentMap = {\n    'editor': MobileEditor,\n    'player': MobilePlayer,\n    'preview': MobilePreview,\n  }\n  return componentMap[mode.value] || null\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile {\n  height: 100%;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9826ff08&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9826ff08\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { onMounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useScreenStore, useMainStore, useSnapshotStore } from '@/store'\nimport { LOCALSTORAGE_KEY_DISCARDED_DB } from '@/configs/storage'\nimport { deleteDiscardedDB } from '@/utils/database'\nimport { isPC } from './utils/common'\nimport Editor from './views/Editor/index.vue'\nimport Screen from './views/Screen/index.vue'\nimport Mobile from './views/Mobile/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\n\nconst _isPC = isPC()\n\nconst mainStore = useMainStore()\nconst snapshotStore = useSnapshotStore()\nconst { databaseId } = storeToRefs(mainStore)\nconst { screening } = storeToRefs(useScreenStore())\n\nif (process.env.NODE_ENV === 'production') {\n  window.onbeforeunload = () => false\n}\n\nonMounted(async () => {\n  await deleteDiscardedDB()\n  snapshotStore.initSnapshotDatabase()\n  mainStore.setAvailableFonts()\n})\n\n//  localStorage  indexedDB ID\nwindow.addEventListener('unload', () => {\n  const discardedDB = localStorage.getItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n  const discardedDBList: string[] = discardedDB ? JSON.parse(discardedDB) : []\n\n  discardedDBList.push(databaseId.value)\n\n  const newDiscardedDB = JSON.stringify(discardedDBList)\n  localStorage.setItem(LOCALSTORAGE_KEY_DISCARDED_DB, newDiscardedDB)\n})\n\n\nconst a = document.getElementById('app').getAttribute('obj') || ''\n\nconst pk = document.getElementById('app').getAttribute('pk') || ''\n\n// console.log('a', a)\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(screening))\n    ? (_openBlock(), _createBlock(Screen, { key: 0 }))\n    : (_unref(_isPC))\n      ? (_openBlock(), _createBlock(Editor, {\n          key: 1,\n          url: _unref(a),\n          pk: _unref(pk)\n        }, null, 8, [\"url\", \"pk\"]))\n      : (_openBlock(), _createBlock(Mobile, { key: 2 }))\n}\n}\n\n})","\n<template>\n  <Screen v-if=\"screening\" />\n  <Editor :url=a :pk=pk v-else-if=\"_isPC\" />\n  <Mobile v-else />\n</template>\n\n\n\n<script lang=\"ts\" setup>\n\nimport { onMounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useScreenStore, useMainStore, useSnapshotStore } from '@/store'\nimport { LOCALSTORAGE_KEY_DISCARDED_DB } from '@/configs/storage'\nimport { deleteDiscardedDB } from '@/utils/database'\nimport { isPC } from './utils/common'\nimport Editor from './views/Editor/index.vue'\nimport Screen from './views/Screen/index.vue'\nimport Mobile from './views/Mobile/index.vue'\n\nconst _isPC = isPC()\n\nconst mainStore = useMainStore()\nconst snapshotStore = useSnapshotStore()\nconst { databaseId } = storeToRefs(mainStore)\nconst { screening } = storeToRefs(useScreenStore())\n\nif (process.env.NODE_ENV === 'production') {\n  window.onbeforeunload = () => false\n}\n\nonMounted(async () => {\n  await deleteDiscardedDB()\n  snapshotStore.initSnapshotDatabase()\n  mainStore.setAvailableFonts()\n})\n\n//  localStorage  indexedDB ID\nwindow.addEventListener('unload', () => {\n  const discardedDB = localStorage.getItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n  const discardedDBList: string[] = discardedDB ? JSON.parse(discardedDB) : []\n\n  discardedDBList.push(databaseId.value)\n\n  const newDiscardedDB = JSON.stringify(discardedDBList)\n  localStorage.setItem(LOCALSTORAGE_KEY_DISCARDED_DB, newDiscardedDB)\n})\n\n\nconst a = document.getElementById('app').getAttribute('obj') || ''\n\nconst pk = document.getElementById('app').getAttribute('pk') || ''\n\n// console.log('a', a)\n\n</script> \n\n\n<style lang=\"scss\">\n#app {\n  height: 100%;\n}\n</style>","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2a1ae824&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered() {\n      console.log('Service worker has been registered.')\n    },\n    cached() {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound() {\n      console.log('New content is downloading.')\n    },\n    updated() {\n      console.log('New content is available; please refresh.')\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-77e74b43\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu-content\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"text\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"sub-text\"\n}\n\nimport type { ContextmenuItem } from './types'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MenuContent',\n  props: {\n    menus: {},\n    handleClickMenuItem: { type: Function }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_menu_content = _resolveComponent(\"menu-content\", true)!\n\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menus, (menu, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: menu.text || index\n      }, [\n        (!menu.hide)\n          ? (_openBlock(), _createElementBlock(\"li\", {\n              key: 0,\n              class: _normalizeClass([\"menu-item\", {'divider': menu.divider, 'disable': menu.disable}]),\n              onClick: _withModifiers(($event: any) => (_ctx.handleClickMenuItem(menu)), [\"stop\"])\n            }, [\n              (!menu.divider)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: _normalizeClass([\"menu-item-content\", {\n            'has-children': menu.children,\n            'has-handler': menu.handler,\n          }])\n                  }, [\n                    _createElementVNode(\"span\", _hoisted_3, _toDisplayString(menu.text), 1),\n                    (menu.subText && !menu.children)\n                      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(menu.subText), 1))\n                      : _createCommentVNode(\"\", true),\n                    (menu.children && menu.children.length)\n                      ? (_openBlock(), _createBlock(_component_menu_content, {\n                          key: 1,\n                          class: \"sub-menu\",\n                          menus: menu.children,\n                          handleClickMenuItem: _ctx.handleClickMenuItem\n                        }, null, 8, [\"menus\", \"handleClickMenuItem\"]))\n                      : _createCommentVNode(\"\", true)\n                  ], 2))\n                : _createCommentVNode(\"\", true)\n            ], 10, _hoisted_2))\n          : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./MenuContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MenuContent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MenuContent.vue?vue&type=style&index=0&id=77e74b43&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-77e74b43\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport type { ContextmenuItem, Axis } from './types'\n\nimport MenuContent from './MenuContent.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    axis: {},\n    el: {},\n    menus: {},\n    removeContextmenu: { type: Function }\n  },\n  setup(__props: any) {\n\nconst props = __props\n\nconst style = computed(() => {\n  const MENU_WIDTH = 170\n  const MENU_HEIGHT = 30\n  const DIVIDER_HEIGHT = 11\n  const PADDING = 5\n\n  const { x, y } = props.axis\n  const menuCount = props.menus.filter(menu => !(menu.divider || menu.hide)).length\n  const dividerCount = props.menus.filter(menu => menu.divider).length\n\n  const menuWidth = MENU_WIDTH\n  const menuHeight = menuCount * MENU_HEIGHT + dividerCount * DIVIDER_HEIGHT + PADDING * 2\n\n  const screenWidth = document.body.clientWidth\n  const screenHeight = document.body.clientHeight\n\n  return {\n    left: screenWidth <= x + menuWidth ? x - menuWidth : x,\n    top: screenHeight <= y + menuHeight ? y - menuHeight : y,\n  }\n})\n\nconst handleClickMenuItem = (item: ContextmenuItem) => {\n  if (item.disable) return\n  if (item.children && !item.handler) return\n  if (item.handler) item.handler(props.el)\n  props.removeContextmenu()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: \"mask\",\n      onContextmenu: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_ctx.removeContextmenu()), [\"prevent\"])),\n      onMousedown: _cache[1] || (_cache[1] = ($event: any) => (_ctx.removeContextmenu()))\n    }, null, 32),\n    _createElementVNode(\"div\", {\n      class: \"contextmenu\",\n      style: _normalizeStyle({\n      left: style.value.left + 'px',\n      top: style.value.top + 'px',\n    }),\n      onContextmenu: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createVNode(MenuContent, {\n        menus: _ctx.menus,\n        handleClickMenuItem: handleClickMenuItem\n      }, null, 8, [\"menus\"])\n    ], 36)\n  ], 64))\n}\n}\n\n})","<template>\n  <div \n    class=\"mask\"\n    @contextmenu.prevent=\"removeContextmenu()\"\n    @mousedown=\"removeContextmenu()\"\n  ></div>\n\n  <div \n    class=\"contextmenu\"\n    :style=\"{\n      left: style.left + 'px',\n      top: style.top + 'px',\n    }\"\n    @contextmenu.prevent\n  >\n    <MenuContent \n      :menus=\"menus\"\n      :handleClickMenuItem=\"handleClickMenuItem\" \n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { ContextmenuItem, Axis } from './types'\n\nimport MenuContent from './MenuContent.vue'\n\nconst props = defineProps<{\n  axis: Axis\n  el: HTMLElement\n  menus: ContextmenuItem[]\n  removeContextmenu: () => void\n}>()\n\nconst style = computed(() => {\n  const MENU_WIDTH = 170\n  const MENU_HEIGHT = 30\n  const DIVIDER_HEIGHT = 11\n  const PADDING = 5\n\n  const { x, y } = props.axis\n  const menuCount = props.menus.filter(menu => !(menu.divider || menu.hide)).length\n  const dividerCount = props.menus.filter(menu => menu.divider).length\n\n  const menuWidth = MENU_WIDTH\n  const menuHeight = menuCount * MENU_HEIGHT + dividerCount * DIVIDER_HEIGHT + PADDING * 2\n\n  const screenWidth = document.body.clientWidth\n  const screenHeight = document.body.clientHeight\n\n  return {\n    left: screenWidth <= x + menuWidth ? x - menuWidth : x,\n    top: screenHeight <= y + menuHeight ? y - menuHeight : y,\n  }\n})\n\nconst handleClickMenuItem = (item: ContextmenuItem) => {\n  if (item.disable) return\n  if (item.children && !item.handler) return\n  if (item.handler) item.handler(props.el)\n  props.removeContextmenu()\n}\n</script>\n\n<style lang=\"scss\">\n.mask {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 9998;\n}\n.contextmenu {\n  position: fixed;\n  z-index: 9999;\n  user-select: none;\n}\n</style>","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1abfab1d&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { type Directive, type DirectiveBinding, createVNode, render } from 'vue'\nimport ContextmenuComponent from '@/components/Contextmenu/index.vue'\n\nconst CTX_CONTEXTMENU_HANDLER = 'CTX_CONTEXTMENU_HANDLER'\n\ninterface CustomHTMLElement extends HTMLElement {\n  [CTX_CONTEXTMENU_HANDLER]?: (event: MouseEvent) => void\n} \n\nconst contextmenuListener = (el: HTMLElement, event: MouseEvent, binding: DirectiveBinding) => {\n  event.stopPropagation()\n  event.preventDefault()\n\n  const menus = binding.value(el)\n  if (!menus) return\n\n  let container: HTMLDivElement | null = null\n\n  // \n  const removeContextmenu = () => {\n    if (container) {\n      document.body.removeChild(container)\n      container = null\n    }\n    el.classList.remove('contextmenu-active')\n    document.body.removeEventListener('scroll', removeContextmenu)  \n    window.removeEventListener('resize', removeContextmenu)\n  }\n\n  // \n  const options = {\n    axis: { x: event.x, y: event.y },\n    el,\n    menus,\n    removeContextmenu,\n  }\n  container = document.createElement('div')\n  const vm = createVNode(ContextmenuComponent, options, null)\n  render(vm, container)\n  document.body.appendChild(container)\n\n  // className\n  el.classList.add('contextmenu-active')\n\n  // \n  document.body.addEventListener('scroll', removeContextmenu)\n  window.addEventListener('resize', removeContextmenu)\n}\n\nconst ContextmenuDirective: Directive = {\n  mounted(el: CustomHTMLElement, binding) {\n    el[CTX_CONTEXTMENU_HANDLER] = (event: MouseEvent) => contextmenuListener(el, event, binding)\n    el.addEventListener('contextmenu', el[CTX_CONTEXTMENU_HANDLER])\n  },\n\n  unmounted(el: CustomHTMLElement) {\n    if (el && el[CTX_CONTEXTMENU_HANDLER]) {\n      el.removeEventListener('contextmenu', el[CTX_CONTEXTMENU_HANDLER])\n      delete el[CTX_CONTEXTMENU_HANDLER]\n    }\n  },\n}\n\nexport default ContextmenuDirective","import type { Directive, DirectiveBinding } from 'vue'\n\nconst CTX_CLICK_OUTSIDE_HANDLER = 'CTX_CLICK_OUTSIDE_HANDLER'\n\ninterface CustomHTMLElement extends HTMLElement {\n  [CTX_CLICK_OUTSIDE_HANDLER]?: (event: MouseEvent) => void\n} \n\nconst clickListener = (el: HTMLElement, event: MouseEvent, binding: DirectiveBinding) => {\n  const handler = binding.value\n\n  const path = event.composedPath()\n  const isClickOutside = path ? path.indexOf(el) < 0 : !el.contains(event.target as HTMLElement)\n\n  if (!isClickOutside) return\n  handler(event)\n}\n\nconst ClickOutsideDirective: Directive = {\n  mounted(el: CustomHTMLElement, binding) {\n    el[CTX_CLICK_OUTSIDE_HANDLER] = (event: MouseEvent) => clickListener(el, event, binding)\n    setTimeout(() => {\n      document.addEventListener('click', el[CTX_CLICK_OUTSIDE_HANDLER]!)\n    }, 0)\n  },\n  \n  unmounted(el: CustomHTMLElement) {\n    if (el[CTX_CLICK_OUTSIDE_HANDLER]) {\n      document.removeEventListener('click', el[CTX_CLICK_OUTSIDE_HANDLER])\n      delete el[CTX_CLICK_OUTSIDE_HANDLER]\n    }\n  },\n}\n\nexport default ClickOutsideDirective","import type { Directive, DirectiveBinding } from 'vue'\nimport tippy, { type Instance, type Placement } from 'tippy.js'\n\nimport './tooltip.scss'\n\nconst TOOLTIP_INSTANCE = 'TOOLTIP_INSTANCE'\n\ninterface CustomHTMLElement extends HTMLElement {\n  [TOOLTIP_INSTANCE]?: Instance\n}\n\ntype Delay = number | [number | null, number | null]\n\ninterface BindingValue {\n  content: string\n  placement?: Placement\n  delay?: Delay\n}\n\nconst TooltipDirective: Directive = {\n  mounted(el: CustomHTMLElement, binding: DirectiveBinding<BindingValue | string>) {\n    let content = ''\n    let placement: Placement = 'top'\n    let delay: Delay = [300, 0]\n\n    if (typeof binding.value === 'string') {\n      content = binding.value\n    }\n    else {\n      content = binding.value.content\n      if (binding.value.placement !== undefined) placement = binding.value.placement\n      if (binding.value.delay !== undefined) delay = binding.value.delay\n    }\n\n    el[TOOLTIP_INSTANCE] = tippy(el, {\n      content,\n      theme: 'tooltip',\n      duration: 100,\n      animation: 'scale',\n      allowHTML: true,\n      placement,\n      delay,\n    })\n  },\n\n  updated(el: CustomHTMLElement, binding: DirectiveBinding<BindingValue | string>) {\n    let content = ''\n    if (typeof binding.value === 'string') {\n      content = binding.value\n    }\n    else {\n      content = binding.value.content\n    }\n    if (el[TOOLTIP_INSTANCE]) el[TOOLTIP_INSTANCE].setContent(content)\n  },\n  \n  unmounted(el: CustomHTMLElement) {\n    if (el[TOOLTIP_INSTANCE]) el[TOOLTIP_INSTANCE].destroy()\n  },\n}\n\nexport default TooltipDirective","import type { App } from 'vue'\n\nimport Contextmenu from './contextmenu'\nimport ClickOutside from './clickOutside'\nimport Tooltip from './tooltip'\n\nexport default {\n  install(app: App) {\n    app.directive('contextmenu', Contextmenu)\n    app.directive('click-outside', ClickOutside)\n    app.directive('tooltip', Tooltip)\n  }\n}\n","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\nimport './registerServiceWorker'\n\nimport '@icon-park/vue-next/styles/index.css'\nimport 'prosemirror-view/style/prosemirror.css'\nimport 'animate.css'\n\nimport '@/assets/styles/prosemirror.scss'\nimport '@/assets/styles/global.scss'\nimport '@/assets/styles/font.scss'\n\nimport Icon from '@/plugins/icon'\nimport Directive from '@/plugins/directive'\n\n// createApp(App, {myProp: jscontext.obj})\n\nconst app = createApp(App)\n\napp.use(Icon)\napp.use(Directive)\n\napp.use(createPinia())\napp.mount('#app')\n\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpaperport\"] = self[\"webpackChunkpaperport\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], () => (__webpack_require__(95482)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["ToolbarStates","ElementOrderCommands","ElementAlignCommands","OperateBorderLines","OperateResizeHandlers","OperateLineHandlers","KEYS","autoSelectAll","view","empty","state","selection","selectAll","dispatch","addMark","editorView","mark","tr","from","to","_editorView$state$sel","$from","$to","pos","findNodesWithSameMark","doc","markType","ii","finder","type","firstMark","fromNode","toNode","node","nodeAt","marks","find","fromPos","toPos","jj","nodeSize","equalNodeType","nodeType","Array","isArray","indexOf","findParentNodeClosestToPos","$pos","predicate","i","depth","before","start","findParentNode","_ref","findParentNodeOfType","isActiveOfParentNodeType","schema","nodes","getMarkAttrs","_node3","_node4","_view$state","lastChild","getAttrValue","attr","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","name","attrs","err","e","f","isActiveMark","_step2","_iterator2","markActive","_state$selection","isInSet","storedMarks","rangeHasMark","getAttrValueInSelection","_view$state2","keepChecking","nodesBetween","_defaultAttrs","color","backcolor","fontsize","fontname","align","getTextAttrs","arguments","length","undefined","defaultAttrs","_objectSpread","isBold","isEm","isUnderline","isStrikethrough","isSuperscript","isSubscript","isCode","link","isBulletList","isOrderedList","isBlockquote","bold","em","underline","strikethrough","superscript","subscript","code","bulletList","orderedList","blockquote","getFontsize","parseInt","defaultRichTextAttrs","SYS_FONTS","label","WEB_FONTS","isSupportFont","fontName","arial","toLowerCase","size","width","height","str","canvas","document","createElement","ctx","getContext","willReadFrequently","textAlign","fillStyle","textBaseline","getDotArray","_fontFamily","clearRect","font","concat","fillText","imageData","getImageData","data","slice","call","filter","item","join","slides","id","elements","left","top","viewBox","path","fill","fixedRatio","opacity","rotate","background","theme","themeColor","fontColor","backgroundColor","shadow","h","v","blur","outline","style","layouts","flipV","lineHeight","content","defaultFontName","defaultColor","wordSpace","end","points","text","useSlidesStore","defineStore","title","slideIndex","viewportRatio","getters","currentSlide","currentSlideAnimations","animations","els","elIds","map","el","animation","includes","elId","formatedAnimations","_loop","trigger","last","push","autoNext","_state$theme","subColor","tinycolor","isDark","layoutsString","JSON","stringify","replaceAll","parse","actions","setTitle","this","setTheme","themeProps","setViewportRatio","setSlides","addSlide","slide","_this$slides","addIndex","splice","apply","_toConsumableArray","updateSlide","props","deleteSlide","slideId","_this","slidesId","deleteSlidesIndex","_loop2","index","findIndex","newIndex","Math","min","maxIndex","updateSlideIndex","addElement","element","currentSlideEls","newEls","deleteElement","elementId","elementIdList","updateElement","elIdList","removeElementProps","propName","propsNames","omit","nanoid","customAlphabet","databaseId","useMainStore","activeElementIdList","handleElementId","activeGroupElementId","hiddenElementIdList","canvasPercentage","canvasScale","canvasDragged","thumbnailsFocus","editorAreaFocus","disableHotkeys","gridLineSize","showRuler","creatingElement","creatingCustomShape","availableFonts","toolbarState","SLIDE_DESIGN","clipingImageElementId","richTextAttrs","selectedTableCells","isScaling","selectedSlidesIndex","dialogForExport","textFormatPainter","shapeFormatPainter","showSelectPanel","showSearchPanel","activeElementList","slidesStore","handleElement","setActiveElementIdList","setHandleElementId","setActiveGroupElementId","setHiddenElementIdList","setCanvasPercentage","percentage","setCanvasScale","scale","setCanvasDragged","isDragged","setThumbnailsFocus","isFocus","setEditorareaFocus","setDisableHotkeysState","disable","setGridLineSize","setRulerState","show","setCreatingElement","setCreatingCustomShapeState","setAvailableFonts","setToolbarState","setClipingImageElementId","setRichtextAttrs","setSelectedTableCells","cells","setScalingState","updateSelectedSlidesIndex","setDialogForExport","setTextFormatPainter","setShapeFormatPainter","setSelectPanelState","setSearchPanelState","LOCALSTORAGE_KEY_DISCARDED_DB","databaseNamePrefix","deleteDiscardedDB","_asyncToGenerator","_regeneratorRuntime","_callee","now","localStorageDiscardedDB","localStorageDiscardedDBList","databaseNames","discardedDBNames","wrap","_context","prev","next","Date","getTime","localStorage","getItem","Dexie","getDatabaseNames","sent","_name$split","split","_name$split2","_slicedToArray","prefix","time","removeItem","stop","PaperportDB","_Dexie","_inherits","_super","_createSuper","_classCallCheck","_defineProperty","_assertThisInitialized","version","stores","snapshots","writingBoardImgs","table","_createClass","db","useSnapshotStore","snapshotCursor","snapshotLength","canUndo","canRedo","setSnapshotCursor","cursor","setSnapshotLength","initSnapshotDatabase","newFirstSnapshot","add","addSnapshot","_this2","_callee2","allKeys","needDeleteKeys","snapshot","snapshotLengthLimit","_context2","orderBy","keys","update","bulkDelete","unDo","_this3","_callee3","mainStore","_context3","abrupt","toArray","reDo","_this4","_callee4","_context4","useKeyboardStore","ctrlKeyState","shiftKeyState","spaceKeyState","ctrlOrShiftKeyActive","setCtrlKeyState","active","setShiftKeyState","setSpaceKeyState","useScreenStore","screening","setScreening","fillDigit","digit","len","padStart","isPC","navigator","userAgent","match","HOTKEY_DOC","children","CRYPTO_KEY","encrypt","msg","CryptoJS","toString","decrypt","ciphertext","bytes","Utf8","copyText","Promise","resolve","reject","fakeElement","clipboard","Clipboard","action","container","body","on","destroy","appendChild","click","removeChild","readClipboard","_navigator$clipboard","readText","then","pasteCustomClipboardString","clipboardData","_unused","pasteExcelClipboardString","lines","pop","colCount","getRectRotatedRange","_element$rotate","radius","sqrt","pow","auxiliaryAngle","atan","PI","tlbraRadian","trblaRadian","middleLeft","middleTop","xAxis","cos","yAxis","sin","xRange","max","yRange","getRectRotatedOffset","_getRectRotatedRange","originXRange","originYRange","_getRectRotatedRange2","rotatedXRange","rotatedYRange","offsetX","offsetY","getElementRange","minX","maxX","minY","maxY","_getRectRotatedRange3","getElementListRange","elementList","leftValues","topValues","rightValues","bottomValues","forEach","_getElementRange","uniqAlignLines","uniqLines","line","_line","uniqLine","rangeMin","range","rangeMax","createSlideIdMap","slideIdMap","createElementIdMap","groupIdMap","elIdMap","groupId","getTableSubThemeColor","rgba","setAlpha","toRgbString","getLineElementPath","broken","mid","curve","cubic","_element$cubic","c1","c2","p1","p2","isElementInViewport","parent","elementRect","getBoundingClientRect","parentRect","bottom","icons","IconPlayOne","_PlayOne","IconFullScreenPlay","_FullScreenPlay","IconLock","_Lock","IconUnlock","_Unlock","IconPpt","_Ppt","IconFormat","_Format","IconPicture","_Picture","IconFullScreen","_FullScreen","IconList","_List","IconOrderedList","_OrderedList","IconFlipVertically","_FlipVertically","IconFlipHorizontally","_FlipHorizontally","IconFontSize","_FontSize","IconCode","_Code","IconTextBold","_TextBold","IconTextItalic","_TextItalic","IconTextUnderline","_TextUnderline","IconStrikethrough","_Strikethrough","IconEdit","_Edit","IconQuote","_Quote","IconBackgroundColor","_BackgroundColor","IconGroup","_Group","IconUngroup","_Ungroup","IconBack","_Back","IconNext","_Next","IconFullwidth","_Fullwidth","IconAlignTop","_AlignTop","IconAlignLeft","_AlignLeft","IconAlignRight","_AlignRight","IconAlignBottom","_AlignBottom","IconAlignVertically","_AlignVertically","IconAlignHorizontally","_AlignHorizontally","IconBringToFront","_BringToFront","IconSendToBack","_SendToBack","IconAlignTextLeft","_AlignTextLeft","IconAlignTextRight","_AlignTextRight","IconAlignTextCenter","_AlignTextCenter","IconAlignTextBoth","_AlignTextBoth","IconRowHeight","_RowHeight","IconWrite","_Write","IconInsertTable","_InsertTable","IconAddText","_AddText","IconFill","_Fill","IconTailoring","_Tailoring","IconEffects","_Effects","IconColorFilter","_ColorFilter","IconUp","_Up","IconDown","_Down","IconPlus","_Plus","IconMinus","_Minus","IconConnection","_Connection","IconBringToFrontOne","_BringToFrontOne","IconSentToBack","_SentToBack","IconGithub","_Github","IconChartProportion","_ChartProportion","IconChartHistogram","_ChartHistogram","IconChartHistogramOne","_ChartHistogramOne","IconChartLineArea","_ChartLineArea","IconChartRing","_ChartRing","IconChartScatter","_ChartScatter","IconChartLine","_ChartLine","IconChartPie","_ChartPie","IconText","_Text","IconRotate","_Rotate","IconLeftTwo","_LeftTwo","IconRightTwo","_RightTwo","IconPlatte","_Platte","IconClose","_Close","IconCloseSmall","_CloseSmall","IconUndo","_Undo","IconTransform","_Transform","IconClick","_Click","IconTheme","_Theme","IconArrowCircleLeft","_ArrowCircleLeft","IconGraphicDesign","_GraphicDesign","IconLogout","_Logout","IconErase","_Erase","IconClear","_Clear","IconAlignTextTopOne","_AlignTextTopOne","IconAlignTextBottomOne","_AlignTextBottomOne","IconAlignTextMiddleOne","_AlignTextMiddleOne","IconPause","_Pause","IconVolumeMute","_VolumeMute","IconVolumeNotice","_VolumeNotice","IconVolumeSmall","_VolumeSmall","IconVideoTwo","_VideoTwo","IconFormula","_Formula","IconLinkOne","_LinkOne","IconFullScreenOne","_FullScreenOne","IconOffScreenOne","_OffScreenOne","IconPower","_Power","IconListView","_ListView","IconMagic","_Magic","IconHighLight","_HighLight","IconDownload","_Download","IconIndentLeft","_IndentLeft","IconIndentRight","_IndentRight","IconVerticalSpacingBetweenItems","_VerticalSpacingBetweenItems","IconCopy","_Copy","IconDelete","_Delete","IconSquare","_Square","IconRound","_Round","IconNeedle","_Needle","IconTextRotationNone","_TextRotationNone","IconTextRotationDown","_TextRotationDown","IconFormatBrush","_FormatBrush","IconPreviewOpen","_PreviewOpen","IconPreviewClose","_PreviewClose","IconStopwatchStart","_StopwatchStart","IconSearch","_Search","IconLeft","_Left","IconRight","_Right","IconMoveOne","_MoveOne","IconHamburgerButton","_HamburgerButton","IconAttention","_Attention","IconCheckOne","_CheckOne","IconCloseOne","_CloseOne","IconInfo","_Info","install","app","_i","_Object$keys","Object","key","component","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_defineComponent","__name","message","default","duration","closable","Boolean","emits","setup","__props","__expose","expose","__emit","emit","visible","ref","timer","startTimer","setTimeout","close","clearTimer","clearTimeout","onBeforeMount","onMounted","_ctx","_cache","_openBlock","_createBlock","_Transition","appear","mode","onBeforeLeave","$event","onAfterLeave","_withCtx","_createElementBlock","_createElementVNode","onMouseenter","onMouseleave","_unref","_createCommentVNode","_toDisplayString","onClick","_createVNode","_","__exports__","instances","seed","defaultOptions","options","className","cssText","vm","createVNode","MessageComponent","div","appContext","onClose","onDestroy","childNodes","remove","render","firstElementChild","instance","_vm$component","exposed","success","info","warning","error","closeAll","ShapePathFormulasKeys","ElementTypes","parseText2Paragraphs","htmlText","replace","paragraphs","string","paragraph","getImageSize","src","img","onload","imgWidth","clientWidth","imgHeight","clientHeight","onerror","getImageDataURL","file","reader","FileReader","addEventListener","result","readAsDataURL","VIEWPORT_SIZE","SHAPE_PATH_FORMULAS","_SHAPE_PATH_FORMULAS","ROUND_RECT","editable","defaultValue","relative","getBaseSize","formula","CUT_RECT_DIAGONAL","CUT_RECT_SINGLE","CUT_RECT_SAMESIDE","ROUND_RECT_DIAGONAL","ROUND_RECT_SINGLE","ROUND_RECT_SAMESIDE","CUT_ROUND_RECT","MESSAGE","arrowWidth","arrowheight","ROUND_MESSAGE","L","lineWidth","RING_RECT","PLUS","TRIANGLE","vertex","PARALLELOGRAM_LEFT","point","PARALLELOGRAM_RIGHT","TRAPEZOID","BULLET","INDICATOR","SHAPE_LIST","pptxShapeType","pathFormula","special","outlined","CHART_TYPES","bar","horizontalBar","area","scatter","pie","ring","snapshotStore","addHistorySnapshot","debounce","trailing","redo","throttle","leading","undo","_storeToRefs","storeToRefs","_storeToRefs2","_useHistorySnapshot","useHistorySnapshot","callback","createImageElement","createChartElement","newElement","chartType","gridColor","labels","legends","series","horizontalBars","stackBars","showLine","lineSmooth","showArea","donut","createTableElement","row","col","rowCells","j","colspan","rowspan","DEFAULT_CELL_WIDTH","DEFAULT_CELL_HEIGHT","colWidths","rowHeader","rowFooter","colHeader","colFooter","cellMinHeight","createTextElement","position","vertical","editorRef","querySelector","focus","createShapeElement","keypoint","createLineElement","isBroken","isCurve","isCubic","createLatexElement","w","latex","strokeWidth","createVideoElement","autoplay","createAudioElement","loop","addElementsFromData","lastSameElement","_createElementIdMap","firstElement","offset","oMinX","oMaxX","oMinY","oMaxY","_getElementRange2","nMinX","nMaxX","nMinY","nMaxY","values","addSlidesFromData","newSlides","_createElementIdMap2","target","_step3","_iterator3","isEmptySlide","computed","_useCreateElement","useCreateElement","_useAddSlidesOrElemen","useAddSlidesOrElements","createTextElementFromClipboard","pasteTextClipboardData","onlySlide","onlyElements","_typeof","_selectedSlidesIndex","selectedSlides","selectedSlidesId","_usePasteTextClipboar","usePasteTextClipboardData","resetSlides","emptySlide","command","UP","DOWN","copySlide","pasteSlide","createSlide","createSlideByTemplate","newSlide","copyAndPasteSlide","targetSlidesId","cutSlide","selectAllSlide","newSelectedSlidesIndex","sortSlides","oldIndex","_slides","_slide","lockElement","newElementList","lock","unlockElement","groupElementIdList","deleteAllElements","canCombine","firstGroupId","inSameGroup","every","combineElements","_newElementList","combineElementList","combineElementMaxLevel","_element","combineElementIdList","insertLevel","uncombineElements","hasElementInGroup","some","handleElementIdList","_useDeleteElement","useDeleteElement","copyElement","cutElement","pasteElement","quickCopyElement","selectAllElement","unlockedElements","newActiveElementIdList","moveElement","step","move","LEFT","RIGHT","getCombineElementLevelRange","minLevel","maxLevel","moveUpElement","copyOfElementList","_getCombineElementLev","nextElement","movedElementList","nextCombineElementList","level","movedElement","moveDownElement","_getCombineElementLev2","prevElement","prevCombineElementList","moveTopElement","_getCombineElementLev3","moveBottomElement","_getCombineElementLev4","unshift","orderElement","TOP","BOTTOM","enterFullscreen","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","isFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","webkitCurrentFullScreenElement","screenStore","enterScreening","enterScreeningFromStart","exitScreening","canvasScalePercentage","round","scaleCanvas","setCanvasScalePercentage","resetCanvas","keyboardStore","_storeToRefs3","_useSlideHandler","useSlideHandler","_useCombineElement","useCombineElement","_useLockElement","useLockElement","_useCopyAndPasteEleme","useCopyAndPasteElement","_useSelectAllElement","useSelectAllElement","_useMoveElement","useMoveElement","_useOrderElement","useOrderElement","_useScreening","useScreening","_useScaleCanvas","useScaleCanvas","copy","cut","quickCopy","combine","uncombine","moveSlide","PAGEUP","PAGEDOWN","order","create","tabActiveElement","currentIndex","nextIndex","nextElementId","keydownListener","ctrlKey","shiftKey","altKey","metaKey","ctrlOrMetaKeyActive","toUpperCase","SPACE","P","preventDefault","F5","F","C","X","D","Z","Y","A","G","B","DELETE","BACKSPACE","ENTER","MINUS","EQUAL","DIGIT_0","TAB","keyupListener","window","onUnmounted","removeEventListener","pasteImageFile","imageFile","dataURL","pasteListener","clipboardDataItems","items","clipboardDataFirstItem","kind","getAsFile","getAsString","exporting","importSpecificFile","files","cover","readAsText","parseLineElement","isFlipV","isFlipH","borderWidth","borderType","borderColor","shapType","importPaper","response","_unused2","importPPTXFile","shapeList","json","_item$fill","parseElements","image","picBase64","imageSize","gradientType","gradientColor","colors","gradientRotate","rot","fillColor","lineElement","shape","cellData","rowSpan","xlabels","y","_el","delegateYield","t1","finish","_x","readAsArrayBuffer","childlessTags","closingTags","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","td","voidTags","jumpPosition","movePositopn","findTextEnd","isEnd","textEnd","char","charAt","test","lexText","tokens","lexComment","contentEnd","commentEnd","lexTagName","isTagChar","tagName","lexTagAttributes","quote","wordBegin","words","isQuoteEnd","isTagEnd","isWordEnd","isQuoteStart","word","isNotPair","secondWord","startsWith","newWord","thirdWord","endsWith","lexSkipTag","safeTagName","nextTag","tagState","lexTag","textStart","secondChar","tagStartClose","firstChar","tagEndClose","lex","isComment","safeTag","lexer","parser","root","stack","hasTerminalParent","tagParents","parentTagName","rewindStack","newLength","token","tagToken","shouldRewind","isClosingTag","shouldRewindToAutoClose","previousIndex","attributes","tagEndToken","_token","elementNode","hasChildren","innerState","splitHead","sep","idx","unquote","car","formatAttributes","attribute","parts","trim","format","toAST","typeMap","toPoints","d","pathData","SVGPathData","commands","x","x1","y1","x2","y2","lastPoint","cubicBezierPoints","arcToBezier","px","py","cx","cy","rx","rX","ry","rY","xAxisRotation","xRot","largeArcFlag","lArcFlag","sweepFlag","cbPoint","characters","PREFIX","utf8Encode","utftext","c","charCodeAt","String","fromCharCode","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","isNaN","svg2Base64","XMLS","XMLSerializer","svg","serializeToString","INCH_PX_RATIO","PT_PX_RATIO","exportImage","domRef","quality","ignoreWebfont","toImage","toPng","toJpeg","foreignObjectSpans","querySelectorAll","spanRef","removeAttribute","config","fontEmbedCSS","dataUrl","saveAs","exportSpecificFile","blob","Blob","exportJSON","formatColor","_color","alpha","getAlpha","toHexString","formatHTML","html","ast","bulletFlag","indent","slices","obj","baseStyleObj","isBlockTag","lastSlice","breakLine","styleObj","styleAttr","styleArr","styleItem","_styleItem$split","_styleItem$split2","_key","_value","dataIndentAttr","fontSize","highlight","strike","italic","fontFace","hyperlink","url","bullet","paraSpaceBefore","indentLevel","formatPoints","moveTo","getShadowOption","angle","getOutlineOption","transparency","dashType","getLinkOption","exportPPTX","masterOverwrite","ignoreMedia","pptx","pptxgen","layout","defineLayout","_formatColor","bgColor","bgAlpha","defineSlideMaster","pptxSlide","_background$gradientC","color1","color2","mix","remark","addNotes","_step4","_iterator4","_el$outline","textProps","valign","margin","lineSpacingMultiple","autoFit","charSpacing","paragraphSpace","vert","addText","_el$filters","_el$filters2","flipH","linkOption","filters","clip","rounding","_el$clip$range","_start","startX","startY","_end","endX","endY","originW","originH","sizing","addImage","svgRef","base64SVG","_el$outline2","addShape","beginArrowType","endArrowType","chartData","chartColors","analogous","supplement","plotArea","legend","showLegend","legendPos","legendColor","legendFontSize","_el$options","ChartType","barDir","_el$options2","_el$options3","_el$options4","lineSize","_el$options5","doughnut","holeSize","addChart","hiddenCells","rowData","cell","tableData","subThemeColors","_row","_cell$style","_cell$style2","_cell$style3","_cell$style4","_cell$style5","_cell$style6","_cell$style7","_cell$style8","_cell$style9","cellOptions","colW","border","pt","addTable","poster","extMatch","extn","ext","videoExts","audioExts","addMedia","writeFile","fileName","savePPTX","_ref2","_formatColor2","_iterator5","_step5","_background$gradientC2","_c6","_iterator6","_step6","pptx_file_name","_el$outline3","_c7","_el$filters3","_el$filters4","_options10","_el$clip$range2","_start2","_end2","_options11","_linkOption4","_el$outline4","_opacity2","_options12","_linkOption5","_textProps2","_options13","_points2","_c8","_options14","_options15","_el$options6","_el$options7","_el$options8","_el$options9","_el$options10","_i3","_theme2","_i4","_row3","_j2","_cell2$style","_cell2$style2","_cell2$style3","_cell2$style4","_cell2$style5","_cell2$style6","_cell2$style7","_cell2$style8","_cell2$style9","_cell2","_c9","_c10","_options16","_svgRef2","_base64SVG2","_options17","_linkOption6","_options18","t2","write","outputType","_x2","_x3","_Fragment","_renderList","hotkey","_withScopeId","_pushScopeId","_popScopeId","loading","tip","contentStyle","placement","contentVisible","_component_IconClose","_resolveComponent","_Teleport","onBeforeEnter","_withDirectives","_normalizeClass","_normalizeStyle","_renderSlot","$slots","_vShow","disabled","placeholder","focused","handleInput","handleBlur","handleFocus","inputRef","ref_key","onInput","onFocus","onBlur","onChange","onKeydown","_withKeys","appendTo","center","triggerRef","contentRef","watch","hide","tippy","allowHTML","interactive","maxWidth","onShow","onShown","onHidden","_hoisted_7","_hoisted_8","ppt_url","pk","Number","_useImport","useImport","_useExport","useExport","mainMenuVisible","hotkeyDrawerVisible","editingTitle","titleInputRef","titleValue","startEditTitle","nextTick","_titleInputRef$value","save","_ppt_url$value","ppt_file","bodyFormData","File","substring","lastIndexOf","FormData","append","axios","method","headers","handleUpdateTitle","_toRefs","toRefs","_toRefs2","load_file","responseType","get","_ppt_url$value2","_ppt_url$value3","_component_IconHamburgerButton","_component_IconPpt","_component_IconDown","_component_IconDownload","_directive_tooltip","_resolveDirective","Popover","PopoverMenuItem","_createTextVNode","Input","Drawer","HotkeyDoc","FullscreenSpin","injectKeySlideScale","Symbol","injectKeySlideId","injectKeyRadioGroupValue","removeAllRanges","getSelection","canvasRef","viewportLeft","viewportTop","initViewportPosition","canvasWidth","canvasHeight","viewportActualWidth","viewportActualHeight","setViewportPosition","newValue","oldValue","newViewportActualWidth","oldViewportActualWidth","newViewportActualHeight","oldViewportActualHeight","viewportStyles","resizeObserver","ResizeObserver","observe","unobserve","dragViewport","isMouseDown","startPageX","pageX","startPageY","pageY","originLeft","originTop","onmousemove","currentPageX","currentPageY","onmouseup","viewportRef","mouseSelectionVisible","mouseSelectionQuadrant","mouseSelection","updateMouseSelection","viewportRect","minSelectionRange","offsetWidth","offsetHeight","abs","quadrant","inRangeElementList","mouseSelectionLeft","mouseSelectionTop","mouseSelectionWidth","mouseSelectionHeight","isInclude","inRangeElement","inRangeElementIdList","groupElementList","groupElement","elementRef","handleDrop","dataTransfer","dataTransferItem","ondragleave","ondrop","ondragenter","ondragover","getAngleFromCoordinate","radian","atan2","rotateElement","isTouchEvent","MouseEvent","changedTouches","elOriginRotate","elLeft","elTop","elWidth","elHeight","centerX","centerY","handleMousemove","mouseX","mouseY","sorptionRange","handleMouseup","ontouchmove","ontouchend","ELEMENT_TYPE_ZH","chart","video","audio","MIN_SIZE","getRotateElementPoints","taRadian","raRadian","halfWidth","halfHeight","leftTopPoint","topPoint","rightTopPoint","rightPoint","rightBottomPoint","bottomPoint","leftBottomPoint","leftPoint","getOppositePoint","direction","oppositeMap","RIGHT_BOTTOM","LEFT_BOTTOM","LEFT_TOP","RIGHT_TOP","alignmentLines","scaleElement","elOriginLeft","elOriginTop","elOriginWidth","elOriginHeight","originTableCellMinHeight","elRotate","rotateRadian","aspectRatio","minSize","getSizeWithinRange","baseLeft","baseTop","horizontalLines","verticalLines","oppositePoint","edgeWidth","edgeHeight","isActiveGroupElement","right","topLine","bottomLine","leftLine","rightLine","edgeTopLine","edgeBottomLine","edgeHorizontalCenterLine","edgeLeftLine","edgeRightLine","edgeVerticalCenterLine","alignedAdsorption","currentX","currentY","_alignmentLines","isVerticalAdsorbed","isHorizontalAdsorbed","correctionVal","_horizontalLines$i","axis","_verticalLines$_i","revisedX","revisedY","currentPoints","currentOppositePoint","currentBaseLeft","currentBaseTop","moveX","moveY","_alignedAdsorption","_alignedAdsorption2","_alignedAdsorption3","_alignedAdsorption4","_alignedAdsorption5","_alignedAdsorption6","_alignedAdsorption7","_alignedAdsorption8","scaleMultiElement","operateWidth","operateHeight","originElementList","currentMinX","currentMaxX","currentMinY","currentMaxY","currentOppositeWidth","currentOppositeHeight","widthScale","heightScale","originElement","originEl","selectElement","startMove","newActiveIdList","groupMembersId","uniq","dragElement","originActiveElementList","isMisoperation","horizontalCenterLine","verticalCenterLine","targetMinX","targetMaxX","targetMinY","targetMaxY","targetLeft","targetTop","targetCenterX","targetCenterY","_horizontalLines$_i","dragLineElement","adsorptionPoints","midX","midY","c1X","c1Y","c2X","c2Y","START","_adsorptionPoints","adsorptionPoint","END","_i2","_adsorptionPoints2","C1","C2","newEl","moveShapeKeypoint","shapePathData","baseSize","originPos","_pathFormula$range","_shapePathData","shapeElement","formatCreateSelection","selectionData","formatCreateSelectionForLine","_start3","_end3","insertElementFromCreateSelection","alignElementToCanvas","viewportWidth","viewportHeight","_getElementListRange","CENTER","VERTICAL","HORIZONTAL","shadowStyle","_shadow$value","flipStyle","ClipPathTypes","ClipPaths","CLIPPATHS","rect","RECT","rect2","POLYGON","createPath","rect3","roundRect","ellipse","ELLIPSE","triangle","triangle2","triangle3","rhombus","pentagon","hexagon","heptagon","octagon","chevron","arrow","parallelogram","parallelogram2","trapezoid","trapezoid2","clipShape","imgPosition","_clip$value$range","_keys","outlineWidth","_outline$value$width","_outline$value","outlineStyle","_outline$value2","outlineColor","_outline$value3","strokeDashArray","_useElementOutline","useElementOutline","toRef","overflow","stroke","Function","elementInfo","_useClipImage","useClipImage","ImageRectOutline","ImageEllipseOutline","ImagePolygonOutline","clipPath","clipData","clipWrapperPositionStyle","isSettingClipRange","currentRange","getClipDataTransformInfo","_ref3","_getClipDataTransform","bottomImgPositionStyle","topImgWrapperPosition","topImgWrapperPositionStyle","_topImgWrapperPositio","topImgPositionStyle","bottomWidth","bottomHeight","_topImgWrapperPositio2","initClipPosition","_getClipDataTransform2","handleClip","_getClipDataTransform3","clipedEmitData","keyboardListener","updateRange","retPosition","moveClipRange","bottomPosition","originPositopn","scaleClipRange","minWidth","minHeight","targetWidth","targetHeight","rotateClassName","cornerPoint","edgePoints","_directive_click_outside","draggable","alt","onMousedown","_withModifiers","contextmenus","isCliping","_useElementShadow","useElementShadow","_useElementFlip","useElementFlip","_useFilter","useFilter","handleSelectElement","stopPropagation","originClip","centerOffsetX","centerOffsetY","rotatedCenterX","rotatedCenterY","_props","_directive_contextmenu","transform","ImageClipHandler","onClip","onTouchstart","ImageOutline","onDragstart","colorMask","buildKeymap","bind","cmd","joinUp","joinDown","undoInputRule","selectParentNode","toggleMark","strong","chainCommands","splitListItem","list_item","newlineInCode","createParagraphNear","liftEmptyBlock","splitBlockKeepMarks","liftListItem","sinkListItem","blockQuoteRule","wrappingInputRule","orderedListRule","childCount","bulletListRule","codeRule","inputRegex","InputRule","insertText","linkRule","urlRegEx","href","buildInputRules","rules","smartQuotes","ellipsis","emDash","ordered_list","bullet_list","inputRules","isEmptyParagraph","placeholderPlugin","Plugin","decorations","decoration","Decoration","after","DecorationSet","buildPlugins","plugins","keymap","baseKeymap","dropCursor","gapCursor","history","listStyleType","group","parseDOM","tag","getAttrs","dom","hasAttribute","getAttribute","toDOM","_node$attrs","listItem","_listItem","textIndent","_dom$style","textIndentLevel","floor","ignore","skip","_node$attrs2","excludes","forecolor","inline","inclusive","dataset","EmitterEvents","schemaNodes","schemaMarks","Schema","createDocument","htmlString","DOMParser","parseFromString","fromSchema","initProsemirrorEditor","pluginOptions","EditorView","EditorState","emitter","mitt","setTextAlign","alignment","_tr","tasks","allowedNodeTypes","Set","has","task","setNodeMarkup","alignmentCommand","setSelection","isList","toggleList","listType","itemType","blockRange","parentList","validContent","nodeAttrs","wrapInList","setNodeIndentMarkup","delta","indentKey","minIndent","maxIndent","setIndent","TextSelection","AllSelection","indentCommand","docChanged","textIndentCommand","autoFocus","editorViewRef","innerHTML","handleClick","handleKeydown","textContent","hasFocus","_editorView$state","replaceRangeWith","setProps","execCommand","lift","wrapIn","_editorView$state$sch","_editorView$state$sch2","removeMark","_editorView$state$sel2","_textFormatPainter$va","keep","newProps","_objectWithoutProperties","_excluded","handleDOMEvents","keydown","mouseup","RICH_TEXT_COMMAND","off","canMove","realHeightCache","realWidthCache","updateTextElementHeight","entries","contentRect","realHeight","realWidth","updateContent","checkEmptyText","pureText","isHandleElement","textShadow","letterSpacing","fontFamily","writingMode","ElementOutline","ProsemirrorEditor","onUpdate","gradientTransform","execFormatPainter","_shapeFormatPainter$v","defaultText","updateText","_text","prosemirrorEditorRef","startEdit","onMouseup","onDblclick","gradient","GradientDefs","pathMap","dot","rotateMap","markerUnits","orient","markerWidth","markerHeight","refX","refY","svgWidth","svgHeight","lineDashArray","LinePointMarker","chartRef","slideScale","inject","chartHeight","getPieChartData","getOptions","propsOptopns","renderChart","BarChart","LineChart","PieChart","updateChart","themeColors","updateTheme","setProperty","updateGridColor","flexDirection","openDataEditor","OPEN_CHART_DATA_EDITOR","Chart","getTextStyle","textDecoration","fontWeight","fontStyle","formatText","hideCells","subThemeColor","immediate","textareaRef","onpaste","excelData","onBeforeUnmount","contenteditable","isStartSelect","startCell","endCell","tableCells","set","newData","_useSubThemeColor","useSubThemeColor","colSizeList","totalWidth","reduce","a","b","removeSelectedCells","dragLinePosition","_useHideCells","useHideCells","selectedCells","_startCell$value","_endCell$value","isEqual","activedCell","handleCellMousedown","rowIndex","colIndex","button","handleCellMouseenter","isHideCell","selectCol","maxRow","selectRow","maxCol","deleteRow","_tableCells","targetCells","hideCellsPos","_hideCellsPos","deleteCol","_hideCellsPos2","insertRow","insertCol","fillTable","rowCount","defaultCell","newRows","mergeCells","_startCell$value2","_endCell$value2","splitCells","handleMousedownColHandler","originWidth","clearSelectedCellText","tabActiveCell","getNextCell","nextRow","nextCol","nextCell","textRef","insertExcelData","fillRowCount","fillColCount","getEffectiveTableCells","effectiveTableCells","_rowCells","checkCanDeleteRowOrCol","canDeleteRow","canDeleteCol","checkCanMergeOrSplit","isMultiSelected","targetCell","canMerge","canSplit","cellIndex","_checkCanMergeOrSplit","_checkCanDeleteRowOrC","handler","divider","_theme$value","_theme$value2","_theme$value3","_theme$value4","_theme$value5","span","selected","borderStyle","CustomTextarea","onUpdateValue","onInsertExcelData","updateTableElementHeight","updateTableCells","updateColWidths","widths","updateSelectedCells","EditableTable","onChangeColWidths","onChangeSelectedCells","openLatexEditor","OPEN_LATEX_EDITOR","videoRef","exec","canPlayType","Hls","isSupported","hls","loadSource","attachMedia","flvjs","flvPlayer","createPlayer","attachMediaElement","load","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","secondToTime","second","add0","num","hour","sec","getBoundingClientRectViewLeft","playBarWrap","volumeBarRef","volume","paused","currentTime","loaded","bezelTransition","playbackRate","playBarTimeVisible","playBarTime","playBarTimeLeft","ptime","dtime","playedBarWidth","loadedBarWidth","volumeBarWidth","speedMenuVisible","speedOptions","seek","play","pause","toggle","setVolume","muted","speed","rate","handleDurationchange","_videoRef$value","handleTimeupdate","_videoRef$value2","handleEnded","handleProgress","_videoRef$value3","buffered","loadError","handleError","thumbMove","clientX","thumbUp","handleMousedownPlayBar","volumeMove","volumeUp","handleMousedownVolumeBar","handleClickVolumeBar","handleMousemovePlayBar","tx","toggleVolume","toggleLoop","autoHideControllerTimer","hideController","autoHideController","_videoRef$value4","played","useMSE","_component_IconPause","_component_IconPlayOne","_component_IconVolumeMute","_component_IconVolumeNotice","_component_IconVolumeSmall","onMousemove","playsinline","onDurationchange","onTimeupdate","onEnded","onProgress","onPlay","onPause","onError","onAnimationend","VideoPlayer","audioRef","_audioRef$value","_audioRef$value2","handlePlayed","_audioRef$value3","audioIconSize","audioPlayerPosition","audioWidth","audioHeight","AudioPlayer","elementIndex","isMultiSelect","openLinkDialog","currentElementComponent","elementTypeMap","IMAGE","ImageElement","TEXT","TextElement","SHAPE","ShapeElement","LINE","LineElement","CHART","ChartElement","TABLE","TableElement","LATEX","LatexElement","VIDEO","VideoElement","AUDIO","AudioElement","_useAlignElementToCan","useAlignElementToCanvas","subText","zIndex","_resolveDynamicComponent","_currentSlide$value","_background$value","colorList","mostReadable","includeFallbackColors","p","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","_useSlideBackgroundSt","useSlideBackgroundStyle","GridLines","sizeStyle","markerSize","marker","selectionRef","_selectionRef$value$g","createSelection","absX","absY","isOpposite","_creatingElement$valu","_creatingElement$valu2","endPageX","endPageY","defaultSize","lineData","_start$value","_startX","_startY","_end$value","_endX","_endY","_start$value2","_end$value2","_unref2","_unref3","onContextmenu","shapeCanvasRef","_shapeCanvasRef$value","mousePosition","closed","getPoint","_points$value","lastPointX","lastPointY","updateMousePosition","_getPoint","_points$value$","firstPointX","firstPointY","addPoint","_getPoint2","xList","yList","formatedPoints","ESC","resizeHandlers","textElementResizeHandlers","verticalTextElementResizeHandlers","borderLines","T","R","isWide","localActiveElementList","_useCommonOperate","useCommonOperate","setRange","watchEffect","disableResize","BorderLine","ResizeHandler","script","__default__","inheritAttrs","handlerVisible","scaleWidth","scaleHeight","RotateHandler","keypointStyle","keypointPos","handlers","ctrlHandler","_props$elementInfo$cu","ctrlHandler1","ctrlHandler2","cannotRotate","setLink","linkRegExp","removeLink","_useLink","useLink","turnTarget","targetIndex","Divider","isSelected","isActive","currentOperateComponent","ImageElementOperate","TextElementOperate","ShapeElementOperate","LineElementOperate","TableElementOperate","CommonElementOperate","elementIndexListInAnimation","indexList","transformOrigin","LinkHandler","needScaleSize","zoom","StaticTable","BaseImageElement","BaseTextElement","BaseShapeElement","BaseLineElement","BaseChartElement","BaseTableElement","BaseLatexElement","BaseVideoElement","BaseAudioElement","provide","ThumbnailElement","tabs","card","tabsStyle","tabStyle","spaceAround","spaceBetween","tab","checked","first","showLabel","_props$options$find","popoverVisible","selectRef","updateWidth","handleSelect","option","padding","boxShadow","_slides$value$find","address","slideOptions","selectedSlide","_handleElement$value","Tabs","marginBottom","Select","ThumbnailSlide","Button","closeButton","closeOnClickMask","closeOnEsc","modalRef","onEsc","onClickMask","tabindex","onKeyup","linkDialogVisible","setLocalElementList","_useViewportSize","useViewportSize","useDropImageOrText","_useMouseSelection","useMouseSelection","_useDragElement","useDragElement","_useDragLineElement","useDragLineElement","_useSelectElement","useSelectElement","_useScaleElement","useScaleElement","_useRotateElement","useRotateElement","_useMoveShapeKeypoint","useMoveShapeKeypoint","handleClickBlankArea","handleDblClick","removeEditorAreaFocus","throttleScaleCanvas","throttleUpdateSlideIndex","handleMousewheelCanvas","deltaY","toggleRuler","_useInsertFromCreateS","useInsertFromCreateSelection","insertCustomShape","onWheel","ElementCreateSelection","onCreated","ShapeCreateCanvas","AlignmentLine","MultiSelectOperate","Operate","ViewportBackground","MouseSelection","EditableElement","Ruler","Modal","LinkDialog","selectShape","ShapeItemThumbnail","LINE_LIST","selectLine","chartList","selectChart","_component_IconChartLine","_component_IconChartHistogram","_component_IconChartPie","_component_IconChartHistogramOne","_component_IconChartLineArea","_component_IconChartRing","_component_IconChartScatter","Infinity","number","_vModelText","customRow","customCol","isCustom","handleClickTable","insertCustomTable","NumberInput","videoSrc","audioSrc","insertVideo","insertAudio","hfmathConfig","SUB_SUP_SCALE","FORMULA_LIST","SYMBOL_LIST","box","pathd","eq","hfmath","boxW","boxH","SCALE_X","SCALE_Y","rows","resizable","formulaList","symbolTabs","textAreaRef","selectedSymbolKey","symbolPool","selectedSymbol","insertSymbol","TextArea","FormulaContent","SymbolContent","accept","handleChange","canvasScalePresetList","canvasScaleVisible","applyCanvasPresetScale","insertImageElement","shapePoolVisible","linePoolVisible","chartPoolVisible","tableGeneratorVisible","mediaInputVisible","latexEditorVisible","textTypeSelectVisible","drawText","drawShape","drawLine","toggleSelectPanel","toggleSraechPanel","_component_IconBack","_component_IconNext","_component_IconMoveOne","_component_IconSearch","_component_IconFontSize","_component_IconTextRotationNone","_component_IconTextRotationDown","_component_IconPicture","_component_IconGraphicDesign","_component_IconConnection","_component_IconChartProportion","_component_IconInsertTable","_component_IconFormula","_component_IconVideoTwo","_component_IconMinus","_component_IconPlus","_component_IconFullScreen","FileInput","ShapePool","onSelect","LinePool","_unref4","ChartPool","TableGenerator","onInsert","MediaInput","onInsertVideo","onInsertAudio","LaTeXEditor","slidesLoadLimit","loadSlide","selectSlideTemplate","_useLoadSlides","useLoadSlides","presetLayoutPopoverVisible","thumbnailsRef","_thumbnailsRef$value","activeThumbnailRef","$el","scrollIntoView","behavior","changeSlideIndex","handleClickSlideThumbnail","minIndex","handleDragEnd","eventData","contextmenusThumbnails","contextmenusThumbnailItem","LayoutPool","Draggable","modelValue","scroll","scrollSensitivity","onEnd","itemKey","toggleTextFormatPainter","sliderRef","getNewValue","diff","fround","targetNumber","accuracy","NP","tooltipValue","tooltipRangeStartValue","tooltipRangeEndValue","getPercentage","progress","_percentage","remainder","updateRangeEnd","updatePercentage","oldValueArr","newValueArr","updatePercentageEnd","handleMousedown","deep","updateOpacity","Slider","_component_IconPlatte","white","grey","checkboardCache","renderCheckboard","fillRect","translate","toDataURL","getCheckboard","checkboard","bgStyle","rgbaStr","r","g","alphaRef","containerWidth","xOffset","pageXOffset","unbindEventListeners","handleMouseDown","Checkboard","hue","oldHue","pullDirection","hsla","toHsl","pointerLeft","hueRef","percent","l","hsva","toHsv","pointerTop","emitChangeEvent","param","saturationRef","containerHeight","yOffset","pageYOffset","clamp","saturation","bright","val","_hex","toHex8String","toRgb","RECENT_COLORS","presetColorConfig","startColor","endColor","_startColor","_endColor","rStep","gStep","bStep","gradientColorArr","getPresetColors","presetColors","_presetColorConfig","standardColors","recentColors","rgbaString","currentColor","selectPresetColor","colorString","updateRecentColorsCache","maxLength","recentColorsCache","setItem","changeColor","openEyeDropper","isSupportedEyeDropper","browserEyeDropper","customEyeDropper","eyeDropper","EyeDropper","open","tColor","sRGBHex","targetRef","maskRef","colorBlockRef","_targetRef$getBoundin","classList","contains","toCanvas","pixelRatio","_ctx$getImageData$dat","toFixed","handleMouseleave","_component_IconNeedle","Saturation","onColorChange","Hue","Alpha","EditableInput","fixed","hasOutline","updateOutline","outlineProps","toggleOutline","_outline","Switch","ColorPicker","ColorButton","hasShadow","updateShadow","shadowProps","_shadow","toggleShadow","passive","_inject","updateValue","ButtonGroup","_hoisted_23","_hoisted_24","_hoisted_25","presetStyles","_useTextFormatPainter","useTextFormatPainter","bulletListPanelVisible","orderedListPanelVisible","indentLeftPanelVisible","indentRightPanelVisible","bulletListStyleTypeOption","orderedListStyleTypeOption","fontSizeOptions","lineHeightOptions","wordSpaceOptions","paragraphSpaceOptions","updateLineHeight","updateParagraphSpace","updateWordSpace","updateFill","emitRichTextCommand","emitBatchRichTextCommand","linkPopoverVisible","openLinkPopover","updateLink","_component_IconAddText","_component_IconText","_component_IconHighLight","_component_IconTextBold","_component_IconTextItalic","_component_IconTextUnderline","_component_IconStrikethrough","_component_IconCode","_component_IconQuote","_component_IconFormat","_component_IconFormatBrush","_component_IconLinkOne","_component_IconAlignTextLeft","_component_IconAlignTextCenter","_component_IconAlignTextRight","_component_IconAlignTextBoth","_component_IconList","_component_IconOrderedList","_component_IconIndentLeft","_component_IconIndentRight","_component_IconRowHeight","_component_IconVerticalSpacingBetweenItems","_component_IconFullwidth","SelectGroup","icon","TextColorButton","CheckboxButton","RadioGroup","RadioButton","ElementShadow","ElementOpacity","updateFlip","flipProps","_component_IconFlipVertically","_component_IconFlipHorizontally","defaultFilters","unit","filterOptions","hasFilters","filterItem","updateFilter","_handleElement","originFilters","toggleFilters","defaultColorMask","hasColorMask","toggleColorMask","updateColorMask","shapeClipPathOptions","ratioClipOptions","ratio","handleImageElement","clipPanelVisible","clipImage","getImageElementDataBeforeClip","imgLeft","imgTop","originClipRange","originHeight","presetImageClip","_getImageElementDataB","imageRatio","distance","replaceImage","resetImage","_getImageElementDataB2","setBackgroundImage","_component_IconTailoring","_component_IconTransform","_component_IconUndo","_component_IconTheme","ElementFlip","typeItem","ElementColorMask","ElementFilter","toggleShapeFormatPainter","handleShapeElement","fillType","_useShapeFormatPainte","useShapeFormatPainter","updateFillType","updateGradient","gradientProps","_gradient","changeShape","_handleElement$value2","updateTextAlign","_unref$text","_component_IconAlignTextTopOne","_component_IconAlignTextMiddleOne","_component_IconAlignTextBottomOne","handleLineElement","updateLine","CELL_WIDTH","CELL_HEIGHT","selectedRange","tempRangeSize","focusCell","rangeLines","resizablePointStyle","initData","_data","_props$data","moveNextRow","_focusCell$value","getTableData","_selectedRange$value","labelsItem","labelInputRef","legendsItem","seriesItem","valueInputRef","clear","handlePaste","closeEditor","changeSelectRange","head","autocomplete","onPaste","presetChartThemes","handleChartElement","chartDataEditorVisible","presetThemesVisible","presetThemeColorHoverIndex","_handleElement$value$","_lineSmooth","_showLine","_showArea","_horizontalBars","_donut","_stackBars","updateData","updateOptions","optionProps","newOptions","addThemeColor","applyPresetTheme","deleteThemeColor","updateLegend","_component_IconEdit","_component_IconCloseSmall","Checkbox","itemIndex","select","ChartDataEditor","onSave","textAttrs","hasTheme","minRowCount","minColCount","updateTextAttrState","selectedCell","updateTextAttrs","textAttrProp","themeProp","_theme","toggleTheme","setTableRow","newTableCells","setTableCol","_colSizeList","newColSizeList","_component_IconFill","handleLatexElement","updateLatex","updateLatexData","handleVideoElement","updateVideo","setVideoPoster","handleAudioElement","updateAudio","updateFontStyle","_el$text","panelMap","TextStylePanel","ImageStylePanel","ShapeStylePanel","LineStylePanel","ChartStylePanel","TableStylePanel","LatexStylePanel","VideoStylePanel","AudioStylePanel","currentPanelComponent","MultiStylePanel","activeGroupElement","isHorizontalText","isVerticalText","updateLeft","updateTop","updateShapePathData","updateHeight","updateRotate","updateFixedRatio","updateRotate45","_rotate","_component_IconSendToBack","_component_IconBringToFrontOne","_component_IconBringToFront","_component_IconSentToBack","_component_IconAlignLeft","_component_IconAlignVertically","_component_IconAlignRight","_component_IconAlignTop","_component_IconAlignHorizontally","_component_IconAlignBottom","_component_IconLock","_component_IconUnlock","_component_IconRotate","ANIMATION_DEFAULT_DURATION","ANIMATION_DEFAULT_TRIGGER","ANIMATION_CLASS_PREFIX","ENTER_ANIMATIONS","EXIT_ANIMATIONS","ATTENTION_ANIMATIONS","SLIDE_ANIMATIONS","animationEffects","effect","animationTypes","activeTab","animationPoolVisible","hoverPreviewAnimation","animationSequence","elType","animationEffect","handleElementAnimation","deleteAnimation","runAnimation","elRef","animationName","handleAnimationEnd","removeProperty","once","updateElementAnimationDuration","updateElementAnimationTrigger","updateElementAnimation","handleAnimationId","animationItem","addAnimation","popoverMaskHide","handlePopoverVisibleChange","openAnimationPool","in","out","attention","_component_IconEffects","_component_IconClick","handle","_handleElementAnimati","PRESET_THEMES","getSlideAllColors","createSlideThemeColorMap","newColors","oldColors","themeColorMap","otherColors","setSlideTheme","colorMap","applyPresetThemeToSingleSlide","applyPresetThemeToAllSlides","applyThemeToAllSlides","applyAll","_step7","_iterator7","_step8","_iterator8","_step9","_iterator9","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","moreThemeConfigsVisible","_useSlideTheme","useSlideTheme","updateBackgroundType","newBackground","updateBackground","uploadBackgroundImage","applyBackgroundAllSlide","updateViewportRatio","_component_IconRight","currentTurningMode","turningMode","updateTurningMode","applyAllSlide","alignActiveElement","groupElementRangeMap","activeElement","groupElements","_getRectRotatedOffset","_getRectRotatedOffset2","_getRectRotatedOffset3","_getRectRotatedOffset4","horizontalCenter","verticalCenter","displayItemCount","count","groupIdList","uniformHorizontalDisplay","copyOfActiveElementList","singleElemetList","groupList","groupEl","_getElementRange3","formatedGroupList","groupItem","_getElementListRange2","list","sort","itemA","itemB","sortedElementData","firstItem","lastPos","lastWidth","currentPos","currentWidth","sortedItem","uniformVerticalDisplay","_getElementListRange3","_getElementRange6","_step10","_iterator10","_getElementListRange4","_step11","totalHeight","_iterator11","_step12","_iterator12","_getElementRange4","lastHeight","currentHeight","_step13","_iterator13","_getElementRange5","_step14","_iterator14","_step15","_iterator15","_useAlignActiveElemen","useAlignActiveElement","_useUniformDisplayEle","useUniformDisplayElement","alignElement","_component_IconGroup","_component_IconUngroup","selectSymbol","elementTabs","EL_STYLE","SYMBOL","EL_POSITION","EL_ANIMATION","slideTabs","SLIDE_ANIMATION","multiSelectTabs","MULTI_POSITION","currentTabs","currentTabsValue","ElementStylePanel","ElementPositionPanel","ElementAnimationPanel","SlideDesignPanel","SlideAnimationPanel","MultiPositionPanel","SymbolPanel","menuInstance","menuRef","hideMenuInstance","updateTextContent","anchorNode","focusNode","isCollapsed","getRangeAt","_range$getBoundingCli","getReferenceClientRect","mousedown","_window$getSelection","hideOnClick","_attr$value","_attr$value2","_attr$value3","_attr$value4","_attr$value7","_attr$value8","_attr$value5","_attr$value6","resize","newHeight","Editor","imageThumbnailsRef","rangeType","renderSlides","_range$value","expImage","createIframe","iframe","writeContent","printNode","docType","styleSheets","styleSheet","cssRules","rule","print","iframeContentWindow","contentWindow","contentDocument","handleLoadIframe","handleAfterprint","pdfThumbnailsRef","expPDF","pageSize","currentDialogComponent","dialogMap","ExportImage","ExportJSON","pdf","ExportPDF","ExportPPTX","ppt","ExportSpecificFile","moveable","moveablePanelRef","_moveablePanelRef$val","windowWidth","_elements","lastItem","selectGroupEl","idList","selectEl","hideElement","showAll","currentSlideElIdList","needHiddenElementIdList","hideAll","editingElId","saveElementName","enterEdit","_component_IconUp","_component_IconPreviewClose","_component_IconPreviewOpen","MoveablePanel","searchWord","replaceWord","searchResults","searchIndex","modifiers","search","textList","matchRegex","RegExp","textRegex","rets","highlightCurrentSlide","clearMarks","getTextNodeList","nodeList","textNodes","shift","TEXT_NODE","wholeText","getTextInfoList","startIdx","endIdx","getMatchList","keyword","reg","matchList","matchStart","matchEnd","textIdx","_textList$textIdx","textNode","nodeMatchStartIdx","nodeMatchLength","splitText","innerText","parentNode","replaceChild","highlightTableText","markNodes","createTextNode","lastTarget","setActiveMark","searchNext","searchPrev","targetElement","_target$cellIndex","replaced","_loop3","_targetElement$text","targetSlide","lastMarkIndex","markIndex","reset","toggleModifiers","_useSearch","useSearch","searchInpRef","_component_IconLeft","_isRef","onEnter","suffix","closeExportDialog","remarkHeight","useGlobalHotkey","usePasteEvent","EditorHeader","Thumbnails","CanvasTool","Canvas","Remark","Toolbar","SelectPanel","SearchPanel","onClosed","ExportDialog","animationIndex","inAnimation","playedSlidesMinIndex","_formatedAnimations$v","endAnimationCount","classname","revokeAnimation","execPrev","autoPlayTimer","closeAutoPlay","clearInterval","loopPlay","setLoopPlay","throttleMassage","turnSlideToIndex","execNext","autoPlayInterval","autoPlay","setInterval","setAutoPlayInterval","interval","mousewheelListener","touchInfo","touchStartListener","touchEndListener","turnPrevSlide","turnNextSlide","turnSlideToId","wrapRef","slideWidth","slideHeight","setSlideContentSize","slideWrapRef","winWidth","winHeight","fullscreenState","escExit","handleFullscreenChange","manualExitFullscreen","inCurrentSlide","audioPlayerRef","ScreenVideoElement","ScreenAudioElement","needWaitAnimation","elementIndexInAnimation","firstAnimation","openLink","_ctx$elementInfo$link","visibility","ScreenElement","slidesWithTurningMode","turningModeKeys","random","_slide$animations","ScreenSlide","turnSlide","_component_IconArrowCircleLeft","model","blackboard","penSize","markSize","rubberSize","writingBoardRef","lastTime","lastLineWidth","mouse","mouseInCanvas","updateCanvasSize","initCanvas","lineCap","lineJoin","updateCtx","globalCompositeOperation","globalAlpha","draw","posX","posY","lastPosX","lastPosY","strokeStyle","beginPath","lineTo","closePath","erase","_ctx2","_ctx3","_ctx4","_ctx5","sinRadius","cosRadius","rectPoint1","rectPoint2","rectPoint3","rectPoint4","arc","restore","getDistance","getLineWidth","t","maxV","minV","handleMove","getMouseOffsetPosition","event","canvasRect","_getMouseOffsetPositi","_getMouseOffsetPositi2","_getMouseOffsetPositi3","_getMouseOffsetPositi4","clearCanvas","_canvasRef$value","setImageDataURL","imageDataURL","Image","drawImage","_component_IconWrite","onTouchmove","onTouchend","writingBoardColors","writingBoardColor","writingBoardModel","sizePopoverType","changeModel","closeWritingBoard","where","equals","ret","currentImg","hanldeWritingEnd","_component_IconErase","_component_IconClear","WritingBoard","inTiming","isCountdown","minute","inputEditable","toggleCountdown","changeTime","isNumber","maxlength","changeViewMode","_useExecPlay","useExecPlay","_useSlideSize","useSlideSize","_useFullscreen","useFullscreen","rightToolsVisible","writingBoardToolVisible","timerlVisible","slideThumbnailModelVisible","laserPen","_component_IconLeftTwo","_component_IconRightTwo","_component_IconMagic","_component_IconStopwatchStart","_component_IconListView","_component_IconOffScreenOne","_component_IconFullScreenOne","_component_IconPower","ScreenSlideList","SlideThumbnails","WritingBoardTool","CountdownTimer","slideListWrapRef","remarkFontSize","currentSlideRemark","handleMousewheelThumbnails","scrollBy","setRemarkFontSize","offsetLeft","scrollTo","viewMode","BaseView","PresenterView","_resizeHandlers","delayOnTouchOnly","delay","insertTextElement","insertShapeElement","square","handleInputMark","_component_IconCopy","_component_IconDelete","_component_IconSquare","_component_IconRound","MobileThumbnails","updateFontColor","changeMode","_component_IconLogout","contentWidth","contentheight","contentRatio","Header","MobileOperate","MobileEditableElement","SlideToolbar","ElementToolbar","toolVisible","playerSize","slideSize","playerRatio","mobileRef","screenWidth","_component_IconFullScreenPlay","_mode","currentComponent","componentMap","MobileEditor","MobilePlayer","MobilePreview","_isPC","onbeforeunload","discardedDB","discardedDBList","newDiscardedDB","getElementById","Screen","Mobile","register","process","ready","console","log","registered","cached","updatefound","updated","offline","menus","handleClickMenuItem","_component_menu_content","menu","removeContextmenu","MENU_WIDTH","MENU_HEIGHT","DIVIDER_HEIGHT","PADDING","_props$axis","menuCount","dividerCount","menuWidth","menuHeight","screenHeight","MenuContent","CTX_CONTEXTMENU_HANDLER","contextmenuListener","binding","ContextmenuComponent","ContextmenuDirective","mounted","unmounted","CTX_CLICK_OUTSIDE_HANDLER","clickListener","composedPath","isClickOutside","ClickOutsideDirective","TOOLTIP_INSTANCE","TooltipDirective","setContent","directive","Contextmenu","ClickOutside","Tooltip","createApp","App","use","Icon","Directive","createPinia","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","prop","prototype","hasOwnProperty","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}